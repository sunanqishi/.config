(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+UUc":function(t,e,n){"use strict";var r=n("k/06");e.isInteropObservable=function(t){return t&&"function"==typeof t[r.observable]}},"+V+g":function(t,e,n){"use strict";var r=n("qiMw"),i=n("l95E"),o=n("Reu/"),a=n("ci3w");function s(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}e.timer=function(t,e,n){void 0===t&&(t=0);var c=-1;return o.isNumeric(e)?c=Number(e)<1?1:Number(e):a.isScheduler(e)&&(n=e),a.isScheduler(n)||(n=i.async),new r.Observable((function(e){var r=o.isNumeric(t)?t:+t-n.now();return n.schedule(s,r,{index:0,period:c,subscriber:e})}))}},"+euh":function(t,e,n){"use strict";var r=n("Ml3R");e.subscribeOn=function(t,e){return void 0===e&&(e=0),function(n){return n.lift(new i(t,e))}};var i=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new r.SubscribeOnObservable(e,this.delay,this.scheduler).subscribe(t)},t}()},"+uLt":function(t,e,n){"use strict";var r=n("UPWm");e.queue=new(n("K7a0").QueueScheduler)(r.QueueAction)},"/CoV":function(t,e,n){var r=n("wYoa"),i=n("e1hM"),o=n("KveQ");t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),c=o.f,u=0;s.length>u;)c.call(t,a=s[u++])&&e.push(a);return e}},"/KFi":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return d})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return h})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return m})),n.d(e,"__await",(function(){return g})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return y})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return _})),n.d(e,"__importStar",(function(){return w})),n.d(e,"__importDefault",(function(){return S}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function c(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(e){o(e)}}function s(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function d(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function h(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(t){s("next",t)}function u(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function y(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=h(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}},"/MJF":function(t,e){angular.module("templates",[]).run(["$templateCache",function(t){t.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert"> <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})"> <span aria-hidden="true">&times;</span> <span class="sr-only">Close</span> </button> <div ng-transclude></div> </div>'),t.put("template/modal/backdrop.html",'<div class="modal-backdrop" modal-animation-class="fade" modal-in-class="in" ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"></div>'),t.put("template/modal/window.html",'<div modal-render="{{ $isRendered }}" tabindex="-1" role="dialog" class="modal" data-wb-loop-focus modal-animation-class="fade" modal-in-class="in" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}"> <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"> <div class="modal-content" modal-transclude></div> </div> </div>'),t.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip" tooltip-animation-class="fade" tooltip-classes ng-class="{ in: isOpen() }"> <div class="tooltip-arrow"></div> <div class="tooltip-inner" ng-bind-html="contentExp()"></div> </div>'),t.put("template/tooltip/tooltip-popup.html",'<div class="tooltip" tooltip-animation-class="fade" tooltip-classes ng-class="{ in: isOpen() }"> <div class="tooltip-arrow"></div> <div class="tooltip-inner" ng-bind="content"></div> </div>'),t.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip" tooltip-animation-class="fade" tooltip-classes ng-class="{ in: isOpen() }"> <div class="tooltip-arrow"></div> <div class="tooltip-inner" tooltip-template-transclude="contentExp()" tooltip-template-transclude-scope="originScope()"></div> </div>'),t.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{ value }}" aria-valuemin="0" aria-valuemax="{{ max }}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{ percent | number: 0 }}%" aria-labelledby="{{::title}}" style="min-width: 0" ng-transclude></div>'),t.put("template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>'),t.put("template/progressbar/progressbar.html",'<div class="progress"> <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{ value }}" aria-valuemin="0" aria-valuemax="{{ max }}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{ percent | number: 0 }}%" aria-labelledby="{{::title}}" style="min-width: 0" ng-transclude></div> </div>'),t.put("components/castifyWebEdit/edit-alpha-dialog.html",'<md-dialog> <md-dialog-content class="md-dialog-content"> <h2 class="md-title">Edit Recording</h2> <cf-export-drive-storage-hint file="$ctrl.file"> </cf-export-drive-storage-hint> <p ng-show="$ctrl.isCrop"> We don\'t support local editing with hardware encoding enabled. Alternatively you can disable hardware encoding in the options for instant local Crop/Trim editing. </p> <div ng-show="$ctrl.appOptions.driveSync"> <p>Hate to wait? We do too. We\'ll make this instant soon.</p> <p></p> </div> </md-dialog-content> <md-dialog-actions> <md-button ng-click="$mdDialog.cancel()">Cancel </md-button> </md-dialog-actions> </md-dialog>'),t.put("components/w69b/ui/drivepicker.html",'<button class="btn" ng-disabled="isDisabled" ng-click="openDriveDialog()" ng-transclude></button>'),t.put("components/castifyEdit/ui/video-editor.html",'<div layout="column" flex> <div layout="column" flex> <cf-topnav> <h1> Crop/Trim Video </h1> </cf-topnav> <div class="canvas-container" flex layout="row"> <cf-video-canvas flex> <cf-video-preview file="file" edit-config="config"></cf-video-preview> <cf-crop-canvas crop="config.crop" initialized="cropInitialized"></cf-crop-canvas> </cf-video-canvas> </div> </div> <div layout="column" class="md-whiteframe-z3 bottom-bar"> <md-progress-linear md-mode="indeterminate" ng-if="previewCtrl.loading"></md-progress-linear> <div layout="row"> <cf-video-controls preview-ctrl="previewCtrl"></cf-video-controls> <cf-time-line preview-ctrl="previewCtrl" flex> <cf-trim-slider range="config.trim" preview-ctrl="previewCtrl"></cf-trim-slider> </cf-time-line> </div> <md-divider></md-divider> <div layout="row" class="edit-actions"> <div flex></div> <md-checkbox ng-model="config.meta.copy" hide> Remove unedited version </md-checkbox> <md-button ng-click="cfCancel()">Cancel</md-button> <md-button class="md-primary" ng-disabled="!canSave()" ng-click="save(true)">Save Edit<span ng-show="config.meta.copy"></span> </md-button> <md-menu> <md-button class="md-icon-button" ng-click="$mdOpenMenu($event)"> <md-icon>more_vert</md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button ng-disabled="!canSave()" ng-click="save(false)">Save edit and remove original </md-button> </md-menu-item> </md-menu-content> </md-menu> <div class="upgrade-hint" ng-if="!cf2UpgradeHelperService.hasFeature(\'hasCropTrim\')"> Go Premium to edit your video. <cf-upgrade-button class="md-primary md-raised" campaign="editor"></cf-upgrade-button> </div> </div> </div> </div>'),t.put("components/castifyEdit/ui/crop-canvas/crop-canvas.html",'<div class="overlay top"></div> <div class="overlay bottom"></div> <div class="overlay left"></div> <div class="overlay right"></div> <div class="crop-box"> <div class="dimension-info"></div> <div class="move-handle"></div> <div class="crop-box-outer"> <div class="handle top-left"></div> <div class="handle top-right"></div> <div class="handle bottom-left"></div> <div class="handle bottom-right"></div> </div> </div> <div class="loading" ng-if="!initialized" layout layout-align="center center"> <md-progress-circular md-mode="indeterminate"></md-progress-circular> </div>'),t.put("components/castifyEdit/ui/time-line/time-line.html",'<div class="scroll-container"> <div class="scroll-padding"> <div class="scroll-content"> <cf-time-line-canvas ticks="ticks" preview-ctrl="previewCtrl"></cf-time-line-canvas> <ng-transclude></ng-transclude> </div> </div> </div> <div layout="row" layout-align="end" ng-if="false"> <div class="zoom-control" md-theme="grey" layout="row"> <span class="glyphicon glyphicon-search"></span> <md-slider flex min="1" max="5" step="0.00001" aria-label="Zoom" ng-model="opt.zoom"></md-slider> </div> </div>'),t.put("components/castifyEdit/ui/trim-slider/trim-slider.html",'<div class="overlay start"></div> <div class="overlay end"></div> <div class="controls"> <div class="handle start"> <md-icon>content_cut</md-icon> </div> <div class="handle end"> <md-icon>content_cut</md-icon> </div> </div>'),t.put("components/castifyEdit/ui/video-controls/video-controls.html",'<md-button aria-label="play" ng-click="previewCtrl.play()" ng-show="previewCtrl.paused"><md-icon>play_arrow</md-icon> </md-button> <md-button aria-label="pause" ng-click="previewCtrl.pause()" ng-show="!previewCtrl.paused"><md-icon>pause</md-icon> </md-button>'),t.put("components/castifyExt/ui/auto-share-dialog/auto-share-dialog.html",'<md-dialog class="cf-auto-share-dialog"> <md-dialog-content> <h2 class="md-title">Record for {{ app.title }}</h2> Your next recording will be automatically shared with this 3rd-party App. <div class="not-stored-hint">It will not be stored in Screencastify.</div> <md-checkbox ng-model="opt.remember">Remember App for all new recordings.</md-checkbox> <div ng-show="isRecent" class="recent-hint"> You are seeing this message because you recently connected this App. Cancel if you prefer to share recordings manually. </div> </md-dialog-content> <md-dialog-actions> <md-button ng-click="$mdDialog.cancel()">Cancel </md-button> <md-button class="md-primary" ng-click="confirm()">OK </md-button> </md-dialog-actions> </md-dialog>'),t.put("components/castifyExt/ui/auto-stop/auto-stop-dropdown.html",'<div layout="row" layout-align="start center" class="option"> <label class="option-label">Auto-stop</label> <md-menu> <md-button ng-click="$mdOpenMenu($event)" class="lower"> {{ $ctrl.autoStop ? $ctrl.autoStop === \'1\' ? $ctrl.autoStop + \' minute\' : $ctrl.autoStop + \' minutes\' : \'OFF\' }} </md-button> <md-menu-content class="no-padding auto-stop-dropdown"> <md-menu-item> <input ng-value="$ctrl.autoStop" type="number" placeholder="Custom" class="bottom-border height-100" ng-blur="$ctrl.update($event.target.value)" min="1"> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.update(null)">OFF </md-button> </md-menu-item> <md-menu-item ng-repeat="time in $ctrl.times" ng-disabled="$ctrl.cf2UpgradeHelperService.license.limitLength && time > 10" ng-class="{disabled: $ctrl.cf2UpgradeHelperService.license.limitLength && time > 10}" ng-hide="$ctrl.cf2UpgradeHelperService.license.limitLength && time > 30"> <md-button ng-click="$ctrl.update(time)"> {{ time === \'1\' ? time + \' minute \' : time + \' minutes \' }} {{ $ctrl.cf2UpgradeHelperService.license.limitLength && time > 10 ? \'(Premium)\' : \'\' }} </md-button> </md-menu-item> </md-menu-content> </md-menu> </div>'),t.put("components/castifyExt/ui/auto-stop/auto-stop.html",'<div id="auto-stop-smart"> <cf-auto-stop-dropdown current-time="$ctrl.currentTime" auto-stop="$ctrl.autoStop" times="$ctrl.times"> </cf-auto-stop-dropdown> </div>'),t.put("components/castifyExt/ui/connect-app-chooser/connect-app-chooser.html",'<md-menu class="item-chooser-menu" ng-show="apps.length > 0" cf-loading-overlay="loading"> <ng-transclude ng-click="$mdMenu.open()"></ng-transclude> <md-menu-content> <md-menu-item ng-repeat="item in apps" ng-hide="loading"> <md-button ng-click="select(item)"> {{ item.title }} </md-button> </md-menu-item> </md-menu-content> </md-menu>'),t.put("components/castifyExt/ui/connect-share-progress/connect-share-progress.html",'<div ng-if="download"> <md-subheader>Preparing file for sharing</md-subheader> <md-list-item> <md-progress-linear ng-value="download.progress * 100" md-mode="determinate"></md-progress-linear> </md-list-item> </div>'),t.put("components/castifyExt/ui/connected-apps/connected-apps.html",'<div flex layout="column" class="connected-apps"> <cf-topnav> <h1> Connected Apps </h1> </cf-topnav> <md-content class="cf-padding"> <md-progress-circular md-mode="indeterminate" ng-if="loading"></md-progress-circular> <p ng-show="!loading && !apps.length"> You did not connect any third-party Apps to Screencastify yet. </p> <md-list> <md-list-item ng-repeat="app in apps"> <p>{{ app.title }}</p> <md-icon aria-label="Disconnect App" ng-click="remove(app, $event)" class="md-secondary"> remove_circle_outline </md-icon> </md-list-item> </md-list> </md-content> </div>'),t.put("components/castifyExt/ui/device-chooser/device-chooser.html",'<md-input-container md-no-float> <md-select placeholder="Select" ng-model="ngModel" aria-label="Device" md-container-class="device-chooser"> <md-option ng-repeat="src in sources" ng-value="src.value">{{ src.name }}</md-option> </md-select> </md-input-container>'),t.put("components/castifyExt/ui/edit-jobs-info/edit-jobs-info.html",'<md-card ng-repeat="job in $ctrl.getCompleteExportJobs() track by job.id" class="export-job"> <md-card-title> <md-card-title-text class="md-headline"> {{ job.result.saveFileName }} </md-card-title-text> </md-card-title> <md-card-content> {{ job.result.successMessage || \'Your export is ready\' }} </md-card-content> <md-card-actions layout="row" layout-align="end center" ng-hide="job.result.isDriveExport"> <md-button class="md-primary md-raised" ng-click="$ctrl.save(job)">Save to Disk </md-button> </md-card-actions> <md-card-actions layout="row" layout-align="end center" ng-show="job.result.isDriveExport"> <md-button class="md-raised" ng-click="$ctrl.save(job)">Save to Disk </md-button> <md-button class="md-primary md-raised" ng-click="$ctrl.viewOnDrive(job)"> View on Drive </md-button> </md-card-actions> </md-card> <md-card ng-repeat="job in scheduler.getJobsByState(\'running\') track by job.id" class="running-job"> <md-card-title> <md-card-title-text class="md-headline"> {{ job.fileTitle }} </md-card-title-text> </md-card-title> <md-card-content> We are currently processing your recording <md-progress-linear md-mode="determinate" ng-value="job.progress * 100"></md-progress-linear> </md-card-content> <md-card-actions layout="row" layout-align="end center"> <md-button ng-click="$ctrl.cancel(job)" ng-show="job.cancelable">Cancel</md-button> </md-card-actions> </md-card> <p ng-if="$ctrl.getNumQueued()" class="num-waiting"> <ng-pluralize count="$ctrl.getNumQueued()" when="{\'one\': \'One more video edit is\',\n                         \'other\': \'{} more video edits are\'}"></ng-pluralize> waiting to get processed. </p>'),t.put("components/castifyExt/ui/file-actions/audio-export-dialog.html",'<md-dialog ng-form="exportForm"> <md-dialog-content class="md-dialog-content"> <h2 class="md-title">Audio Export</h2> <cf-export-drive-storage-hint file="$ctrl.file"> Screencastify supports audio export only for recordings stored on Google Drive. </cf-export-drive-storage-hint> <div class="upgrade-hint" ng-if="!cf2UpgradeHelperService.hasFeature(\'hasExport\')"> This feature requires a paid Screencastify version. </div> <p ng-if="$ctrl.canExport()">\x3c!-- Note that upgrade state may change while dialog is open.\n        We don\'t auto-close the dialog in this case (just for uploading).\n        This text is only shown for this particular case --\x3e We\'ll store the audio file on your Google Drive account. </p> </md-dialog-content> <md-dialog-actions> <md-button ng-click="$mdDialog.cancel()">Close</md-button> <cf-upgrade-button campaign="mp3" feature="hasExport"> <md-button class="md-primary" ng-disabled="!$ctrl.canExport()" ng-click="$mdDialog.hide(true)"> Export Audio </md-button> </cf-upgrade-button> </md-dialog-actions> </md-dialog>'),t.put("components/castifyExt/ui/file-actions/export-drive-storage-hint.html",'<div ng-show="!$ctrl.isStoredOnDrive()"> <p> <ng-transclude></ng-transclude> </p> <div ng-show="$ctrl.isSyncEnabled()"> Please wait until the recording has been uploaded to Drive. <cf-file-sync-icon file="$ctrl.file"></cf-file-sync-icon> </div> <div ng-hide="$ctrl.isSyncEnabled()"> <p> Change your <a ui-sref="options">storage settings</a> to store recordings on Drive to use this feature. </p> </div> </div>'),t.put("components/castifyExt/ui/file-actions/gif-export-dialog.html",'<md-dialog class="cf-export-gif-dialog"> <md-dialog-content class="md-dialog-content"> <h2 class="md-title">GIF Export</h2> <div layout="row" layout-align="center center"> <div class="slider-label">Size</div> <md-slider ng-model="scale" min="{{ minScale }}" max="1" step="0.01" flex aria-label="Size"> </md-slider> <div class="slider-size"> <span data-pixel-resolution="exportSize"></span> px </div> </div> <p ng-show="!$ctrl.canExportGifSize()" class="md-body-2"> File too large for GIF export. Please reduce size or try to crop/trim it first. </p> <cf-export-drive-storage-hint file="$ctrl.file" ng-show="$ctrl.isHwEncodingEnabled()"> GIF export are only supported for recordings stored on Google Drive if hardware encoding is enabled. </cf-export-drive-storage-hint> </md-dialog-content> <md-dialog-actions> <md-button ng-click="$mdDialog.cancel()">Cancel </md-button> <cf-upgrade-button campaign="gif" feature="hasExport"> <md-button class="md-primary" tabindex="0" data-ng-click="$ctrl.export()" ng-disabled="!$ctrl.canExportGif()"> Export GIF </md-button> </cf-upgrade-button> </md-dialog-actions> </md-dialog>'),t.put("components/castifyExt/ui/file-actions/mp4-export-dialog.html",'<md-dialog ng-form="exportForm"> <md-dialog-content class="md-dialog-content"> <h2 class="md-title">MP4 Export</h2> <cf-export-drive-storage-hint file="$ctrl.file"> Screencastify currently supports MP4 export only for recordings stored on Google Drive. </cf-export-drive-storage-hint> <div ng-show="$ctrl.canExport()"> <cf-fps-selector ng-model="$ctrl.fps" name="fps"></cf-fps-selector> <md-checkbox ng-model="$ctrl.setMp4AsDefault" ng-show="$ctrl.canSetMp4AsDefault()"> Record future videos as MP4 by default </md-checkbox> <p> Converting your recording to MP4 may take a while. We\'ll notify you when it\'s ready. </p> </div> <div class="upgrade-hint" ng-if="!cf2UpgradeHelperService.hasFeature(\'hasExport\')"> This feature requires a paid Screencastify version. </div> </md-dialog-content> <md-dialog-actions> <md-button ng-click="$mdDialog.cancel()">Cancel </md-button> <cf-upgrade-button campaign="mp4" feature="hasExport"> <md-button class="md-primary" tabindex="0" ng-click="$ctrl.export()" ng-disabled="!$ctrl.canExport() || !exportForm.$valid"> Export MP4 </md-button> </cf-upgrade-button> </md-dialog-actions> </md-dialog>'),t.put("components/castifyExt/ui/file-actions/save-file-button.html",'<md-menu cf-loading-overlay="loading"> <md-button class="md-icon-button with-new-badge" ng-click="$ctrl.openMenu($mdMenu)" aria-label="Save to disk"> <md-icon>file_download</md-icon> <md-tooltip>Save to disk</md-tooltip> <md-icon class="new-badge" ng-show="$ctrl.showAudioNewBadge" md-svg-icon="newBadge"></md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="$ctrl.save()"> <md-icon>file_download</md-icon> <span ng-if="!$ctrl.isMp4()">Save video to disk</span> <span ng-if="$ctrl.isMp4()">Download MP4</span> </md-button> </md-menu-item> <md-menu-divider></md-menu-divider> <md-menu-item> <md-button ng-click="$ctrl.exportGif($event)"> <md-icon>photo_library</md-icon> Export animated GIF </md-button> </md-menu-item> <md-menu-item ng-hide="$ctrl.isMp4()"> <md-button ng-click="$ctrl.exportMp4($event)"> <md-icon>file_download</md-icon> Export as MP4 </md-button> </md-menu-item> <md-menu-item ng-if="$ctrl.enableAudioExport"> <md-button ng-click="$ctrl.exportAudio($event)" ng-disabled="!$ctrl.hasAudioTrack"> <md-icon>volume_up</md-icon> Export audio <md-icon class="new-badge" ng-show="$ctrl.showAudioNewBadge" md-svg-icon="newBadge"></md-icon> </md-button> </md-menu-item> </md-menu-content> </md-menu>'),t.put("components/castifyExt/ui/file-comment/file-comment.html",'<div class="file-comment"> <div class="file-comment-title"> <h1>Comments</h1> <a class="comments-learn-more" target="_blank" href="https://help.screencastify.com/article/258-create-google-drive-comments">Learn more</a> </div> <div ng-if="$ctrl.failedToFetch">Could not load comments.</div> <div class="permission-container" ng-hide="$ctrl.failedToFetch"> <p class="helper-text"> Comments appear next to your videos when you play them on Google Drive. </p> <md-checkbox ng-change="$ctrl.toggleCommentPermission($ctrl.allowComments)" ng-model="$ctrl.allowComments" ng-disabled="$ctrl.permissionLoading"> <div layout="row" layout-align="center center"> <span>Allow others to comment</span> <md-progress-circular md-mode="indeterminate" md-diameter="16" class="permission" ng-show="$ctrl.permissionLoading"> </md-progress-circular> </div> </md-checkbox> </div> <div class="comments-container" ng-hide="$ctrl.failedToFetch || !$ctrl.comments.length"> <div class="comment-container" cf-loading-overlay="$ctrl.savingEdit &&\n                          ($ctrl.deleteIndex === key)" ng-repeat="(key,comment) in $ctrl.comments">\x3c!-- ng-mouseenter="$ctrl.setHoveredComment(key)"\n         ng-mouseleave="$ctrl.unsetHoveredComment()" --\x3e <div class="avatar-container"> <img ng-src="https:{{ comment.author.picture.url }}" class="md-avatar" alt="{{ comment.author.displayName }}"> <div class="comment-metadata"> <span class="comment-author">{{ comment.author.displayName }}</span> <span class="comment-date">{{ comment.createdDate | date: \'short\' }}</span> </div> <md-menu ng-show="comment.author.isAuthenticatedUser" md-position-mode="target-right target"> <md-button class="vertical-menu md-icon-button" aria-label="edit menu" ng-click="$mdMenu.open($event)"> <md-icon>more_vert</md-icon> </md-button> <md-menu-content width="2"> <md-menu-item> <md-button ng-click="$ctrl.showCreateCommentContainer = false || $ctrl.selectEditComment(key)" aria-label="Edit Comment" class="edit-comment-button" md-menu-align-target> <md-icon>edit</md-icon>Edit </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="$ctrl.deleteComment(key)" aria-label="Delete Comment" class="delete-comment-button" md-menu-align-target> <md-icon>delete</md-icon>Delete </md-button> </md-menu-item> </md-menu-content> </md-menu> </div> <span class="comment-content" ng-hide="$ctrl.editComment.id === key">{{ comment.content }}</span> <div class="edit-comment-box" ng-if="$ctrl.editComment.id === key && !$ctrl.editingInProgress"> <md-input-container class="md-block" ng-if="$ctrl.editComment.id === key && !$ctrl.editingInProgress"> <textarea ng-model="$ctrl.editComment.content" class="edit-comment-text-area" md-select-on-focus md-no-resize></textarea> </md-input-container> <div class="comment-edit-buttons" ng-show="comment.author.isAuthenticatedUser && $ctrl.editComment.id === key" flex> <md-button ng-click="$ctrl.patchComment(key)" aria-label="Update Comment" class="save-edit-button colored"> <div layout="row" layout-align="center center"> <span>save</span> <md-progress-circular md-mode="indeterminate" md-diameter="16" class="save-comment" ng-show="$ctrl.savingEdit"> </md-progress-circular> </div> </md-button> <md-button ng-click="$ctrl.resetEditComment()" aria-label="Undo Comment Edit">Cancel </md-button> <div flex></div> <span class="warn">{{ $ctrl.editComment.updateStatus }}</span> </div> </div> <hr ng-show="$ctrl.comments.length > 1"> </div> </div> <md-button ng-click="$ctrl.startNewComment()" ng-hide="$ctrl.showCreateCommentContainer"> new comment </md-button> <div class="create-comment-container" ng-if="$ctrl.showCreateCommentContainer"> <md-input-container class="md-block comment-text"> <textarea ng-model="$ctrl.newComment.content" id="new-comment-text-area" placeholder="Write your comment here..." rows="2" max-rows="2" md-select-on-focus></textarea> </md-input-container> <div class="create-comment-action" flex> <md-button ng-click="$ctrl.saveNewComment()" id="save-new-comment" class="save-comment colored" ng-disabled="!$ctrl.newComment.content || $ctrl.savingInProgress"> <div layout="row" layout-align="center center"> <span>post</span> <md-progress-circular md-mode="indeterminate" md-diameter="16" class="save-comment" ng-show="$ctrl.savingInProgress"> </md-progress-circular> </div> </md-button> <md-button ng-click="$ctrl.showCreateCommentContainer = false"> cancel </md-button> <div flex></div> <span class="warn">{{ $ctrl.newComment.updateStatus }}</span> </div> </div> </div>'),t.put("components/castifyExt/ui/file-detail/file-detail.html",'<div flex layout="row" class="file-detail"> <div layout="column" flex ng-controller="FileActionsCtrl as fileActionsCtrl" cf-loading-overlay="!file"> <div class="drive-issue-hack" ng-if="showDriveIssueBar()"> <a href="https://help.screencastify.com/article/265-my-video-is-not-processing-on-google-drive" target="_blank"> Google Drive is currently experiencing an issue that may impact video playback. <span>Click here to learn more.</span> </a> </div> <cf-topnav> <h1 class="file-title" ng-click="rename($event)"> {{ file.title }} <md-tooltip>Rename</md-tooltip> </h1> <div flex></div> <cf-save-file-button file="file" ng-if="!enterprisePolicy.disableSaveToDisk"> </cf-save-file-button> <md-button class="md-icon-button" ng-click="showShareDialog($event)" aria-label="Share" ng-if="!enterprisePolicy.disableSharing"> <md-icon>share</md-icon> <md-tooltip>Share</md-tooltip> </md-button> <md-button class="md-icon-button" ng-click="openCropEditor(file)" aria-label="Crop/Trim"> <md-icon>crop</md-icon> <md-tooltip>Crop/Trim</md-tooltip> </md-button> <md-button class="md-icon-button" ng-click="openWebEditor(file)" ng-show="hasEditorAccess()" aria-label="Crop/Trim"> <md-icon>content_cut</md-icon> <md-tooltip>Edit (new editor)</md-tooltip> </md-button> <md-button class="md-icon-button" ng-click="fileActionsCtrl.remove(file, $event)"> <md-icon>delete</md-icon> <md-tooltip>Delete</md-tooltip> </md-button> <md-button class="md-icon-button" ng-click="showInfo()" hide-gt-sm> <md-icon>info</md-icon> </md-button> </cf-topnav> <cf2-limit-banner ng-if="comboVariantExceeded" class="file-detail" [limit-type]="\'comboLimitExceeded\'"> </cf2-limit-banner> <cf2-limit-banner ng-if="cf2UpgradeHelperService.isMonthlyLimitExceeded && !cf2UpgradeHelperService.hasDefaultVariant && !comboVariantExceeded" class="file-detail" [limit-type]="\n        cf2UpgradeHelperService.videoStorageLimitExceeded\n          ? \'storageExceeded\'\n          : \'monthlyLimitExceeded\'\n      "> </cf2-limit-banner> <cf-video-player file="file" flex></cf-video-player> </div> <md-sidenav md-is-locked-open="$mdMedia(\'gt-sm\')" md-component-id="info"> <div class="sidenav-container"> <cf-file-comment ng-if="file.driveInfo" file="file"></cf-file-comment> <h1 ng-show="sharedItems.length">Uploaded To</h1> <div ng-repeat="item in sharedItems" class="shared-item"> <md-icon class="png-icon" ng-class="item.icon"></md-icon> <span>{{ item.title }}</span> <md-icon class="arrow-icon">subdirectory_arrow_right</md-icon> <md-button ng-click="copyShareLink(item)" class="copy-link">COPY LINK</md-button> <md-button ng-click="openShared(item)" class="open-shared">VIEW ON {{ item.target }}</md-button> </div> <h1>Video Details</h1> <div class="details-container"> <md-icon aria-label="Duration">access_time</md-icon> <span class="span-2">{{ file.duration | duration }}</span> <md-icon aria-label="Resolution">aspect_ratio</md-icon> <span class="span-2" data-pixel-resolution="file"></span> <md-icon aria-label="Date">today</md-icon> <span>{{ file.createdAt | date }}</span> <span class="created-time">{{ file.createdAt | date: \'h:mm a\' }}</span> <md-icon aria-label="Size">save</md-icon> <span>{{ file.size | bytes }}</span> </div> <div class="upload-info-container"> <cf-upload-info ng-show="uploads.length || syncInfo" uploads="uploads" data-file="file" sync-info="syncInfo"> </cf-upload-info> <cf-connect-share-progress ng-if="download" download="download" file-id="file.id"> </cf-connect-share-progress> </div> <md-divider ng-show="!cf2UpgradeHelperService.hasFeature(\'hasExport\')"></md-divider> <div ng-show="!cf2UpgradeHelperService.hasFeature(\'hasExport\')" class="upgrade-section"> Want to edit your video and export it as an MP4 or animated GIF? <a class="upgrade-link" ng-click="upgrade()">Upgrade to Premium.</a> </div> </div> </md-sidenav> </div>'),t.put("components/castifyExt/ui/file-detail/rename-dialog.html",'<md-dialog flex="50"> <md-dialog-content class="md-dialog-content"> <h2 class="md-title">Rename Recording</h2> <form ng-submit="$mdDialog.hide(title)" layout="column"> <md-input-container flex> <input type="text" md-autofocus="true" ng-model="title" wb-autoselect aria-label="new title" autocomplete="off"> </md-input-container> </form> </md-dialog-content> <md-dialog-actions> <md-button class="md-primary" ng-click="$mdDialog.hide(title)">Save </md-button> </md-dialog-actions> </md-dialog>'),t.put("components/castifyExt/ui/file-edit/file-edit.html",'<cf-video-editor cf-file="file" flex cf-cancel="onCancel()" cf-save="onSave(config)"></cf-video-editor>'),t.put("components/castifyExt/ui/file-list/file-list.html",'<cf2-plan-change-announcement-bar></cf2-plan-change-announcement-bar> <div layout="column" flex class="file-list"> <cf-topnav> <h1>My Recordings</h1> <div flex></div> <md-menu> <md-button class="md-icon-button" ng-click="$mdOpenMenu()"> <md-icon>more_vert</md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="removeAll()"> <md-icon>delete</md-icon> Delete all </md-button> </md-menu-item> <md-menu-item ng-show="driveSync.type === (\'synced\' || \'waiting\' || \'uploading\')"> <md-button ng-click="openInDrive()"> <md-icon class="png-icon drive"></md-icon> Open in Drive </md-button> </md-menu-item> </md-menu-content> </md-menu> </cf-topnav> <md-content flex ng-controller="FileActionsCtrl as fileActionsCtrl" cf-loading-overlay="loading" wb-focus="true" tabindex="0"> <cf2-limit-banner ng-if="!cf2UpgradeHelperService.hasUnlimitedStorage" [limit-type]="\'storageLimit\'"></cf2-limit-banner> <cf-edit-jobs-info ng-if="!options.enableVDP"></cf-edit-jobs-info> <cf-sync-info></cf-sync-info> <div data-ng-show="files.length == 0 && !loading && !error"> You have not recorded anything yet. </div> <md-grid-list md-cols="2" md-cols-sm="3" md-cols-md="4" md-cols-lg="6" md-cols-gt-lg="8" md-gutter="1em" md-row-height="4:3"> <md-grid-tile ng-repeat="file in files | orderBy:\'-createdAt\' track by file.id" ng-click="showDetail(file)"> <div class="preview-image" layout-fill wb-bg-img="file.thumbnailUrl"></div> <md-grid-tile-footer> <div layout="column" flex class="titles"> <h3>{{ file.title }}</h3> <h4>{{ file.duration | duration }}, {{ file.size | bytes }}</h4> </div> <md-button class="md-icon-button" ng-click="fileActionsCtrl.remove(file, $event)"> <md-icon>delete</md-icon> </md-button> </md-grid-tile-footer> </md-grid-tile> </md-grid-list> </md-content> <cf-blackfriday></cf-blackfriday> </div> <cf2-exports-drawer></cf2-exports-drawer>'),t.put("components/castifyExt/ui/file-sync-info/file-sync-icon.html",'<div ng-switch="syncInfo.state"> <md-icon ng-switch-when="disabled">cloud_off</md-icon> <md-icon ng-switch-when="synced">cloud_done</md-icon> <md-icon ng-switch-default ng-show="!syncInfo.progress">cloud_queue</md-icon> <cf-sync-progress-icon ng-if="syncInfo.progress" value="syncInfo.progress"></cf-sync-progress-icon> </div>'),t.put("components/castifyExt/ui/file-sync-info/file-sync-info.html",'<div class="upload-item"> <md-icon class="png-icon drive"></md-icon> <span class="upload-target">Google Drive</span> <span class="progress-bar"> <md-progress-linear ng-show="syncInfo.complete" md-mode="indeterminate"></md-progress-linear> <md-progress-linear ng-hide="syncInfo.complete" md-mode="determinate" ng-value="syncInfo.progress * 100"></md-progress-linear> </span> </div>'),t.put("components/castifyExt/ui/fps-selector/fps-selector.html",'<md-checkbox ng-model="$ctrl.convert">Convert to Fixed Framerate</md-checkbox> <md-input-container ng-show="$ctrl.convert"> <label>FPS</label> <input type="number" min="1" max="60" ng-model="$ctrl.fps" name="fps"> </md-input-container>'),t.put("components/castifyExt/ui/getting-started/getting-started.html",'<div flex layout="column" class="getting-started"> <cf-topnav> <h1> Getting Started </h1> </cf-topnav> <md-content flex layout="column" layout-align="center center"> <iframe width="640" height="480" class="demo-video" flex src="https://www.youtube.com/embed/f6bOWGvMep0?rel=0&amp;showinfo=0&amp;autoplay=1&amp;cc_load_policy=1" frameborder="0" allowfullscreen></iframe> </md-content> </div>'),t.put("components/castifyExt/ui/livepreview/livePreviewCanvas.html",'<div class="live-preview-canvas"> <video autoplay class="camera ng-hide"></video> </div>'),t.put("components/castifyExt/ui/livepreview/livepreview.html",'<div class="livepreview recorder-state" data-ng-class="recorder.info.state" data-ng-show="recorder.info.state && recorder.info.state != \'inactive\'" layout="column" layout-fill> <cf-live-preview-canvas flex></cf-live-preview-canvas> <div class="ctrls md-whiteframe-10dp" cf-loading-overlay="recorder.info.isBlocked"> <md-button class="show-on-recording hide-small" ng-click="recorder.pause()"> <md-icon>pause</md-icon> Pause </md-button> <md-button class="show-on-paused hide-small" ng-click="recorder.resume()"> <md-icon>play_arrow</md-icon> Resume </md-button> <div class="recording-duration hide-small"> {{ recorder.info.time | duration }} </div> <md-button ng-click="recorder.stop()"> <md-icon>stop</md-icon> Stop </md-button> </div> </div>'),t.put("components/castifyExt/ui/mic-level/mic-level-slider.html",'<div class="mic-level-slider"> <div class="mic-level-tick"></div> <input type="range" min="-2" max="5" step="0.01" ng-model="micGainRange" list="volsettings"> <datalist id="volsettings"> <option>0</option> </datalist> </div>'),t.put("components/castifyExt/ui/notifications/notifications.html",'<md-sidenav class="md-sidenav-right md-whiteframe-22dp" id="notifications" md-component-id="notifications"> <md-toolbar id="md-toolbar"> <div class="md-toolbar-tools"> <md-button class="md-icon-button" aria-label="Back" ng-click="$ctrl.close()"> <md-icon>chevron_right</md-icon> </md-button> <h2>Notifications</h2> </div> </md-toolbar> <md-list-container> <div class="list-container" ng-repeat="notification in $ctrl.notifications"> <md-list-item class="md-3-line" ng-class="{ unseen: !notification.seen }" ng-click="$ctrl.goToUrl(notification)"> <img ng-show="!notification.seen" src="/images/png-icons/blueDot.png"> <div class="md-list-item-text cf-custom" layout="column"> <p class="first-line">{{ notification.text }}</p> <p class="last-line">{{ notification.createdAt | date: \'medium\' }}</p> </div> </md-list-item> <md-divider></md-divider> </div> </md-list-container> </md-sidenav>'),t.put("components/castifyExt/ui/options/drawing-shortcuts-dialog.html",'<md-dialog> <md-dialog-content class="md-dialog-content"> <h2 class="md-title">Drawing Tools Shortcuts</h2> <p>Shortcuts for drawing tools in tab recording mode.</p> <p>These shortcuts cannot be changed yet.</p> <md-list> <md-list-item class="md-2-line"> <md-icon>filter_center_focus</md-icon> <div class="md-list-item-text"> <h3>Show/hide focus tool</h3> <p>Alt-F while using Mouse Pointer</p> </div> </md-list-item> <md-list-item class="md-2-line"> <md-icon>close</md-icon> <div class="md-list-item-text"> <h3>Show/hide toolbox</h3> <p>Alt-T</p> </div> </md-list-item> <md-list-item class="md-2-line"> <md-icon>create</md-icon> <div class="md-list-item-text"> <h3>Use pen</h3> <p>Alt-P</p> </div> </md-list-item> <md-list-item class="md-2-line"> <md-icon md-svg-icon="eraser"></md-icon> <div class="md-list-item-text"> <h3>Use eraser</h3> <p>Alt-E</p> </div> </md-list-item> <md-list-item class="md-2-line"> <md-icon>crop_landscape</md-icon> <div class="md-list-item-text"> <h3>Wipe screen clear</h3> <p>Alt-Z</p> </div> </md-list-item> <md-list-item class="md-2-line"> <md-icon md-svg-icon="pointer"></md-icon> <div class="md-list-item-text"> <h3>Use mouse pointer</h3> <p>Alt-M (or ESC while using other tools)</p> </div> </md-list-item> <md-list-item class="md-2-line"> <md-icon md-svg-icon="nocursor"></md-icon> <div class="md-list-item-text"> <h3>Hide mouse cursor</h3> <p>Alt-H</p> </div> </md-list-item><md-list-item class="md-2-line"> <md-icon>videocam</md-icon> <div class="md-list-item-text"> <h3>Show/hide webcam</h3> <p>Alt-W</p> </div> </md-list-item><md-list-item class="md-2-line"> <md-icon>timer</md-icon> <div class="md-list-item-text"> <h3>Show/hide clock</h3> <p>Alt-C</p> </div> </md-list-item> </md-list> </md-dialog-content> </md-dialog>'),t.put("components/castifyExt/ui/options/options.html",'<div class="options"> <cf-topnav> <h1 id="options-heading"> Screencastify Options </h1> </cf-topnav> <div class="options-container"> <div class="option-card"> <h2>Where should we save your videos?</h2> <cf-policy-hint key="driveSync"></cf-policy-hint> <cf-storage-option ng-model="opt.driveSync"></cf-storage-option> </div> <div class="option-card"> <h2>Notifications</h2> <md-switch md-no-ink ng-model="opt.notifyTabFocus" aria-label="tab-recording"> <div class="switch-description"> <h3>Background tab recording</h3> <div> Shown during a tab recording when you switch to a new tab. </div> </div> </md-switch> <md-switch ng-show="opt.driveSync" md-no-ink ng-model="opt.notifySyncProgress" aria-label="upload-progress"> <div ng-show="opt.driveSync" class="switch-description"> <h3>Drive upload progress</h3> <div> Display upload progress when your video is being saved to Google Drive. </div> </div> </md-switch> <md-switch md-no-ink ng-model="opt.notifyEditProgress" aria-label="video-edit-progress"> <div class="switch-description"> <h3>Video edit progress</h3> <div> Display progress when processing an edited video. </div> </div> </md-switch> </div> <div class="option-card keyboard-shortcuts"> <h2>Keyboard Shortcuts</h2> <a class="keyboard-shortcuts-link" ng-click="openShortcuts()"> Configure recording shortcuts </a> <a class="keyboard-shortcuts-link" ng-click="showDrawingShortcuts()"> View drawing tools shortcuts </a> </div> <div class="option-card"> <h2>Recording Settings</h2> <md-switch md-no-ink ng-model="opt.autoOpen" aria-label="open-after-recording"> <h3>Open video page after recording</h3> </md-switch> <md-switch md-no-ink ng-model="opt.autoPlay" aria-label="autoplay-videos"> <h3>Autoplay opened videos</h3> </md-switch> <md-switch md-no-ink ng-model="opt.enableDiskSpaceWatcher" aria-label="pause-low-disk-space"> <h3>Pause recordings on low disk space (recommended)</h3> </md-switch> <md-switch md-no-ink aria-label="auto-name-tab" ng-model="opt.videoTitleNamingScheme" ng-true-value="\'tabTitle\'" ng-false-value="\'DATE\'"> <h3>Name tab recordings with the active tab title</h3> </md-switch> </div> <div class="option-card"> <h2>Privacy</h2> <md-switch md-no-ink ng-model="opt.enableAnalytics" aria-label="report-stats"> <h3>Report anonymous usage statistics to Screencastify</h3> </md-switch> <md-button class="switch-description quality-select md-no-style md-ink-ripple" ng-click="downloadUserData()"> <h3>Download user data</h3> <div> Questions? Contact us at privacy@screencastify.com. </div> </md-button> </div> <div class="option-card"> <h2>Advanced</h2> <md-button class="switch-description quality-select md-no-style md-ink-ripple" ng-show="opt.encoder === \'webrtc\' || opt.hwEncoding" ng-click="showQualityOptions()"> <h3>Quality vs. file size</h3> <div>Record with {{ $ctrl.qualityLabels[opt.bitRateOption] }}.</div> </md-button> <md-switch md-no-ink ng-model="opt.hwEncoding" aria-label="hardware-encoding"> <div class="switch-description"> <h3>Hardware encoding</h3> <div> Boosts performance on most devices. Limits resolution to 1080p. Still experimental. </div> </div> </md-switch> <md-switch md-no-ink ng-model="optLocal.micAudioProcessing" aria-label="optimize-mic"> <div class="switch-description"> <h3>Optimize mic audio for voice</h3> <div> Disable if you want to record background noise or use professional audio equipment. </div> </div> </md-switch> <md-switch md-no-ink ng-model="opt.enableWindowPicker" aria-label="single-app-recording"> <div class="switch-description"> <h3>Enable single application recording</h3> <div> Gives you the option of recording only a single application after starting a desktop recording. Will not capture some dropdown menus or that application in full-screen mode. </div> </div> </md-switch> </div> <div class="option-card" ng-show="hasApps"> <h2>API</h2> <md-button class="switch-description quality-select md-no-style md-ink-ripple" href="app.html#/connected-apps"> <h3>Manage connected apps</h3> <div> Manage Apps that integrate with Screencastify </div> </md-button> </div> <div class="option-card" ng-if="debug"> <h2>Debug Options</h2> <md-switch ng-show="deployConfig.enableInlinePopupSupport" md-no-ink ng-model="opt.enableInlinePopupUi" aria-label=""> <div class="switch-description"> <h3>Inline Popup UI</h3> <div> Experimental inline UI. Re-load extension after changing this. </div> </div> </md-switch> <md-input-container> <label>Encoder</label> <md-select ng-model="opt.encoder"> <md-option ng-value="null">auto</md-option> <md-option value="nacl">nacl</md-option> <md-option value="libvpx">libvpx</md-option> <md-option value="webrtc">webrtc</md-option> </md-select> </md-input-container> <md-input-container> <label>Audio Codec</label> <md-select ng-model="opt.audioCodec"> <md-option ng-value="null">auto</md-option> <md-option value="libvorbis">vorbis</md-option> <md-option value="libopus">opus</md-option> </md-select> </md-input-container> <md-switch md-no-ink ng-model="opt.enablePiP"> <div class="switch-description"> <h3>Use Picture in Picture mode to embed webcam</h3> <div> Show webcam in frameless always-on-top window when embedding webcam with desktop recording. Still broken on some devices. </div> </div> </md-switch> <md-switch md-no-ink ng-model="opt.enableVDP"> <div class="switch-description"> <h3>Enable new Video Details Page</h3> <div> Also enables exports drawer and new free plan announcement bar (for free users on the default variant). </div> </div> </md-switch> <md-switch md-no-ink ng-model="opt.enableQRCode"> <div class="switch-description"> <h3>Enable QR Code</h3> <div> Enables the QR code feature in the new Video Details Page. </div> </div> </md-switch> </div> </div> </div>'),t.put("components/castifyExt/ui/options/storage-option.html",'<md-radio-group ng-model="ngModel"> <md-radio-button ng-value="true" class="drive-button"> <h3> Google Drive (recommended) </h3> <div> Videos will automatically be saved in a folder called "Screencastify" in your Google Drive. Access them from any device. Safer and more convenient. </div> </md-radio-button> <md-radio-button ng-value="false" class="local-button"> <h3> On my local device </h3> <div> Videos will be saved locally. Uninstalling Screencastify or Chrome, or removing your Chrome user account will delete videos unless you\'ve exported them. Not recommended on ChromeOS. </div> </md-radio-button> </md-radio-group>'),t.put("components/castifyExt/ui/options/video-quality-dialog.html",'<md-dialog> <md-dialog-content class="md-dialog-content"> <h2 class="md-title">Quality vs. file size</h2> <p> Choose a lower setting if small file size is more important to you than quality. </p> <md-select ng-model="opt.bitRateOption"> <md-option ng-value="key" ng-repeat="(key, label) in $ctrl.qualityLabels">{{ label }}</md-option> </md-select> </md-dialog-content> </md-dialog>'),t.put("components/castifyExt/ui/policy-hint/policy-hint.html",'<div class="switch-description policy-hint" ng-if="show"> <h3>Set by enterprise policy</h3> Only your domain administrator can change this setting. </div>'),t.put("components/castifyExt/ui/privacy-picker/privacy-picker.html",'<div class="option-row privacy"> <div class="option-label">Privacy:</div> <span ng-hide="expanded" class="short-desc"> {{ selectedItem.desc }} <md-button class="md-icon-button" aria-label="Privacy Options" ng-click="expanded=true"> <md-icon>more_vert</md-icon> </md-button> </span> <md-radio-group ng-model="value" ng-change="onChange(value)" ng-disabled="cfDisabled" ng-hide="!expanded"> <md-radio-button ng-value="item.value" aria-label="{{ item.title }}" ng-disabled="cfDisabled" ng-repeat="item in items track by $index"> <md-icon>{{ item.icon }}</md-icon> {{ item.title }} <span class="option-help"> {{ item.desc }} </span> </md-radio-button> </md-radio-group> </div>'),t.put("components/castifyExt/ui/quiz-questions/quiz-questions.html",'<div layout="row" layout-align="start center"> <md-button ng-click="$ctrl.back()" ng-show="$ctrl.canGoBack()" class="back-btn md-icon-button"> <md-icon aria-label="Go back">arrow_back</md-icon> </md-button> <h3 class="md-subhead"> {{ $ctrl.node.text }} </h3> </div> <div layout="column"> <md-button ng-repeat="item in $ctrl.node.answers" ng-click="$ctrl.selectAnswer(item)" class="quiz-answer"> {{ item.text }} </md-button> </div>'),t.put("components/castifyExt/ui/record-options/activate-mp4-dialog.html",'<md-dialog> <md-dialog-content class="md-dialog-content"> <h2 class="md-title">Activate MP4</h2> <p> In order to record to mp4 we need to also:<br> <span ng-show="!appOptions.driveSync">save your recordings to GoogleDrive<br></span> <span ng-show="!appOptions.instantUpload">activate instant upload<br></span> <span ng-show="!appOptions.hwEncoding">enable hardware encoding</span> </p> <md-button ng-click="confirm()">Ok</md-button> <md-button ng-click="cancel()">Cancel</md-button> </md-dialog-content> </md-dialog>'),t.put("components/castifyExt/ui/record-options/advanced-video-options.html",'<md-sidenav class="md-sidenav-right md-whiteframe-22dp" md-component-id="advanced-video"> <div cf-popup-resizer resize-parent="true"> <md-toolbar class="popup-top-nav" id="md-toolbar"> <div class="md-toolbar-tools advanced-settings"> <md-button class="md-icon-button" aria-label="Back" ng-click="close()"> <md-icon>chevron_right</md-icon> </md-button> <h2>Advanced Settings</h2> </div> </md-toolbar> <div class="cf-padding advanced-settings-content"> <div class="option"> <span class="option-label">Resize Tab</span> <md-menu> <md-button ng-click="$mdOpenMenu($event)" class="lower"> <span pixel-resolution="$ctrl.tab"></span>px </md-button> <md-menu-content> <div class="menu-heading">Resize tab to:</div> <md-menu-item ng-repeat="res in tabResolutions"> <md-button ng-click="resizeTab(res)">{{ res.name }} <span class="md-caption"> (<span data-pixel-resolution="res"></span>) </span> </md-button> </md-menu-item> </md-menu-content> </md-menu> </div> <div class="option"> <span class="option-label">Limit Resolution</span> <md-menu> <md-button ng-click="$mdOpenMenu($event)"> <span>{{ resolutionLabel }}</span> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="setMaxResolution(null)">OFF</md-button> </md-menu-item> <md-menu-item ng-repeat="res in resolutions"> <md-button ng-click="setMaxResolution(res)">{{ res.name }} <span class="md-caption"> (<span data-pixel-resolution="res"></span>) </span> </md-button> </md-menu-item> </md-menu-content> </md-menu> </div> <div class="option"> <span class="option-label">Max Frame Rate</span> <md-menu> <md-button ng-click="$mdOpenMenu($event)">{{ $ctrl.config.targetFPS }} FPS</md-button> <md-menu-content> <div class="menu-heading">Limit frame rate to:</div> <md-menu-item ng-repeat="fps in frameRates"> <md-button ng-click="setFps(fps.value)">{{ fps.value }} FPS <span class="md-caption" ng-show="fps.help">({{ fps.help }})</span> </md-button> </md-menu-item> </md-menu-content> </md-menu> </div> <cf-auto-stop-dropdown auto-stop="$ctrl.config.nonpersistent.autoStop"> </cf-auto-stop-dropdown> <div class="option" ng-show="canSelectExportFormat()"> <span class="option-label">Video Format</span> <md-menu> <md-button ng-click="$mdOpenMenu($event)">{{ $ctrl.config.exportFormat }}</md-button> <md-menu-content> <md-menu-item ng-repeat="exportFormat in exportFormats"> <md-button ng-click="setExportFormat(exportFormat)">{{ exportFormat }}</md-button> </md-menu-item> </md-menu-content> </md-menu> </div> </div> </div> </md-sidenav>'),t.put("components/castifyExt/ui/record-options/auto-stop-smart.html",'<div id="auto-stop-smart"> <cf-auto-stop-dropdown current-time="$ctrl.currentTime" auto-stop="$ctrl.autoStop" times="$ctrl.times"> </cf-auto-stop-dropdown> </div>'),t.put("components/castifyExt/ui/record-options/embed-option.html",'<div class="option embed" ng-show="config.captureSource != \'cam\'"> <md-switch md-no-ink="true" ng-model="config.embedWebcam" aria-label="Embed webcam"> Embed Webcam </md-switch> <cf-device-chooser ng-model="config.camSourceId" input-type="video" ng-show="config.embedWebcam"> </cf-device-chooser> </div>'),t.put("components/castifyExt/ui/record-options/mic-option.html",'<div class="option"> <md-switch md-no-ink="true" ng-model="audio.mic" aria-label="Microphone"> Microphone </md-switch> <cf-device-chooser ng-model="audio.micSourceId" input-type="audio" ng-show="audio.mic"> </cf-device-chooser> <cf-mic-level-icon-menu ng-if="audio.mic" source-id="audio.micSourceId"> </cf-mic-level-icon-menu> <div flex></div> </div>'),t.put("components/castifyExt/ui/record-options/record-options.html",'<div class="cf-record-options" ng-show="recordConfig"> <md-toolbar ng-cloak class="popup-top-nav"> <div class="md-toolbar-tools"> <cf2-sidenav-trigger popup-mode="true"></cf2-sidenav-trigger> <md-button class="md-icon-button cf-nav-button" ng-click="navigateToFiles()"> <md-icon>video_library</md-icon> <md-tooltip md-direction="bottom">My Recordings</md-tooltip> </md-button>\x3c!-- TODO: change to show icon even when no notifications, do this when feature is stable --\x3e <md-button class="md-icon-button cf-nav-button" ng-click="openNotifications()"> <md-icon ng-show="!hasNewNotifications">notifications</md-icon> <md-icon ng-show="hasNewNotifications" class="png-icon newNotification"></md-icon> <md-tooltip md-direction="bottom">Notifications</md-tooltip> </md-button> <md-button id="advanced-settings" class="md-icon-button cf-nav-button" ng-click="toggleAdvanced()" aria-label="Advanced Options"> <md-tooltip md-direction="bottom">Settings</md-tooltip> <md-icon>settings</md-icon> </md-button> <cf-connect-app-chooser on-selected="confirmApp(app)" on-disconnected="clearApp()"> <md-button class="md-icon-button"> <md-icon>exit_to_app</md-icon> <md-tooltip md-direction="left">Record for App</md-tooltip> </md-button> </cf-connect-app-chooser> </div> <div class="md-toolbar-tools auto-share-hint" ng-show="autoShareApp"> <span class="app-title">Recording for {{ autoShareApp.title }}</span> <md-button ng-click="clearApp()" class="md-icon-button" aria-label="Cancel recording for App"> <md-icon>cancel</md-icon> <md-tooltip md-direction="left"> Cancel Recording for third-party App </md-tooltip> </md-button> </div> </md-toolbar> <cf-advanced-video-options config="recordConfig" tab="tab"> </cf-advanced-video-options> <cf-notifications notifications="notifications" tab="tab"> </cf-notifications> <cf2-license-hint ng-if="recordConfig && !recordConfig.autoShareApp.isPaid"> </cf2-license-hint> <cf2-popup-logo></cf2-popup-logo> <md-tabs md-no-pagination md-stretch-tabs="always" ng-cloak md-no-ink-bar md-selected="captureTabIdx"> <md-tab ng-click="selectRecordingType(\'tab\')"> <md-tab-label> <md-icon class="tab-label-icon">tab</md-icon> <div class="tab-label-text">Browser Tab</div> </md-tab-label> </md-tab> <md-tab ng-click="selectRecordingType(\'desktop\')"> <md-tab-label> <md-icon class="tab-label-icon">desktop_mac</md-icon> <div class="tab-label-text">Desktop</div> </md-tab-label> </md-tab> <md-tab ng-click="selectRecordingType(\'cam\')" ng-disabled="!canEmbedCam"> <md-tab-label> <md-icon class="tab-label-icon">camera_alt</md-icon> <div id="webcam-only" class="tab-label-text">Webcam Only</div> </md-tab-label> </md-tab> </md-tabs> <div ng-cloak layout="column" class="cf-padding controls-container"> <cf-mic-option ng-show="hasMic" audio="recordConfig.audio"></cf-mic-option> <div class="option no-mic" ng-show="!hasMic && !micSetupRequired"> No microphone connected </div> <md-button class="setup-button cam-setup-hint" flex new-tab href="mic.html" ng-show="micSetupRequired"> Setup microphone access </md-button> <cf-embed-option config="recordConfig" ng-show="camInfo.hasCam && canEmbedCam"></cf-embed-option> <div class="option cam" ng-show="camInfo.hasCam && recordConfig.captureSource==\'cam\'"> <span class="cam-label">Camera:</span> <cf-device-chooser ng-model="recordConfig.camSourceId" input-type="video"> </cf-device-chooser> </div> <div class="option cam" ng-show="!camInfo.hasCam"> <span class="cam-label">Webcam not detected</span> </div> <md-button new-tab class="cam-setup-hint setup-button" flex href="mic.html" ng-show="camInfo.camSetupRequired"> Setup camera access </md-button> <md-button class="setup-button" flex ng-click="setUpDrawingTools()" ng-show="showDrawSetup"> Enable drawing tools </md-button> </div> <div class="controls-container"> <div class="slide-toggle" ng-click="showMoreOptions=!showMoreOptions"> {{ showMoreOptions ? \'Hide\' : \'Show more\' }} options </div>\x3c!-- TODO: move this into separate component/directive --\x3e <div class="more-options" ng-show="showMoreOptions"> <div class="option"> <md-switch md-no-ink="true" ng-model="enableCountdown" aria-label="Enable Countdown" ng-change="onCountdownEnableChange()"> Countdown </md-switch> <md-input-container> <md-select ng-model="recordConfig.startDelay" aria-label="Countdown" placeholder="Select" ng-show="enableCountdown"> <md-option ng-repeat="sec in [3, 5, 10]" ng-value="sec"> {{ sec }} seconds </md-option> </md-select> </md-input-container> </div> <div class="option" ng-show="!showDrawSetup && canUseDrawTools"> <md-switch md-no-ink="true" ng-model="recordConfig.draw.showToolbox" aria-label="Show tools"> Show Drawing Tools </md-switch> </div> <div class="option" ng-show="canCaptureSystemAudio"> <md-switch md-no-ink="true" ng-model="recordConfig.audio.system" aria-label="{{ systemAudioLabel }}"> {{ systemAudioLabel }} </md-switch> </div> <div class="option" ng-show="shouldShowPreviewOption"> <md-divider></md-divider> <div class="option"> <md-switch md-no-ink="true" ng-model="recordConfig.showPreview"> Show Webcam Preview </md-switch> </div> </div> </div> </div> </div>'),t.put("components/castifyExt/ui/recorder/capture-source-info.html",'<span data-ng-switch="$ctrl.recorder.config.captureSource"> <span data-ng-switch-when="tab"> <span data-ng-show="$ctrl.recorder.config.tabId == $ctrl.tab.id"> Your tab is being recorded </span> <span data-ng-show="$ctrl.recorder.config.tabId != $ctrl.tab.id"> Another tab is currently being recorded in the background </span> </span> <span data-ng-switch-when="cam"> Your webcam is being recorded </span> <span data-ng-switch-default> Your desktop is being recorded </span> </span> <span ng-show="$ctrl.recorder.recordingResolution"> (<span data-pixel-resolution="$ctrl.recorder.recordingResolution"></span>px) </span>'),t.put("components/castifyExt/ui/recorder/discard-dialog.html",'<md-dialog id="discard-dialog"> <h2 class="md-title">Are you sure?</h2> <md-dialog-content> <md-list> <p>Discarding will permanently delete the current recording.</p> <md-checkbox ng-model="hideDiscardAlert">Don\'t show me this again.</md-checkbox> </md-list> </md-dialog-content> <md-dialog-actions> <md-button class="md-cancel" ng-click="$mdDialog.cancel()">Cancel</md-button> <md-button class="md-primary" id="discard-confirm" ng-click="$mdDialog.hide(hideDiscardAlert)">Discard</md-button> </md-dialog-actions> </md-dialog>'),t.put("components/castifyExt/ui/recorder/mic-level-and-slider.html",'<div class="mic-level-container"> <div> <cf-mic-level width="50" height="5" source-id="sourceId" orientation="horizontal"></cf-mic-level> <cf-mic-level-slider></cf-mic-level-slider> </div> </div>'),t.put("components/castifyExt/ui/recorder/mic-level-icon-menu.html",'<md-menu>\x3c!-- kind of janky passing in mdMenu, not sure if there is a better way --\x3e <md-button class="md-icon-button" ng-click="openMenu($mdMenu)"> <md-icon>settings_voice</md-icon> <cf-mic-level width="1" height="24" source-id="$ctrl.sourceId" orientation="vertical"></cf-mic-level> </md-button> <md-menu-content class="mic-option-menu"> <md-menu-item> <cf-mic-level-and-slider source-id="$ctrl.sourceId"></cf-mic-level-and-slider> </md-menu-item> <div class="mic-level-help"> Adjust the slider if your recordings are too quiet or too loud. The volume indicator should be in the middle (green to yellow) when you speak normally. Avoid orange and red to avoid clipping. </div> </md-menu-content> </md-menu>'),t.put("components/castifyExt/ui/recorder/record-ctrl-buttons.html",'<div class="ctrlButtons"> <div class="ctrl-buttons-row"> <md-button id="discard" ng-click="$ctrl.discard()"> <md-icon>delete</md-icon> </md-button> <md-button id="restart" ng-click="$ctrl.restart()"> <md-icon>replay</md-icon> </md-button> <md-button class="show-on-recording pause-button" ng-click="$ctrl.pause()"> <md-icon>pause</md-icon> </md-button> <md-button class="show-on-paused resume-button" ng-click="$ctrl.resume()"> <md-icon>play_arrow</md-icon> </md-button> <md-button class="md-primary stop-button" ng-click="$ctrl.stop()"> <md-icon>stop</md-icon> </md-button> </div> </div>'),t.put("components/castifyExt/ui/recorder/recorder-inactive.html",'<cf-recorder-loading ng-if="!recordConfig"></cf-recorder-loading>\x3c!-- camInfo has two-way binding and is loaded in cfRecordOptions --\x3e <cf-record-options config="recordConfig" cam-info="camInfo"></cf-record-options> <div class="ctrlButtons" ng-show="recordConfig"> <md-button id="record-button" ng-click="record()" class="md-primary md-raised big" ng-hide="needsTabSetup" ng-disabled="!canRecord"> Record </md-button> <md-button ng-click="setupTabPermissions()" class="md-primary md-raised setup-tab-permissions" ng-show="needsTabSetup">Setup Tab Recording </md-button> <div class="recordings-limit" ng-if="cf2UpgradeHelperService.license.limitNumRecordings &&\n          cf2UpgradeHelperService.isSignedIn &&\n          cf2UpgradeHelperService.hasDefaultVariant"> {{ cf2UpgradeHelperService.recordingsRemainingMonth }}/{{ cf2UpgradeHelperService.maxRecordingsMonth }} videos left this month </div> <cf2-error-hint [warning]="true" [popup]="true" ng-show="showWarning"> <span> Drawing tools are unavailable on this tab. <a class="help-link" ng-click="learnWhy()">Why?</a> </span> </cf2-error-hint> <cf-settings-changed-notifier></cf-settings-changed-notifier> </div>'),t.put("components/castifyExt/ui/recorder/recorder-loading.html",'<md-progress-circular md-mode="indeterminate" md-diameter="100"></md-progress-circular>'),t.put("components/castifyExt/ui/recorder/recorder-recording.html",'<cf-topnav popup-mode> <h1 class="show-on-recording">Recording {{ recorder.time | duration }}</h1> <h1 class="show-on-paused">Paused {{ recorder.time | duration }}</h1> <div flex></div> </cf-topnav> <div class="cf-padding recording-container"> <cf-capture-source-info tab="tab" recorder="recorder"></cf-capture-source-info> <md-button data-ng-show="canReplaceTab()" tooltip="switch recording focus to this tab" class="setup-button" ng-click="replaceStream()"> Record this tab </md-button> <cf-auto-stop auto-stop="recorder.config.nonpersistent.autoStop"> </cf-auto-stop> </div> <cf-record-ctrl-buttons tab="tab" recorder="recorder"></cf-record-ctrl-buttons>'),t.put("components/castifyExt/ui/recorder/recorder.html",'<div class="recorder" cf-loading-overlay="recorder.isBlocked && !recorder.isDesktopDialogShown" ng-style="{height}"> <div class="recorder-state" ng-class="recorder.state" id="recorder-wrapper"> <ui-view></ui-view> </div> <div ng-if="recorder.isDesktopDialogShown" class="desktop-choose-prompt"> <div class="message"> Please proceed in the dialog window. </div> <div class="hint"> Not seeing a dialog window? You might have clicked into the background. Check you open Chrome windows for a window titled "Share your Screen - Screencastify". </div> <md-button class="md-primary" ng-click="cancelPendingStart()">Cancel</md-button> </div> </div>'),t.put("components/castifyExt/ui/recorder/restart-dialog.html",'<md-dialog id="restart-dialog"> <h2 class="md-title">Are you sure?</h2> <md-dialog-content> <md-list> <p> Restarting will permanently delete the current recording and automatically start a new one. </p> <md-checkbox ng-model="hideRestartAlert">Don\'t show me this again.</md-checkbox> </md-list> </md-dialog-content> <md-dialog-actions> <md-button class="md-cancel" ng-click="$mdDialog.cancel()">Cancel</md-button> <md-button class="md-primary" id="restart-confirm" ng-click="$mdDialog.hide(hideRestartAlert)">Restart</md-button> </md-dialog-actions> </md-dialog>'),t.put("components/castifyExt/ui/select-dropdown/select-dropdown.html",'<md-input-container md-no-float> <label ng-if="label">{{ label }}</label> <md-select ng-model="ngModel" placeholder="Select"> <md-option ng-repeat="opt in options" ng-value="opt.value">{{ opt.name }}</md-option> </md-select> </md-input-container>'),t.put("components/castifyExt/ui/settings-changed-notifier/hw-disabled-dialog.html",'<md-dialog class="cf-encoder-changed-dialog"> <md-dialog-content> <h2 class="md-title">We\'ve changed your settings.</h2> <p> Your last recording ended unexpectedly, so we\'ve changed the encoder to prevent this from happening again. </p> <p> If you have questions or are still experiencing issues, please contact support. </p> </md-dialog-content> <md-dialog-actions> <md-button ng-click="$mdDialog.cancel()">Got it </md-button> </md-dialog-actions> </md-dialog>'),t.put("components/castifyExt/ui/settings-changed-notifier/hw-enabled-dialog.html",'<md-dialog class="cf-encoder-changed-dialog"> <md-dialog-content> <h2 class="md-title">We\'ve changed your settings.</h2> <p> Your last recording ended unexpectedly, so we\'ve changed the encoder to prevent this from happening again. </p> <p> If you have questions or are still experiencing issues, please contact support. </p> </md-dialog-content> <md-dialog-actions> <md-button ng-click="$mdDialog.cancel()">Got it </md-button> </md-dialog-actions> </md-dialog>'),t.put("components/castifyExt/ui/settings-changed-notifier/hw-mp4-disabled-dialog.html",'<md-dialog class="cf-encoder-changed-dialog"> <md-dialog-content> <h2 class="md-title">We\'ve changed your settings.</h2> <p> Your last recording ended unexpectedly, so we\'ve changed the encoder to prevent this from happening again. <br> We also had to change the recording format to webm. </p> <p> If you have questions or are still experiencing issues, please contact support. </p> </md-dialog-content> <md-dialog-actions> <md-button ng-click="$mdDialog.cancel()">Got it </md-button> </md-dialog-actions> </md-dialog>'),t.put("components/castifyExt/ui/setup/final.html",'\x3c!-- should depreciate final route, do later when setup won\'t change --\x3e <md-card-content id="permissions" flex layout="column" layout-align="center center"> <img src="/images/setup-page/party.png" class="title-image"> <h2>{{ $ctrl.text.finalTitle1 }}</h2> <iframe width="450" height="253" id="tutorial-video" src="https://www.youtube.com/embed/AdQnYUGO384?autoplay=1&cc_load_policy=1&modestbranding=1&rel=0&showinfo=0&start=0&color=white&enablejsapi=1&mute=1" frameborder="0" allowfullscreen></iframe> </md-card-content>'),t.put("components/castifyExt/ui/setup/mouse-click.html",'<div ng-show="$ctrl.surveyCheckbox" class="floaty-mouse-container"> <img class="floaty-mouse" src="/images/setup-page/mouse.png"> <div class="sc-icon-container"> <img class="sc-icon" src="/images/icon48.png"> </div> </div>'),t.put("components/castifyExt/ui/setup/permissions.html",'<md-card-content id="permissions" flex layout="column" layout-align="center center"> <img src="/images/setup-page/mic.png" class="title-image"> <h2>{{ $ctrl.text.permissionsTitle }}</h2> <div class="card-content-text"> <p>{{ $ctrl.text.permissionsParagraph }}</p> <md-list> <md-list-item layout="row" layout-align="center space-around"> <md-checkbox ng-disabled="$ctrl.hasCamAndMicPermission" ng-model="$ctrl.requestCameraAndMicPermission"> </md-checkbox> <div layout="column"> <span>{{ $ctrl.text.cameraMicCheckbox }}</span> </div> </md-list-item> <md-list-item layout="row" layout-align="center space-around"> <md-checkbox ng-disabled="$ctrl.hasTabPermissions" ng-model="$ctrl.requestTabPermission"> </md-checkbox> <div layout="column"> <span>{{ $ctrl.text.tabCheckbox }}</span> </div> </md-list-item> </md-list> <span class="warn" ng-show="$ctrl.error">{{ $ctrl.error }}</span> <span class="warn" ng-show="$ctrl.permissionsError"> Oops Screencastify has been blocked. Click <a href="https://help.screencastify.com/article/249-i-blocked-screencastify-accessing-webcam-microphone" target="_blank"> here</a> to undo. </span> </div> </md-card-content> <md-card-actions layout="column" layout-align="center center"> <md-button class="website-button md-raised" ng-hide="$ctrl.error" ng-click="$ctrl.requestPermissions()"> <span> {{ $ctrl.text.permissionsButton }} </span> </md-button> </md-card-actions>'),t.put("components/castifyExt/ui/setup/setup.html",'<div flex layout="row" ng-show="$ctrl.loading" layout-align="center center" class="loading"> <md-progress-circular md-mode="indeterminate"></md-progress-circular> </div> <div class="setup" flex layout="column" layout-align="start center" ng-hide="$ctrl.step === 4"> <h1 class="setup-header"> Screencastify Setup </h1> <md-card class="setup-card no-connection" ng-show="$ctrl.noConnection"> <md-card-content id="noConnection" flex layout="column" class="setup-content" layout-align="center center"> <md-icon class="title-image no-wifi">portable_wifi_off</md-icon> <h2>Unable To Connect</h2> <div class="card-content-text" layout="column" class="setup-content" layout-align="center center"> <p ng-show="!$ctrl.answers"> Unable to connect to server. Please connect to the internet or try again later. If problem persists please <a href="https://help.screencastify.com/">contact support</a>. </p> </div> </md-card-content> </md-card> <md-card class="setup-card" ng-hide="$ctrl.step === 4 || $ctrl.loading || $ctrl.noConnection"> <md-content flex layout="row" class="cf-padding" layout-align="start center"> <md-content flex="30" layout-align="center center"> <md-list id="setup-steps" flex="100" layout="column" layout-align="space-around start"> <md-list-item> <div class="checkmark"> <img ng-show="$ctrl.step > 1" src="/images/setup-page/checkmark.png"> </div> <div flex layout="column" class="md-list-item-text" layout-align="center start"> <h2 class="setup-header">STEP 1.</h2> <p>Sign in with Google</p> </div> </md-list-item> <md-list-item ng-disabled="$ctrl.step < 2"> <div class="checkmark"> <img ng-show="$ctrl.step > 2" src="/images/setup-page/checkmark.png"> </div> <div flex layout="column" class="md-list-item-text" layout-align="center start"> <h2 class="setup-header">STEP 2.</h2> <p>Set permissions</p> </div> </md-list-item> <md-list-item ng-disabled="$ctrl.step < 3"> <div class="checkmark"> <img ng-show="$ctrl.step > 3" src="/images/setup-page/checkmark.png"> </div> <div flex layout="column" class="md-list-item-text" layout-align="center start"> <h2 class="setup-header">STEP 3.</h2> <p>Introduce yourself</p> </div> </md-list-item> </md-list> </md-content> <cf-setup-signin ng-if="$ctrl.step === 1" text="$ctrl.text" error="$ctrl.error" class="setup-content" sign-in="$ctrl.signIn()" use-drive="$ctrl.useDrive" flex> </cf-setup-signin> <cf-setup-permissions ng-if="$ctrl.step === 2" text="$ctrl.text" error="$ctrl.error" class="setup-content" loading="$ctrl.loading" general-error="$ctrl.generalError" smart-route="$ctrl.smartRoute()" has-cam-and-mic-permission="$ctrl.hasCamAndMicPermission" asked-permission="$ctrl.askedPermission" flex> </cf-setup-permissions> <cf-setup-survey ng-if="$ctrl.step === 3" user="$ctrl.user" text="$ctrl.text" error="$ctrl.error" class="setup-content" general-error="$ctrl.generalError" post-survey="$ctrl.postSurvey(answers)" survey-responses="$ctrl.surveyResponses" survey-questions="$ctrl.surveyQuestions" smart-route="$ctrl.smartRoute()" flex> </cf-setup-survey> </md-content> </md-card> </div>'),t.put("components/castifyExt/ui/setup/signin.html",'<md-card-content id="sign-in" flex layout="column" layout-align="center center"> <img src="/images/setup-page/google.png" class="title-image"> <h2>{{ $ctrl.text.signinTitle }}</h2> <div class="card-content-text" cf-policy-hide="driveSync"> <md-list> <md-list-item flex layout="row" layout-align="center center" md-clickable="false"> <md-switch md-no-ink="true" ng-model="$ctrl.useDrive"> </md-switch> <div layout="column"> <span>{{ $ctrl.text.signinDrive }}</span> <span ng-show="$ctrl.useDrive"><i>Highly recommended</i></span> </div> </md-list-item> </md-list> <span class="warn" ng-show="$ctrl.error">{{ $ctrl.error }}</span> </div> </md-card-content> <md-card-actions flex layout="column" layout-align="center center"> <md-button class="website-button md-raised" ng-click="$ctrl.signIn()"> <div layout="row" layout-align="start"> <div class="image-background" flex layout="column" layout-align="center center"> <img src="/images/setup-page/google.png"> </div> <span>{{ $ctrl.text.signinButton }}</span> </div> </md-button> </md-card-actions>'),t.put("components/castifyExt/ui/setup/survey.html",'<md-card-content id="permissions" flex layout="column" layout-align="center center"> <img class="title-image hand-wave" src="/images/setup-page/handwave.png"> <h2>{{ $ctrl.text.surveyTitle }}</h2> <div class="card-content-text"> <p ng-show="!$ctrl.answers">Looks like you\'re all done.</p> <p ng-show="$ctrl.answers">{{ $ctrl.text.surveyParagraph }}</p> <span class="warn" ng-show="$ctrl.error">{{ $ctrl.error }}</span> </div> </md-card-content> <md-card-actions class="answers" flex layout="column" layout-align="center center"> <p> <b>{{ $ctrl.question.text }}</b> </p> <div flex layout="row" layout-align="center center" class="answer-group" layout-wrap> <md-button class="md-raised gray-hover" ng-repeat="(index, answer) in $ctrl.answers" ng-click="$ctrl.respond($ctrl.question.key, index, $event)"> {{ answer.text }} </md-button> </div> </md-card-actions>'),t.put("components/castifyExt/ui/share/share-dialog.html",'<md-dialog class="cf-upload-dialog cf-dynamic" cf-loading-overlay="loading" flex="66"> <md-dialog-content class="md-dialog-content"> <h2 class="md-title">Share Recording</h2> <alert type="danger" close="saveError=false" ng-if="saveError"> We failed to update your privacy setting. <span ng-if="me.domain">Your domain administrator might have disabled some sharing options.</span> </alert> <div layout="row" layout-align="start center"> <div class="option-label">Share on:</div> <md-radio-group ng-model="options.target" layout="row" class="target-radios"> <md-radio-button value="drive" aria-label="Google Drive"> <md-icon class="png-icon drive"></md-icon> Google Drive </md-radio-button> <md-radio-button value="youtube" aria-label="Youtube"> <md-icon class="png-icon youtube"></md-icon> Youtube </md-radio-button> <md-radio-button value="connect" aria-label="third-party App" ng-show="options.connectApp"> {{ options.connectApp.title }} </md-radio-button> </md-radio-group> <cf-connect-app-chooser ng-model="options.connectApp" on-selected="options.target = \'connect\'"> <md-button class="md-icon-button"> <md-icon>more_vert</md-icon> <md-tooltip>third-party App</md-tooltip> </md-button> </cf-connect-app-chooser> </div> <div class="option-row" ng-show="options.target === \'youtube\'"> <div class="option-label">Channel:</div> <cf-youtube-channel-chooser ng-required ng-model="options.youtubeChannelId"> </cf-youtube-channel-chooser> </div> <div class="option-row share-link" ng-show="options.target !== \'connect\'"> <div layout="row" class="share-link-label-row" layout-align="start center"> <div class="option-label">Shareable Link:</div> <md-button ng-click="enableLinkSharing()" ng-hide="fileStatus.shareLink" ng-disabled="fileStatus.uploading || !isValid()"> <md-icon>link</md-icon> Get Link </md-button> </div> <div layout="row" layout-align="center center" ng-show="fileStatus.shareLink"> <md-input-container flex> <input ng-model="fileStatus.shareLink" readonly="readonly" wb-autoselect aria-label="shareable Link"> </md-input-container> <md-button ng-click="copyLink()">Copy Link</md-button> <cf-classroom-share url="fileStatus.shareLink" title="file.title"></cf-classroom-share> </div> </div> <cf-privacy-picker domain="me.domain" enable-domain="options.target===\'drive\'" cf-loading-overlay="savingPrivacy" cf-change="savePrivacy(value)" cf-disabled="fileStatus.uploading || !isValid()" ng-show="options.target !== \'connect\'" value="options.privacy"></cf-privacy-picker> <div ng-show="fileStatus.uploading" class="upload-hint"> Upload is in progress. Please wait for the upload to complete. <md-progress-linear md-mode="determinate" ng-value="fileStatus.uploadState.progress * 100"></md-progress-linear> </div> <div ng-show="options.target === \'youtube\'" class="youtube-terms"> By publishing to YouTube, you agree to their <a href="https://www.youtube.com/t/terms" target="_blank">Terms of Service</a>. </div> </md-dialog-content> <md-dialog-actions> <md-button ng-click="$mdDialog.cancel()">Close </md-button> <md-button class="md-primary" ng-hide="fileStatus.uploaded || fileStatus.uploading" tabindex="0" ng-disabled="!isValid()" ng-click="upload()"> <span ng-show="options.target != \'connect\'">Upload</span> <span ng-show="options.target == \'connect\'">Share</span> </md-button> </md-dialog-actions> </md-dialog>'),t.put("components/castifyExt/ui/support/support-category.html",'<div cf-loading-overlay="loading"> <div class="support-card"> <md-button class="md-icon-button back-button" ng-click="back()" ng-show="canGoBack()"> <md-icon>arrow_back</md-icon> </md-button> <md-button class="support-item md-no-style md-ink-ripple" ng-click="select(item)" ng-repeat="item in items"> <div class="button-inner"> <md-icon ng-if="item.icon">{{ item.icon }}</md-icon> <h3>{{ item.title }}</h3> <div>{{ item.text }}</div> </div> </md-button> </div> <div class="support-card button-item" ng-show="buttonItem"> <h2>{{ buttonItem.title }}</h2> <md-button class="md-primary" ng-click="select(buttonItem)"> <md-icon ng-if="buttonItem.icon">{{ buttonItem.icon }}</md-icon> {{ buttonItem.text }}</md-button> </div> </div>'),t.put("components/castifyExt/ui/support/support-message.html",'<div cf-loading-overlay="loading"> <div class="support-card"> <md-button class="md-icon-button back-button" ng-click="back()" ng-show="category"> <md-icon>arrow_back</md-icon> </md-button> <form name="report" role="form" data-ng-submit="submit()" ng-hide="submitted || instantAnswer"> <p ng-if="introText">{{ introText }}</p> <md-input-container class="message"> <label>{{ messageLabel }}</label> <textarea data-ng-model="message" rows="5" required> </textarea> </md-input-container> <md-input-container class="email"> <label for="email" class="control-label"> Email </label> <input required type="email" name="email" id="email" data-ng-model="email"> </md-input-container> <md-checkbox ng-model="attachLogs"> Attach logs (helps us find the problem much more quickly) </md-checkbox> <md-button id="support-submit" type="submit" class="submit md-primary md-raised" ng-disabled="!report.$valid"> Send </md-button> </form> <div ng-if="instantAnswer"> <h2 class="md-headline"> Wait, we might already have a solution for that! </h2> <cf-support-category item="instantAnswer" cf-category-selected="confirm()"></cf-support-category> </div> <div ng-show="submitted" class="submitted"> <h2 class="md-display-1">Thank you!</h2> We received your message. We\'ll get back to you as soon as we can. </div> </div> </div>'),t.put("components/castifyExt/ui/support/support.html",'<div class="support"> <cf-topnav> <h1>Support</h1> </cf-topnav> <div class="support-container"> <cf-support-category ng-show="!category" cf-category-selected="category = key" item="rootItem"></cf-support-category> <cf-support-message ng-if="category" category="category" cf-back="reset()"></cf-support-message> </div> <a href="app.html#/about" class="about-link">About Screencastify</a> </div>'),t.put("components/castifyExt/ui/survey-flow/iconUpdated.html",'<div class="cf-padding"> <h1 class="md-title">Say hello to the new Screencastify!</h1> <p> We\'ve updated our extension with a brand new design and icon. From now on, click the <img style="vertical-align:text-top; margin-right: 2px" src="images/icon38.png" width="19" height="19"> to launch Screencastify. </p> </div> <div layout="row"> <md-button flex ng-click="$ctrl.flowCtrl.cancel()">Ok</md-button> </div>'),t.put("components/castifyExt/ui/survey-flow/survey-flow.html",'<cf-recorder-loading ng-if="!$ctrl.step"></cf-recorder-loading> <div ng-if="$ctrl.step === \'offline\'" class="survey-offline"> We\'re having trouble loading your account info. Please check your internet connection and try again. </div> <ui-view ng-if="$ctrl.step !== \'offline\'"></ui-view>'),t.put("components/castifyExt/ui/sync-info/sync-info.html",'<div class="sync-info" ng-switch="state.type"> <div ng-switch-when="synced" ng-show="state.numTotalFiles"> <md-icon>cloud</md-icon> <ng-pluralize count="state.numTotalFiles" when="{\'one\': \'Your recording is\', \'other\': \'All {} recordings are\'}"> </ng-pluralize> stored on Google Drive. </div> <div ng-switch-when="uploading"> <cf-sync-progress-icon value="state.progress"></cf-sync-progress-icon> <ng-pluralize count="state.numTotalFiles - state.numCompleteFiles" when="{\'0\': \'One recording is\',\n                \'one\': \'One recording is\',\n                \'other\': \'{} recordings are\'}"> </ng-pluralize> being uploaded to Google Drive. </div> <div ng-switch-when="waiting"> <md-icon>cloud_queue</md-icon> <ng-pluralize count="state.numTotalFiles" when="{\'one\': \'One recording is\',\n                \'other\': \'{} recordings are\'}"> </ng-pluralize> waiting to get saved on Google Drive. </div> <div ng-switch-when="offline"> <md-icon>cloud_off</md-icon> You are offline. <ng-pluralize count="state.numTotalFiles" when="{\'0\': \'Some recordings are\', \'one\': \'One recording is\',\n                \'other\': \'{} recordings are\'}"> </ng-pluralize> not saved on Google Drive yet. </div> <div ng-switch-when="error"> <md-icon>cloud_off</md-icon> We failed to save some recordings to Google Drive. <a ng-click="retry()">Retry</a> <div> <span class="md-body-2" ng-switch="state.errorReason"> <span ng-switch-when="forbidden"> Google Drive Apps seem to be disabled for your domain. </span> <span ng-switch-when="quotaExceeded"> You\'ve out of storage space on Google Drive. </span> </span> <a cf-search-help="{{ state.errorReason }}">Help</a> </div> </div> <div ng-switch-when="disabled"> <md-icon>cloud_off</md-icon> Synchronization with Google Drive is disabled. Your recordings are stored locally on this computer. </div> </div>'),t.put("components/castifyExt/ui/sync-progress-icon/sync-progress-icon.html",'<div class="sync-progress-icon"> <md-icon>cloud_queue</md-icon> <div ng-if="progress" class="progress-icon" ng-style="{width: progress * 100 + \'%\'}"> <md-icon>cloud</md-icon> </div> </div>'),t.put("components/castifyExt/ui/topnav/topnav.html",'<md-toolbar class="topnav"> <div class="md-toolbar-tools"> <cf2-sidenav-trigger></cf2-sidenav-trigger> <ng-transclude></ng-transclude> </div> </md-toolbar>'),t.put("components/castifyExt/ui/upload-info/upload-info.html",'<h2>Uploads in Progress</h2> <cf-file-sync-info file="file" ng-show="syncInfo" sync-info="syncInfo"></cf-file-sync-info> <div ng-repeat="upload in uploads" class="upload-item"> <md-icon class="png-icon" ng-class="upload.target"></md-icon> <span class="upload-target">{{ getHumanTargetName(upload.target) }}</span> <div data-ng-switch data-on="upload.state" class="switch"> <span ng-switch-when="queued"> waiting... </span> <span ng-switch-when="uploading"> <md-progress-linear md-mode="determinate" ng-value="upload.progress * 100"></md-progress-linear> </span> <span ng-switch-when="error"> Upload failed: {{ upload.error.reason }} <a cf-search-help="{{ upload.target }}_{{ upload.error.reason }}">Help</a> </span> </div> </div>'),t.put("components/castifyExt/ui/video-player/video-player.html",'<video controls disable-contextmenu cf-video-load="file"></video> <div class="loading-indicator" ng-show="loading"></div>'),t.put("components/castifyExt/ui/youtube-channel-chooser/youtube-channel-chooser.html",'<md-menu cf-loading-overlay="loading" class="item-chooser-menu"> <md-button ng-click="openOrAdd($event, $mdOpenMenu)"> <div class="item-icon" ng-if="selected.thumbnailUrl" wb-bg-img="selected.thumbnailUrl"></div> {{ selected.title }} </md-button> <md-menu-content class="item-chooser-menu-content"> <md-list-item ng-repeat="item in channels" ng-click="select(item)"> <div class="item-icon" wb-bg-img="item.thumbnailUrl"></div> <p> {{ item.title }} </p> <md-icon ng-click="remove(item, $event)" class="md-secondary" aria-label="Remove Channel"> remove_circle_outline </md-icon> </md-list-item> <md-divider></md-divider> <md-list-item ng-click="addChannel()"> <md-icon>add</md-icon> <p> Add Channel </p> </md-list-item> </md-menu-content> </md-menu>')}])},"/N+C":function(t,e,n){"use strict";var r=n("81+z");function i(t,e,n){return 0===n?[e]:(t.push(e),t)}e.toArray=function(){return r.reduce(i,[])}},"/TC6":function(t,e,n){"use strict";var r=n("d0I2");e.pluck=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(e){return r.map(function(t,e){return function(n){for(var r=n,i=0;i<e;i++){var o=r[t[i]];if(void 0===o)return;r=o}return r}}(t,n))(e)}}},"/UiO":function(t,e,n){"use strict";var r=n("qiMw"),i=n("6Br6"),o=n("k/06");e.scheduleObservable=function(t,e){return new r.Observable((function(n){var r=new i.Subscription;return r.add(e.schedule((function(){var i=t[o.observable]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}},"/b8I":function(t,e){angular.module("castifyExt.driveUtils",["w69b.googledrive","castifyExt.castifyAuth","w69b.es6","w69b.spawn","cf2.chromeStorageService"]).factory("driveUtils",["googledrive","$q","spawn","$log","cf2ChromeStorageService","$rootScope","$timeout",function(t,e,n,r,i,o,a){var s,c,u={};function l(t){if(t&&t.data){var e,n=t.data;if(n.error&&n.error.errors&&n.error.errors.length&&(e=n.error.errors[0]),e)return e.reason}else if(t&&t.message)return t.message;return null}function d(t,e){var n=t.filter((function(t){return t.type===e}));return n.length?n[0]:null}function f(t){return d(t,"anyone")}function h(t){return d(t,"domain")}function p(t){var e=f(t),n=h(t);return e?e.withLink?"unlisted":"public":n?n.withLink?"domain_unlisted":"domain_public":"private"}return u.getDriveUploadParentId=function(o){return s&&!o||(s=n((function*(){var n=yield i.sync.getSingle("DRIVE_FOLDER_ID");if(n&&(yield function(n){return t.getFile(n).then((function(t){return!t.labels.trashed}),(function(t){return 404!==t.status&&(r.warn("driveUtils: checkIfExists failed",t),e.reject(t))}))}(n)))return r.debug("driveUtil: using cached parent Id",n),n;var o=yield t.listFiles({q:"mimeType = 'application/vnd.google-apps.folder' and trashed = false and properties has { key='isScreencastifyUploadFolder' and value='true' and visibility='PRIVATE' }",maxResults:1}).then((function(t){return r.debug("driveUtils: findFolder items #",t.length),t.length?t[0]:null}));o||(o=yield(r.debug("driveUtils: creating Drive folder"),t.postFile({title:"Screencastify",mimeType:"application/vnd.google-apps.folder",description:"Screencastify uses this folder to store Screencasts that you upload. You may rename or move it, it will upload to this folder.",properties:[{key:"isScreencastifyUploadFolder",value:!0,visibility:"PRIVATE"}]})));var a=o.id;return yield i.sync.setSingle("DRIVE_FOLDER_ID",a),a}))).catch((function(t){u.isRateLimitError(t)?(c&&a.cancel(c),c=a((function(){s=null,c=null}),1e4)):s=null})),s},u.getSimplePrivacy=function(e){return t.listPermissions(e).then(p)},u.getLink=function(t){return`https://drive.google.com/file/d/${t}/view`},u.getEmbedLink=function(t){return`https://drive.google.com/file/d/${t}/preview`},u.setSimplePrivacy=function(r,i,o){var a=i.startsWith("domain_");if(a&&!o)throw new Error;return n((function*(){var n=yield t.listPermissions(r),s=f(n),c=h(n);if(p(n)===i)return e.when(null);if("private"!==i){s&&(yield t.removePermission(r,s.id)),c&&(yield t.removePermission(r,c.id));var u={role:"reader",type:a?"domain":"anyone",withLink:"unlisted"===i||"domain_unlisted"===i};return a&&(u.value=o),t.insertPermission(r,u)}s&&(yield t.removePermission(r,s.id)),c&&(yield t.removePermission(r,c.id))}))},u.isGoogleAppsForbiddenError=function(t){return t&&403==t.status&&"domainPolicy"===l(t)},u.isRateLimitError=function(t){return t&&403==t.status&&"rateLimitExceeded"===l(t)},u.findCommentPermissions=function(t){return t?t.filter(t=>"reader"===t.role&&t.additionalRoles&&t.additionalRoles.includes("commenter")):[]},u.findReadOnlyPermissions=function(t){return t?t.filter(t=>!("reader"!==t.role||t.additionalRoles&&t.additionalRoles.includes("commenter"))):[]},o.$on("event:signInChanged",(function(){s=null,i.sync.remove("DRIVE_FOLDER_ID")})),u}])},"/gtf":function(t,e,n){"use strict";var r=n("NiQx"),i=n("RKpm");e.switchAll=function(){return r.switchMap(i.identity)}},"/jws":function(t,e,n){var r=n("yz8b"),i=n("skk5")("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},"/p0z":function(t,e,n){var r;t.exports=(r=n("Ni7E"),n("heQk"),r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)},"/qed":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return Object.defineProperty(t,"isBrowser",{get:function(){return t.simulateBrowser||!("undefined"==typeof window||!window.document)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isNode",{get:function(){return t.simulateBrowser||!t.isBrowser},enumerable:!0,configurable:!0}),t.simulateBrowser=!1,t}();e.Helpers=r},"/rAD":function(t,e,n){var r=n("M3eJ"),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},0:function(t,e,n){t.exports=n("zUnb")},"05uf":function(t,e){angular.module("castifyExt.ui.privacyPicker",[]).directive("cfPrivacyPicker",(function(){var t=[{value:"public",icon:"public",title:"Public",desc:"Anyone can find and view the video."},{value:"unlisted",icon:"link",title:"Unlisted",desc:"People who have the link to the video can view it."},{domainOnly:!0,value:"domain_public",icon:"business",title:"Public at {domain}",desc:"Anyone at {domain} can find and view the video."},{domainOnly:!0,value:"domain_unlisted",icon:"link",title:"Unlisted at {domain}",desc:"People at {domain} who have the link to the video can view it."},{value:"private",icon:"account_box",title:"Private",desc:"Only you can view the video."}];return{restrict:"E",templateUrl:"components/castifyExt/ui/privacy-picker/privacy-picker.html",scope:{value:"=",domain:"=",enableDomain:"=?",cfChange:"&",cfDisabled:"="},link:function(e){function n(){e.selectedItem=e.items?e.items.find(t=>t.value===e.value):null}e.expanded=!1,e.$watchGroup(["domain","enableDomain"],(function(){var r;e.items=(r=e.enableDomain&&e.domain,t.filter((function(t){return!t.domainOnly||r})).map((function(t){return angular.extend({},t,{title:t.title.replace("{domain}",r),desc:t.desc.replace("{domain}",r)})}))),n()})),e.onChange=function(t){e.cfChange({value:t})},e.$watch("value",n)}}}))},"0Hfl":function(t,e,n){var r;t.exports=(r=n("Ni7E"),function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=t[e+0],c=t[e+1],h=t[e+2],p=t[e+3],m=t[e+4],g=t[e+5],v=t[e+6],y=t[e+7],b=t[e+8],_=t[e+9],w=t[e+10],S=t[e+11],E=t[e+12],x=t[e+13],C=t[e+14],k=t[e+15],T=o[0],P=o[1],I=o[2],A=o[3];T=u(T,P,I,A,a,7,s[0]),A=u(A,T,P,I,c,12,s[1]),I=u(I,A,T,P,h,17,s[2]),P=u(P,I,A,T,p,22,s[3]),T=u(T,P,I,A,m,7,s[4]),A=u(A,T,P,I,g,12,s[5]),I=u(I,A,T,P,v,17,s[6]),P=u(P,I,A,T,y,22,s[7]),T=u(T,P,I,A,b,7,s[8]),A=u(A,T,P,I,_,12,s[9]),I=u(I,A,T,P,w,17,s[10]),P=u(P,I,A,T,S,22,s[11]),T=u(T,P,I,A,E,7,s[12]),A=u(A,T,P,I,x,12,s[13]),I=u(I,A,T,P,C,17,s[14]),T=l(T,P=u(P,I,A,T,k,22,s[15]),I,A,c,5,s[16]),A=l(A,T,P,I,v,9,s[17]),I=l(I,A,T,P,S,14,s[18]),P=l(P,I,A,T,a,20,s[19]),T=l(T,P,I,A,g,5,s[20]),A=l(A,T,P,I,w,9,s[21]),I=l(I,A,T,P,k,14,s[22]),P=l(P,I,A,T,m,20,s[23]),T=l(T,P,I,A,_,5,s[24]),A=l(A,T,P,I,C,9,s[25]),I=l(I,A,T,P,p,14,s[26]),P=l(P,I,A,T,b,20,s[27]),T=l(T,P,I,A,x,5,s[28]),A=l(A,T,P,I,h,9,s[29]),I=l(I,A,T,P,y,14,s[30]),T=d(T,P=l(P,I,A,T,E,20,s[31]),I,A,g,4,s[32]),A=d(A,T,P,I,b,11,s[33]),I=d(I,A,T,P,S,16,s[34]),P=d(P,I,A,T,C,23,s[35]),T=d(T,P,I,A,c,4,s[36]),A=d(A,T,P,I,m,11,s[37]),I=d(I,A,T,P,y,16,s[38]),P=d(P,I,A,T,w,23,s[39]),T=d(T,P,I,A,x,4,s[40]),A=d(A,T,P,I,a,11,s[41]),I=d(I,A,T,P,p,16,s[42]),P=d(P,I,A,T,v,23,s[43]),T=d(T,P,I,A,_,4,s[44]),A=d(A,T,P,I,E,11,s[45]),I=d(I,A,T,P,k,16,s[46]),T=f(T,P=d(P,I,A,T,h,23,s[47]),I,A,a,6,s[48]),A=f(A,T,P,I,y,10,s[49]),I=f(I,A,T,P,C,15,s[50]),P=f(P,I,A,T,g,21,s[51]),T=f(T,P,I,A,E,6,s[52]),A=f(A,T,P,I,p,10,s[53]),I=f(I,A,T,P,w,15,s[54]),P=f(P,I,A,T,c,21,s[55]),T=f(T,P,I,A,b,6,s[56]),A=f(A,T,P,I,k,10,s[57]),I=f(I,A,T,P,v,15,s[58]),P=f(P,I,A,T,x,21,s[59]),T=f(T,P,I,A,m,6,s[60]),A=f(A,T,P,I,S,10,s[61]),I=f(I,A,T,P,h,15,s[62]),P=f(P,I,A,T,_,21,s[63]),o[0]=o[0]+T|0,o[1]=o[1]+P|0,o[2]=o[2]+I|0,o[3]=o[3]+A|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var o=t.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function u(t,e,n,r,i,o,a){var s=t+(e&n|~e&r)+i+a;return(s<<o|s>>>32-o)+e}function l(t,e,n,r,i,o,a){var s=t+(e&r|n&~r)+i+a;return(s<<o|s>>>32-o)+e}function d(t,e,n,r,i,o,a){var s=t+(e^n^r)+i+a;return(s<<o|s>>>32-o)+e}function f(t,e,n,r,i,o,a){var s=t+(n^(e|~r))+i+a;return(s<<o|s>>>32-o)+e}e.MD5=o._createHelper(c),e.HmacMD5=o._createHmacHelper(c)}(Math),r.MD5)},"0fXQ":function(t,e,n){"use strict";var r=n("D+qx");e.asap=new(n("Hqsp").AsapScheduler)(r.AsapAction)},"0paZ":function(t,e){t.exports={}},"0t6v":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV"),o=n("l95E");e.sampleTime=function(t,e){return void 0===e&&(e=o.async),function(n){return n.lift(new a(t,e))}};var a=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.period,this.scheduler))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.period=n,i.scheduler=r,i.hasValue=!1,i.add(r.schedule(c,n,{subscriber:i,period:n})),i}return r(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(i.Subscriber);function c(t){var e=t.period;t.subscriber.notifyNext(),this.schedule(t,e)}},"0tI7":function(t,e,n){"use strict";function r(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}var i=setTimeout;function o(){}function a(t){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function s(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,a._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void u(e.promise,i)}c(e.promise,r)}else(1===t._state?c:u)(e.promise,t._value)}))):t._deferreds.push(e)}function c(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof a)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void f((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(o){u(t,o)}var r,i}function u(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&a._immediateFn((function(){t._handled||a._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)s(t,t._deferreds[e]);t._deferreds=null}function d(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t((function(t){n||(n=!0,c(e,t))}),(function(t){n||(n=!0,u(e,t))}))}catch(r){if(n)return;n=!0,u(e,r)}}a.prototype.catch=function(t){return this.then(null,t)},a.prototype.then=function(t,e){var n=new this.constructor(o);return s(this,new d(t,e,n)),n},a.prototype.finally=r,a.all=function(t){return new a((function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){o(t,e)}),n)}r[t]=a,0==--i&&e(r)}catch(c){n(c)}}for(var a=0;a<r.length;a++)o(a,r[a])}))},a.resolve=function(t){return t&&"object"==typeof t&&t.constructor===a?t:new a((function(e){e(t)}))},a.reject=function(t){return new a((function(e,n){n(t)}))},a.race=function(t){return new a((function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)}))},a._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){i(t,0)},a._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var h=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"Promise"in h?h.Promise.prototype.finally||(h.Promise.prototype.finally=r):h.Promise=a},"1DPV":function(t,e,n){"use strict";e.EmptyError=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}()},"1Ri2":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("dmvN"),o=n("kZSD");e.defaultThrottleConfig={leading:!0,trailing:!1},e.throttle=function(t,n){return void 0===n&&(n=e.defaultThrottleConfig),function(e){return e.lift(new a(t,n.leading,n.trailing))}};var a=function(){function t(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.durationSelector,this.leading,this.trailing))},t}(),s=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.destination=e,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}return r(e,t),e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this._sendValue;this._hasValue&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=null},e.prototype.throttle=function(t){var e=this.tryDurationSelector(t);e&&this.add(this._throttled=o.subscribeToResult(this,e))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(e){return this.destination.error(e),null}},e.prototype.throttlingDone=function(){var t=this._throttled,e=this._trailing;t&&t.unsubscribe(),this._throttled=null,e&&this.send()},e.prototype.notifyNext=function(t,e,n,r,i){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(i.OuterSubscriber)},"1hPV":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("v2vP"),o=n("uzuk"),a=n("6Br6"),s=n("7oWP"),c=n("QuXn"),u=n("tpAt"),l=function(t){function e(n,r,i){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=o.empty;break;case 1:if(!n){a.destination=o.empty;break}if("object"==typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new d(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new d(a,n,r,i)}return a}return r(e,t),e.prototype[s.rxSubscriber]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(a.Subscription);e.Subscriber=l;var d=function(t){function e(e,n,r,a){var s,c=t.call(this)||this;c._parentSubscriber=e;var u=c;return i.isFunction(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==o.empty&&(u=Object.create(n),i.isFunction(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=s,c._error=r,c._complete=a,c}return r(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=c.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):u.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;u.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};c.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),c.config.useDeprecatedSynchronousErrorHandling)throw n;u.hostReportError(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!c.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return c.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(u.hostReportError(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l);e.SafeSubscriber=d},"26VM":function(t,e,n){"use strict";function r(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}}function i(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function o(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function a(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function s(t){return"[object String]"===Object.prototype.toString.call(t)}function c(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function u(t){return"[object Object]"===Object.prototype.toString.call(t)}function l(t){return"undefined"!=typeof Event&&t instanceof Event}function d(t){return"undefined"!=typeof Element&&t instanceof Element}function f(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function h(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function p(t){return u(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"j",(function(){return s})),n.d(e,"h",(function(){return c})),n.d(e,"g",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"c",(function(){return d})),n.d(e,"i",(function(){return f})),n.d(e,"l",(function(){return h})),n.d(e,"k",(function(){return p}))},"27Ka":function(t,e,n){var r=n("6JHO");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"2IC7":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"2YBZ":function(t,e,n){n("EKNu"),t.exports=n("WIDk")("Array","find")},"36S1":function(t,e,n){"use strict";var r=n("zD4e");e.combineAll=function(t){return function(e){return e.lift(new r.CombineLatestOperator(t))}}},"38Z7":function(t,e,n){var r;t.exports=(r=n("Ni7E"),n("i3c9"),n("0Hfl"),n("Cf/K"),n("heQk"),function(){var t=r,e=t.lib.StreamCipher,n=[],i=[],o=[],a=t.algo.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],r=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var i=0;i<4;i++)s.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(e){var o=e.words,a=o[0],c=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),d=u>>>16|4294901760&l,f=l<<16|65535&u;for(r[0]^=u,r[1]^=d,r[2]^=l,r[3]^=f,r[4]^=u,r[5]^=d,r[6]^=l,r[7]^=f,i=0;i<4;i++)s.call(this)}},_doProcessBlock:function(t,e){var r=this._X;s.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)n[i]=16711935&(n[i]<<8|n[i]>>>24)|4278255360&(n[i]<<24|n[i]>>>8),t[e+i]^=n[i]},blockSize:4,ivSize:2});function s(){for(var t=this._X,e=this._C,n=0;n<8;n++)i[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=t[n]+e[n],a=65535&r,s=r>>>16;o[n]=((a*a>>>17)+a*s>>>15)+s*s^((4294901760&r)*r|0)+((65535&r)*r|0)}t[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,t[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,t[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,t[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,t[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,t[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,t[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,t[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.RabbitLegacy=e._createHelper(a)}(),r.RabbitLegacy)},"3WqD":function(t,e,n){var r=n("M3eJ"),i=n("LzYd");t.exports=function(t,e,n){var o,a,s=String(i(t)),c=r(e),u=s.length;return c<0||c>=u?n?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?n?s.charAt(c):o:n?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}},"3qBM":function(t,e,n){var r=n("DbaZ"),i=n("M5Hp").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},"3s0V":function(t,e,n){var r,i,o,a,s,c,u,l;t.exports=(l=n("Ni7E"),n("77dk"),n("ZxLh"),a=(i=(r=l).lib).WordArray,c=(s=r.algo).HMAC,u=s.PBKDF2=(o=i.Base).extend({cfg:o.extend({keySize:4,hasher:s.SHA1,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,r=c.create(n.hasher,t),i=a.create(),o=a.create([1]),s=i.words,u=o.words,l=n.keySize,d=n.iterations;s.length<l;){var f=r.update(e).finalize(o);r.reset();for(var h=f.words,p=h.length,m=f,g=1;g<d;g++){m=r.finalize(m),r.reset();for(var v=m.words,y=0;y<p;y++)h[y]^=v[y]}i.concat(f),u[0]++}return i.sigBytes=4*l,i}}),r.PBKDF2=function(t,e,n){return u.create(n).compute(t,e)},l.PBKDF2)},"3tCo":function(t,e,n){n("dRAY")("iterator")},"41i0":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("R4cV"),o=n("D9en"),a=n("dmvN"),s=n("d4zx"),c=n("kZSD");e.onErrorResumeNext=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length&&o.isArray(t[0])&&(t=t[0]),function(e){return e.lift(new u(t))}},e.onErrorResumeNextStatic=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n;return 1===t.length&&o.isArray(t[0])&&(t=t[0]),n=t.shift(),i.from(n,null).lift(new u(t))};var u=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.nextSources))},t}(),l=function(t){function e(e,n){var r=t.call(this,e)||this;return r.destination=e,r.nextSources=n,r}return r(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var e=new s.InnerSubscriber(this,void 0,void 0);this.destination.add(e),c.subscribeToResult(this,t,void 0,void 0,e)}else this.destination.complete()},e}(a.OuterSubscriber)},"44C7":function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"44cV":function(t,e){angular.module("castifyExt.youtubeUtils",["castifyExt.castifyAuth"]).factory("youtubeUtils",["$http","$q",function(t,e){var n="https://www.googleapis.com/youtube/v3/videos",r={};function i(t){var n=t.data.items;return n.length?n[0]:e.reject("not found on youtube")}return r.getPrivacy=function(r,o){return function(e,r){return t.get(n,angular.extend({params:{id:e,part:"status,snippet"}},{youtubeAuth:r})).then(i)}(r,o).then((function(t){return o!==t.snippet.channelId?e.reject():t.status.privacyStatus}))},r.getLink=function(t){return"https://youtu.be/"+t},r.setPrivacy=function(e,r,i){return function(e,r,i){return i=angular.extend({id:e},i),t.put(n,i,angular.extend({params:{part:"status"}},{youtubeAuth:r})).then((function(t){return t.data}))}(e,i,{status:{privacyStatus:r}})},r}])},"44fY":function(t,e,n){t.exports=n("k9QN")},"4a5f":function(t,e,n){var r;t.exports=(r=n("Ni7E"),n("i3c9"),n("0Hfl"),n("Cf/K"),n("heQk"),function(){var t=r,e=t.lib.BlockCipher,n=t.algo,i=[],o=[],a=[],s=[],c=[],u=[],l=[],d=[],f=[],h=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var n=0,r=0;for(e=0;e<256;e++){var p=r^r<<1^r<<2^r<<3^r<<4;i[n]=p=p>>>8^255&p^99,o[p]=n;var m,g=t[n],v=t[g],y=t[v];a[n]=(m=257*t[p]^16843008*p)<<24|m>>>8,s[n]=m<<16|m>>>16,c[n]=m<<8|m>>>24,u[n]=m,l[p]=(m=16843009*y^65537*v^257*g^16843008*n)<<24|m>>>8,d[p]=m<<16|m>>>16,f[p]=m<<8|m>>>24,h[p]=m,n?(n=g^t[t[t[y^g]]],r^=t[t[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],a=0;a<r;a++)if(a<n)o[a]=e[a];else{var s=o[a-1];a%n?n>6&&a%n==4&&(s=i[s>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s]):(s=i[(s=s<<8|s>>>24)>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s],s^=p[a/n|0]<<24),o[a]=o[a-n]^s}for(var c=this._invKeySchedule=[],u=0;u<r;u++)a=r-u,s=u%4?o[a]:o[a-4],c[u]=u<4||a<=4?s:l[i[s>>>24]]^d[i[s>>>16&255]]^f[i[s>>>8&255]]^h[i[255&s]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,c,u,i)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,l,d,f,h,o),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,i,o,a,s){for(var c=this._nRounds,u=t[e]^n[0],l=t[e+1]^n[1],d=t[e+2]^n[2],f=t[e+3]^n[3],h=4,p=1;p<c;p++){var m=r[u>>>24]^i[l>>>16&255]^o[d>>>8&255]^a[255&f]^n[h++],g=r[l>>>24]^i[d>>>16&255]^o[f>>>8&255]^a[255&u]^n[h++],v=r[d>>>24]^i[f>>>16&255]^o[u>>>8&255]^a[255&l]^n[h++],y=r[f>>>24]^i[u>>>16&255]^o[l>>>8&255]^a[255&d]^n[h++];u=m,l=g,d=v,f=y}m=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[d>>>8&255]<<8|s[255&f])^n[h++],g=(s[l>>>24]<<24|s[d>>>16&255]<<16|s[f>>>8&255]<<8|s[255&u])^n[h++],v=(s[d>>>24]<<24|s[f>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[h++],y=(s[f>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&d])^n[h++],t[e]=m,t[e+1]=g,t[e+2]=v,t[e+3]=y},keySize:8});t.AES=e._createHelper(m)}(),r.AES)},"4lTB":function(t,e){angular.module("castifyExt.ui.blackfriday",["ngMaterial","w69b.spawn","cf2.userAccount"]).component("cfBlackfriday",{controller:["$scope","userAccount","$mdToast","spawn","$log",function(t,e,n,r,i){const o=new Date("2017-11-20"),a=new Date("2017-11-28");this.$onInit=r.wrap((function*(){t.$on("$locationChangeStart",()=>n.hide(null));let r=Date.now();if(r>o&&r<a){let t=(yield e.getAccount()).user;t&&t.survey&&"student"!==t.survey.user_type&&(i.debug("showing black friday notification"),function(){let t=n.simple().textContent("Black Friday Sale! Buy one subscription, gift one free!").action("Learn More").highlightAction(!0).hideDelay(1e4);n.show(t).then((function(t){"ok"===t&&window.open("https://www.screencastify.com/black-friday/")}))}())}}))}]})},"4mxr":function(t,e,n){"use strict";var r=n("/UiO"),i=n("i84P"),o=n("uHtI"),a=n("i6J5"),s=n("+UUc"),c=n("xKJD"),u=n("VTS6"),l=n("vfqg");e.scheduled=function(t,e){if(null!=t){if(s.isInteropObservable(t))return r.scheduleObservable(t,e);if(c.isPromise(t))return i.schedulePromise(t,e);if(u.isArrayLike(t))return o.scheduleArray(t,e);if(l.isIterable(t)||"string"==typeof t)return a.scheduleIterable(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},"4q26":function(t,e,n){var r,i,o,a=n("vBcS"),s=n("DbaZ"),c=n("NaO6"),u=n("2IC7"),l=n("ywLU"),d=n("ZREF"),f=n("M5Hp").WeakMap;if(a){var h=new f,p=h.get,m=h.has,g=h.set;r=function(t,e){return g.call(h,t,e),e},i=function(t){return p.call(h,t)||{}},o=function(t){return m.call(h,t)}}else{var v=l("state");d[v]=!0,r=function(t,e){return c(t,v,e),e},i=function(t){return u(t,v)?t[v]:{}},o=function(t){return u(t,v)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!s(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},"4slr":function(t,e){angular.module("castifyExt.ui.uploadInfo",["cf2.uploader"]).directive("cfUploadInfo",(function(){return{restrict:"E",templateUrl:"components/castifyExt/ui/upload-info/upload-info.html",scope:{file:"=",uploads:"=",syncInfo:"="},controller:"UploadInfoCtrl"}})).controller("UploadInfoCtrl",["$scope","cf2UploaderService",function(t,e){t.getHumanTargetName=function(t){return{drive:"Google Drive",youtube:"YouTube"}[t]}}])},"4wUv":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("dmvN"),o=n("kZSD");e.sample=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new s(t),r=e.subscribe(n);return r.add(o.subscribeToResult(n,this.notifier)),r},t}(),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return r(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,n,r,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(i.OuterSubscriber)},"5/AZ":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV");e.ignoreElements=function(){return function(t){return t.lift(new o)}};var o=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._next=function(t){},e}(i.Subscriber)},"5/ji":function(t,e,n){n("7js5")(Math,"Math",!0)},"5Bzj":function(t,e,n){"use strict";var r=n("D9en"),i=n("zD4e"),o=n("R4cV");e.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&r.isArray(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(o.from([e].concat(t)),new i.CombineLatestOperator(n))}}},"5Lhf":function(t,e){angular.module("castifyExt.enterprisePolicy",["cf2.chromeStorageService"]).provider("enterprisePolicy",(function(){var t={};this.setOverride=function(e){t=e},this.$get=["cf2ChromeStorageService","$rootScope",function(e,n){var r={},i=!1,o={options:{}};angular.extend(o,t);var a=["disableSharing","disableSaveToDisk","options"];return a.forEach((function(t){Object.defineProperty(r,t,{get:function(){return o[t]}})})),r.loadedPromise=e.managed.get(a).then((function(e){angular.extend(o,e,t),i=!0})),r.isLoaded=function(){return i},r.has=function(t){return o.hasOwnProperty(t)},r.get=function(t){return o[t]},e.onChanged.addListener((function(t,e){"managed"===e&&(angular.forEach(t,(function(t,e){o[e]=t.newValue})),n.$$phase||n.$digest())})),r}]}))},"5Me0":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV"),o=n("qiMw"),a=n("dmvN"),s=n("kZSD");e.delayWhen=function(t,e){return e?function(n){return new l(n,e).lift(new c(t))}:function(e){return e.lift(new c(t))}};var c=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.delayDurationSelector))},t}(),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){var e=this.index++;try{var n=this.delayDurationSelector(t,e);n&&this.tryDelay(n,t)}catch(r){this.destination.error(r)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue},e.prototype.tryDelay=function(t,e){var n=s.subscribeToResult(this,t,e);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(a.OuterSubscriber),l=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subscriptionDelay=n,r}return r(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new d(t,this.source))},e}(o.Observable),d=function(t){function e(e,n){var r=t.call(this)||this;return r.parent=e,r.source=n,r.sourceSubscribed=!1,r}return r(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(i.Subscriber)},"5UrB":function(t,e,n){"use strict";var r=n("Ss0U"),i=n("J3oN"),o=n("0paZ"),a=n("4q26"),s=n("9s0w"),c=a.set,u=a.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},"5eAu":function(t,e,n){var r;t.exports=(r=n("Ni7E"),n("heQk"),r.pad.Iso10126={pad:function(t,e){var n=4*e,i=n-t.sigBytes%n;t.concat(r.lib.WordArray.random(i-1)).concat(r.lib.WordArray.create([i<<24],1))},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},r.pad.Iso10126)},"5hAx":function(t,e,n){"use strict";e.ArgumentOutOfRangeError=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}()},"5uKB":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV");e.distinctUntilChanged=function(t,e){return function(n){return n.lift(new o(t,e))}};var o=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.compare,this.keySelector))},t}(),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return r(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))},e}(i.Subscriber)},"5wGD":function(t,e,n){var r;t.exports=(r=n("Ni7E"),n("heQk"),r.mode.CFB=function(){var t=r.lib.BlockCipherMode.extend();function e(t,e,n,r){var i=this._iv;if(i){var o=i.slice(0);this._iv=void 0}else o=this._prevBlock;r.encryptBlock(o,0);for(var a=0;a<n;a++)t[e+a]^=o[a]}return t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize;e.call(this,t,n,i,r),this._prevBlock=t.slice(n,n+i)}}),t.Decryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=t.slice(n,n+i);e.call(this,t,n,i,r),this._prevBlock=o}}),t}(),r.mode.CFB)},"6Br6":function(t,e,n){"use strict";var r=n("D9en"),i=n("a96P"),o=n("v2vP"),a=n("ZGdk");function s(t){return t.reduce((function(t,e){return t.concat(e instanceof a.UnsubscriptionError?e.errors:e)}),[])}e.Subscription=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,c=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var l=0;l<n.length;++l)n[l].remove(this);if(o.isFunction(c))try{c.call(this)}catch(h){e=h instanceof a.UnsubscriptionError?s(h.errors):[h]}if(r.isArray(u)){l=-1;for(var d=u.length;++l<d;){var f=u[l];if(i.isObject(f))try{f.unsubscribe()}catch(h){e=e||[],h instanceof a.UnsubscriptionError?e=e.concat(s(h.errors)):e.push(h)}}}if(e)throw new a.UnsubscriptionError(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}()},"6Edt":function(t,e){angular.module("castifyExt.ui.syncAuthErrorRedirector",["castifyExt.chromeEventPublisher","ui.router"]).component("cfSyncAuthErrorRedirector",{controller:["$scope","$state",function(t,e){t.$on("event:syncAuthError",(function(){var t=e.current;t.name&&t.name.startsWith("setup.")||e.go("setup")}))}]})},"6JHO":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"6Lpf":function(t,e,n){"use strict";var r=n("DRiV"),i=n("2IC7"),o=n("DbaZ"),a=n("lxjo").f,s=n("sDEW"),c=n("M5Hp").Symbol;if(r&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var u={},l=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof l?new c(t):void 0===t?c():c(t);return""===t&&(u[e]=!0),e};s(l,c);var d=l.prototype=c.prototype;d.constructor=l;var f=d.toString,h="Symbol(test)"==String(c("test")),p=/^Symbol\((.*)\)[^)]+$/;a(d,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,e=f.call(t);if(i(u,t))return"";var n=h?e.slice(7,-1):e.replace(p,"$1");return""===n?void 0:n}}),n("9SEF")({global:!0,forced:!0},{Symbol:l})}},"6Mel":function(t,e){angular.module("castifyExt.commonConfig",["castifyExt.castifyAuth","w69b.chromeAnalytics","w69b.chromeRuntime","castifyExt.helpCenterConfig","castifyExt.appOptions","cf2.userAccount","castifyExt.deployConfig"]).config(["$compileProvider","$sceDelegateProvider","analyticsProvider","$locationProvider","deployConfigProvider",function(t,e,n,r,i){n.setTrackingId(i.analyticsId),n.setApp("Screencastify"),e.resourceUrlWhitelist(["self","http://localhost:9008/**","blob:**","filesystem:chrome-extension://**","https://**"]);var o=/^\s*(https?|mailto|blob|chrome-extension|filesystem:chrome-extension):/;t.aHrefSanitizationWhitelist(o),t.imgSrcSanitizationWhitelist(o),r.hashPrefix("")}]).run(["$rootScope","analytics","chromeRuntime","appOptions","$injector","userAccount",function(t,e,n,r,i,o){var a=i.has("$transitions")?i.get("$transitions"):null,s=r.loadedPromise.then(c);function c(){return o.getAccount().then((function(t){let i;i=t.license.isPaid?"paid":t.license.isTester?"tester":"trial",e.tracker.set("dimension1",i),e.tracker.set("dimension2",n.getManifest().version),e.tracker.set("dimension5",r.values.hwEncoding),t.user?(e.tracker.set("userId",t.user.analyticsUid),e.tracker.set("dimension4",t.user.analyticsUid),t.user.planVariant&&e.tracker.set("dimension6",t.user.planVariant),e.setEnabled(r.values.enableAnalytics&&!1!==t.user.analyticsEnabled)):e.setEnabled(r.values.enableAnalytics)}))}a&&a.onSuccess({},(function(t){var n=t.targetState().state(),r=n.analyticsView||n.pageTitle;r&&s.then((function(){e.tracker.sendAppView(r)}))})),t.$on("event:userAccountChanged",c)}]).factory("castifyConfig",["deployConfig",t=>({API_URL:t.apiUrl,IS_E2E:window.localStorage.e2e})])},"6NEH":function(t,e){angular.module("castifyExt.ui.videoPlayer",["castifyExt.castifyAuth","castifyExt.fileDbClient","castifyExt.ui.disableContextmenu"]).directive("cfVideoPlayer",["$q","$document","appOptions",function(t,e,n){return{restrict:"E",replace:!1,templateUrl:"components/castifyExt/ui/video-player/video-player.html",scope:{file:"=?"},link:function(t,r){var i=r.find("video"),o=i[0],a=0;function s(t){t&&t.preventDefault(),o.paused?o.play():o.pause()}t.loading=!0,i.bind("canplay",(function(){t.loading=!1,t.$digest()})),i.bind("loadedmetadata",(function(){o.currentTime!==a&&(o.currentTime=a)})),i.bind("loadstart seeking",(function(){t.loading=!0,t.$digest()})),i.bind("timeupdate",(function(){t.loading||(a=o.currentTime)})),n.values.autoPlay&&i.bind("canplay",(function t(){i[0].play(),i.unbind("canplay",t)}));var c=e.find("body")[0];function u(t){32===t.which&&t.target===c&&(s(),t.preventDefault())}r.bind("click",s),e.bind("keydown",u),t.$on("$destroy",(function(){e.unbind("keydown",u)}))}}}]).directive("cfVideoLoad",["fileDbClient","$log",function(t,e){return{restrict:"A",scope:{file:"=cfVideoLoad"},link:function(n,r){var i=r[0];n.$watchGroup(["file.url","file.urlRequiresAccessToken"],(function(){n.loading=!0,n.file&&n.file.getUrl().then((function(t){i.src=t}))})),r.bind("error",(function(r){e.warn("video playback error",r.target.error),t.reload(n.file.id),n.$apply()}))}}}])},"6PiA":function(t,e){angular.module("castifyExt.connect.connectService",["castifyExt.simpleBgServiceConsumer"]).factory("connectService",["simpleBgServiceConsumer",function(t){return t("connect",["share"])}])},"6Sxb":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("dmvN"),o=n("d4zx"),a=n("kZSD");e.skipUntil=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.notifier))},t}(),c=function(t){function e(e,n){var r=t.call(this,e)||this;r.hasValue=!1;var i=new o.InnerSubscriber(r,void 0,void 0);return r.add(i),r.innerSubscription=i,a.subscribeToResult(r,n,void 0,void 0,i),r}return r(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype.notifyNext=function(t,e,n,r,i){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(i.OuterSubscriber)},"6gAl":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV");e.skipWhile=function(t){return function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate))},t}(),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return r(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(n){this.destination.error(n)}},e}(i.Subscriber)},"7+qi":function(t,e){angular.module("w69b.scriptloader",[]).factory("scriptloader",["$document","$q","$rootScope","$log",function(t,e,n,r){var i={};function o(e,n){return n?!!t[0].querySelector('script[src^="'+e+'"]'):!!t[0].querySelector('script[src="'+e+'"]')}return{isInDom:o,load:function(n){if(o(n))return i.hasOwnProperty(n)?i[n]:e.when(!0);var a=e.defer();i[n]=a.promise,r.debug("script loader loading "+n);var s=document.createElement("script");return s.type="text/javascript",s.src=n,s.onload=function(){delete i[n],a.resolve(),s.onload=s.onerror=null},s.onerror=function(){a.reject(),s.onload=s.onerror=null},t.find("script").eq(0).parent().prepend(s),a.promise}}}])},"74Vk":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV"),o=n("qIOz");e.repeat=function(t){return void 0===t&&(t=-1),function(e){return 0===t?o.empty():e.lift(new a(t<0?-1:t-1,e))}};var a=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.count,this.source))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.count=n,i.source=r,i}return r(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.source,n=this.count;if(0===n)return t.prototype.complete.call(this);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}},e}(i.Subscriber)},"77dk":function(t,e,n){var r,i,o,a,s,c,u;t.exports=(u=n("Ni7E"),o=(i=(r=u).lib).WordArray,s=[],c=r.algo.SHA1=(a=i.Hasher).extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],c=n[4],u=0;u<80;u++){if(u<16)s[u]=0|t[e+u];else{var l=s[u-3]^s[u-8]^s[u-14]^s[u-16];s[u]=l<<1|l>>>31}var d=(r<<5|r>>>27)+c+s[u];d+=u<20?1518500249+(i&o|~i&a):u<40?1859775393+(i^o^a):u<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,c=a,a=o,o=i<<30|i>>>2,i=r,r=d}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),r.SHA1=a._createHelper(c),r.HmacSHA1=a._createHmacHelper(c),u.SHA1)},"7EwO":function(t,e,n){"use strict";var r=n("LIe9").IteratorPrototype,i=n("7NtF"),o=n("CSyd"),a=n("7js5"),s=n("0paZ"),c=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),a(t,u,!1,!0),s[u]=c,t}},"7K95":function(t,e,n){var r,i,o;t.exports=(o=n("Ni7E"),n("heQk"),o.mode.CTR=(i=(r=o.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);n.encryptBlock(a,0),o[r-1]=o[r-1]+1|0;for(var s=0;s<r;s++)t[e+s]^=a[s]}}),r.Decryptor=i,r),o.mode.CTR)},"7NtF":function(t,e,n){var r=n("7uYF"),i=n("jNCA"),o=n("44C7"),a=n("KCzB"),s=n("3qBM"),c=n("ywLU")("IE_PROTO"),u=function(){},l=function(){var t,e=s("iframe"),n=o.length;for(e.style.display="none",a.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[o[n]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(u.prototype=r(t),n=new u,u.prototype=null,n[c]=t):n=l(),void 0===e?n:i(n,e)},n("ZREF")[c]=!0},"7bXj":function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}e.getSymbolIterator=r,e.iterator=r(),e.$$iterator=e.iterator},"7js5":function(t,e,n){var r=n("lxjo").f,i=n("2IC7"),o=n("skk5")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},"7oWP":function(t,e,n){"use strict";e.rxSubscriber=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),e.$$rxSubscriber=e.rxSubscriber},"7uYF":function(t,e,n){var r=n("DbaZ");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},"81+z":function(t,e,n){"use strict";var r=n("DoSS"),i=n("ALqu"),o=n("SqYg"),a=n("E/Xc");e.reduce=function(t,e){return arguments.length>=2?function(n){return a.pipe(r.scan(t,e),i.takeLast(1),o.defaultIfEmpty(e))(n)}:function(e){return a.pipe(r.scan((function(e,n,r){return t(e,n,r+1)})),i.takeLast(1))(e)}}},"82Ps":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("/KFi"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=(15&s)<<2|u>>6,d=63&u;c||(d=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,c=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==c)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=c&&r.push(s<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}(),f=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},h="FirebaseError",p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=h,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,m.prototype.create),i}return r.__extends(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t,e){void 0===e&&(e={});for(var n=this.service+"/"+t,r=this.errors[t],i=r?function(t,e){return t.replace(g,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}(r,e):"Error",o=new p(n,this.serviceName+": "+i+" ("+n+")."),a=0,s=Object.keys(e);a<s.length;a++){var c=s[a];"_"!==c.slice(-1)&&(c in o&&console.warn('Overwriting FirebaseError base field "'+c+'" can cause unexpected behavior.'),o[c]=e[c])}return o},t}(),g=/\{\$([^}]+)}/g;function v(t){return JSON.parse(t)}var y=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=v(u(o[0])||""),n=v(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},b=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},_=function(t,e){return b(e,(function(e,n){t[e]=n})),t},w=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},S=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((d=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|d>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],c=this.chain_[2],u=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^s&(c^u),o=1518500249):(i=s^c^u,o=1859775393):r<60?(i=s&c|u&(s|c),o=2400959708):(i=s^c^u,o=3395469782);var d=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=u,u=c,c=4294967295&(s<<30|s>>>2),s=a,a=d}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=x),void 0===r.error&&(r.error=x),void 0===r.complete&&(r.complete=x);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function x(){}function C(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=d,e.ErrorFactory=m,e.FirebaseError=p,e.Sha1=S,e.assert=o,e.assertionError=a,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=c,e.base64Decode=u,e.base64Encode=function(t){var e=s(t);return c.encodeByteArray(e,!0)},e.clone=function(t){return _({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new E(t,e);return n.subscribe.bind(n)},e.decode=y,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=C,e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=_,e.findKey=w,e.findValue=function(t,e,n){var r=w(t,e,n);return r&&t[r]},e.forEach=b,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getUA=f,e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.isAdmin=function(t){var e=y(t).claims;return"object"==typeof e&&!0===e.admin},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=y(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=y(t).claims,i=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),i&&e&&n&&i>=e&&i<=n},e.issuedAtTime=function(t){var e=y(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},e.patchProperty=function(t,e,n){t[e]=n},e.querystring=function(t){var e=[];return b(t,(function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(t,e,r)+"must be a valid firebase namespace.")}},"82qV":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("tkgy"),o=n("l95E"),a=n("1hPV"),s=n("Reu/"),c=n("ci3w");e.windowTime=function(t){var e=o.async,n=null,r=Number.POSITIVE_INFINITY;return c.isScheduler(arguments[3])&&(e=arguments[3]),c.isScheduler(arguments[2])?e=arguments[2]:s.isNumeric(arguments[2])&&(r=arguments[2]),c.isScheduler(arguments[1])?e=arguments[1]:s.isNumeric(arguments[1])&&(n=arguments[1]),function(i){return i.lift(new u(t,n,r,e))}};var u=function(){function t(t,e,n,r){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new d(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return r(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(i.Subject),d=function(t){function e(e,n,r,i,o){var a=t.call(this,e)||this;a.destination=e,a.windowTimeSpan=n,a.windowCreationInterval=r,a.maxWindowSize=i,a.scheduler=o,a.windows=[];var s=a.openWindow();if(null!==r&&r>=0){var c={windowTimeSpan:n,windowCreationInterval:r,subscriber:a,scheduler:o};a.add(o.schedule(p,n,{subscriber:a,window:s,context:null})),a.add(o.schedule(h,r,c))}else a.add(o.schedule(f,n,{subscriber:a,window:s,windowTimeSpan:n}));return a}return r(e,t),e.prototype._next=function(t){for(var e=this.windows,n=e.length,r=0;r<n;r++){var i=e[r];i.closed||(i.next(t),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new l;return this.windows.push(t),this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(a.Subscriber);function f(t){var e=t.subscriber,n=t.windowTimeSpan,r=t.window;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function h(t){var e=t.windowTimeSpan,n=t.subscriber,r=t.scheduler,i=t.windowCreationInterval,o=n.openWindow(),a={action:this,subscription:null};a.subscription=r.schedule(p,e,{subscriber:n,window:o,context:a}),this.add(a.subscription),this.schedule(t,i)}function p(t){var e=t.subscriber,n=t.window,r=t.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}},"83Me":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("j7/t"),i=n("XCe5"),o=n("e+Ja"),a=n("MDuJ"),s=function(){function t(t,e,n,r,i,o){var s=this;this.name=t,this.color=e,this.developmentMode=n,this.allowed=r,this.isMuted=i,this.fixedWidth=o,this.d=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return s._data(t,e)},this.er=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return s._error(t,e)},this.i=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return s._info(t,e)},this.w=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return s._warn(t,e)},this.data=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return s._data(t,e)},this.error=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return s._error(t,e)},this.info=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return s._info(t,e)},this.warn=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return s._warn(t,e)},Array.isArray(a.Log.levels)&&a.Log.levels.length>0&&(this.allowed=a.Log.levels)}return t.prototype.onlyWhen=function(t){"function"==typeof t?this.isMuted=!t():"boolean"==typeof t&&(this.isMuted=!t)},t.prototype._data=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.isMuted?this:this.allowed.length>=1&&o.contain(this.allowed,r.Level.__NOTHING)&&!o.contain(this.allowed,r.Level.DATA)?this:((0===this.allowed.length||o.contain(this.allowed,r.Level.DATA))&&i.Display.msg.apply(void 0,[t].concat(e,[this.name,this.color,r.Level.DATA,this.fixedWidth])),this)},t.prototype._error=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.isMuted?this:this.allowed.length>=1&&o.contain(this.allowed,r.Level.__NOTHING)&&!o.contain(this.allowed,r.Level.ERROR)?this:((0===this.allowed.length||o.contain(this.allowed,r.Level.ERROR))&&i.Display.msg.apply(void 0,[t].concat(e,[this.name,this.color,r.Level.ERROR,this.fixedWidth])),this)},t.prototype._info=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.isMuted?this:this.allowed.length>=1&&o.contain(this.allowed,r.Level.__NOTHING)&&!o.contain(this.allowed,r.Level.INFO)?this:((0===this.allowed.length||o.contain(this.allowed,r.Level.INFO))&&i.Display.msg.apply(void 0,[t].concat(e,[this.name,this.color,r.Level.INFO,this.fixedWidth])),this)},t.prototype._warn=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.isMuted?this:this.allowed.length>=1&&o.contain(this.allowed,r.Level.__NOTHING)&&!o.contain(this.allowed,r.Level.WARN)?this:((0===this.allowed.length||o.contain(this.allowed,r.Level.WARN))&&i.Display.msg.apply(void 0,[t].concat(e,[this.name,this.color,r.Level.WARN,this.fixedWidth])),this)},t.prototype.level=function(t){return this._level=t,this},t.prototype.mute=function(){this.isMuted=!0},t.isProductionMode=!1,t}();e.Logger=s},8530:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("dmvN"),o=n("kZSD");e.withLatestFrom=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new a(t,n))}};var a=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.observables,this.project))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.observables=n,i.project=r,i.toRespond=[];var a=n.length;i.values=new Array(a);for(var s=0;s<a;s++)i.toRespond.push(s);for(s=0;s<a;s++){var c=n[s];i.add(o.subscribeToResult(i,c,c,s))}return i}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(i.OuterSubscriber)},"87Td":function(t,e,n){var r=n("Zup5"),i=n("skk5")("species");t.exports=function(t){return!r((function(){var e=[];return(e.constructor={})[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"88uq":function(t,e,n){"use strict";e.audit=n("WpSD").audit,e.auditTime=n("CUX2").auditTime,e.buffer=n("BZ8f").buffer,e.bufferCount=n("oHog").bufferCount,e.bufferTime=n("SOVL").bufferTime,e.bufferToggle=n("AuwQ").bufferToggle,e.bufferWhen=n("tYWh").bufferWhen,e.catchError=n("SSAN").catchError,e.combineAll=n("36S1").combineAll,e.combineLatest=n("5Bzj").combineLatest,e.concat=n("y56m").concat,e.concatAll=n("F0rJ").concatAll,e.concatMap=n("uzHr").concatMap,e.concatMapTo=n("m83Y").concatMapTo,e.count=n("Wf6A").count,e.debounce=n("9Bcg").debounce,e.debounceTime=n("A9LC").debounceTime,e.defaultIfEmpty=n("SqYg").defaultIfEmpty,e.delay=n("E0oi").delay,e.delayWhen=n("5Me0").delayWhen,e.dematerialize=n("L8sb").dematerialize,e.distinct=n("DaQ+").distinct,e.distinctUntilChanged=n("5uKB").distinctUntilChanged,e.distinctUntilKeyChanged=n("GOAL").distinctUntilKeyChanged,e.elementAt=n("sHF2").elementAt,e.every=n("zobr").every,e.exhaust=n("BKPz").exhaust,e.exhaustMap=n("kZ4E").exhaustMap,e.expand=n("du10").expand,e.filter=n("vgQ0").filter,e.finalize=n("vEKW").finalize,e.find=n("VVFg").find,e.findIndex=n("Ma/v").findIndex,e.first=n("oCLs").first,e.groupBy=n("sjzl").groupBy,e.ignoreElements=n("5/AZ").ignoreElements,e.isEmpty=n("Im+d").isEmpty,e.last=n("gxS2").last,e.map=n("d0I2").map,e.mapTo=n("cnmo").mapTo,e.materialize=n("8rZv").materialize,e.max=n("mrf1").max,e.merge=n("zIvY").merge,e.mergeAll=n("qMCr").mergeAll,e.mergeMap=n("FVvq").mergeMap,e.flatMap=n("FVvq").mergeMap,e.mergeMapTo=n("9lIb").mergeMapTo,e.mergeScan=n("GwyS").mergeScan,e.min=n("i5rK").min,e.multicast=n("EMVo").multicast,e.observeOn=n("sGav").observeOn,e.onErrorResumeNext=n("41i0").onErrorResumeNext,e.pairwise=n("mSP6").pairwise,e.partition=n("lEbx").partition,e.pluck=n("/TC6").pluck,e.publish=n("Kwq1").publish,e.publishBehavior=n("MKx0").publishBehavior,e.publishLast=n("AReX").publishLast,e.publishReplay=n("ZmOh").publishReplay,e.race=n("BpxM").race,e.reduce=n("81+z").reduce,e.repeat=n("74Vk").repeat,e.repeatWhen=n("QIqL").repeatWhen,e.retry=n("L79O").retry,e.retryWhen=n("HQQz").retryWhen,e.refCount=n("vVDj").refCount,e.sample=n("4wUv").sample,e.sampleTime=n("0t6v").sampleTime,e.scan=n("DoSS").scan,e.sequenceEqual=n("AiWc").sequenceEqual,e.share=n("fdxO").share,e.shareReplay=n("vhMh").shareReplay,e.single=n("YtTf").single,e.skip=n("HfdI").skip,e.skipLast=n("KFOX").skipLast,e.skipUntil=n("6Sxb").skipUntil,e.skipWhile=n("6gAl").skipWhile,e.startWith=n("JP3K").startWith,e.subscribeOn=n("+euh").subscribeOn,e.switchAll=n("/gtf").switchAll,e.switchMap=n("NiQx").switchMap,e.switchMapTo=n("PEZj").switchMapTo,e.take=n("DQ6M").take,e.takeLast=n("ALqu").takeLast,e.takeUntil=n("DQJ2").takeUntil,e.takeWhile=n("P8nh").takeWhile,e.tap=n("PHk/").tap,e.throttle=n("1Ri2").throttle,e.throttleTime=n("UgHj").throttleTime,e.timeInterval=n("ije0").timeInterval,e.timeout=n("PqL6").timeout,e.timeoutWith=n("RiMm").timeoutWith,e.timestamp=n("VFcZ").timestamp,e.toArray=n("/N+C").toArray,e.window=n("KbIB").window,e.windowCount=n("Azqp").windowCount,e.windowTime=n("82qV").windowTime,e.windowToggle=n("IcZ0").windowToggle,e.windowWhen=n("yyaj").windowWhen,e.withLatestFrom=n("8530").withLatestFrom,e.zip=n("slFD").zip,e.zipAll=n("AjiY").zipAll},"8SL3":function(t,e,n){n("dRAY")("match")},"8bL1":function(t,e,n){var r=n("Ss0U"),i=n("Vi6X"),o=n("/rAD");t.exports=function(t){return function(e,n,a){var s,c=r(e),u=i(c.length),l=o(a,u);if(t&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},"8iUY":function(t,e){angular.module("castifyExt.connect.appPermissions",["cf2.chromeStorageService","w69b.spawn"]).factory("appPermissions",["cf2ChromeStorageService","spawn",function(t,e){var n="appPermissions",r={};function i(t){var e=Date.now();return t.filter((function(t){return t.timeout>=e}))}function o(){return t.local.getSingle(n,[]).then(i)}return r.hasAccess=function(t,e){return o().then((function(n){return n.some((function(n){return n.appId===t&&n.fileId===e}))}))},r.allowAccess=function(r,i){return e((function*(){var e,a=yield o();(a=a.filter((function(t){return t.appId!==r&&t.appId!==i}))).push({appId:r,fileId:i,timeout:Date.now()+18e5}),yield(e=a,t.local.setSingle(n,e))}))},r}])},"8rZv":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV"),o=n("t25p");e.materialize=function(){return function(t){return t.lift(new a)}};var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype._next=function(t){this.destination.next(o.Notification.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(o.Notification.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(o.Notification.createComplete()),t.complete()},e}(i.Subscriber)},"9Bcg":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("dmvN"),o=n("kZSD");e.debounce=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.durationSelector))},t}(),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r.durationSubscription=null,r}return r(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(n){this.destination.error(n)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=o.subscribeToResult(this,e))&&!n.closed&&this.add(this.durationSubscription=n)},e.prototype.notifyNext=function(t,e,n,r,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(i.OuterSubscriber)},"9HG0":function(t,e,n){var r;!function(i,o,a,s){"use strict";var c,u=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),d="function",f=Math.round,h=Math.abs,p=Date.now;function m(t,e,n){return setTimeout(S(t,n),e)}function g(t,e,n){return!!Array.isArray(t)&&(v(t,n[e],n),!0)}function v(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function y(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}c="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var b=y((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===s)&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),_=y((function(t,e){return b(t,e,!0)}),"merge","Use `assign`.");function w(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&c(r,n)}function S(t,e){return function(){return t.apply(e,arguments)}}function E(t,e){return typeof t==d?t.apply(e&&e[0]||s,e):t}function x(t,e){return t===s?e:t}function C(t,e,n){v(I(e),(function(e){t.addEventListener(e,n,!1)}))}function k(t,e,n){v(I(e),(function(e){t.removeEventListener(e,n,!1)}))}function T(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function P(t,e){return t.indexOf(e)>-1}function I(t){return t.trim().split(/\s+/g)}function A(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function O(t){return Array.prototype.slice.call(t,0)}function $(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];A(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function M(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<u.length;){if((r=(n=u[o])?n+i:e)in t)return r;o++}return s}var D=1;function N(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var R="ontouchstart"in i,L=M(i,"PointerEvent")!==s,j=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=25,B=1,V=2,H=4,U=8,q=1,z=2,W=4,G=8,K=16,Q=z|W,Y=G|K,X=Q|Y,Z=["x","y"],J=["clientX","clientY"];function tt(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){E(t.options.enable,[t])&&n.handler(e)},this.init()}function et(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&B&&r-i==0,a=e&(H|U)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=nt(e)),i>1&&!n.firstMultiple?n.firstMultiple=nt(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,c=a?a.center:o.center,u=e.center=rt(r);e.timeStamp=p(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=st(c,u),e.distance=at(c,u),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==B&&o.eventType!==H||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=ot(e.deltaX,e.deltaY);var l,d,f=it(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=f.x,e.overallVelocityY=f.y,e.overallVelocity=h(f.x)>h(f.y)?f.x:f.y,e.scale=a?(l=a.pointers,at((d=r)[0],d[1],J)/at(l[0],l[1],J)):1,e.rotation=a?function(t,e){return st(e[1],e[0],J)+st(t[1],t[0],J)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,c=e.timeStamp-a.timeStamp;if(e.eventType!=U&&(c>F||a.velocity===s)){var u=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,d=it(c,u,l);r=d.x,i=d.y,n=h(d.x)>h(d.y)?d.x:d.y,o=ot(u,l),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var m=t.element;T(e.srcEvent.target,m)&&(m=e.srcEvent.target),e.target=m}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function nt(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:f(t.pointers[n].clientX),clientY:f(t.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:e,center:rt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function rt(t){var e=t.length;if(1===e)return{x:f(t[0].clientX),y:f(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:f(n/e),y:f(r/e)}}function it(t,e,n){return{x:e/t||0,y:n/t||0}}function ot(t,e){return t===e?q:h(t)>=h(e)?t<0?z:W:e<0?G:K}function at(t,e,n){n||(n=Z);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function st(t,e,n){return n||(n=Z),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}tt.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(N(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(N(this.element),this.evWin,this.domHandler)}};var ct={mousedown:B,mousemove:V,mouseup:H},ut="mousedown",lt="mousemove mouseup";function dt(){this.evEl=ut,this.evWin=lt,this.pressed=!1,tt.apply(this,arguments)}w(dt,tt,{handler:function(t){var e=ct[t.type];e&B&&0===t.button&&(this.pressed=!0),e&V&&1!==t.which&&(e=H),this.pressed&&(e&H&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var ft={pointerdown:B,pointermove:V,pointerup:H,pointercancel:U,pointerout:U},ht={2:"touch",3:"pen",4:"mouse",5:"kinect"},pt="pointerdown",mt="pointermove pointerup pointercancel";function gt(){this.evEl=pt,this.evWin=mt,tt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(pt="MSPointerDown",mt="MSPointerMove MSPointerUp MSPointerCancel"),w(gt,tt,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=ft[r],o=ht[t.pointerType]||t.pointerType,a="touch"==o,s=A(e,t.pointerId,"pointerId");i&B&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):i&(H|U)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var vt={touchstart:B,touchmove:V,touchend:H,touchcancel:U},yt="touchstart",bt="touchstart touchmove touchend touchcancel";function _t(){this.evTarget=yt,this.evWin=bt,this.started=!1,tt.apply(this,arguments)}function wt(t,e){var n=O(t.touches),r=O(t.changedTouches);return e&(H|U)&&(n=$(n.concat(r),"identifier",!0)),[n,r]}w(_t,tt,{handler:function(t){var e=vt[t.type];if(e===B&&(this.started=!0),this.started){var n=wt.call(this,t,e);e&(H|U)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var St={touchstart:B,touchmove:V,touchend:H,touchcancel:U},Et="touchstart touchmove touchend touchcancel";function xt(){this.evTarget=Et,this.targetIds={},tt.apply(this,arguments)}function Ct(t,e){var n=O(t.touches),r=this.targetIds;if(e&(B|V)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=O(t.changedTouches),s=[],c=this.target;if(o=n.filter((function(t){return T(t.target,c)})),e===B)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),e&(H|U)&&delete r[a[i].identifier],i++;return s.length?[$(o.concat(s),"identifier",!0),s]:void 0}w(xt,tt,{handler:function(t){var e=St[t.type],n=Ct.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var kt=2500,Tt=25;function Pt(){tt.apply(this,arguments);var t=S(this.handler,this);this.touch=new xt(this.manager,t),this.mouse=new dt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function It(t,e){t&B?(this.primaryTouch=e.changedPointers[0].identifier,At.call(this,e)):t&(H|U)&&At.call(this,e)}function At(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),kt)}}function Ot(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=Tt&&a<=Tt)return!0}return!1}w(Pt,tt,{handler:function(t,e,n){var r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)It.call(this,e,n);else if(r&&Ot.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var $t=M(l.style,"touchAction"),Mt=$t!==s,Dt=function(){if(!Mt)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||i.CSS.supports("touch-action",n)})),t}();function Nt(t,e){this.manager=t,this.set(e)}Nt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Mt&&this.manager.element.style&&Dt[t]&&(this.manager.element.style[$t]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return v(this.manager.recognizers,(function(e){E(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(P(t,"none"))return"none";var e=P(t,"pan-x"),n=P(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":P(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=P(r,"none")&&!Dt.none,o=P(r,"pan-y")&&!Dt["pan-y"],a=P(r,"pan-x")&&!Dt["pan-x"];if(i&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!a||!o)return i||o&&n&Q||a&&n&Y?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Rt=1,Lt=2,jt=4,Ft=8,Bt=Ft,Vt=16;function Ht(t){this.options=c({},this.defaults,t||{}),this.id=D++,this.manager=null,this.options.enable=x(this.options.enable,!0),this.state=Rt,this.simultaneous={},this.requireFail=[]}function Ut(t){return t&Vt?"cancel":t&Ft?"end":t&jt?"move":t&Lt?"start":""}function qt(t){return t==K?"down":t==G?"up":t==z?"left":t==W?"right":""}function zt(t,e){var n=e.manager;return n?n.get(t):t}function Wt(){Ht.apply(this,arguments)}function Gt(){Wt.apply(this,arguments),this.pX=null,this.pY=null}function Kt(){Wt.apply(this,arguments)}function Qt(){Ht.apply(this,arguments),this._timer=null,this._input=null}function Yt(){Wt.apply(this,arguments)}function Xt(){Wt.apply(this,arguments)}function Zt(){Ht.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Jt(t,e){return(e=e||{}).recognizers=x(e.recognizers,Jt.defaults.preset),new te(t,e)}function te(t,e){var n;this.options=c({},Jt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(L?gt:j?xt:R?Pt:dt))(n,et),this.touchAction=new Nt(this,this.options.touchAction),ee(this,!0),v(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function ee(t,e){var n,r=t.element;r.style&&(v(t.options.cssProps,(function(i,o){n=M(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}Ht.prototype={defaults:{},set:function(t){return c(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(g(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=zt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return g(t,"dropRecognizeWith",this)?this:(t=zt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(g(t,"requireFailure",this))return this;var e=this.requireFail;return-1===A(e,t=zt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(g(t,"dropRequireFailure",this))return this;t=zt(t,this);var e=A(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<Ft&&r(e.options.event+Ut(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=Ft&&r(e.options.event+Ut(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Rt)))return!1;t++}return!0},recognize:function(t){var e=c({},t);if(!E(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Bt|Vt|32)&&(this.state=Rt),this.state=this.process(e),this.state&(Lt|jt|Ft|Vt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},w(Wt,Ht,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(Lt|jt),i=this.attrTest(t);return r&&(n&U||!i)?e|Vt:r||i?n&H?e|Ft:e&Lt?e|jt:Lt:32}}),w(Gt,Wt,{defaults:{event:"pan",threshold:10,pointers:1,direction:X},getTouchAction:function(){var t=this.options.direction,e=[];return t&Q&&e.push("pan-y"),t&Y&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(e.direction&Q?(i=0===o?q:o<0?z:W,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?q:a<0?G:K,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Wt.prototype.attrTest.call(this,t)&&(this.state&Lt||!(this.state&Lt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=qt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),w(Kt,Wt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Lt)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),w(Qt,Ht,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(H|U)&&!i)this.reset();else if(t.eventType&B)this.reset(),this._timer=m((function(){this.state=Bt,this.tryEmit()}),e.time,this);else if(t.eventType&H)return Bt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Bt&&(t&&t.eventType&H?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),w(Yt,Wt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Lt)}}),w(Xt,Wt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Q|Y,pointers:1},getTouchAction:function(){return Gt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Q|Y)?e=t.overallVelocity:n&Q?e=t.overallVelocityX:n&Y&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&h(e)>this.options.velocity&&t.eventType&H},emit:function(t){var e=qt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),w(Zt,Ht,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&B&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=H)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||at(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=m((function(){this.state=Bt,this.tryEmit()}),e.interval,this),Lt):Bt}return 32},failTimeout:function(){return this._timer=m((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Bt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Jt.VERSION="2.0.7",Jt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Yt,{enable:!1}],[Kt,{enable:!1},["rotate"]],[Xt,{direction:Q}],[Gt,{direction:Q},["swipe"]],[Zt],[Zt,{event:"doubletap",taps:2},["tap"]],[Qt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},te.prototype={set:function(t){return c(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&Bt)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(Lt|jt|Ft)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Ht)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(g(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(g(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=A(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return v(I(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==s){var n=this.handlers;return v(I(t),(function(t){e?n[t]&&n[t].splice(A(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&ee(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(Jt,{INPUT_START:B,INPUT_MOVE:V,INPUT_END:H,INPUT_CANCEL:U,STATE_POSSIBLE:Rt,STATE_BEGAN:Lt,STATE_CHANGED:jt,STATE_ENDED:Ft,STATE_RECOGNIZED:Bt,STATE_CANCELLED:Vt,STATE_FAILED:32,DIRECTION_NONE:q,DIRECTION_LEFT:z,DIRECTION_RIGHT:W,DIRECTION_UP:G,DIRECTION_DOWN:K,DIRECTION_HORIZONTAL:Q,DIRECTION_VERTICAL:Y,DIRECTION_ALL:X,Manager:te,Input:tt,TouchAction:Nt,TouchInput:xt,MouseInput:dt,PointerEventInput:gt,TouchMouseInput:Pt,SingleTouchInput:_t,Recognizer:Ht,AttrRecognizer:Wt,Tap:Zt,Pan:Gt,Swipe:Xt,Pinch:Kt,Rotate:Yt,Press:Qt,on:C,off:k,each:v,merge:_,extend:b,assign:c,inherit:w,bindFn:S,prefixed:M}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Jt,(r=(function(){return Jt}).call(e,n,e,t))===s||(t.exports=r)}(window,document)},"9I/G":function(t,e){angular.module("w69b.spawn",[]).factory("spawn",["$q",function(t){function e(e,n){var r=n?Promise.reject.bind(Promise):t.reject.bind(t),i=n?Promise.resolve.bind(Promise):t.when.bind(t);function o(t,e){var n;try{n=t(e)}catch(o){return r(o)}return n.done?i(n.value):i(n.value).then(s,c)}var a=e(),s=o.bind(null,a.next.bind(a)),c=o.bind(null,a.throw.bind(a));return s()}return e.wrap=function(t){return function(){var n=arguments;return e(t.bind(this,...n))}},e}])},"9SEF":function(t,e,n){var r=n("M5Hp"),i=n("dbvG").f,o=n("NaO6"),a=n("ohwb"),s=n("Gn/Z"),c=n("sDEW"),u=n("J0MF");t.exports=function(t,e){var n,l,d,f,h,p=t.target,m=t.global,g=t.stat;if(n=m?r:g?r[p]||s(p,{}):(r[p]||{}).prototype)for(l in e){if(f=e[l],d=t.noTargetGet?(h=i(n,l))&&h.value:n[l],!u(m?l:p+(g?".":"#")+l,t.forced)&&void 0!==d){if(typeof f==typeof d)continue;c(f,d)}(t.sham||d&&d.sham)&&o(f,"sham",!0),a(n,l,f,t)}}},"9SiK":function(t,e,n){"use strict";var r=n("3WqD"),i=n("4q26"),o=n("9s0w"),a=i.set,s=i.getterFor("String Iterator");o(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=s(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i,!0),e.index+=t.length,{value:t,done:!1})}))},"9br6":function(t,e){window.angular&&angular.module("w69b.es6",[]),Array.prototype.find||(Array.prototype.find=function(t){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(t.call(i,e=n[o],o,n))return e}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(null==this)throw new TypeError("Cannot convert this value to object");var e=Object(this),n=parseInt(e.length,10)||0;if(0===n)return!1;var r,i=parseInt(arguments[1],10)||0;if(i>=n)return!1;for(i>=0?r=i:(r=n+i)<0&&(r=0);r<n;){var o=e[r];if(t===o||t!=t&&o!=o)return!0;r++}return!1}}),String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(t,e){var n=this.toString();(void 0===e||e>n.length)&&(e=n.length);var r=n.indexOf(t,e-=t.length);return-1!==r&&r===e}}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!1,writable:!1,value:function(t,e){return this.lastIndexOf(t,e=e||0)===e}})},"9lIb":function(t,e,n){"use strict";var r=n("FVvq");e.mergeMapTo=function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?r.mergeMap((function(){return t}),e,n):("number"==typeof e&&(n=e),r.mergeMap((function(){return t}),n))}},"9s0w":function(t,e,n){"use strict";var r=n("9SEF"),i=n("7EwO"),o=n("z+Nr"),a=n("fVL5"),s=n("7js5"),c=n("NaO6"),u=n("ohwb"),l=n("q91K"),d=n("skk5")("iterator"),f=n("0paZ"),h=n("LIe9"),p=h.IteratorPrototype,m=h.BUGGY_SAFARI_ITERATORS,g=function(){return this};t.exports=function(t,e,n,h,v,y,b){i(n,e,h);var _,w,S,E=function(t){if(t===v&&P)return P;if(!m&&t in k)return k[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},x=e+" Iterator",C=!1,k=t.prototype,T=k[d]||k["@@iterator"]||v&&k[v],P=!m&&T||E(v),I="Array"==e&&k.entries||T;if(I&&(_=o(I.call(new t)),p!==Object.prototype&&_.next&&(l||o(_)===p||(a?a(_,p):"function"!=typeof _[d]&&c(_,d,g)),s(_,x,!0,!0),l&&(f[x]=g))),"values"==v&&T&&"values"!==T.name&&(C=!0,P=function(){return T.call(this)}),l&&!b||k[d]===P||c(k,d,P),f[e]=P,v)if(w={values:E("values"),keys:y?P:E("keys"),entries:E("entries")},b)for(S in w)!m&&!C&&S in k||u(k,S,w[S]);else r({target:e,proto:!0,forced:m||C},w);return w}},A9LC:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV"),o=n("l95E");e.debounceTime=function(t,e){return void 0===e&&(e=o.async),function(n){return n.lift(new a(t,e))}};var a=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.dueTime,this.scheduler))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(i.Subscriber);function c(t){t.debouncedNext()}},ALqu:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV"),o=n("5hAx"),a=n("qIOz");e.takeLast=function(t){return function(e){return 0===t?a.empty():e.lift(new s(t))}};var s=function(){function t(t){if(this.total=t,this.total<0)throw new o.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(i.Subscriber)},AOG9:function(t,e){angular.module("castifyExt.optionalPermissions",["w69b.chromePermissions","castifyExt.deployConfig"]).factory("optionalPermissions",["chromePermissions","deployConfig",function(t,e){var n={},r={permissions:["tabCapture","webNavigation"],origins:["<all_urls>"]},i={permissions:["tabCapture","webNavigation"],origins:[]};function o(t){return t&&(!t.draw||t.draw&&!t.draw.showToolbox)?i:r}return e.enableInlinePopupSupport||(r.permissions.push("activeTab"),i.permissions.push("activeTab")),n.hasLiteTabPermissions=function(){return t.contains(i)},n.hasTabPermissions=function(e){let n=o(e);return t.contains({permissions:n.permissions})},n.requestTabPermissions=function(e){return t.request(o(e))},n}])},ARYM:function(t,e){angular.module("castifyExt.helpCenter",["w69b.chromeTabs"]).factory("helpCenter",["chromeTabs",function(t){var e={tagUrls:{},registerUrl:function(t,n){e.tagUrls[t]=n},hasHelpFor:function(t){return e.tagUrls.hasOwnProperty(t)},openHelp:function(n){var r=e.tagUrls[n];if(!r)throw new Error("No help url registered for "+n);t.create({url:r})},setNotifyHelp:function(t,n){t.onButtonClicked=t.onClicked=function(){e.openHelp(n),t.clear()}}};return e}])},AReX:function(t,e,n){"use strict";var r=n("WLOL"),i=n("EMVo");e.publishLast=function(){return function(t){return i.multicast(new r.AsyncSubject)(t)}}},"Af+u":function(t,e,n){var r=n("XzrS"),i=n("e1hM"),o=n("7uYF"),a=n("M5Hp").Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},AiRz:function(t,e,n){n("dRAY")("dispose")},AiWc:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV");e.sequenceEqual=function(t,e){return function(n){return n.lift(new o(t,e))}};var o=function(){function t(t,e){this.compareTo=t,this.comparator=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.compareTo,this.comparator))},t}();e.SequenceEqualOperator=o;var a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.compareTo=n,i.comparator=r,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(n.subscribe(new s(e,i))),i}return r(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this._a,e=this._b,n=this.comparator;t.length>0&&e.length>0;){var r=t.shift(),i=e.shift(),o=!1;try{o=n?n(r,i):r===i}catch(a){this.destination.error(a)}o||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e}(i.Subscriber);e.SequenceEqualSubscriber=a;var s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.parent=n,r}return r(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(i.Subscriber)},AjiY:function(t,e,n){"use strict";var r=n("tQA4");e.zipAll=function(t){return function(e){return e.lift(new r.ZipOperator(t))}}},"Al3/":function(t,e){angular.module("w69b.throttle",[]).factory("throttle",["$timeout",function(t){return function(e,n,r){var i,o,a;r=!1!==r;var s=function(){return a=angular.copy(arguments,[]),o=function(){return i=null,o=null,e.apply(null,a)},r?(i&&t.cancel(i),i=t(o,n)):i||(i=t(o,n)),i};return s.flush=function(){i&&(t.cancel(i),o())},s}}])},AmJI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("plFh"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("Gjt8"),a=n("huQ6"),s=n("EeOn"),c=n("82Ps"),u=i.SDK_VERSION,l=new o.Logger("@firebase/firestore"),d=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function f(){return l.logLevel===o.LogLevel.DEBUG?d.DEBUG:l.logLevel===o.LogLevel.SILENT?d.SILENT:d.ERROR}function h(t){switch(t){case d.DEBUG:l.logLevel=o.LogLevel.DEBUG;break;case d.ERROR:l.logLevel=o.LogLevel.ERROR;break;case d.SILENT:l.logLevel=o.LogLevel.SILENT;break;default:l.error("Firestore ("+u+"): Invalid value passed to `setLogLevel`")}}function p(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(l.logLevel<=o.LogLevel.DEBUG){var i=n.map(g);l.debug.apply(l,["Firestore ("+u+") ["+t+"]: "+e].concat(i))}}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.ERROR){var r=e.map(g);l.error.apply(l,["Firestore ("+u+"): "+t].concat(r))}}function g(t){if("string"==typeof t)return t;var e=b.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}function v(t){var e="FIRESTORE ("+u+") INTERNAL ASSERTION FAILED: "+t;throw m(e),new Error(e)}function y(t,e){t||v(e)}var b=function(){function t(){}return t.setPlatform=function(e){t.platform&&v("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||v("Platform not set"),t.platform},t}();function _(){return b.getPlatform().emptyByteString}var w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},S=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return a.__extends(e,t),e}(Error);function E(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new S(w.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C(t,e){return void 0!==t?t:e}function k(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function T(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function P(t){for(var e in y(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function I(t,e){if(0!==e.length)throw new S(w.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+W(e.length,"argument")+".")}function A(t,e,n){if(e.length!==n)throw new S(w.INVALID_ARGUMENT,"Function "+t+"() requires "+W(n,"argument")+", but was called with "+W(e.length,"argument")+".")}function O(t,e,n){if(e.length<n)throw new S(w.INVALID_ARGUMENT,"Function "+t+"() requires at least "+W(n,"argument")+", but was called with "+W(e.length,"argument")+".")}function $(t,e,n,r){if(e.length<n||e.length>r)throw new S(w.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+W(e.length,"argument")+".")}function M(t,e,n,r){F(t,e,z(n)+" argument",r)}function D(t,e,n,r){void 0!==r&&M(t,e,n,r)}function N(t,e,n,r){F(t,e,n+" option",r)}function R(t,e,n,r){void 0!==r&&N(t,e,n,r)}function L(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var c=s[a];if(c===r)return;o.push(V(c))}var u=V(r);throw new S(w.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function j(t,e,n,r){if(!e.some((function(t){return t===r})))throw new S(w.INVALID_ARGUMENT,"Invalid value "+V(r)+" provided to function "+t+"() for its "+z(n)+" argument. Acceptable values: "+e.join(", "))}function F(t,e,n,r){if(!("object"===e?B(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=V(r);throw new S(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function B(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function V(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":v("Unknown wrong type: "+typeof t)}function H(t,e,n){if(void 0===n)throw new S(w.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+z(e)+" argument, but it was undefined.")}function U(t,e,n){T(e,(function(e,r){if(n.indexOf(e)<0)throw new S(w.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function q(t,e,n,r){var i=V(r);return new S(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+z(n)+" argument to be a "+e+", but it was: "+i)}function z(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function W(t,e){return t+" "+e+(1===t?"":"s")}var G=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return y(20===e.length,"Invalid auto ID: "+e),e},t}();function K(t,e){return t<e?-1:t>e?1:0}function Q(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function Y(t){return t+"\0"}function X(){if("undefined"==typeof Uint8Array)throw new S(w.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Z(){if(!b.getPlatform().base64Available)throw new S(w.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var J=function(){function t(t){Z(),this._binaryString=t}return t.fromBase64String=function(e){A("Blob.fromBase64String",arguments,1),M("Blob.fromBase64String","string",1,e),Z();try{var n=b.getPlatform().atob(e);return new t(n)}catch(r){throw new S(w.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+r)}},t.fromUint8Array=function(e){if(A("Blob.fromUint8Array",arguments,1),X(),!(e instanceof Uint8Array))throw q("Blob.fromUint8Array","Uint8Array",1,e);var n=Array.prototype.map.call(e,(function(t){return String.fromCharCode(t)})).join("");return new t(n)},t.prototype.toBase64=function(){return A("Blob.toBase64",arguments,0),Z(),b.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){A("Blob.toUint8Array",arguments,0),X();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return K(this._binaryString,t._binaryString)},t}(),tt=E(J,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),et=function(){function t(t,e){if(A("GeoPoint",arguments,2),M("GeoPoint","number",1,t),M("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new S(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new S(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return K(this._lat,t._lat)||K(this._long,t._long)},t}(),nt=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new S(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new S(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new S(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new S(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?K(this.nanoseconds,t.nanoseconds):K(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),rt=function(){return function(t,e,n,r,i){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i}}(),it="(default)",ot=function(){function t(t,e){this.projectId=t,this.database=e||it}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===it},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return K(this.projectId,t.projectId)||K(this.database,t.database)},t}(),at=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&v("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&v("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):"string"==typeof e?n.push(e):v("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return y(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return y(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return y(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return y(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new S(w.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.EMPTY_PATH=new e([]),e}(at),ct=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.isValidIdentifier=function(t){return ct.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new S(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new S(w.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new S(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new S(w.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(at),lt=function(){function t(e){this.path=e,y(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===st.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return st.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new st(e.slice()))},t.fromPathString=function(e){return new t(st.fromString(e))},t.EMPTY=new t(new st([])),t}(),dt=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return lt.comparator(t.key,e.key)},t}(),ft=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.data=r,a.proto=o,a.hasLocalMutations=!!i.hasLocalMutations,a.hasCommittedMutations=!!i.hasCommittedMutations,a}return a.__extends(e,t),e.prototype.field=function(t){return this.data.field(t)},e.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.data.isEqual(t.data)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return void 0!==r&&void 0!==i?r.compareTo(i):v("Trying to compare documents on fields that don't exist")},e}(dt),ht=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return a.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(dt),pt=function(t){function e(e,n){return t.call(this,e,n)||this}return a.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(dt),mt=function(){function t(t,e){this.comparator=t,this.root=e||vt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new gt(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new gt(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new gt(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new gt(this.root,t,this.comparator,!0)},t}(),gt=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){y(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),vt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw v("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw v("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw v("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),yt=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new vt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();vt.EMPTY=new yt;var bt=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),_t=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),wt=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(_t.Estimate,n);case"previous":return new t(_t.Previous,n);case"none":case void 0:return new t(_t.Default,n);default:return v("fromSnapshotOptions() called with invalid options.")}},t}(),St=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return y(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),K(this.typeOrder,t.typeOrder)},t}(),Et=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=bt.NullValue,e.internalValue=null,e}return a.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(St),xt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=bt.BooleanValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?K(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(St),Ct=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=bt.NumberValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(r=t.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(t);var n,r},e}(St);function kt(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Tt=function(t){function e(e){return t.call(this,e)||this}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&kt(this.internalValue,t.internalValue)},e}(Ct),Pt=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&kt(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Ct),It=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=bt.StringValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?K(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(St),At=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=bt.TimestampValue,n}return a.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof Ot?-1:this.defaultCompareTo(t)},e}(St),Ot=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=bt.TimestampValue,r}return a.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===_t.Estimate?new At(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===_t.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof At?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(St),$t=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=bt.BlobValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(St),Mt=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=bt.RefValue,r}return a.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:lt.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(St),Dt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=bt.GeoPointValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(St),Nt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=bt.ObjectValue,n}return a.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal((function(n,r){e[n]=r.value(t)})),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=K(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return K(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(y(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(y(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){y(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach((function(t){n=n instanceof e&&n.internalValue.get(t)||void 0})),n},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new mt(K)),e}(St),Rt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=bt.ArrayValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map((function(e){return e.value(t)}))},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return K(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return"["+this.internalValue.map((function(t){return t.toString()})).join(",")+"]"},e}(St),Lt=Number,jt=Lt.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Ft=Lt.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Bt=Lt.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Vt(t){return null==t}function Ht(t){return Bt(t)&&t<=Ft&&t>=jt}var Ut=function(){function t(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[Zt]:[new Xt(t),Zt];else{y(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Qt.ASCENDING)===Qt.ASCENDING?Zt:Jt)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){y(null==this.getInequalityFilterField()||!(e instanceof Wt)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),y(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){y(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(e){return new t(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();this.isCollectionGroupQuery()&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";Vt(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Vt(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return y(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!Vt(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Wt&&n.isInequality())return n.field}return null},t.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find((function(t){return t instanceof Wt&&t.op===zt.ARRAY_CONTAINS}))},t.prototype.isDocumentQuery=function(){return lt.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):lt.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){y(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),qt=function(){function t(){}return t.create=function(t,e,n){if(n.isEqual(Et.INSTANCE)){if(e!==zt.EQUAL)throw new S(w.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Gt(t)}if(n.isEqual(Pt.NAN)){if(e!==zt.EQUAL)throw new S(w.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Kt(t)}return new Wt(t,e,n)},t}(),zt=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;default:return v("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t}(),Wt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return a.__extends(e,t),e.prototype.matches=function(t){if(this.field.isKeyField()){y(this.value instanceof Mt,"Comparing on key, but filter value not a RefValue"),y(this.op!==zt.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var e=lt.comparator(t.key,this.value.key);return this.matchesComparison(e)}var n=t.field(this.field);return void 0!==n&&this.matchesValue(n)},e.prototype.matchesValue=function(t){var e=this;return this.op===zt.ARRAY_CONTAINS?t instanceof Rt&&void 0!==t.internalValue.find((function(t){return t.isEqual(e.value)})):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case zt.LESS_THAN:return t<0;case zt.LESS_THAN_OR_EQUAL:return t<=0;case zt.EQUAL:return 0===t;case zt.GREATER_THAN:return t>0;case zt.GREATER_THAN_OR_EQUAL:return t>=0;default:return v("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==zt.EQUAL&&this.op!==zt.ARRAY_CONTAINS},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(qt),Gt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(qt),Kt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field),n=e&&e.value();return"number"==typeof n&&isNaN(n)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(qt),Qt=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Yt=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){y(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())y(o instanceof Mt,"Bound has a non-key value where the key path is being used."),n=lt.comparator(o.key,e.key);else{var a=e.field(i.field);y(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===Qt.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)return this.position[e].isEqual(t.position[e]);return!0},t}(),Xt=function(){function t(t,e){this.field=t,void 0===e&&(e=Qt.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?ft.compareByKey(t,e):ft.compareByField(this.field,t,e);switch(this.dir){case Qt.ASCENDING:return n;case Qt.DESCENDING:return-1*n;default:return v("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Zt=new Xt(ut.keyField(),Qt.ASCENDING),Jt=new Xt(ut.keyField(),Qt.DESCENDING),te=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new nt(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new nt(0,0)),t}(),ee=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),ne=function(){function t(t,e,n,r,i,o){void 0===i&&(i=te.MIN),void 0===o&&(o=_()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.sequenceNumber?this.sequenceNumber:e.sequenceNumber,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),re=function(){function t(t){this.comparator=t,this.data=new mt(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach((function(t){n=n.add(t)})),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new ie(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new ie(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),ie=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),oe=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new re(ut.comparator);return e.forEach((function(t){return n=n.add(t)})),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach((function(n){n.isPrefixOf(t)&&(e=!0)})),e},t.prototype.applyTo=function(t){var e=Nt.EMPTY;return this.fields.forEach((function(n){if(n.isEmpty())return t;var r=t.field(n);void 0!==r&&(e=e.set(n,r))})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),ae=function(){function t(t,e){this.field=t,this.transform=e}return Object.defineProperty(t.prototype,"isIdempotent",{get:function(){return this.transform.isIdempotent},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),se=function(){return function(t,e){this.version=t,this.transformResults=e}}(),ce=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),ue=function(){function t(t,e){this.updateTime=t,this.exists=e,y(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof ft&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof ft:(y(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),le=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&y(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof ft?t.version:te.MIN},t}(),de=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=ce.Set,i}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by SetMutation."),new ft(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=le.getPostMutationVersion(t);return new ft(this.key,r,this.value,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(le),fe=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=ce.Patch,o}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new pt(this.key,e.version);var n=this.patchDocument(t);return new ft(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=le.getPostMutationVersion(t),i=this.patchDocument(t);return new ft(this.key,r,i,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){return this.patchObject(t instanceof ft?t.data:Nt.EMPTY)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t=void 0!==r?t.set(n,r):t.delete(n)}})),t},e}(le),he=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=ce.Transform,r.precondition=ue.exists(!0),r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),y(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new pt(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(n.data,r);return new ft(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,e),o=this.transformObject(r.data,i);return new ft(this.key,r.version,o,{hasLocalMutations:!0})},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){for(var t=0,e=this.fieldTransforms;t<e.length;t++)if(!e[t].isIdempotent)return!1;return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){var t=new re(ut.comparator);return this.fieldTransforms.forEach((function(e){return t=t.add(e.field)})),new oe(t)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Q(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){y(t instanceof ft,"Unknown MaybeDocument type "+t);var e=t;return y(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];y(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof ft&&(a=t.field(i.field)||null),n.push(o.applyToRemoteDocument(a,e[r]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,i=this.fieldTransforms;r<i.length;r++){var o=i[r],a=o.transform,s=null;e instanceof ft&&(s=e.field(o.field)||null),n.push(a.applyToLocalView(s,t))}return n},e.prototype.transformObject=function(t,e){y(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(le),pe=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=ce.Delete,r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by DeleteMutation."),new ht(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&y(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new ht(this.key,te.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fieldMask",{get:function(){return null},enumerable:!0,configurable:!0}),e}(le),me=function(){function t(){this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return new Ot(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),ge=function(){function t(t){this.elements=t,this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=be(t),n=function(t){e.find((function(e){return e.isEqual(t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Rt(e)},t.prototype.isEqual=function(e){return e instanceof t&&Q(e.elements,this.elements)},t}(),ve=function(){function t(t){this.elements=t,this.isIdempotent=!0}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=be(t),n=function(t){e=e.filter((function(e){return!e.isEqual(t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Rt(e)},t.prototype.isEqual=function(e){return e instanceof t&&Q(e.elements,this.elements)},t}(),ye=function(){function t(t){this.operand=t,this.isIdempotent=!1}return t.prototype.applyToLocalView=function(t,e){return t instanceof Tt&&this.operand instanceof Tt?new Tt(t.internalValue+this.operand.internalValue):t instanceof Ct?new Pt(t.internalValue+this.operand.internalValue):this.operand},t.prototype.applyToRemoteDocument=function(t,e){return y(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function be(t){return t instanceof Rt?t.internalValue.slice():[]}var _e=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),we=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function Se(t){switch(t){case w.OK:return v("Treated status OK as error");case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0;default:return v("Unknown status code: "+t)}}function Ee(t){if(void 0===t)return m("GRPC error has no .code"),w.UNKNOWN;switch(t){case we.OK:return w.OK;case we.CANCELLED:return w.CANCELLED;case we.UNKNOWN:return w.UNKNOWN;case we.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case we.INTERNAL:return w.INTERNAL;case we.UNAVAILABLE:return w.UNAVAILABLE;case we.UNAUTHENTICATED:return w.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case we.NOT_FOUND:return w.NOT_FOUND;case we.ALREADY_EXISTS:return w.ALREADY_EXISTS;case we.PERMISSION_DENIED:return w.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case we.ABORTED:return w.ABORTED;case we.OUT_OF_RANGE:return w.OUT_OF_RANGE;case we.UNIMPLEMENTED:return w.UNIMPLEMENTED;case we.DATA_LOSS:return w.DATA_LOSS;default:return v("Unknown status code: "+t)}}function xe(t){if(void 0===t)return we.OK;switch(t){case w.OK:return we.OK;case w.CANCELLED:return we.CANCELLED;case w.UNKNOWN:return we.UNKNOWN;case w.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case w.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case w.INTERNAL:return we.INTERNAL;case w.UNAVAILABLE:return we.UNAVAILABLE;case w.UNAUTHENTICATED:return we.UNAUTHENTICATED;case w.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case w.NOT_FOUND:return we.NOT_FOUND;case w.ALREADY_EXISTS:return we.ALREADY_EXISTS;case w.PERMISSION_DENIED:return we.PERMISSION_DENIED;case w.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case w.ABORTED:return we.ABORTED;case w.OUT_OF_RANGE:return we.OUT_OF_RANGE;case w.UNIMPLEMENTED:return we.UNIMPLEMENTED;case w.DATA_LOSS:return we.DATA_LOSS;default:return v("Unknown status code: "+t)}}var Ce=new mt(lt.comparator);function ke(){return Ce}function Te(){return ke()}var Pe=new mt(lt.comparator);function Ie(){return Pe}var Ae=new mt(lt.comparator);function Oe(){return Ae}var $e=new re(lt.comparator);function Me(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=$e,r=0,i=t;r<i.length;r++)n=n.add(i[r]);return n}var De=new re(K);function Ne(){return De}var Re=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||lt.comparator(e.key,n.key)}:function(t,e){return lt.comparator(t.key,e.key)},this.keyedMap=Ie(),this.sortedSet=new mt(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Le=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),je=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),Fe=function(){function t(){this.changeMap=new mt(lt.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Le.Added&&n.type===Le.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Le.Metadata&&n.type!==Le.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Le.Modified&&n.type===Le.Modified?this.changeMap=this.changeMap.insert(e,{type:Le.Modified,doc:t.doc}):t.type===Le.Modified&&n.type===Le.Added?this.changeMap=this.changeMap.insert(e,{type:Le.Added,doc:t.doc}):t.type===Le.Removed&&n.type===Le.Added?this.changeMap=this.changeMap.remove(e):t.type===Le.Removed&&n.type===Le.Modified?this.changeMap=this.changeMap.insert(e,{type:Le.Removed,doc:n.doc}):t.type===Le.Added&&n.type===Le.Removed?this.changeMap=this.changeMap.insert(e,{type:Le.Modified,doc:t.doc}):v("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Be=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:Le.Added,doc:t})})),new t(e,n,Re.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ve=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,i=((r={})[e]=He.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t(te.MIN,i,Ne(),ke(),Me())},t}(),He=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(_(),n,Me(),Me(),Me())},t}(),Ue=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),qe=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}(),ze=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),We=function(){return function(t,e,n,r){void 0===n&&(n=_()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Ge=function(){function t(){this.pendingResponses=0,this.documentChanges=Ye(),this._resumeToken=_(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Me(),e=Me(),n=Me();return this.documentChanges.forEach((function(r,i){switch(i){case Le.Added:t=t.add(r);break;case Le.Modified:e=e.add(r);break;case Le.Removed:n=n.add(r);break;default:v("Encountered invalid change type: "+i)}})),new He(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Ye()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),Ke=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=ke(),this.pendingDocumentTargetMapping=Qe(),this.pendingTargetResets=new re(K)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof ft?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof ht&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.removeDocumentFromTarget(r=o[i],t.key,t.newDoc)},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.ensureTargetState(n);switch(t.state){case ze.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case ze.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case ze.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),y(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case ze.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case ze.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:v("Unknown target watch change state: "+t.state)}}))},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):k(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new lt(i.path);this.removeDocumentFromTarget(e,o,new ht(o,te.forDeletedDoc()))}else y(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};k(this.targetStates,(function(r,i){var o=e.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new lt(o.query.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(r,a)||e.removeDocumentFromTarget(r,a,new ht(a,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}}));var r=Me();this.pendingDocumentTargetMapping.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===ee.LimboResolution||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Ve(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=ke(),this.pendingDocumentTargetMapping=Qe(),this.pendingTargetResets=new re(K),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Le.Modified:Le.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,Le.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Ge),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new re(K),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;y(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new Ge,this.metadataProvider.getRemoteKeysForTarget(t).forEach((function(n){e.removeDocumentFromTarget(t,n,null)}))},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function Qe(){return new mt(lt.comparator)}function Ye(){return new mt(lt.comparator)}var Xe,Ze,Je=((Xe={})[Qt.ASCENDING.name]="ASCENDING",Xe[Qt.DESCENDING.name]="DESCENDING",Xe),tn=((Ze={})[zt.LESS_THAN.name]="LESS_THAN",Ze[zt.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Ze[zt.GREATER_THAN.name]="GREATER_THAN",Ze[zt.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Ze[zt.EQUAL.name]="EQUAL",Ze[zt.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Ze),en=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nn(t,e){y(!Vt(t),e+" is missing")}function rn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):v("can't parse "+t)}var on=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?w.UNKNOWN:Ee(t.code);return new S(e,t.message||"")},t.prototype.toInt32Value=function(t){return Vt(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return Vt(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);y(!!t,"Cannot deserialize null or undefined timestamp.");var e=rn(t.seconds||"0");return new nt(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=en.exec(t);if(y(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new nt(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(y(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),J.fromBase64String(t)):(y(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),J.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return y(!!t,"Trying to deserialize version that isn't set"),te.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=st.fromString(t);return y(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return y(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),y(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new lt(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?st.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new st(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new st(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return y(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof Et)return{nullValue:"NULL_VALUE"};if(t instanceof xt)return{booleanValue:t.value()};if(t instanceof Tt)return{integerValue:""+t.value()};if(t instanceof Pt){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof It?{stringValue:t.value()}:t instanceof Nt?{mapValue:this.toMapValue(t)}:t instanceof Rt?{arrayValue:this.toArrayValue(t)}:t instanceof At?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Dt?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof $t?{bytesValue:this.toBytes(t.value())}:t instanceof Mt?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:v("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(an(t,n,"nullValue"))return Et.INSTANCE;if(an(t,n,"booleanValue"))return xt.of(t.booleanValue);if(an(t,n,"integerValue"))return new Tt(rn(t.integerValue));if(an(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Pt.NAN;if("Infinity"===t.doubleValue)return Pt.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Pt.NEGATIVE_INFINITY}return new Pt(t.doubleValue)}if(an(t,n,"stringValue"))return new It(t.stringValue);if(an(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(an(t,n,"arrayValue"))return nn(t.arrayValue,"arrayValue"),new Rt((t.arrayValue.values||[]).map((function(t){return e.fromValue(t)})));if(an(t,n,"timestampValue"))return nn(t.timestampValue,"timestampValue"),new At(this.fromTimestamp(t.timestampValue));if(an(t,n,"geoPointValue"))return nn(t.geoPointValue,"geoPointValue"),new Dt(new et(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if(an(t,n,"bytesValue")){nn(t.bytesValue,"bytesValue");var r=this.fromBlob(t.bytesValue);return new $t(r)}if(an(t,n,"referenceValue")){nn(t.referenceValue,"referenceValue");var i=this.fromResourceName(t.referenceValue),o=new ot(i.get(1),i.get(3)),a=new lt(this.extractLocalPathFromResourceName(i));return new Mt(o,a)}return v("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return y(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){return new ft(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasCommittedMutations:!!e})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach((function(t,r){n[t]=e.toValue(r)})),n},t.prototype.fromFields=function(t){var e=this,n=Nt.EMPTY;return T(t,(function(t,r){n=n.set(new ut([t]),e.fromValue(r))})),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach((function(t){n.push(e.toValue(t))})),{values:n}},t.prototype.fromFound=function(t){y(!!t.found,"Tried to deserialize a found document from a missing document."),nn(t.found.name,"doc.found.name"),nn(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new ft(e,n,r,{},t.found)},t.prototype.fromMissing=function(t){y(!!t.missing,"Tried to deserialize a missing document from a found document."),y(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new ht(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return an(t,e,"found")?this.fromFound(t):an(t,e,"missing")?this.fromMissing(t):v("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case ze.Added:return"ADD";case ze.Current:return"CURRENT";case ze.NoChange:return"NO_CHANGE";case ze.Removed:return"REMOVE";case ze.Reset:return"RESET";default:return v("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof qe)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Ue){var e;if(t.newDoc instanceof ft)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof ht)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof We){var n=void 0;return t.cause&&(n={code:xe(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return v("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.response_type;if(an(t,n,"targetChange")){nn(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new We(r,i,o,s||null)}else if(an(t,n,"documentChange")){nn(t.documentChange,"documentChange"),nn(t.documentChange.document,"documentChange.name"),nn(t.documentChange.document.name,"documentChange.document.name"),nn(t.documentChange.document.updateTime,"documentChange.document.updateTime");var c=t.documentChange,u=this.fromName(c.document.name),l=this.fromVersion(c.document.updateTime),d=this.fromFields(c.document.fields||{}),f=new ft(u,l,d,{},c.document);e=new Ue(c.targetIds||[],c.removedTargetIds||[],f.key,f)}else if(an(t,n,"documentDelete")){nn(t.documentDelete,"documentDelete"),nn(t.documentDelete.document,"documentDelete.document");var h=t.documentDelete;u=this.fromName(h.document),l=h.readTime?this.fromVersion(h.readTime):te.forDeletedDoc(),f=new ht(u,l),e=new Ue([],h.removedTargetIds||[],f.key,f)}else if(an(t,n,"documentRemove")){nn(t.documentRemove,"documentRemove"),nn(t.documentRemove.document,"documentRemove");var p=t.documentRemove;u=this.fromName(p.document),e=new Ue([],p.removedTargetIds||[],u,null)}else{if(!an(t,n,"filter"))return v("Unknown change type "+JSON.stringify(t));nn(t.filter,"filter"),nn(t.filter.targetId,"filter.targetId");var m=t.filter,g=new _e(m.count||0);e=new qe(m.targetId,g)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?ze.NoChange:"ADD"===t?ze.Added:"REMOVE"===t?ze.Removed:"CURRENT"===t?ze.Current:"RESET"===t?ze.Reset:v("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!an(t,t.response_type,"targetChange"))return te.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?te.MIN:e.readTime?this.fromVersion(e.readTime):te.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof de)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof pe)e={delete:this.toName(t.key)};else if(t instanceof fe)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof he))return v("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.toFieldTransform(t)}))}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):ue.NONE;if(t.update){nn(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new fe(r,i,o,n)}return new de(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new pe(r,n);if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map((function(t){return e.fromFieldTransform(t)}));return y(!0===n.exists,'Transforms only support precondition "exists == true"'),new he(r,a)}return v("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return y(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?ue.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ue.exists(t.exists):ue.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=this.fromVersion(t.updateTime?t.updateTime:e),i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map((function(t){return n.fromValue(t)}))),new se(r,i)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(y(void 0!==e,"Received a write result without a commit time"),t.map((function(t){return n.fromWriteResult(t,e)}))):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof me)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ge)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(t){return e.toValue(t)}))}};if(n instanceof ve)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(t){return e.toValue(t)}))}};if(n instanceof ye)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw v("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=t.transform_type,r=null;if(an(t,n,"setToServerValue"))y("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),r=me.instance;else if(an(t,n,"appendMissingElements"))r=new ge((t.appendMissingElements.values||[]).map((function(t){return e.fromValue(t)})));else if(an(t,n,"removeAllFromArray"))r=new ve((t.removeAllFromArray.values||[]).map((function(t){return e.fromValue(t)})));else if(an(t,n,"increment")){var i=this.fromValue(t.increment);y(i instanceof Ct,"NUMERIC_ADD transform requires a NumberValue"),r=new ye(i)}else v("Unknown transform proto: "+JSON.stringify(t));var o=ut.fromServerFormat(t.fieldPath);return new ae(o,r)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return y(1===e,"DocumentsTarget contained other than 1 document: "+e),Ut.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(y(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(y(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){y(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var c=null;n.limit&&(c=this.fromInt32Value(n.limit));var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new Ut(e,i,s,a,c,u,l)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case ee.Listen:return null;case ee.ExistenceFilterMismatch:return"existence-filter-mismatch";case ee.LimboResolution:return"limbo-document";default:return v("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof Wt?e.toRelationFilter(t):e.toUnaryFilter(t)}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.fromFilter(t)})).reduce((function(t,e){return t.concat(e)})):v("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.toPropertyOrder(t)}))},t.prototype.fromOrder=function(t){var e=this;return t.map((function(t){return e.fromPropertyOrder(t)}))},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map((function(t){return e.toValue(t)}))}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map((function(t){return e.fromValue(t)}));return new Yt(r,n)},t.prototype.toDirection=function(t){return Je[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Qt.ASCENDING;case"DESCENDING":return Qt.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return tn[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return zt.EQUAL;case"GREATER_THAN":return zt.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return zt.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return zt.LESS_THAN;case"LESS_THAN_OR_EQUAL":return zt.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return zt.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return v("Unspecified relation");default:return v("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return ut.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Xt(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof Wt?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:v("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new Wt(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof Kt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof Gt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:v("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new Kt(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new Gt(n);case"OPERATOR_UNSPECIFIED":return v("Unspecified filter");default:return v("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map((function(t){return ut.fromServerFormat(t)}));return oe.fromArray(e)},t}();function an(t,e,n){return e===n||!e&&n in t}var sn=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){y(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){y(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){y(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){y(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){y(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){y(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),cn="Connection",un={BatchGetDocuments:"batchGet",Commit:"commit"},ln="gl-js/ fire/"+u,dn=function(){function t(t){this.databaseId=t.databaseId,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=ln},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise((function(o,a){var c=new s.XhrIo;c.listenOnce(s.EventType.COMPLETE,(function(){try{switch(c.getLastErrorCode()){case s.ErrorCode.NO_ERROR:var e=c.getResponseJson();p(cn,"XHR received:",JSON.stringify(e)),o(e);break;case s.ErrorCode.TIMEOUT:p(cn,'RPC "'+t+'" timed out'),a(new S(w.DEADLINE_EXCEEDED,"Request time out"));break;case s.ErrorCode.HTTP_ERROR:var n=c.getStatus();p(cn,'RPC "'+t+'" failed with status:',n,"response text:",c.getResponseText()),n>0?a(new S(function(t){switch(t){case 200:return w.OK;case 400:return w.INVALID_ARGUMENT;case 401:return w.UNAUTHENTICATED;case 403:return w.PERMISSION_DENIED;case 404:return w.NOT_FOUND;case 409:return w.ABORTED;case 416:return w.OUT_OF_RANGE;case 429:return w.RESOURCE_EXHAUSTED;case 499:return w.CANCELLED;case 500:return w.UNKNOWN;case 501:return w.UNIMPLEMENTED;case 503:return w.UNAVAILABLE;case 504:return w.DEADLINE_EXCEEDED;default:return t>=200&&t<300?w.OK:t>=400&&t<500?w.FAILED_PRECONDITION:t>=500&&t<600?w.INTERNAL:w.UNKNOWN}}(n),"Server responded with status "+c.getStatusText())):(p(cn,'RPC "'+t+'" failed'),a(new S(w.UNAVAILABLE,"Connection failed.")));break;default:v('RPC "'+t+'" failed with unanticipated webchannel error '+c.getLastErrorCode()+": "+c.getLastError()+", giving up.")}}finally{p(cn,'RPC "'+t+'" completed.')}}));var u=JSON.stringify(e);p(cn,"XHR sending: ",i+" "+u);var l={"Content-Type":"text/plain"};r.modifyHeadersForRequest(l,n),c.send(i,"POST",u,l,15)}))},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=s.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,e),c.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");p(cn,"Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),u=!1,l=!1,d=new sn({sendFn:function(t){l?p(cn,"Not sending because WebChannel is closed:",t):(u||(p(cn,"Opening WebChannel transport."),a.open(),u=!0),p(cn,"WebChannel sending:",t),a.send(t))},closeFn:function(){return a.close()}}),f=function(t,e){a.listen(t,(function(t){try{e(t)}catch(n){setTimeout((function(){throw n}),0)}}))};return f(s.WebChannel.EventType.OPEN,(function(){l||p(cn,"WebChannel transport opened.")})),f(s.WebChannel.EventType.CLOSE,(function(){l||(l=!0,p(cn,"WebChannel transport closed"),d.callOnClose())})),f(s.WebChannel.EventType.ERROR,(function(t){l||(l=!0,p(cn,"WebChannel transport errored:",t),d.callOnClose(new S(w.UNAVAILABLE,"The operation could not be completed")))})),f(s.WebChannel.EventType.MESSAGE,(function(t){if(!l){var e=t.data[0];y(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){p(cn,"WebChannel received error:",n);var r=n.status,i=function(t){var e=we[t];if(void 0!==e)return Ee(e)}(r),o=n.message;void 0===i&&(i=w.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),l=!0,d.callOnClose(new S(i,o)),a.close()}else p(cn,"WebChannel received:",e),d.callOnMessage(e)}})),setTimeout((function(){d.callOnOpen()}),0),d},t.prototype.makeUrl=function(t){var e=un[t];y(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}();b.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new dn(t))},t.prototype.newSerializer=function(t){return new on(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}()));var fn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),hn=function(){return function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}}(),pn=function(t){return t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection",t}({}),mn=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(w.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),gn=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then((function(){return e.operationInProgress=!0,t().catch((function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw m("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw t}),0),t})).then((function(t){return e.operationInProgress=!1,t}))}));return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),y(e>=0,"Attempted to schedule an operation with a negative delay of "+e),y(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var i=mn.createAndSchedule(this,t,e,n,(function(t){return r.removeDelayedOperation(t)}));return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&v("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){y(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue((function(){return Promise.resolve()}))},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then((function(){y(t===pn.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==pn.All&&i.timerId===t)break}return e.drain()}))},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);y(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),vn="",yn="",bn="",_n="";function wn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=En(e)),e=Sn(t.get(n),e);return En(e)}function Sn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=vn+bn;break;case vn:n+=vn+_n;break;default:n+=o}}return n}function En(t){return t+vn+yn}function xn(t){var e=t.length;if(y(e>=2,"Invalid path "+t),2===e)return y(t.charAt(0)===vn&&t.charAt(1)===yn,"Non-empty path "+t+" had length 2"),st.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(vn,o);switch((a<0||a>n)&&v('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case yn:var s=t.substring(o,a),c=void 0;0===i.length?c=s:(c=i+=s,i=""),r.push(c);break;case bn:i+=t.substring(o,a),i+="\0";break;case _n:i+=t.substring(o,a+1);break;default:v('Invalid encoded resource path: "'+t+'"')}o=a+2}return new st(r)}var Cn=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r,y(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&y(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;y(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.applyToRemoteDocument(e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){e&&y(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=s.applyToLocalView(e,e,this.localWriteTime));for(var i=e,o=0,a=this.mutations;o<a.length;o++){var s;(s=a[o]).key.isEqual(t)&&(e=s.applyToLocalView(e,i,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Me())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Q(this.mutations,t.mutations)&&Q(this.baseMutations,t.baseMutations)},t}(),kn=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){y(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=Oe(),a=e.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,r[s].version);return new t(e,n,r,i,o)},t}(),Tn=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&v("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Pn=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r,i){return y(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $n(t).iterate({index:dr.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next((function(e){return e.lastStreamToken=On(n),Dn(t).put(e)}))},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next((function(t){return t.lastStreamToken}))},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next((function(n){return n.lastStreamToken=On(e),Dn(t).put(n)}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Mn(t),a=$n(t);return a.add({}).next((function(s){y("number"==typeof s,"Auto-generated key is not a number");var c=new Cn(s,e,n,r),u=i.serializer.toDbMutationBatch(i.userId,c);i.documentKeysByBatchId[s]=c.keys();for(var l=[],d=0,f=r;d<f.length;d++){var h=f[d],p=fr.key(i.userId,h.key.path,s);l.push(a.put(u)),l.push(o.put(p,fr.PLACEHOLDER)),l.push(i.indexManager.addToCollectionParentIndex(t,h.key.path.popLast()))}return Tn.waitFor(l).next((function(){return c}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return $n(t).get(e).next((function(t){return t?(y(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null}))},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?Tn.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this;return this.getMutationQueueMetadata(t).next((function(r){var i=e+1,o=IDBKeyRange.lowerBound([n.userId,i]),a=null;return $n(t).iterate({index:dr.userMutationsIndex,range:o},(function(t,e,r){e.userId===n.userId&&(y(e.batchId>=i,"Should have found mutation after "+i),a=n.serializer.fromDbMutationBatch(e)),r.done()})).next((function(){return a}))}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $n(t).loadAll(dr.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.fromDbMutationBatch(t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=fr.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Mn(t).iterate({range:i},(function(r,i,a){var s=r[0],c=r[2],u=xn(r[1]);if(s===n.userId&&e.path.isEqual(u))return $n(t).get(c).next((function(t){if(!t)throw v("Dangling document-mutation reference found: "+r+" which points to "+c);y(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+c),o.push(n.serializer.fromDbMutationBatch(t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new re(K),i=[];return e.forEach((function(e){var o=fr.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Mn(t).iterate({range:a},(function(t,i,o){var a=t[0],s=t[2],c=xn(t[1]);a===n.userId&&e.path.isEqual(c)?r=r.add(s):o.done()}));i.push(s)})),Tn.waitFor(i).next((function(){return n.lookupMutationBatches(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;y(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),y(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,o=fr.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new re(K);return Mn(t).iterate({range:a},(function(t,e,o){var a=t[0],c=t[2],u=xn(t[1]);a===n.userId&&r.isPrefixOf(u)?u.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.lookupMutationBatches(t,s)}))},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push($n(t).get(e).next((function(t){if(null===t)throw v("Dangling document-mutation reference found, which points to "+e);y(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))})))})),Tn.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return An(t.simpleDbTransaction,this.userId,e).next((function(r){return n.removeCachedMutationKeys(e.batchId),Tn.forEach(r,(function(e){return n.referenceDelegate.removeMutationReference(t,e)}))}))},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Tn.resolve();var r=IDBKeyRange.lowerBound(fr.prefixForUser(e.userId)),i=[];return Mn(t).iterate({range:r},(function(t,n,r){if(t[0]===e.userId){var o=xn(t[1]);i.push(o)}else r.done()})).next((function(){y(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(t){return t.canonicalString()})))}))}))},t.prototype.containsKey=function(t,e){return In(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return Dn(t).get(this.userId).next((function(t){return t||new lr(e.userId,-1,"")}))},t}();function In(t,e,n){var r=fr.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Mn(t).iterate({range:o,keysOnly:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function An(t,e,n){var r=t.store(dr.store),i=t.store(fr.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,c=r.iterate({range:a},(function(t,e,n){return s++,n.delete()}));o.push(c.next((function(){y(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var u=[],l=0,d=n.mutations;l<d.length;l++){var f=d[l],h=fr.key(e,f.key.path,n.batchId);o.push(i.delete(h)),u.push(f.key)}return Tn.waitFor(o).next((function(){return u}))}function On(t){return t instanceof Uint8Array?(y("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function $n(t){return Fr.getStore(t,dr.store)}function Mn(t){return Fr.getStore(t,fr.store)}function Dn(t){return Fr.getStore(t,lr.store)}var Nn=1,Rn=function(t){return t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine",t}({}),Ln=function(){function t(t,e){this.generatorId=t,y((t&Nn)===t,"Generator ID "+t+" contains more than "+Nn+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<Nn,t},t.prototype.after=function(t){return this.seek(t+(1<<Nn)),this.next()},t.prototype.seek=function(t){y((t&Nn)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t(Rn.QueryCache,2)},t.forSyncEngine=function(){return new t(Rn.SyncEngine)},t}(),jn=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return y(t.isAvailable(),"IndexedDB not supported in current environment."),p("SimpleDb","Opening database:",e),new Tn((function(i,o){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){i(new t(e.target.result))},a.onblocked=function(){o(new S(w.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new S(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},a.onupgradeneeded=function(t){p("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new Bn(a.transaction);r.createOrUpgrade(n,i,t.oldVersion,ar).next((function(){p("SimpleDb","Database upgrade to version "+ar+" complete")}))}})).toPromise()},t.delete=function(t){return p("SimpleDb","Removing database:",t),Hn(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var e=window.navigator.userAgent,n=t.getIOSVersion(e),r=0<n&&n<10,i=t.getAndroidVersion(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.getStore=function(t,e){return t.store(e)},t.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_")[0]:"-1";return Number(n)},t.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.runTransaction=function(t,e,n){var r=Bn.open(this.db,t,e),i=n(r).catch((function(t){return r.abort(t),Tn.reject(t)})).toPromise();return i.catch((function(){})),r.completionPromise.then((function(){return i}))},t.prototype.close=function(){this.db.close()},t}(),Fn=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Hn(this.dbCursor.delete())},t}(),Bn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new hn,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){e.completionDeferred.reject(t.target.error)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(p("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return y(!!e,"Object store not part of transaction: "+t),new Vn(e)},t}(),Vn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Hn(n)},t.prototype.add=function(t){return p("SimpleDb","ADD",this.store.name,t,t),Hn(this.store.add(t))},t.prototype.get=function(t){var e=this;return Hn(this.store.get(t)).next((function(n){return void 0===n&&(n=null),p("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return p("SimpleDb","DELETE",this.store.name,t),Hn(this.store.delete(t))},t.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),Hn(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.deleteAll=function(t,e){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,(function(t,e,n){return n.delete()}))},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new Tn((function(n,r){e.onerror=function(t){r(t.target.error)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.iterateCursor=function(t,e){var n=[];return new Tn((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Fn(i),a=e(i.primaryKey,i.value,o);if(a instanceof Tn){var s=a.catch((function(t){return o.done(),Tn.reject(t)}));n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}})).next((function(){return Tn.waitFor(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(y(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Hn(t){return new Tn((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){n(t.target.error)}}))}var Un=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=Ln.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next((function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next((function(t){return te.fromTimestamp(new nt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return Wn(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)}))},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next((function(){return n.retrieveMetadata(t).next((function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)}))}))},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return qn(t).delete(e.targetId)})).next((function(){return n.retrieveMetadata(t)})).next((function(e){return y(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return qn(t).iterate((function(a,s){var c=r.serializer.fromDbTarget(s);c.sequenceNumber<=e&&void 0===n[c.targetId]&&(i++,o.push(r.removeQueryData(t,c)))})).next((function(){return Tn.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){var n=this;return qn(t).iterate((function(t,r){var i=n.serializer.fromDbTarget(r);e(i)}))},t.prototype.retrieveMetadata=function(t){return zn(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,Fr.getStore(n,br.store)).put(br.key,e);var n},t.prototype.saveQueryData=function(t,e){return qn(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next((function(t){return t.targetCount}))},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return qn(t).iterate({range:i,index:vr.queryTargetsIndexName},(function(t,r,i){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(o=a,i.done())})).next((function(){return o}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Gn(t);return e.forEach((function(e){var a=wn(e.path);i.push(o.put(new yr(n,a))),i.push(r.referenceDelegate.addReference(t,e))})),Tn.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Gn(t);return Tn.forEach(e,(function(e){var o=wn(e.path);return Tn.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Gn(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Gn(t),i=Me();return r.iterate({range:n,keysOnly:!0},(function(t,e,n){var r=xn(t[1]),o=new lt(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=wn(e.path),r=IDBKeyRange.bound([n],[Y(n)],!1,!0),i=0;return Gn(t).iterate({index:yr.documentTargetsIndex,keysOnly:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return qn(t).get(e).next((function(t){return t?n.serializer.fromDbTarget(t):null}))},t}();function qn(t){return Fr.getStore(t,vr.store)}function zn(t){return jn.getStore(t,br.store).get(br.key).next((function(t){return y(null!==t,"Missing metadata row."),t}))}function Wn(t){return zn(t).next((function(t){return t.highestListenSequenceNumber}))}function Gn(t){return Fr.getStore(t,yr.store)}var Kn=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(o[0].isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){T(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return P(this.inner)},t}(),Qn=function(){function t(){this.changes=ke(),this.documentSizes=new Kn((function(t){return t.toString()}))}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this,r=this.assertChanges().get(e);return r?Tn.resolve(r):this.getFromCache(t,e).next((function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)}))},t.prototype.getEntries=function(t,e){var n=this;return this.getAllFromCache(t,e).next((function(t){var e=t.maybeDocuments;return t.sizeMap.forEach((function(t,e){n.documentSizes.set(t,e)})),e}))},t.prototype.apply=function(t){var e=this.applyChanges(t);return this.changes=null,e},t.prototype.assertChanges=function(){return y(null!==this.changes,"Changes have already been applied."),this.changes},t}(),Yn="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",Xn=function(){function t(t,e,n){this.serializer=t,this.indexManager=e,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=jn.getStore(t,Sr.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntries=function(t,e,n){var r=[];if(e.length>0){for(var i=tr(t),o=Me(),a=0,s=e;a<s.length;a++){var c=s[a],u=c.key,l=c.doc;r.push(i.put(nr(u),l)),o=o.add(u),r.push(this.indexManager.addToCollectionParentIndex(t,u.path.popLast()))}this.keepDocumentChangeLog&&r.push(er(t).put({changes:this.serializer.toDbResourcePaths(o)})),r.push(this.updateSize(t,n))}return Tn.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=tr(t),r=nr(e);return n.get(r).next((function(t){return t?n.delete(r).next((function(){return rr(t)})):Tn.resolve(0)}))},t.prototype.getEntry=function(t,e){var n=this;return tr(t).get(nr(e)).next((function(t){return t?n.serializer.fromDbRemoteDocument(t):null}))},t.prototype.getSizedEntry=function(t,e){var n=this;return tr(t).get(nr(e)).next((function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:rr(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Te();return this.forEachDbEntry(t,e,(function(t,e){r=r.insert(t,e?n.serializer.fromDbRemoteDocument(e):null)})).next((function(){return r}))},t.prototype.getSizedEntries=function(t,e){var n=this,r=Te(),i=new mt(lt.comparator);return this.forEachDbEntry(t,e,(function(t,e){e?(r=r.insert(t,n.serializer.fromDbRemoteDocument(e)),i=i.insert(t,rr(e))):(r=r.insert(t,null),i=i.insert(t,0))})).next((function(){return{maybeDocuments:r,sizeMap:i}}))},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return Tn.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return tr(t).iterate({range:r},(function(t,e,r){for(var a=lt.fromSegments(t);o&&lt.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this;y(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Ie(),i=e.path.length+1,o=e.path.toArray(),a=IDBKeyRange.lowerBound(o);return tr(t).iterate({range:a},(function(t,o,a){if(t.length===i){var s=n.serializer.fromDbRemoteDocument(o);e.path.isPrefixOf(s.key.path)?s instanceof ft&&e.matches(s)&&(r=r.insert(s.key,s)):a.done()}})).next((function(){return r}))},t.prototype.getNewDocumentChanges=function(t){var e=this;y(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Me(),r=ke(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=er(t);return a.iterate({range:i},(function(t,r){if(o&&(o=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(a).next((function(){return Tn.reject(new S(w.DATA_LOSS,Yn))}));n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id})).next((function(){var i=[];return n.forEach((function(n){i.push(e.getEntry(t,n).next((function(t){var e=t||new ht(n,te.forDeletedDoc());r=r.insert(n,e)})))})),Tn.waitFor(i)})).next((function(){return r}))},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return er(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},(function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()}))},t.prototype.newChangeBuffer=function(){return new Jn(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Zn(t).get(gr.key).next((function(t){return y(!!t,"Missing document cache metadata"),t}))},t.prototype.setMetadata=function(t,e){return Zn(t).put(gr.key,e)},t.prototype.updateSize=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.setMetadata(t,r)}))},t}();function Zn(t){return Fr.getStore(t,gr.store)}var Jn=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return a.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach((function(t,n){var o=e.documentCache.serializer.toDbRemoteDocument(n),a=e.documentSizes.get(t);y(void 0!==a,"Attempting to change document "+t.toString()+" without having read it first");var s=rr(o);r+=s-a,i.push({key:t,doc:o})})),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(Qn);function tr(t){return Fr.getStore(t,mr.store)}function er(t){return Fr.getStore(t,Sr.store)}function nr(t){return t.path.toArray()}function rr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var ir=function(){function t(){this.collectionParentIndex=new or}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),Tn.resolve()},t.prototype.getCollectionParents=function(t,e){return Tn.resolve(this.collectionParentIndex.getEntries(e))},t}(),or=function(){function t(){this.index={}}return t.prototype.add=function(t){y(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new re(st.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.getEntries=function(t){return(this.index[t]||new re(st.comparator)).toArray()},t}(),ar=8,sr=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;y(n<r&&n>=0&&r<=ar,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(ur.store)}(t),function(t){t.createObjectStore(lr.store,{keyPath:lr.keyPath}),t.createObjectStore(dr.store,{keyPath:dr.keyPath,autoIncrement:!0}).createIndex(dr.userMutationsIndex,dr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(fr.store)}(t),wr(t),function(t){t.createObjectStore(mr.store)}(t));var o=Tn.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(yr.store),t.deleteObjectStore(vr.store),t.deleteObjectStore(br.store)}(t),wr(t)),o=o.next((function(){return function(t){var e=t.store(br.store),n=new br(0,0,te.MIN.toTimestamp(),0);return e.put(br.key,n)}(e)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(dr.store).loadAll().next((function(n){t.deleteObjectStore(dr.store),t.createObjectStore(dr.store,{keyPath:dr.keyPath,autoIncrement:!0}).createIndex(dr.userMutationsIndex,dr.userMutationsKeyPath,{unique:!0});var r=e.store(dr.store),i=n.map((function(t){return r.put(t)}));return Tn.waitFor(i)}))}(t,e)}))),o=o.next((function(){!function(t){t.createObjectStore(Er.store,{keyPath:Er.keyPath})}(t),function(t){t.createObjectStore(Sr.store,{keyPath:"id",autoIncrement:!0})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(e)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(gr.store)}(t),i.addDocumentGlobal(e)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(e)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(t,e)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(mr.store).iterate((function(t,n){e+=rr(n)})).next((function(){var n=new gr(e);return t.store(gr.store).put(gr.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(lr.store),r=t.store(dr.store);return n.loadAll().next((function(n){return Tn.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(dr.userMutationsIndex,i).next((function(r){return Tn.forEach(r,(function(r){y(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return An(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(yr.store),n=t.store(mr.store);return Wn(t).next((function(t){var r=[];return n.iterate((function(n,i){var o=new st(n),a=function(t){return[0,wn(t)]}(o);r.push(e.get(a).next((function(n){return n?Tn.resolve():function(n){return e.put(new yr(0,wn(n),t))}(o)})))})).next((function(){return Tn.waitFor(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(_r.store,{keyPath:_r.keyPath});var n=e.store(_r.store),r=new or,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:wn(i)})}};return e.store(mr.store).iterate({keysOnly:!0},(function(t,e){var n=new st(t);return i(n.popLast())})).next((function(){return e.store(fr.store).iterate({keysOnly:!0},(function(t,e){var n=xn(t[1]);return i(n.popLast())}))}))},t}(),cr=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),ur=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),lr=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),dr=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),fr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,wn(e)]},t.key=function(t,e,n){return[t,wn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),hr=function(){return function(t,e){this.path=t,this.readTime=e}}(),pr=function(){return function(t,e){this.path=t,this.version=e}}(),mr=function(){function t(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}return t.store="remoteDocuments",t}(),gr=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),vr=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),yr=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,y(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),br=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),_r=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function wr(t){t.createObjectStore(yr.store,{keyPath:yr.keyPath}).createIndex(yr.documentTargetsIndex,yr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(vr.store,{keyPath:vr.keyPath}).createIndex(vr.queryTargetsIndexName,vr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(br.store)}var Sr=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}(),Er=function(){function t(t,e,n,r,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return t.store="clientMetadata",t.keyPath="clientId",t}(),xr=[lr.store,dr.store,fr.store,mr.store,vr.store,ur.store,br.store,yr.store].concat([Er.store,Sr.store]).concat([gr.store]).concat([_r.store]),Cr=function(){function t(){this.collectionParentsCache=new or}return t.prototype.addToCollectionParentIndex=function(t,e){if(y(e.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(e)){y(e.length>=1,"Invalid collection path.");var n=e.lastSegment(),r=e.popLast();return kr(t).put({collectionId:n,parent:wn(r)})}return Tn.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Y(e),""],!1,!0);return kr(t).loadAll(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(xn(o.parent))}return n}))},t}();function kr(t){return Fr.getStore(t,_r.store)}var Tr=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=lt.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new ht(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=lt.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version),new pt(e,n)):v("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof ft){var e=t.proto?t.proto:this.remoteSerializer.toDocument(t);return new mr(null,null,e,i=t.hasCommittedMutations)}if(t instanceof ht){var n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),i=t.hasCommittedMutations;return new mr(null,new hr(n,r),null,i)}return t instanceof pt?(n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),new mr(new pr(n,r),null,null,!0)):v("Unexpected MaybeDocumment")},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new cr(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new nt(t.seconds,t.nanoseconds);return te.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n.remoteSerializer.toMutation(t)})),i=e.mutations.map((function(t){return n.remoteSerializer.toMutation(t)}));return new dr(t,e.batchId,e.localWriteTime.toMillis(),r,i)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.remoteSerializer.fromMutation(t)})),r=t.mutations.map((function(t){return e.remoteSerializer.fromMutation(t)})),i=nt.fromMillis(t.localWriteTimeMs);return new Cn(t.batchId,i,n,r)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach((function(t){e.push(wn(t.path))})),e},t.prototype.fromDbResourcePaths=function(t){for(var e=Me(),n=0,r=t;n<r.length;n++)e=e.add(new lt(xn(r[n])));return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new ne(e,t.targetId,ee.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},t.prototype.toDbTarget=function(t){y(ee.Listen===t.purpose,"Only queries with purpose "+ee.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(y("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new vr(t.targetId,t.query.canonicalId(),r,n,t.sequenceNumber,e)},t}();function Pr(t,e){var n=t[1],r=e[1],i=K(t[0],e[0]);return 0===i?K(n,r):i}var Ir=function(){function t(t){this.maxElements=t,this.buffer=new re(Pr),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Pr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Ar={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Or=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),$r=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.gcTask=null}return t.prototype.start=function(){y(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Or.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;y(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(pn.LruGarbageCollection,e,(function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then((function(){return t.scheduleGC()})).catch(Br)}))},t}(),Mr=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Tn.resolve(fn.INVALID);var r=new Ir(e);return this.delegate.forEachTarget(t,(function(t){return r.addElement(t.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,(function(t){return r.addElement(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===Or.COLLECTION_DISABLED?(p("LruGarbageCollector","Garbage collection skipped; disabled"),Tn.resolve(Ar)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ar):n.runGarbageCollection(t,e)}))},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,i,o,a,s,c,u,l=this;return o=Date.now(),this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>l.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,a=Date.now(),l.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),l.removeTargets(t,n,e)})).next((function(e){return i=e,c=Date.now(),l.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),f()<=d.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-o)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+i+" targets in "+(c-s)+"ms\n\tRemoved "+t+" documents in "+(u-c)+"ms\nTotal Duration: "+(u-o)+"ms"),Tn.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),Dr="IndexedDbPersistence",Nr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Rr="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.",Lr="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",jr=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return a.__extends(e,t),e}(function(){return function(){}}()),Fr=function(){function t(e,n,r,i,o,a,s){if(this.persistenceKey=e,this.clientId=n,this.queue=i,this.multiClientParams=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},!t.isAvailable())throw new S(w.UNIMPLEMENTED,Lr);if(this.referenceDelegate=new Ur(this,a),this.dbName=e+t.MAIN_DATABASE,this.serializer=new Tr(o),this.document=r.document,this.allowTabSynchronization=void 0!==s,this.queryCache=new Un(this.referenceDelegate,this.serializer),this.indexManager=new Cr,this.remoteDocumentCache=new Xn(this.serializer,this.indexManager,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new S(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof jr)return jn.getStore(t.simpleDbTransaction,e);throw v("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e,n,r,i,o,s){return a.__awaiter(this,void 0,void 0,(function(){var c;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,(c=new t(e,n,r,i,o,s)).start()];case 1:return a.sent(),[2,c]}}))}))},t.createMultiClientIndexedDbPersistence=function(e,n,r,i,o,s,c){return a.__awaiter(this,void 0,void 0,(function(){var u;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,(u=new t(e,n,r,i,o,s,c)).start()];case 1:return a.sent(),[2,u]}}))}))},t.prototype.start=function(){var t=this;return y(!this.started,"IndexedDbPersistence double-started!"),y(null!==this.window,"Expected 'window' to be defined"),jn.openOrCreate(this.dbName,ar,new sr(this.serializer)).then((function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()})).then((function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.startRemoteDocumentCache()})).then((function(){return t.simpleDb.runTransaction("readonly",[br.store],(function(e){return Wn(e).next((function(e){t.listenSequence=new fn(e,t.multiClientParams?t.multiClientParams.sequenceNumberSyncer:void 0)}))}))})).then((function(){t._started=!0})).catch((function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)}))},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",xr,(function(e){return t.remoteDocumentCache.start(e)}))},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return a.__awaiter(e,void 0,void 0,(function(){return a.__generator(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget((function(){return a.__awaiter(e,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",xr,(function(e){return Hr(e).put(new Er(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next((function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next((function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget((function(){return t.primaryStateListener(!1)})))}))})).next((function(){return t.canActAsPrimary(e)})).next((function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget((function(){return t.primaryStateListener(t.isPrimary)})),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0}))}))},t.prototype.verifyPrimaryLease=function(t){var e=this;return Vr(t).get(ur.key).next((function(t){return Tn.resolve(e.isLocalClient(t))}))},t.prototype.removeClientMetadata=function(t){return Hr(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return a.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return a.__generator(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(i){var o=t.getStore(i,Er.store);return o.loadAll().next((function(t){e=r.filterActiveClients(t,18e5),n=t.filter((function(t){return-1===e.indexOf(t)}))})).next((function(){return Tn.forEach(n,(function(t){return o.delete(t.clientId)}))})).next((function(){if((e=e.filter((function(t){return t.clientId!==r.clientId}))).length>0){var t=e.map((function(t){return t.lastProcessedDocumentChangeId||0})),n=Math.min.apply(Math,t);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}}))}))]);case 1:i.sent(),n.forEach((function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))})),i.label=2;case 2:return[2]}}))}))},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(pn.ClientMetadataRefresh,4e3,(function(){return t.updateClientMetadataAndTryBecomePrimary().then((function(){return t.maybeGarbageCollectMultiClientState()})).then((function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return Vr(t).get(ur.key).next((function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new S(w.FAILED_PRECONDITION,Rr);return!1}}return!(!e.networkEnabled||!e.inForeground)||Hr(t).loadAll().next((function(t){return void 0===e.filterActiveClients(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&p(Dr,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,(function(){var t=this;return a.__generator(this,(function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[ur.store,Er.store],(function(e){return t.releasePrimaryLeaseIfHeld(e).next((function(){return t.removeClientMetadata(e)}))}))];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter((function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)}))},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[Er.store],(function(e){return Hr(e).loadAll().next((function(e){return t.filterActiveClients(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(n){switch(n.label){case 0:return t.isAvailable()?[4,jn.delete(e+t.MAIN_DATABASE)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return y(this.started,"Cannot initialize MutationQueue before persistence is started."),Pn.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getQueryCache=function(){return y(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return y(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return y(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},t.prototype.runTransaction=function(t,e,n){var r=this;return p(Dr,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",xr,(function(i){return"readwrite-primary"===e?r.verifyPrimaryLease(i).next((function(e){if(!e)throw m("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget((function(){return r.primaryStateListener(!1)})),new S(w.FAILED_PRECONDITION,Nr);return n(new jr(i,r.listenSequence.next()))})).next((function(t){return r.acquireOrExtendPrimaryLease(i).next((function(){return t}))})):r.verifyAllowTabSynchronization(i).next((function(){return n(new jr(i,r.listenSequence.next()))}))}))},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return Vr(t).get(ur.key).next((function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new S(w.FAILED_PRECONDITION,Rr)}))},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new ur(this.clientId,this.allowTabSynchronization,Date.now());return Vr(t).put(ur.key,e)},t.isAvailable=function(){return jn.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=Vr(t);return n.get(ur.key).next((function(t){return e.isLocalClient(t)?(p(Dr,"Releasing primary lease."),n.delete(ur.key)):Tn.resolve()}))},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(m("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(y(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(y("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return p(Dr,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(n){return m(Dr,"Failed to get zombied client id.",n),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){m("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function Br(t){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){if(!function(t){return t.code===w.FAILED_PRECONDITION&&t.message===Nr}(t))throw t;return p(Dr,"Unexpectedly lost primary lease"),[2]}))}))}function Vr(t){return t.store(ur.store)}function Hr(t){return t.store(Er.store)}var Ur=function(){function t(t,e){this.db=t,this.garbageCollector=new Mr(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,(function(t,n){return e(n)}))},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return qr(t,e)},t.prototype.removeReference=function(t,e){return qr(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return qr(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?Tn.resolve(!0):function(t,e){var n=!1;return Dn(t).iterateSerial((function(r){return In(t,r,e).next((function(t){return t&&(n=!0),Tn.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=0,o=[];return this.forEachOrphanedDocument(t,(function(a,s){if(s<=e){var c=n.isPinned(t,a).next((function(e){if(!e)return r++,n.removeOrphanedDocument(t,a).next((function(t){i+=t}))}));o.push(c)}})).next((function(){return Tn.waitFor(o)})).next((function(){return n.db.getRemoteDocumentCache().updateSize(t,-i)})).next((function(){return r}))},t.prototype.removeOrphanedDocument=function(t,e){var n,r=0,i=this.db.getRemoteDocumentCache();return Tn.waitFor([Gn(t).delete((n=e,[0,wn(n.path)])),i.removeEntry(t,e).next((function(t){r+=t}))]).next((function(){return r}))},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return qr(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=Gn(t),i=fn.INVALID;return r.iterate({index:yr.documentTargetsIndex},(function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==fn.INVALID&&e(new lt(xn(n)),i),i=a,n=o):i=fn.INVALID})).next((function(){i!==fn.INVALID&&e(new lt(xn(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function qr(t,e){return Gn(t).put(function(t,e){return new yr(0,wn(t.path),e)}(e,t.currentSequenceNumber))}var zr=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.getDocumentInternal(t,e,r)}))},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t}))},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=Te();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)})),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next((function(e){return n.getLocalViewOfDocuments(t,e)}))},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(r){var i=n.applyLocalMutationsToDocuments(t,e,r),o=ke();return i.forEach((function(t,e){e||(e=new ht(t,te.forDeletedDoc())),o=o.insert(t,e)})),o}))},t.prototype.getDocumentsMatchingQuery=function(t,e){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new lt(e)).next((function(t){var e=Ie();return t instanceof ft&&(e=e.insert(t.key,t)),e}))},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e){var n=this;y(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=e.collectionGroup,i=Ie();return this.indexManager.getCollectionParents(t,r).next((function(o){return Tn.forEach(o,(function(o){var a=e.asCollectionQueryAtPath(o.child(r));return n.getDocumentsMatchingCollectionQuery(t,a).next((function(t){t.forEach((function(t,e){i=i.insert(t,e)}))}))})).next((function(){return i}))}))},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next((function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)})).next((function(t){for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0,s=o.mutations;a<s.length;a++){var c=s[a],u=c.key;if(e.path.isImmediateParentOf(u.path)){var l=n.get(u),d=c.applyToLocalView(l,l,o.localWriteTime);n=d instanceof ft?n.insert(u,d):n.remove(u)}}})).next((function(){return n.forEach((function(t,r){e.matches(r)||(n=n.remove(t))})),n}))},t}(),Wr=function(){function t(){this.refsByKey=new re(Gr.compareByKey),this.refsByTarget=new re(Gr.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Gr(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.removeRef(new Gr(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.removeReferencesForId=function(t){var e=this,n=lt.EMPTY,r=new Gr(n,t),i=new Gr(n,t+1),o=[];return this.refsByTarget.forEachInRange([r,i],(function(t){e.removeRef(t),o.push(t.key)})),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach((function(e){return t.removeRef(e)}))},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=lt.EMPTY,n=new Gr(e,t),r=new Gr(e,t+1),i=Me();return this.refsByTarget.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Gr(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Gr=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return lt.comparator(t.key,e.key)||K(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return K(t.targetOrBatchId,e.targetOrBatchId)||lt.comparator(t.key,e.key)},t}(),Kr=function(){function t(t,e){this.persistence=t,this.localViewReferences=new Wr,this.queryDataByTarget={},y(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new zr(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",(function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next((function(i){return r=i,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new zr(e.remoteDocuments,e.mutationQueue,e.persistence.getIndexManager()),e.mutationQueue.getAllMutationBatches(n)})).next((function(t){for(var i=[],o=[],a=Me(),s=0,c=r;s<c.length;s++){i.push((h=c[s]).batchId);for(var u=0,l=h.mutations;u<l.length;u++)a=a.add(l[u].key)}for(var d=0,f=t;d<f.length;d++){var h;o.push((h=f[d]).batchId);for(var p=0,m=h.mutations;p<m.length;p++)a=a.add(m[p].key)}return e.localDocuments.getDocuments(n,a).next((function(t){return{affectedDocuments:t,removedBatchIds:i,addedBatchIds:o}}))}))}))},t.prototype.localWrite=function(t){var e=this,n=nt.now(),r=t.reduce((function(t,e){return t.add(e.key)}),Me());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(i){return e.localDocuments.getDocuments(i,r).next((function(r){for(var o=[],a=0,s=t;a<s.length;a++){var c=s[a],u=r.get(c.key);if(!c.isIdempotent){var l=c.fieldMask;if(l){var d=u instanceof ft?l.applyTo(u.data):Nt.EMPTY;o.push(new fe(c.key,d,l,ue.exists(!0)))}}}return e.mutationQueue.addMutationBatch(i,n,o,t).next((function(t){var e=t.applyToLocalDocumentSet(r);return{batchId:t.batchId,changes:e}}))}))}))},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.mutationQueue.lookupMutationKeys(n,t).next((function(t){return t?e.localDocuments.getDocuments(n,t):Tn.resolve(null)}))}))},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next((function(){return e.applyWriteToRemoteDocuments(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.mutationQueue.performConsistencyCheck(n)})).next((function(){return e.localDocuments.getDocuments(n,r)}))}))},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next((function(t){return y(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)})).next((function(){return e.mutationQueue.performConsistencyCheck(n)})).next((function(){return e.localDocuments.getDocuments(n,r)}))}))},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(e){return t.mutationQueue.getLastStreamToken(e)}))},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return e.mutationQueue.setLastStreamToken(n,t)}))},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)}))},t.prototype.applyRemoteEvent=function(e){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(i){var o=[],a=Me();k(e.targetChanges,(function(r,s){var c=n.queryDataByTarget[r];if(c){s.addedDocuments.forEach((function(t){a=a.add(t)})),s.modifiedDocuments.forEach((function(t){a=a.add(t)})),o.push(n.queryCache.removeMatchingKeys(i,s.removedDocuments,r).next((function(){return n.queryCache.addMatchingKeys(i,s.addedDocuments,r)})));var u=s.resumeToken;if(u.length>0){var l=c;c=c.copy({resumeToken:u,snapshotVersion:e.snapshotVersion}),n.queryDataByTarget[r]=c,t.shouldPersistQueryData(l,c,s)&&o.push(n.queryCache.updateQueryData(i,c))}}}));var s=ke(),c=Me();e.documentUpdates.forEach((function(t,e){c=c.add(t)})),o.push(r.getEntries(i,c).next((function(t){e.documentUpdates.forEach((function(c,u){var l=t.get(c);null==l||u.version.isEqual(te.MIN)||a.has(u.key)&&!l.hasPendingWrites||u.version.compareTo(l.version)>=0?(r.addEntry(u),s=s.insert(c,u)):p("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version),e.resolvedLimboDocuments.has(c)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,c))}))})));var u=e.snapshotVersion;if(!u.isEqual(te.MIN)){var l=n.queryCache.getLastRemoteSnapshotVersion(i).next((function(t){return y(u.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+u+" < "+t),n.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,u)}));o.push(l)}return Tn.waitFor(o).next((function(){return r.apply(i)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(i,s)}))}))},t.shouldPersistQueryData=function(t,e,n){return 0!==e.resumeToken.length&&(0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return Tn.forEach(t,(function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),Tn.forEach(t.removedKeys,(function(t){return e.persistence.referenceDelegate.removeReference(n,t)}))}))}))},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)}))},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.localDocuments.getDocument(n,t)}))},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",(function(n){var r;return e.queryCache.getQueryData(n,t).next((function(i){return i?(r=i,Tn.resolve()):e.queryCache.allocateTargetId(n).next((function(i){return r=new ne(t,i,ee.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)}))})).next((function(){return y(!e.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[r.targetId]=r,r}))}))},t.prototype.releaseQuery=function(t,e){var n=this;return this.persistence.runTransaction("Release query",e?"readwrite":"readwrite-primary",(function(r){return n.queryCache.getQueryData(r,t).next((function(i){y(null!=i,"Tried to release nonexistent query: "+t);var o=i.targetId,a=n.queryDataByTarget[o],s=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],e?Tn.resolve():Tn.forEach(s,(function(t){return n.persistence.referenceDelegate.removeReference(r,t)})).next((function(){return n.persistence.referenceDelegate.removeTarget(r,a)}))}))}))},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",(function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)}))},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)}))},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,o=i.keys(),a=Tn.resolve();return o.forEach((function(r){a=a.next((function(){return n.getEntry(t,r)})).next((function(t){var o=t,a=e.docVersions.get(r);y(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,e))?n.addEntry(o):y(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))}))})),a.next((function(){return r.mutationQueue.removeMutationBatch(t,i)}))},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.queryDataByTarget)}))},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",(function(n){return e.queryCache.getQueryDataForTarget(n,t).next((function(t){return t?t.query:null}))}))},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.remoteDocuments.getNewDocumentChanges(e)}))},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Qr=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=_(),this.batchesByDocumentKey=new re(Gr.compareByKey)}return t.prototype.checkEmpty=function(t){return Tn.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");y(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return y(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,Tn.resolve()},t.prototype.getLastStreamToken=function(t){return Tn.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,Tn.resolve()},t.prototype.addMutationBatch=function(t,e,n,r){y(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&y(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new Cn(i,e,n,r);this.mutationQueue.push(o);for(var a=0,s=r;a<s.length;a++){var c=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Gr(c.key,i)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast())}return Tn.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Tn.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return y(null!=n,"Failed to find local mutation batch."),Tn.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.indexOfBatchId(e+1),r=n<0?0:n;return Tn.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)},t.prototype.getAllMutationBatches=function(t){return Tn.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Gr(e,0),i=new Gr(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],(function(t){y(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);y(null!==r,"Batches in the index must exist in the main table"),o.push(r)})),Tn.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new re(K);return e.forEach((function(t){var e=new Gr(t,0),i=new Gr(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],(function(e){y(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)}))})),Tn.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){y(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;lt.isDocumentKey(i)||(i=i.child(""));var o=new Gr(new lt(i),0),a=new re(K);return this.batchesByDocumentKey.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.targetOrBatchId)),!0)}),o),Tn.resolve(this.findMutationBatches(a))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;y(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return Tn.forEach(e.mutations,(function(i){var o=new Gr(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(t,i.key)})).next((function(){n.batchesByDocumentKey=r}))},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new Gr(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Tn.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&y(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Tn.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return y(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return y(n.batchId===t,"If found batch must match"),n},t}(),Yr=function(){function t(t){this.persistence=t,this.queries=new Kn((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=te.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Wr,this.targetCount=0,this.targetIdGenerator=Ln.forQueryCache()}return t.prototype.getTargetCount=function(t){return Tn.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach((function(t,n){return e(n)})),Tn.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Tn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Tn.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,Tn.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),Tn.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return y(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,Tn.resolve()},t.prototype.updateQueryData=function(t,e){return y(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),Tn.resolve()},t.prototype.removeQueryData=function(t,e){return y(this.targetCount>0,"Removing a target from an empty cache"),y(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,Tn.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.queries.forEach((function(a,s){s.sequenceNumber<=e&&!n[s.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),Tn.waitFor(o).next((function(){return i}))},t.prototype.getQueryCount=function(t){return Tn.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return Tn.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return v("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.addReference(t,e))})),Tn.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.removeReference(t,e))})),Tn.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),Tn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return Tn.resolve(n)},t.prototype.containsKey=function(t,e){return Tn.resolve(this.references.containsKey(e))},t}(),Xr=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new mt(lt.comparator),this.newDocumentChanges=Me(),this.size=0}return t.prototype.addEntries=function(t,e,n){for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i],s=a.maybeDocument.key;this.docs=this.docs.insert(s,a),this.newDocumentChanges=this.newDocumentChanges.add(s),r.push(this.indexManager.addToCollectionParentIndex(t,s.path.popLast()))}return this.size+=n,Tn.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=this.docs.get(e);return n?(this.docs=this.docs.remove(e),this.size-=n.size,Tn.resolve(n.size)):Tn.resolve(0)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Tn.resolve(n?n.maybeDocument:null)},t.prototype.getSizedEntry=function(t,e){return Tn.resolve(this.docs.get(e))},t.prototype.getEntries=function(t,e){var n=this,r=Te();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)})),Tn.resolve(r)},t.prototype.getSizedEntries=function(t,e){var n=this,r=Te(),i=new mt(lt.comparator);return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null),i=i.insert(t,e?e.size:0)})),Tn.resolve({maybeDocuments:r,sizeMap:i})},t.prototype.getDocumentsMatchingQuery=function(t,e){y(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Ie(),r=new lt(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.value.maybeDocument;if(!e.path.isPrefixOf(o.key.path))break;a instanceof ft&&e.matches(a)&&(n=n.insert(a.key,a))}return Tn.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return Tn.forEach(this.docs,(function(t){return e(t)}))},t.prototype.getNewDocumentChanges=function(t){var e=this,n=ke();return this.newDocumentChanges.forEach((function(t){var r=e.docs.get(t),i=r?r.maybeDocument:new ht(t,te.forDeletedDoc());n=n.insert(t,i)})),this.newDocumentChanges=Me(),Tn.resolve(n)},t.prototype.newChangeBuffer=function(){return new Zr(this.sizer,this)},t.prototype.getSize=function(t){return Tn.resolve(this.size)},t}(),Zr=function(t){function e(e,n){var r=t.call(this)||this;return r.sizer=e,r.documentCache=n,r}return a.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach((function(t,n){var o=e.documentSizes.get(t);y(void 0!==o,"Attempting to change document "+t.toString()+" without having read it first");var a=e.sizer(n);r+=a-o,i.push({maybeDocument:n,size:a})})),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(Qn),Jr=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new fn(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new Yr(this),this.indexManager=new ir,this.remoteDocumentCache=new Xr(this.indexManager,(function(t){return n.referenceDelegate.documentSize(t)}))}return t.createLruPersistence=function(e,n,r){return new t(e,(function(t){return new ni(t,new Tr(n),r)}))},t.createEagerPersistence=function(e){return new t(e,(function(t){return new ei(t)}))},t.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return[2,[this.clientId]]}))}))},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Qr(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;p("MemoryPersistence","Starting transaction:",t);var i=new ti(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next((function(t){return r.referenceDelegate.onTransactionCommitted(i).next((function(){return t}))})).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return Tn.or((n=this.mutationQueues,r=[],T(n,(function(t,e){return r.push(e)})),r).map((function(n){return function(){return n.containsKey(t,e)}})));var n,r},t}(),ti=function(){return function(t){this.currentSequenceNumber=t}}(),ei=function(){function t(t){this.persistence=t}return t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),Tn.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),Tn.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),Tn.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.orphanedDocuments.add(t)}))})).next((function(){return r.removeQueryData(t,e)}))},t.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache();return Tn.forEach(this.orphanedDocuments,(function(r){return e.isReferenced(t,r).next((function(e){return e?Tn.resolve():n.removeEntry(t,r).next((function(){}))}))}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next((function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)}))},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return Tn.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return Tn.resolve(n.inMemoryPins.containsKey(e))}])},t}(),ni=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.orphanedSequenceNumbers=new Kn((function(t){return wn(t.path)})),this.garbageCollector=new Mr(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return Tn.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return Tn.forEach(this.orphanedSequenceNumbers,(function(r,i){return n.isPinned(t,r,i).next((function(t){return t?Tn.resolve():e(i)}))}))},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache();return i.forEachDocumentKey(t,(function(o){return n.isPinned(t,o,e).next((function(e){return e?Tn.resolve():(r++,i.removeEntry(t,o).next())}))})).next((function(){return r}))},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Tn.resolve()},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Tn.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Tn.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Tn.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw v("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return Tn.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return Tn.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return Tn.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),ri=function(){function t(t,e,n,r,i){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,(function(){return e.lastAttemptTime=Date.now(),t()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),ii=function(t){return t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t}({}),oi=1e3,ai=6e4,si=1.5,ci=function(){function t(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=ii.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new ri(t,e,oi,si,ai)}return t.prototype.isStarted=function(){return this.state===ii.Starting||this.state===ii.Open||this.state===ii.Backoff},t.prototype.isOpen=function(){return this.state===ii.Open},t.prototype.start=function(){this.state!==ii.Error?(y(this.state===ii.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(ii.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.inhibitBackoff=function(){y(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=ii.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return t.handleIdleCloseTimer()})))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return this.isOpen()?[2,this.close(ii.Initial)]:[2]}))}))},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(n){switch(n.label){case 0:return y(this.isStarted(),"Only started streams should be closed."),y(t===ii.Error||Vt(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==ii.Error?this.backoff.reset():e&&e.code===w.RESOURCE_EXHAUSTED?(m(e.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===w.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;y(this.state===ii.Initial,"Must be in initial state to auth"),this.state=ii.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(e){t.closeCount===n&&t.startStream(e)}),(function(n){e((function(){var e=new S(w.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)}))}))},t.prototype.startStream=function(t){var e=this;y(this.state===ii.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen((function(){n((function(){return y(e.state===ii.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=ii.Open,e.listener.onOpen()}))})),this.stream.onClose((function(t){n((function(){return e.handleStreamClose(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.performBackoff=function(){var t=this;y(this.state===ii.Error,"Should only perform backoff when in Error state"),this.state=ii.Backoff,this.backoff.backoffAndRun((function(){return a.__awaiter(t,void 0,void 0,(function(){return a.__generator(this,(function(t){return y(this.state===ii.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=ii.Initial,this.start(),y(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},t.prototype.handleStreamClose=function(t){return y(this.isStarted(),"Can't handle server close on non-started stream"),p("PersistentStream","close with error: "+t),this.stream=null,this.close(ii.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget((function(){return e.closeCount===t?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ui=function(t){function e(e,n,r,i,o){var a=t.call(this,e,pn.ListenStreamConnectionBackoff,pn.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return a.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(ci),li=function(t){function e(e,n,r,i,o){var a=t.call(this,e,pn.WriteStreamConnectionBackoff,pn.WriteStreamIdle,n,r,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a}return a.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(y(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return y(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){y(this.isOpen(),"Writing handshake requires an opened stream"),y(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;y(this.isOpen(),"Writing mutations requires an opened stream"),y(this.handshakeComplete_,"Handshake must be complete before writing mutations"),y(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map((function(t){return e.serializer.toMutation(t)}))};this.sendRequest(n)},e}(ci),di=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new li(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new ui(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map((function(t){return e.serializer.toMutation(t)}))};return this.invokeRPC("Commit",n).then((function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)}))},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map((function(t){return e.serializer.toName(t)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var r=ke();n.forEach((function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)}));var i=[];return t.forEach((function(t){var e=r.get(t);y(!!e,"Missing entity in write response for "+t),i.push(e)})),i}))},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeRPC(t,e,r)})).catch((function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t}))},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeStreamingRPC(t,e,r)})).catch((function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t}))},t}(),fi=function(){function t(t){this.datastore=t,this.readVersions=Oe(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e;if(t instanceof ft)e=t.version;else{if(!(t instanceof ht))throw v("Document in a transaction was a "+t.constructor.name);e=te.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new S(w.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then((function(t){return t.forEach((function(t){t instanceof ht||t instanceof ft?e.recordVersion(t):v("Document in a transaction was a "+t.constructor.name)})),t}))},t.prototype.write=function(t){if(this.committed)throw new S(w.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?ue.updateTime(e):ue.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(te.forDeletedDoc()))throw new S(w.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?ue.updateTime(e):ue.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new pe(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,te.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach((function(t){e=e.remove(t.key)})),e.isEmpty()?this.datastore.commit(this.mutations).then((function(){t.committed=!0})):Promise.reject(Error("Every document read in a transaction must also be written."))},t}(),hi=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),pi=function(t){return t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState",t}({}),mi=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=hi.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(hi.Unknown),y(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(pn.OnlineStateTimeout,1e4,(function(){return t.onlineStateTimer=null,y(t.state===hi.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(hi.Offline),Promise.resolve()})))},t.prototype.handleWatchStreamFailure=function(t){this.state===hi.Online?(this.setAndBroadcast(hi.Unknown),y(0===this.watchStreamFailures,"watchStreamFailures must be 0"),y(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(hi.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===hi.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(m(e),this.shouldWarnClientIsOffline=!1):p("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),gi=function(){function t(t,e,n,r){this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.onlineStateTracker=new mi(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return a.__awaiter(this,void 0,void 0,(function(){var t;return a.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(hi.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(hi.Offline),[2]}}))}))},t.prototype.disableNetworkInternal=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(p("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},t.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return p("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(hi.Unknown),[2]}}))}))},t.prototype.listen=function(t){y(!x(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){y(x(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),P(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(hi.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){y(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Ke(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!P(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return a.__awaiter(this,void 0,void 0,(function(){var t=this;return a.__generator(this,(function(e){return k(this.listenTargets,(function(e,n){t.sendWatchRequest(n)})),[2]}))}))},t.prototype.onWatchStreamClose=function(t){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){return void 0===t&&y(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(hi.Unknown),[2]}))}))},t.prototype.onWatchStreamChange=function(t,e){return a.__awaiter(this,void 0,void 0,(function(){var n;return a.__generator(this,(function(r){switch(r.label){case 0:return this.onlineStateTracker.set(hi.Online),t instanceof We&&t.state===ze.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Ue?this.watchChangeAggregator.handleDocumentChange(t):t instanceof qe?this.watchChangeAggregator.handleExistenceFilter(t):(y(t instanceof We,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(te.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.raiseWatchSnapshot=function(t){var e=this;y(!t.isEqual(te.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return k(n.targetChanges,(function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.copy({resumeToken:r.resumeToken,snapshotVersion:t}))}})),n.targetMismatches.forEach((function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.copy({resumeToken:_()}),e.sendUnwatchRequest(t);var r=new ne(n.query,t,ee.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}})),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;y(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach((function(t){r=r.then((function(){return a.__awaiter(e,void 0,void 0,(function(){return a.__generator(this,(function(e){return x(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]}))}))}))})),r},t.prototype.fillWritePipeline=function(){return a.__awaiter(this,void 0,void 0,(function(){var t;return a.__generator(this,(function(e){switch(e.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:e.sent(),e.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){y(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){y(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return this.writeStream.writeHandshake(),[2]}))}))},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var e=0,n=t.writePipeline;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)})).catch(Br)},t.prototype.onMutationResult=function(t,e){var n=this;y(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=kn.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then((function(){return n.fillWritePipeline()}))},t.prototype.onWriteStreamClose=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e=this;return a.__generator(this,(function(n){return void 0===t&&y(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then((function(){e.shouldStartWriteStream()&&e.startWriteStream()}))]:[2]}))}))},t.prototype.handleHandshakeError=function(t){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){return Se(t.code)?(p("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=_(),[2,this.localStore.setLastStreamToken(_()).catch(Br)]):[2]}))}))},t.prototype.handleWriteError=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n=this;return a.__generator(this,(function(r){return Se(i=t.code)&&i!==w.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then((function(){return n.fillWritePipeline()}))]):[2];var i}))}))},t.prototype.createTransaction=function(){return new fi(this.datastore)},t.prototype.handleCredentialChange=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return this.canUseNetwork()?(p("RemoteStore","RemoteStore restarting streams for new credential"),this.networkEnabled=!1,[4,this.disableNetworkInternal()]):[3,3];case 1:return t.sent(),this.onlineStateTracker.set(hi.Unknown),[4,this.enableNetwork()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},t.prototype.applyPrimaryState=function(t){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(hi.Unknown),e.label=4;case 4:return[2]}}))}))},t}(),vi=function(){return function(){this.listeners=[]}}(),yi=function(){function t(t){this.syncEngine=t,this.queries=new Kn((function(t){return t.canonicalId()})),this.onlineState=hi.Unknown,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new vi,this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then((function(t){return r.targetId=t,t})):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return a.__generator(this,(function(o){return n=!1,(r=this.queries.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]}))}))},t.prototype.onWatchChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=this.queries.get(r.query);if(i){for(var o=0,a=i.listeners;o<a.length;o++)a[o].onViewSnapshot(r);i.viewSnap=r}}},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach((function(e,n){for(var r=0,i=n.listeners;r<i.length;r++)i[r].applyOnlineStateChange(t)}))},t}(),bi=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=hi.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(y(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==Le.Metadata&&e.push(i)}t=new Be(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){return y(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==hi.Offline?(y(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===hi.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){y(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Be.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),_i=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=Me(),i=Me(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case Le.Added:r=r.add(s.doc.key);break;case Le.Removed:i=i.add(s.doc.key)}}return new t(e,r,i)},t}(),wi=function(){return function(t){this.key=t}}(),Si=function(){return function(t){this.key=t}}(),Ei=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Me(),this.mutatedKeys=Me(),this.documentSet=new Re(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new Fe,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,c=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal((function(t,e){var u=i.get(t),l=e instanceof ft?e:null;l&&(y(t.isEqual(l.key),"Mismatching keys found in document changes: "+t+" != "+l.key),l=n.query.matches(l)?l:null);var d=!!u&&n.mutatedKeys.has(u.key),f=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),h=!1;u&&l?u.data.isEqual(l.data)?d!==f&&(r.track({type:Le.Metadata,doc:l}),h=!0):n.shouldWaitForSyncedDocument(u,l)||(r.track({type:Le.Modified,doc:l}),h=!0,c&&n.query.docComparator(l,c)>0&&(s=!0)):!u&&l?(r.track({type:Le.Added,doc:l}),h=!0):u&&!l&&(r.track({type:Le.Removed,doc:u}),h=!0,c&&(s=!0)),h&&(l?(a=a.add(l),o=f?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),this.query.hasLimit())for(;a.size>this.query.limit;){var u=a.last();a=a.delete(u.key),o=o.delete(u.key),r.track({type:Le.Removed,doc:u})}return y(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;y(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case Le.Added:return 1;case Le.Modified:case Le.Metadata:return 2;case Le.Removed:return 0;default:return v("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)})),this.applyTargetChange(n);var a=e?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?je.Synced:je.Local,c=s!==this.syncState;return this.syncState=s,0!==o.length||c?{snapshot:new Be(this.query,t.documentSet,i,o,t.mutatedKeys,s===je.Local,c,!1),limboChanges:a}:{limboChanges:a}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===hi.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Fe,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e._syncedDocuments=e._syncedDocuments.add(t)})),t.modifiedDocuments.forEach((function(t){return y(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")})),t.removedDocuments.forEach((function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)})),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Me(),this.documentSet.forEach((function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))}));var n=[];return e.forEach((function(e){t.limboDocuments.has(e)||n.push(new Si(e))})),this.limboDocuments.forEach((function(t){e.has(t)||n.push(new wi(t))})),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=Me();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return Be.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===je.Local)},t}(),xi=function(){return function(t,e,n){this.query=t,this.targetId=e,this.view=n}}(),Ci=function(){return function(t){this.key=t}}(),ki=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Kn((function(t){return t.canonicalId()})),this.queryViewsByTarget={},this.limboTargetsByKey=new mt(lt.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Wr,this.mutationUserCallbacks={},this.limboTargetIdGenerator=Ln.forSyncEngine(),this.isPrimary=void 0,this.onlineState=hi.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){y(null!==t,"SyncEngine listener cannot be null"),y(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,o;return a.__generator(this,(function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(this.sharedClientState.addLocalQueryTarget(e=r.targetId),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}}))}))},t.prototype.initializeViewAndComputeSnapshot=function(t,e){var n=this,r=t.query;return this.localStore.executeQuery(r).then((function(i){return n.localStore.remoteDocumentKeys(t.targetId).then((function(o){var a=new Ei(r,o),s=a.computeDocChanges(i),c=He.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&n.onlineState!==hi.Offline),u=a.applyChanges(s,!0===n.isPrimary,c);y(0===u.limboChanges.length,"View returned limbo docs before target ack from the server."),y(!!u.snapshot,"applyChanges for new view should always return a snapshot");var l=new xi(r,t.targetId,a);return n.queryViewsByQuery.set(r,l),n.queryViewsByTarget[t.targetId]=l,u.snapshot}))}))},t.prototype.synchronizeViewAndComputeSnapshot=function(t){var e=this;return this.localStore.executeQuery(t.query).then((function(n){return e.localStore.remoteDocumentKeys(t.targetId).then((function(r){return a.__awaiter(e,void 0,void 0,(function(){var e;return a.__generator(this,(function(i){return e=t.view.synchronizeWithPersistedState(n,r),this.isPrimary&&this.updateTrackedLimbos(t.targetId,e.limboChanges),[2,e]}))}))}))}))},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n=this;return a.__generator(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),y(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then((function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)})).catch(Br)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then((function(t){return n.sharedClientState.addPendingMutation(t.batchId),n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)})).then((function(){return n.remoteStore.fillWritePipeline()}))},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),y(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!Vt(e)&&e.catch&&e.then?e.catch((function(t){return Promise.reject(n.wrapUpdateFunctionError(t))})):Promise.reject(Error("Transaction callback must return a Promise"))}catch(i){return Promise.reject(n.wrapUpdateFunctionError(i))}}().then((function(i){return r.commit().then((function(){return i})).catch((function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)}))}))},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(t).then((function(n){return T(t.targetChanges,(function(t,n){var r=e.limboResolutionsByTarget[t];r&&(y(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?y(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(y(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))})),e.emitNewSnapsAndNotifyLocalStore(n,t)})).catch(Br)},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===pi.RemoteStore||!this.isPrimary&&e===pi.SharedClientState){var n=[];this.queryViewsByQuery.forEach((function(e,r){var i=r.view.applyOnlineStateChange(t);y(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)})),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return a.__awaiter(this,void 0,void 0,(function(){var n,r,i,o,s,c,u=this;return a.__generator(this,(function(a){switch(a.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),(r=(n=this.limboResolutionsByTarget[t])&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=(i=new mt(lt.comparator)).insert(r,new ht(r,te.forDeletedDoc())),o=Me().add(r),s=new Ve(te.MIN,{},new re(K),i,o),[2,this.applyRemoteEvent(s)]):[3,1];case 1:return y(!!(c=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(c.query,!1).then((function(){return u.removeAndCleanupQuery(c)})).catch(Br)];case 2:a.sent(),this.syncEngineListener.onWatchError(c.query,e),a.label=3;case 3:return[2]}}))}))},t.prototype.applyBatchState=function(t,e,n){return a.__awaiter(this,void 0,void 0,(function(){var r;return a.__generator(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=i.sent())?(p("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):v("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}}))}))},t.prototype.applySuccessfulWrite=function(t){var e=this;this.assertSubscribed("applySuccessfulWrite()");var n=t.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(t).then((function(t){return e.sharedClientState.updateMutationState(n,"acknowledged"),e.emitNewSnapsAndNotifyLocalStore(t)})).catch(Br)},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then((function(r){return n.sharedClientState.updateMutationState(t,"rejected",e),n.emitNewSnapsAndNotifyLocalStore(r)})).catch(Br)},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new mt(K)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(y(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach((function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)}))}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof wi?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof Si?(p("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):v("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){p("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=Ut.atPath(e.path);this.limboResolutionsByTarget[n]=new Ci(e),this.remoteStore.listen(new ne(r,n,ee.LimboResolution,fn.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return a.__awaiter(this,void 0,void 0,(function(){var n,r,i,o=this;return a.__generator(this,(function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach((function(a,s){i.push(Promise.resolve().then((function(){var e=s.view.computeDocChanges(t);return e.needsRefill?o.localStore.executeQuery(s.query).then((function(t){return s.view.computeDocChanges(t,e)})):e})).then((function(t){var i=s.view.applyChanges(t,!0===o.isPrimary,e&&e.targetChanges[s.targetId]);if(o.updateTrackedLimbos(s.targetId,i.limboChanges),i.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,i.snapshot.fromCache?"not-current":"current"),n.push(i.snapshot);var a=_i.fromSnapshot(s.targetId,i.snapshot);r.push(a)}})))})),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}}))}))},t.prototype.assertSubscribed=function(t){y(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n;return a.__generator(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?[4,this.localStore.handleUserChange(t)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}}))}))},t.prototype.applyPrimaryState=function(t){return a.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,o,s,c=this;return a.__generator(this,(function(a){switch(a.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return a.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=a.sent(),r=0,i=n;r<i.length;r++)this.remoteStore.listen(i[r]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,o=[],s=Promise.resolve(),k(this.queryViewsByTarget,(function(t,e){c.sharedClientState.isLocalQueryTarget(t)?o.push(t):s=s.then((function(){return c.unlisten(e.query)})),c.remoteStore.unlisten(e.targetId)})),[4,s]);case 4:return a.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(o)];case 5:return a.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:a.sent(),a.label=7;case 7:return[2]}}))}))},t.prototype.resetLimboDocuments=function(){var t=this;k(this.limboResolutionsByTarget,(function(e){t.remoteStore.unlisten(e)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new mt(lt.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){for(var e=this,n=Promise.resolve(),r=[],i=[],o=function(t){n=n.then((function(){return a.__awaiter(e,void 0,void 0,(function(){var e,n,o,s;return a.__generator(this,(function(a){switch(a.label){case 0:return(n=this.queryViewsByTarget[t])?[4,this.localStore.releaseQuery(n.query,!0)]:[3,4];case 1:return a.sent(),[4,this.localStore.allocateQuery(n.query)];case 2:return e=a.sent(),[4,this.synchronizeViewAndComputeSnapshot(n)];case 3:return(o=a.sent()).snapshot&&i.push(o.snapshot),[3,8];case 4:return y(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(t)];case 5:return y(!!(s=a.sent()),"Query data for target "+t+" not found"),[4,this.localStore.allocateQuery(s)];case 6:return e=a.sent(),[4,this.initializeViewAndComputeSnapshot(e,!1)];case 7:a.sent(),a.label=8;case 8:return r.push(e),[2]}}))}))}))},s=0,c=t;s<c.length;s++)o(c[s]);return n.then((function(){return e.syncEngineListener.onWatchChange(i),r}))},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return a.__awaiter(this,void 0,void 0,(function(){var r,i=this;return a.__generator(this,(function(o){switch(o.label){case 0:if(this.isPrimary)return p("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,5];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then((function(n){return a.__awaiter(i,void 0,void 0,(function(){var r;return a.__generator(this,(function(i){switch(i.label){case 0:return r=Ve.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(n,r)];case 1:return i.sent(),[2]}}))}))}),(function(t){return a.__awaiter(i,void 0,void 0,(function(){var e;return a.__generator(this,(function(n){switch(n.label){case 0:return function(t){return t.code===w.DATA_LOSS&&t.message===Yn}(t)?(e=[],k(this.queryViewsByTarget,(function(t){return e.push(t)})),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e)]):[3,2];case 1:return n.sent(),[3,3];case 2:throw t;case 3:return[2]}}))}))}))];case 2:return this.removeAndCleanupQuery(r=this.queryViewsByTarget[t]),[4,this.localStore.releaseQuery(r.query,!0)];case 3:return o.sent(),this.syncEngineListener.onWatchError(r.query,n),[3,5];case 4:v("Unexpected target state: "+e),o.label=5;case 5:return[2]}}))}))},t.prototype.applyActiveTargetsChange=function(t,e){return a.__awaiter(this,void 0,void 0,(function(){var n,r,i,o,s,c,u,l,d,f=this;return a.__generator(this,(function(h){switch(h.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,h.label=1;case 1:return n<r.length?(y(!this.queryViewsByTarget[d=r[n]],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(d)]):[3,6];case 2:return y(!!(i=h.sent()),"Query data for active target "+d+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=h.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:h.sent(),this.remoteStore.listen(o),h.label=5;case 5:return n++,[3,1];case 6:s=function(t){var e;return a.__generator(this,(function(n){switch(n.label){case 0:return(e=c.queryViewsByTarget[t])?[4,c.localStore.releaseQuery(e.query,!1).then((function(){f.remoteStore.unlisten(t),f.removeAndCleanupQuery(e)})).catch(Br)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))},c=this,u=0,l=e,h.label=7;case 7:return u<l.length?[5,s(d=l[u])]:[3,10];case 8:h.sent(),h.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Me().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Me()},t}(),Ti=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Pi="SharedClientState",Ii="firestore_clients",Ai="firestore_mutations",Oi="firestore_targets",$i="firestore_online_state",Mi="firestore_sequence_number",Di=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,y(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new S(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(m(Pi,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ni=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,y(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new S(r.error.code,r.error.message)),i?new t(e,r.state,o):(m(Pi,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ri=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ne(),a=0;i&&a<r.activeTargetIds.length;++a)i=Ht(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(m(Pi,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Li=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&void 0!==hi[n.onlineState]&&"string"==typeof n.clientId?new t(n.clientId,hi[n.onlineState]):(m(Pi,"Failed to parse online state: "+e),null)},t}(),ji=function(){function t(){this.activeTargetIds=Ne()}return t.prototype.addQueryTarget=function(t){y(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Fi=function(){function t(e,n,r,i,o){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new S(w.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Mi+"_"+r,this.activeClients[this.localClientId]=new ji,this.clientStateKeyRe=new RegExp("^"+Ii+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Ai+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Oi+"_"+a+"_(\\d+)$"),this.onlineStateKey=$i+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return a.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,c,u,l,d=this;return a.__generator(this,(function(a){switch(a.label){case 0:return y(!this.started,"WebStorageSharedClientState already started"),y(null!==this.syncEngine,"syncEngine property must be set before calling start()"),y(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=a.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=Ri.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(s=this.storage.getItem(this.onlineStateKey))&&(c=this.fromWebStorageOnlineState(s))&&this.handleOnlineStateEvent(c),u=0,l=this.earlyEvents;u<l.length;u++)this.handleWebStorageEvent(l[u]);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return d.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=Ne();return T(this.activeClients,(function(e,n){t=t.unionWith(n.activeTargetIds)})),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Ni.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.removeMutationState(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return p(Pi,"READ",t,e),e},t.prototype.setItem=function(t,e){p(Pi,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){p(Pi,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(p(Pi,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return a.__awaiter(e,void 0,void 0,(function(){var e,n,r,i,o,s;return a.__generator(this,(function(a){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(o=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(o)]}else t.key===this.sequenceNumberKey&&(y(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(s=function(t){var e=fn.INVALID;if(null!=t)try{var n=JSON.parse(t);y("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(r){m(Pi,"Failed to read sequence number from WebStorage",r)}return e}(t.newValue))!==fn.INVALID&&this.sequenceNumberHandler(s));return[2]}))}))}))}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new Di(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:hi[t]}))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new Ni(t,e,n);this.setItem(r,i.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return y(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),Ii+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return Oi+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=Ai+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return y(null!==n,"Cannot parse client state key '"+t+"'"),Ri.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);y(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]);return Di.fromWebStorageEntry(new Ti(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);y(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Ni.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return Li.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){return t.user.uid!==this.currentUser.uid?(p(Pi,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]}))}))},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),o=[],s=[];return i.forEach((function(t){return a.__awaiter(n,void 0,void 0,(function(){return a.__generator(this,(function(e){return r.has(t)||o.push(t),[2]}))}))})),r.forEach((function(t){return a.__awaiter(n,void 0,void 0,(function(){return a.__generator(this,(function(e){return i.has(t)||s.push(t),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(o,s)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}(),Bi=function(){function t(){this.localState=new ji,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new ji,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Vi=function(){function t(t,e){this.cacheSizeBytes=t,this.experimentalTabSynchronization=e}return t.prototype.lruParams=function(){return Or.withCacheSize(this.cacheSizeBytes)},t}(),Hi=function(){return function(){}}(),Ui=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=G.newId(),this.isShutdown=!1}return t.prototype.start=function(t){var e=this;this.verifyNotShutdown();var n=new hn,r=new hn,i=!1;return this.credentials.setChangeListener((function(o){i?e.asyncQueue.enqueueAndForget((function(){return e.handleCredentialChange(o)})):(i=!0,e.initializePersistence(t,r,o).then((function(t){return e.initializeRest(o,t)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue((function(){return t.syncEngine.enableNetwork()}))},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof Vi?this.startIndexedDbPersistence(n,t).then((function(t){return e.resolve(),t})).catch((function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),r.startMemoryPersistence()})):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof S?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code},t.prototype.verifyNotShutdown=function(){if(this.isShutdown)throw new S(w.FAILED_PRECONDITION,"The client has already been shutdown.")},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=Fr.buildStoragePrefix(this.databaseInfo),i=new on(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return a.__awaiter(n,void 0,void 0,(function(){var n,o;return a.__generator(this,(function(a){switch(a.label){case 0:if(e.experimentalTabSynchronization&&!Fi.isAvailable(this.platform))throw new S(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return o=e.lruParams(),e.experimentalTabSynchronization?(this.sharedClientState=new Fi(this.asyncQueue,this.platform,r,this.clientId,t),[4,Fr.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n=a.sent(),[3,4];case 2:return this.sharedClientState=new Bi,[4,Fr.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o)];case 3:n=a.sent(),a.label=4;case 4:return this.persistence=n,[2,n.referenceDelegate.garbageCollector]}}))}))}))},t.prototype.startMemoryPersistence=function(){return this.persistence=Jr.createEagerPersistence(this.clientId),this.sharedClientState=new Bi,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return p("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then((function(r){return a.__awaiter(n,void 0,void 0,(function(){var n,i,o,s=this;return a.__generator(this,(function(c){switch(c.label){case 0:return this.localStore=new Kr(this.persistence,t),e&&(this.lruScheduler=new $r(e,this.asyncQueue,this.localStore)),n=this.platform.newSerializer(this.databaseInfo.databaseId),i=new di(this.asyncQueue,r,this.credentials,n),o=function(t){return s.syncEngine.applyOnlineStateChange(t,pi.SharedClientState)},this.remoteStore=new gi(this.localStore,i,this.asyncQueue,(function(t){return s.syncEngine.applyOnlineStateChange(t,pi.RemoteStore)})),this.syncEngine=new ki(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=o,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new yi(this.syncEngine),[4,this.sharedClientState.start()];case 1:return c.sent(),[4,this.remoteStore.start()];case 2:return c.sent(),[4,this.persistence.setPrimaryStateListener((function(t){return a.__awaiter(s,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}}))}))}))];case 3:return c.sent(),[2]}}))}))}))},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),p("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue((function(){return t.syncEngine.disableNetwork()}))},t.prototype.shutdown=function(){var t=this;return!0===this.isShutdown?Promise.resolve():this.asyncQueue.enqueue((function(){return a.__awaiter(t,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.removeChangeListener(),this.isShutdown=!0,[2]}}))}))}))},t.prototype.listen=function(t,e,n){var r=this;this.verifyNotShutdown();var i=new bi(t,e,n);return this.asyncQueue.enqueueAndForget((function(){return r.eventMgr.listen(i)})),i},t.prototype.unlisten=function(t){var e=this;this.verifyNotShutdown(),this.asyncQueue.enqueueAndForget((function(){return e.eventMgr.unlisten(t)}))},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue((function(){return e.localStore.readDocument(t)})).then((function(t){if(t instanceof ft)return t;if(t instanceof ht)return null;throw new S(w.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue((function(){return e.localStore.executeQuery(t)})).then((function(e){var n=Me(),r=new Ei(t,n),i=r.computeDocChanges(e);return r.applyChanges(i,!1).snapshot}))},t.prototype.write=function(t){var e=this;this.verifyNotShutdown();var n=new hn;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.write(t,n)})),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue((function(){return a.__awaiter(e,void 0,void 0,(function(){return a.__generator(this,(function(t){return[2]}))}))})).then((function(){return e.syncEngine.runTransaction(t)}))},t}(),qi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),zi=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new S(w.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+W(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(M("FieldPath","string",n,t[n]),0===t[n].length)throw new S(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(ut.keyField().canonicalString()),t}(),Wi=new RegExp("[~\\*/\\[\\]]"),Gi=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}}(),Ki=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){y(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(Ti.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){y(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),Qi=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;y(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then((function(n){if(t.tokenCounter!==e)throw new S(w.ABORTED,"getToken aborted due to token change.");return n?(y("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Gi(n.accessToken,t.currentUser)):null}))},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){y(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){y(null!=this.tokenListener,"removeChangeListener() called twice"),y(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return y(null===t||"string"==typeof t,"Received invalid UID: "+t),new Ti(t)},t}(),Yi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=Ti.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),Xi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new Yi(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(Ti.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Zi(t){if(!t)return new Ki;switch(t.type){case"gapi":var e=t.client;return y(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Xi(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new S(w.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function Ji(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var to=function(){function t(t){this._methodName=t}return t.delete=function(){return I("FieldValue.delete",arguments),eo.instance},t.serverTimestamp=function(){return I("FieldValue.serverTimestamp",arguments),no.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return O("FieldValue.arrayUnion",arguments,1),new ro(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return O("FieldValue.arrayRemove",arguments,1),new io(t)},t.increment=function(t){return M("FieldValue.increment","number",1,t),A("FieldValue.increment",arguments,1),new oo(t)},t.prototype.isEqual=function(t){return this===t},t}(),eo=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return a.__extends(e,t),e.instance=new e,e}(to),no=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return a.__extends(e,t),e.instance=new e,e}(to),ro=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return a.__extends(e,t),e}(to),io=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return a.__extends(e,t),e}(to),oo=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n._operand=e,n}return a.__extends(e,t),e}(to),ao=E(to,"Use FieldValue.<field>() instead."),so=/^__.*__$/,co=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new fe(t,this.data,this.fieldMask,e):new de(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new he(t,this.fieldTransforms)),n},t}(),uo=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new fe(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new he(t,this.fieldTransforms)),n},t}(),lo=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t}({});function fo(t){switch(t){case lo.Set:case lo.MergeSet:case lo.Update:return!0;case lo.Argument:return!1;default:throw v("Unexpected case for UserDataSource: "+t)}}var ho=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new S(w.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(fo(this.dataSource)&&so.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),po=function(){return function(t,e){this.databaseId=t,this.key=e}}(),mo=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new ho(lo.Set,t,ut.EMPTY_PATH);vo("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new co(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new ho(lo.MergeSet,t,ut.EMPTY_PATH);vo("Data must be an object, but it was:",r,e);var i,o,a=this.parseData(e,r);if(n){for(var s=new re(ut.comparator),c=0,u=n;c<u.length;c++){var l=u[c],d=void 0;if(l instanceof zi)d=l._internalPath;else{if("string"!=typeof l)throw v("Expected stringOrFieldPath to be a string or a FieldPath");d=bo(t,l)}if(!r.contains(d))throw new S(w.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");s=s.add(d)}i=oe.fromSet(s),o=r.fieldTransforms.filter((function(t){return i.covers(t.field)}))}else i=oe.fromArray(r.fieldMask),o=r.fieldTransforms;return new co(a,i,o)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new ho(lo.Update,t,ut.EMPTY_PATH);vo("Data must be an object, but it was:",r,e);var i=new re(ut.comparator),o=Nt.EMPTY;T(e,(function(e,a){var s=bo(t,e),c=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,c))instanceof eo)i=i.add(s);else{var u=n.parseData(a,c);null!=u&&(i=i.add(s),o=o.set(s,u))}}));var a=oe.fromSet(i);return new uo(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new ho(lo.Update,t,ut.EMPTY_PATH),o=[yo(t,e)],a=[n];if(r.length%2!=0)throw new S(w.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(yo(t,r[s])),a.push(r[s+1]);var c=new re(ut.comparator),u=Nt.EMPTY;for(s=0;s<o.length;++s){var l=o[s],d=i.childContextForFieldPath(l),f=this.runPreConverter(a[s],d);if(f instanceof eo)c=c.add(l);else{var h=this.parseData(f,d);null!=h&&(c=c.add(l),u=u.set(l,h))}}var p=oe.fromSet(c);return new uo(u,p,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new ho(lo.Argument,t,ut.EMPTY_PATH),r=this.parseData(e,n);return y(null!=r,"Parsed data should not be null."),y(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(r){var n=_o(r);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(go(t=this.runPreConverter(t,e)))return vo("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof to)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new mt(K);return P(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):T(t,(function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))})),new Nt(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=this.parseData(o[i],e.childContextForArray(r));null==a&&(a=Et.INSTANCE),n.push(a),r++}return new Rt(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!fo(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof eo){if(e.dataSource!==lo.MergeSet)throw e.dataSource===lo.Update?(y(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof no)e.fieldTransforms.push(new ae(e.path,me.instance));else if(t instanceof ro){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new ge(n);e.fieldTransforms.push(new ae(e.path,r))}else if(t instanceof io){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new ve(n);e.fieldTransforms.push(new ae(e.path,i))}else if(t instanceof oo){var o=this.parseQueryValue("FieldValue.increment",t._operand),a=new ye(o);e.fieldTransforms.push(new ae(e.path,a))}else v("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return Et.INSTANCE;if("number"==typeof t)return Ht(t)?new Tt(t):new Pt(t);if("boolean"==typeof t)return xt.of(t);if("string"==typeof t)return new It(t);if(t instanceof Date)return new At(nt.fromDate(t));if(t instanceof nt)return new At(new nt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof et)return new Dt(t);if(t instanceof J)return new $t(t);if(t instanceof po)return new Mt(t.databaseId,t.key);throw e.createError("Unsupported field value: "+V(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map((function(e,r){var i=new ho(lo.Argument,t,ut.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))}))},t}();function go(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof et||t instanceof J||t instanceof po||t instanceof to)}function vo(t,e,n){if(!go(n)||!B(n)){var r=V(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function yo(t,e){if(e instanceof zi)return e._internalPath;if("string"==typeof e)return bo(t,e);throw new S(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function bo(t,e){try{return function(t){if(t.search(Wi)>=0)throw new S(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(zi.bind.apply(zi,[void 0].concat(t.split("."))))}catch(e){throw new S(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(r){var n=_o(r);throw new S(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function _o(t){return t instanceof Error?t.message:t.toString()}var wo="firestore.googleapis.com",So=!0,Eo=!0,xo=!1,Co=Or.COLLECTION_DISABLED,ko=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new S(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wo,this.ssl=So}else N("settings","non-empty string","host",t.host),this.host=t.host,R("settings","boolean","ssl",t.ssl),this.ssl=C(t.ssl,So);if(U("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),R("settings","object","credentials",t.credentials),this.credentials=t.credentials,R("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?m("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&m("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=C(t.timestampsInSnapshots,Eo),R("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Or.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==Co&&t.cacheSizeBytes<Or.MINIMUM_CACHE_SIZE_BYTES)throw new S(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Or.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}R("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?xo:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),To=function(){return function(){}}(),Po=function(){function t(e){var n=this;this._queue=new gn,this.INTERNAL={delete:function(){return a.__awaiter(n,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.shutdown()];case 1:return t.sent(),this.clientRunning=!1,[2]}}))}))}},this.clientRunning=!1;var r=new To;if("object"==typeof e.options){var i=e;r.firebaseApp=i,r.databaseId=t.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new Qi(i)}else{var o=e;if(!o.projectId)throw new S(w.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new ot(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new Ki}r.settings=new ko({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(A("Firestore.settings",arguments,1),M("Firestore.settings","object",1,t),x(t,"persistence"))throw new S(w.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new ko(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new S(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=Zi(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new S(w.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(new Vi(this._config.settings.cacheSizeBytes,void 0!==t&&C(t.experimentalTabSynchronization,!1)))},t.prototype._clearPersistence=function(){if(this.clientRunning)throw new S(w.FAILED_PRECONDITION,"Persistence cannot be cleared while the client is running");var t=Fr.buildStoragePrefix(this.makeDatabaseInfo());return Fr.clearPersistence(t)},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Hi),this._firestoreClient},t.prototype.makeDatabaseInfo=function(){return new rt(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl,this._config.settings.forceLongPolling)},t.prototype.configureClient=function(t){var e=this;y(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),y(!this._firestoreClient,"configureClient() called multiple times"),this.clientRunning=!0;var n=this.makeDatabaseInfo();return this._dataConverter=new mo((function(t){if(t instanceof Oo){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new S(w.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new po(e._config.databaseId,t._key)}return t})),this._firestoreClient=new Ui(b.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!x(e,"projectId"))throw new S(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new S(w.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ot(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new S(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return A("Firestore.collection",arguments,1),M("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new Lo(st.fromString(t),this)},t.prototype.doc=function(t){return A("Firestore.doc",arguments,1),M("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),Oo.forPath(st.fromString(t),this)},t.prototype._collectionGroup=function(t){if(A("Firestore.collectionGroup",arguments,1),M("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new S(w.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new No(new Ut(st.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return A("Firestore.runTransaction",arguments,1),M("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction((function(n){return t(new Io(e,n))}))},t.prototype.batch=function(){return this.ensureClientConfigured(),new Ao(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(f()){case d.DEBUG:return"debug";case d.ERROR:return"error";case d.SILENT:return"silent";default:return v("Unknown log level: "+f())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(A("Firestore.setLogLevel",arguments,1),M("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":h(d.DEBUG);break;case"error":h(d.ERROR);break;case"silent":h(d.SILENT);break;default:throw new S(w.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),Io=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;A("Transaction.get",arguments,1);var n=Vo("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return v("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof ht)return new Mo(e._firestore,n._key,null,!1,!1);if(r instanceof ft)return new Mo(e._firestore,n._key,r,!1,!1);throw v("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},t.prototype.set=function(t,e,n){$("Transaction.set",arguments,2,3);var r=Vo("Transaction.set",t,this._firestore),i=(n=jo("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof zi?(O("Transaction.update",arguments,3),r=Vo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(A("Transaction.update",arguments,2),r=Vo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){A("Transaction.delete",arguments,1);var e=Vo("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),Ao=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){$("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Vo("WriteBatch.set",t,this._firestore),i=(n=jo("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,ue.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof e||e instanceof zi?(O("WriteBatch.update",arguments,3),r=Vo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(A("WriteBatch.update",arguments,2),r=Vo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,ue.exists(!0))),this},t.prototype.delete=function(t){A("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Vo("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new pe(e._key,ue.NONE)),this},t.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new S(w.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Oo=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new S(w.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new lt(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Lo(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(A("DocumentReference.collection",arguments,1),M("DocumentReference.collection","non-empty string",1,t),!t)throw new S(w.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=st.fromString(t);return new Lo(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){$("DocumentReference.set",arguments,1,2);var n=(e=jo("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,ue.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof zi?(O("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(A("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,ue.exists(!0)))},t.prototype.delete=function(){return A("DocumentReference.delete",arguments,0),this._firestoreClient.write([new pe(this._key,ue.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];$("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Ji(t[i])||(U("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),R("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Ji(t[i])?n=t[i]:(M("DocumentReference.onSnapshot","function",i,t[i]),D("DocumentReference.onSnapshot","function",i+1,t[i+1]),D("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new qi({next:function(t){if(e.next){y(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new Mo(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(Ut.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return $("DocumentReference.get",arguments,0,1),Bo("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then((function(t){n(new Mo(e.firestore,e._key,t,!0,t instanceof ft&&t.hasLocalMutations))}),r):e.getViaSnapshotListener(n,r,t)}))},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new S(w.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new S(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),$o=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Mo=function(){function t(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return t.prototype.data=function(t){return $("DocumentSnapshot.data",arguments,0,1),t=Fo("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,wt.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if($("DocumentSnapshot.get",arguments,1,2),e=Fo("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(yo("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,wt.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Oo(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new $o(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach((function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertValue=function(t,e){if(t instanceof Nt)return this.convertObject(t,e);if(t instanceof Rt)return this.convertArray(t,e);if(t instanceof Mt){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||m("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Oo(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map((function(t){return n.convertValue(t,e)}))},t}(),Do=function(t){function e(e,n,r,i,o){return t.call(this,e,n,r,i,o)||this}return a.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return y("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(Mo),No=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){A("Query.where",arguments,3),H("Query.where",3,r);var i,o=["<","<=","==",">=",">","array-contains"];j("Query.where",o,2,n);var a=yo("Query.where",e),s=zt.fromString(n);if(a.isKeyField()){if(s===zt.ARRAY_CONTAINS)throw new S(w.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof r){if(""===r)throw new S(w.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==r.indexOf("/"))throw new S(w.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection by FieldPath.documentId(), the value provided must be a plain document ID, but '"+r+"' contains a slash.");var c=this._query.path.child(st.fromString(r));if(!lt.isDocumentKey(c))throw new S(w.INVALID_ARGUMENT,"Invalid third parameter to Query.where(). When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+c+"' is not because it has an odd number of segments ("+c.length+").");i=new Mt(this.firestore._databaseId,new lt(c))}else{if(!(r instanceof Oo))throw new S(w.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+V(r)+".");var u=r;i=new Mt(this.firestore._databaseId,u._key)}}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var l=qt.create(a,s,i);return this.validateNewFilter(l),new t(this._query.addFilter(l),this.firestore)},t.prototype.orderBy=function(e,n){var r;if($("Query.orderBy",arguments,1,2),D("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Qt.ASCENDING;else{if("desc"!==n)throw new S(w.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Qt.DESCENDING}if(null!==this._query.startAt)throw new S(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new S(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=yo("Query.orderBy",e),o=new Xt(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(A("Query.limit",arguments,1),M("Query.limit","number",1,e),e<=0)throw new S(w.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];O("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(H(t,1,e),e instanceof Mo){if(n.length>0)throw new S(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new S(w.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new Mt(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(s instanceof Ot)throw new S(w.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(void 0===s){var c=a.field.canonicalString();throw new S(w.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Yt(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new S(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new S(w.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new S(w.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(st.fromString(a));if(!lt.isDocumentKey(s))throw new S(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var c=new lt(s);i.push(new Mt(this.firestore._databaseId,c))}else{var u=this.firestore._dataConverter.parseQueryValue(t,a);i.push(u)}}return new Yt(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];$("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Ji(t[i])||(U("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),R("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Ji(t[i])?n=t[i]:(M("Query.onSnapshot","function",i,t[i]),D("Query.onSnapshot","function",i+1,t[i+1]),D("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new qi({next:function(t){e.next&&e.next(new Ro(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(t){var e=this;return $("Query.get",arguments,0,1),Bo("Query.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then((function(t){n(new Ro(e.firestore,e._query,t))}),r):e.getViaSnapshotListener(n,r,t)}))},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new S(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.validateNewFilter=function(t){if(t instanceof Wt)if(t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new S(w.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}else if(t.op===zt.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new S(w.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new S(w.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Ro=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new $o(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;$("QuerySnapshot.forEach",arguments,1,2),M("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach((function(r){t.call(e,n.convertToDocumentImpl(r))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new No(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(U("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),R("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new S(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map((function(e){var o=new Do(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return y(e.type===Le.Added,"Invalid event type for first snapshot"),y(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}}))}var o=n.oldDocs;return n.docChanges.filter((function(t){return e||t.type!==Le.Metadata})).map((function(e){var r=new Do(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,a=-1;return e.type!==Le.Added&&(y((i=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==Le.Removed&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:Ho(e.type),doc:r,oldIndex:i,newIndex:a}}))}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new Do(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(t){try{Object.defineProperty(Ro.prototype.docChanges,t,{get:function(){return function(){throw new S(w.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}}));var Lo=function(t){function e(e,n){var r=t.call(this,Ut.atPath(e),n)||this;if(e.length%2!=1)throw new S(w.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return a.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Oo(new lt(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if($("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=G.newId()),M("CollectionReference.doc","non-empty string",1,t),""===t)throw new S(w.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=st.fromString(t);return Oo.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){A("CollectionReference.add",arguments,1),M("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then((function(){return e}))},e}(No);function jo(t,e){if(void 0===e)return{merge:!1};if(U(t,e,["merge","mergeFields"]),R(t,"boolean","merge",e.merge),"mergeFields","a string or a FieldPath",void 0!==(n=e.mergeFields)&&function(t,e,n,r,i){if(!(r instanceof Array))throw new S(w.INVALID_ARGUMENT,"Function "+t+"() requires its mergeFields option to be an array, but it was: "+V(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new S(w.INVALID_ARGUMENT,"Function "+t+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+o+" was: "+V(r[o]))}(t,0,0,n,(function(t){return"string"==typeof t||t instanceof zi})),void 0!==e.mergeFields&&void 0!==e.merge)throw new S(w.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function Fo(t,e){return void 0===e?{}:(U(t,e,["serverTimestamps"]),L(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Bo(t,e){D(t,"object",1,e),e&&(U(t,e,["source"]),L(t,0,"source",e.source,["default","server","cache"]))}function Vo(t,e,n){if(e instanceof Oo){if(e.firestore!==n)throw new S(w.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw q(t,"DocumentReference",1,e)}function Ho(t){switch(t){case Le.Added:return"added";case Le.Modified:case Le.Metadata:return"modified";case Le.Removed:return"removed";default:return v("Unknown change type: "+t)}}var Uo=E(Po,"Use firebase.firestore() instead."),qo=E(Io,"Use firebase.firestore().runTransaction() instead."),zo=E(Ao,"Use firebase.firestore().batch() instead."),Wo=E(Oo,"Use firebase.firestore().doc() instead."),Go=E(Mo),Ko=E(Do),Qo=E(No),Yo=E(Ro),Xo=E(Lo,"Use firebase.firestore().collection() instead."),Zo={Firestore:Uo,GeoPoint:et,Timestamp:nt,Blob:tt,Transaction:qo,WriteBatch:zo,DocumentReference:Wo,DocumentSnapshot:Go,Query:Qo,QueryDocumentSnapshot:Ko,QuerySnapshot:Yo,CollectionReference:Xo,FieldPath:zi,FieldValue:ao,setLogLevel:Po.setLogLevel,CACHE_SIZE_UNLIMITED:Co};function Jo(t){!function(t){t.INTERNAL.registerService("firestore",(function(t){return new Po(t)}),function(t){y(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(Zo))}(t)}Jo(i),e.registerFirestore=Jo},AnSF:function(t,e,n){"use strict";var r=n("t5Fe"),i=n("lxjo"),o=n("CSyd");t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},AuwQ:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("6Br6"),o=n("kZSD"),a=n("dmvN");e.bufferToggle=function(t,e){return function(n){return n.lift(new s(t,e))}};var s=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.openings,this.closingSelector))},t}(),c=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(o.subscribeToResult(i,n)),i}return r(e,t),e.prototype._next=function(t){for(var e=this.contexts,n=e.length,r=0;r<n;r++)e[r].buffer.push(t)},e.prototype._error=function(e){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var n=e.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(n){this._error(n)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var n=t.subscription;this.destination.next(t.buffer),e.splice(e.indexOf(t),1),this.remove(n),n.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,n=new i.Subscription,r={buffer:[],subscription:n};e.push(r);var a=o.subscribeToResult(this,t,r);!a||a.closed?this.closeBuffer(r):(a.context=r,this.add(a),n.add(a))},e}(a.OuterSubscriber)},Azqp:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV"),o=n("tkgy");e.windowCount=function(t,e){return void 0===e&&(e=0),function(n){return n.lift(new a(t,e))}};var a=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.windowSize,this.startWindowEvery))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.destination=e,i.windowSize=n,i.startWindowEvery=r,i.windows=[new o.Subject],i.count=0,e.next(i.windows[0]),i}return r(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,a=i.length,s=0;s<a&&!this.closed;s++)i[s].next(t);var c=this.count-r+1;if(c>=0&&c%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){var u=new o.Subject;i.push(u),n.next(u)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(i.Subscriber)},"B+xm":function(t,e){angular.module("castifyExt.ui.editJobsInfo",["cf2.editJobSchedulerClientService"]).component("cfEditJobsInfo",{templateUrl:"components/castifyExt/ui/edit-jobs-info/edit-jobs-info.html",controller:["$scope","cf2EditJobSchedulerClientService","$mdDialog",function(t,e,n){t.scheduler=e,this.getNumQueued=function(){return e.getJobsByState("queued").length},this.cancel=function(t){t.cancelDanger?n.show(n.confirm().title("Recording requires processing").content("Canceling may leave you with a corrupted and unusable recording!").cancel("Keep processing").ok("Cancel processing")).then((function(){e.cancel(t.id)})):e.cancel(t.id)},this.getCompleteExportJobs=function(){var t=e.getJobsByState("done").filter(t=>t.result.isExport);return t.sort((function(t,e){return e.id-t.id})),t},this.save=function(t){var n=angular.element("<a></a>"),r=t.result.saveFileName.replace(/[/,\\]/g,"");n.attr("href",t.result.url),n.attr("download",r),n[0].dispatchEvent(new MouseEvent("click")),e.clearComplete(t.id)},this.viewOnDrive=function(t){window.open(t.result.driveViewUrl),e.clearComplete(t.id)},e.getJobs()}]})},BI5m:function(t,e,n){t.exports=n("SDb7")},BKPz:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("dmvN"),o=n("kZSD");e.exhaust=function(){return function(t){return t.lift(new a)}};var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){var n=t.call(this,e)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return r(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(o.subscribeToResult(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber)},BT7O:function(t,e,n){var r=n("DbaZ"),i=n("7uYF");t.exports=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}},BYIk:function(t,e){angular.module("castifyExt.ui.classroomShare",["w69b.scriptloader"]).directive("cfClassroomShare",["scriptloader","$window",function(t,e){return e.___gcfg={parsetags:"explicit"},{restrict:"E",scope:{url:"=",title:"="},template:"<div></div>",link:function(n,r){var i=r.children().eq(0);n.$watchGroup(["url","title"],(function(){n.url?t.load("https://apis.google.com/js/platform.js").then((function(){e.gapi.sharetoclassroom.render(i[0],{url:n.url,size:24,title:n.title})})):i.children().remove()}))}}}])},BZ8f:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("dmvN"),o=n("kZSD");e.buffer=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.closingNotifier))},t}(),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.buffer=[],r.add(o.subscribeToResult(r,n)),r}return r(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},e}(i.OuterSubscriber)},BpxM:function(t,e,n){"use strict";var r=n("D9en"),i=n("h+IO");e.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return 1===t.length&&r.isArray(t[0])&&(t=t[0]),e.lift.call(i.race.apply(void 0,[e].concat(t)))}}},C00k:function(t,e){angular.module("castifyExt.ui.connectAppChooser",["cf2.connectedAppsService","castifyExt.connect.appRegistry"]).directive("cfConnectAppChooser",["cf2ConnectedAppsService","appRegistry","$q",function(t,e,n){return{restrict:"E",transclude:!0,require:"?ngModel",templateUrl:"components/castifyExt/ui/connect-app-chooser/connect-app-chooser.html",scope:{onSelected:"&",onDisconnected:"&"},link:function(r,i,o,a){a&&(a.$render=angular.noop),r.select=function(t){r.selected=t,a&&a.$setViewValue(t),r.onSelected({app:t})},r.apps=[],r.loading=!1;var s,c=!1;c?n.when():(c=!0,s=t.getConnectedIds({hasShareUrl:!0}).then(e.getApps).then((function(t){var e;r.apps=t,a&&a.$setViewValue((e=(r.apps||[]).filter((function(t){return a.$viewValue&&t.id===a.$viewValue.id}))).length?e[0]:null)})),r.loading=!0,s.finally((function(){r.loading=!1})))}}}])},C5ui:function(t,e){angular.module("castifyExt.hdpiTool",[]).factory("hdpiTool",["$window",function(t){var e={};return e.devicePixelRatio=t.devicePixelRatio,e.toPhysicalResolution=function(t){return{width:Math.floor(t.width*e.devicePixelRatio),height:Math.floor(t.height*e.devicePixelRatio)}},e.toCssResolution=function(t){return{width:Math.round(t.width/e.devicePixelRatio),height:Math.round(t.height/e.devicePixelRatio)}},e.getScreenCssResolution=function(){return{width:t.screen.width,height:t.screen.height}},e.scaleResolution=function(t,e){var n=Math.min(e.height/t.height,e.width/t.width,1);return{width:Math.floor(t.width*n),height:Math.floor(t.height*n)}},e}])},CBwr:function(t,e){},CICS:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1DPV"),o=n("1hPV");e.throwIfEmpty=function(t){return void 0===t&&(t=c),function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.errorFactory))},t}(),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.errorFactory=n,r.hasValue=!1,r}return r(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(o.Subscriber);function c(){return new i.EmptyError}},CL2r:function(t,e){angular.module("castifyExt.ui.pageTitle",[]).controller("titleController",["$scope","$transitions",function(t,e){e.onSuccess({},(function(e){var n=e.targetState().state();t.$root.pageTitle=n.pageTitle}))}])},CO2U:function(t,e){angular.module("w69b.webrtc",["w69b.promiseTool","w69b.spawn"]).factory("webrtc",["promiseTool","$window","$q","spawn","$log",function(t,e,n,r,i){var o={},a=e.navigator;function s(t){return t.some((function(t){return!!t.label}))}return o.getUserMedia=t.wrapCallbacks(a.getUserMedia||a.webkitGetUserMedia||a.mozGetUserMedia||a.msGetUserMedia,a),o.getSources=a.mediaDevices&&a.mediaDevices.enumerateDevices?function(){return n.when(a.mediaDevices.enumerateDevices()).then((function(t){return t.filter((function(t){return t.kind.endsWith("input")})).map((function(t){var e={id:t.deviceId,label:t.label};return e.kind=t.kind.substring(0,t.kind.length-5),e}))})).catch(t=>(i.info("enumarateDevices() failed, treating it as no devices present",t),[]))}:t.wrapCallbacks(MediaStreamTrack.getSources,MediaStreamTrack),o.getSourcesByKind=function(t){return o.getSources().then((function(e){return e.filter((function(e){return e.kind===t}))}))},o.getVideoSources=function(){return o.getSourcesByKind("video")},o.getAudioSources=function(){return o.getSourcesByKind("audio")},o.hasCamera=function(){return o.getVideoSources().then((function(t){return t.length>0}))},o.hasMicrophone=function(){return o.getAudioSources().then((function(t){return t.length>0}))},o.hasVideoAccess=function(){return o.getVideoSources().then(s)},o.hasAudioAccess=function(){return o.getAudioSources().then(s)},o.getCameraAndMicPermission=r.wrap((function*(){let t=yield o.hasCamera(),e=!1,n=!1;try{let r=yield o.getUserMedia({audio:!0,video:t});n=!!r.getVideoTracks().length,e=!!r.getAudioTracks().length,r.getTracks().forEach((function(t){t.stop()}))}catch(r){}return{video:n,audio:e}})),o}])},CSyd:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},CUX2:function(t,e,n){"use strict";var r=n("l95E"),i=n("WpSD"),o=n("+V+g");e.auditTime=function(t,e){return void 0===e&&(e=r.async),i.audit((function(){return o.timer(t,e)}))}},CVq3:function(t,e){angular.module("w69b.googledrive",[]).factory("googledrive",["$q","googleauth","$location","$interval","$http","$log",function(t,e,n,r,i,o){var a=!1,s="https://www.googleapis.com/drive/v2/",c={};function u(t){return t.data}function l(t,e){return i.get(s+t,{googleAuth:!0,params:e}).then(u)}function d(t,e){return i.post(s+t,e,{googleAuth:!0}).then(u)}function f(t,e){return i({method:"PATCH",url:s+t,data:e,googleAuth:!0}).then(u)}function h(t){return i.delete(s+t,{googleAuth:!0}).then(u)}return c.isLoaded=function(){return a},c.loadLibs=function(){return a?t.when(null):e.loadClient().then((function(){return t.all([e.gapiLoad("picker")])})).then((function(){a=!0}))},c.getFile=function(t){return o.debug("googledrive.getFile",t),l("files/"+t)},c.listFiles=function(t){return o.debug("googledrive.listFiles",t),l("files/",t).then((function(t){return t.items}))},c.postFile=function(t){return o.debug("googledrive.postFile",t),d("files",t)},c.patchFile=function(t,e){return o.debug("googledrive.patchFile",t,e),f("files/"+t,e)},c.trashFile=function(t){return o.debug("googledrive.trashFile",t),d("files/"+t+"/trash")},c.getAbout=function(){return l("about")},c.showShareSettings=function(n){return e.gapiLoad("drive-share").then((function(){var i=new gapi.drive.share.ShareClient(e.getAppId());i.setItemIds([n]),i.showSettingsDialog();var o=t.defer(),a=r((function(){for(var t=!1,e=document.activeElement;e!==document.documentElement;){if(e.classList.contains("dcs-ad-dcs-c")){t=!0;break}e=e.parentNode}t||(r.cancel(a),o.resolve())}),300);return o.promise}))},c.listPermissions=function(t){return o.debug("googledrive.listPermissions",t),l("files/"+t+"/permissions").then((function(t){return t.items}))},c.insertPermission=function(t,e){return o.debug("googledrive.insertPermissions",t),d("files/"+t+"/permissions",e)},c.patchPermission=function(t,e,n){return o.debug("googledrive.patchPermission",t),f("files/"+t+"/permissions/"+e,n)},c.removePermission=function(t,e){return o.debug("googledrive.removePermission",t,e),h("files/"+t+"/permissions/"+e)},c.getContextAction=function(){var t=n.search().state,e=null;if(angular.isString(t))try{e=JSON.parse(t)}catch(r){}return e?{action:e.action,ids:(e.ids||[]).concat(e.exportIds||[]),parentId:e.parentId,userId:e.userId}:null},c.listComments=function(t){return l(`files/${t}/comments`,{maxResults:100}).then((function(t){return t.items}))},c.insertComment=function(t,e){return d(`files/${t}/comments`,{content:e})},c.patchComment=function(t,e,n){return f(`files/${t}/comments/${e}`,{content:n})},c.deleteComment=function(t,e){return h(`files/${t}/comments/${e}`)},c}])},"Cf/K":function(t,e,n){var r,i,o,a,s,c,u;t.exports=(u=n("Ni7E"),n("77dk"),n("ZxLh"),a=(i=(r=u).lib).WordArray,c=(s=r.algo).EvpKDF=(o=i.Base).extend({cfg:o.extend({keySize:4,hasher:s.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,r=n.hasher.create(),i=a.create(),o=i.words,s=n.keySize,c=n.iterations;o.length<s;){u&&r.update(u);var u=r.update(t).finalize(e);r.reset();for(var l=1;l<c;l++)u=r.finalize(u),r.reset();i.concat(u)}return i.sigBytes=4*s,i}}),r.EvpKDF=function(t,e,n){return c.create(n).compute(t,e)},u.EvpKDF)},Cmdc:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("vdqk");e.AsyncScheduler=function(t){function e(n,r){void 0===r&&(r=i.Scheduler.now);var o=t.call(this,n,(function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(i.Scheduler)},Cu2E:function(t,e,n){n("dRAY")("replace")},Cywn:function(t,e,n){n("cXjr"),t.exports=n("WIDk")("String","startsWith")},"D+qx":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("wyss");e.AsapAction=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=i.Immediate.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(i.Immediate.clearImmediate(n),e.scheduled=void 0)},e}(n("vU7N").AsyncAction)},D57K:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return d})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return h})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return v})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return _})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return S})),n.d(e,"__importDefault",(function(){return E}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function c(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(e){o(e)}}function s(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function d(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function h(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof v?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(t){s("next",t)}function u(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:v(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=h(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},D9en:function(t,e,n){"use strict";e.isArray=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}()},DLj4:function(t,e,n){"use strict";var r=n("qiMw");function i(t){t.subscriber.error(t.error)}e.throwError=function(t,e){return new r.Observable(e?function(n){return e.schedule(i,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}},DQ6M:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV"),o=n("5hAx"),a=n("qIOz");e.take=function(t){return function(e){return 0===t?a.empty():e.lift(new s(t))}};var s=function(){function t(t){if(this.total=t,this.total<0)throw new o.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return r(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(i.Subscriber)},DQJ2:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("dmvN"),o=n("kZSD");e.takeUntil=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new s(t),r=o.subscribeToResult(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),s=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(i.OuterSubscriber)},DRiV:function(t,e,n){t.exports=!n("Zup5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"DaQ+":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("dmvN"),o=n("kZSD");e.distinct=function(t,e){return function(n){return n.lift(new a(t,e))}};var a=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.keySelector,this.flushes))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=n,i.values=new Set,r&&i.add(o.subscribeToResult(i,r)),i}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,n=this.destination;try{e=this.keySelector(t)}catch(r){return void n.error(r)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var n=this.values;n.has(t)||(n.add(t),this.destination.next(e))},e}(i.OuterSubscriber);e.DistinctSubscriber=s},DbaZ:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},Ddvy:function(t,e,n){n("hOXu"),t.exports="ngAria"},DoSS:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV");e.scan=function(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(t,e,n))}};var o=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))},t}(),a=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(i.Subscriber)},DtmU:function(t,e,n){"use strict";var r=n("qiMw"),i=n("sBpz"),o=n("uHtI");e.fromArray=function(t,e){return e?o.scheduleArray(t,e):new r.Observable(i.subscribeToArray(t))}},"E/Xc":function(t,e,n){"use strict";var r=n("hjML");function i(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:r.noop}e.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(t)},e.pipeFromArray=i},E0oi:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("l95E"),o=n("Ha4h"),a=n("1hPV"),s=n("t25p");e.delay=function(t,e){void 0===e&&(e=i.async);var n=o.isDate(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new c(n,e))}};var c=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.delay,this.scheduler))},t}(),u=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return r(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new l(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(s.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(s.Notification.createComplete()),this.unsubscribe()},e}(a.Subscriber),l=function(){return function(t,e){this.time=t,this.notification=e}}()},EKNu:function(t,e,n){"use strict";var r=n("cp9A")(5),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),n("9SEF")({target:"Array",proto:!0,forced:i},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("J3oN")("find")},EKQR:function(t,e,n){var r=n("DbaZ"),i=n("wkq9"),o=n("skk5")("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},EMVo:function(t,e,n){"use strict";var r=n("jxUv");e.multicast=function(t,e){return function(n){var o;if(o="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new i(o,e));var a=Object.create(n,r.connectableObservableDescriptor);return a.source=n,a.subjectFactory=o,a}};var i=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}();e.MulticastOperator=i},EeOn:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return sr})),n.d(e,"EventType",(function(){return cr})),n.d(e,"WebChannel",(function(){return ur})),n.d(e,"XhrIo",(function(){return lr})),n.d(e,"createWebChannelTransport",(function(){return ar}));var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},a=i;function s(t){return"string"==typeof t}function c(t){return"number"==typeof t}function u(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function l(){}function d(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function f(t){return"array"==d(t)}function h(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function S(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function E(){this.j=this.j,this.i=this.i}E.prototype.j=!1,E.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[m]||(this[m]=++g))},E.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var x=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},C=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=s(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function k(t){return Array.prototype.concat.apply([],arguments)}function T(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function P(t){return/^[\s\xa0]*$/.test(t)}var I,A=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function O(t,e){return-1!=t.indexOf(e)}function $(t,e){return t<e?-1:t>e?1:0}t:{var M=a.navigator;if(M){var D=M.userAgent;if(D){I=D;break t}}I=""}function N(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function R(t){var e,n={};for(e in t)n[e]=t[e];return n}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<L.length;o++)n=L[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function F(t){return F[" "](t),t}F[" "]=l;var B,V,H=O(I,"Opera"),U=O(I,"Trident")||O(I,"MSIE"),q=O(I,"Edge"),z=q||U,W=O(I,"Gecko")&&!(O(I.toLowerCase(),"webkit")&&!O(I,"Edge"))&&!(O(I,"Trident")||O(I,"MSIE"))&&!O(I,"Edge"),G=O(I.toLowerCase(),"webkit")&&!O(I,"Edge");function K(){var t=a.document;return t?t.documentMode:void 0}t:{var Q="",Y=(V=I,W?/rv:([^\);]+)(\)|;)/.exec(V):q?/Edge\/([\d\.]+)/.exec(V):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(V):G?/WebKit\/(\S+)/.exec(V):H?/(?:Version)[ \/]?(\S+)/.exec(V):void 0);if(Y&&(Q=Y?Y[1]:""),U){var X=K();if(null!=X&&X>parseFloat(Q)){B=String(X);break t}}B=Q}var Z,J={};function tt(t){return function(t,e){var n=J;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=A(String(B)).split("."),r=A(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=$(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||$(0==a[2].length,0==s[2].length)||$(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var et=a.document;Z=et&&U?K()||("CSS1Compat"==et.compatMode?parseInt(B,10):5):void 0;var nt=!U||9<=Number(Z),rt=U&&!tt("9"),it=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",l,e),a.removeEventListener("test",l,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.Ja=!0}function at(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(W){t:{try{F(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:st[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.Ja=!1},S(at,ot);var st={2:"touch",3:"pen",4:"mouse"};at.prototype.b=function(){at.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ct="closure_listenable_"+(1e6*Math.random()|0),ut=0;function lt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++ut,this.X=this.Z=!1}function dt(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function ft(t){this.src=t,this.a={},this.b=0}function ht(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=x(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(dt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function pt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}ft.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=pt(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new lt(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),gt={};function vt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(f(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=xt(r),e&&e[ct]?e.Ba(n,r,p(i)?!!i.capture:!!i,o):yt(e,n,r,!0,i,o)}(t,e,n,r,i);if(f(e)){for(var o=0;o<e.length;o++)vt(t,e[o],n,r,i);return null}return n=xt(n),t&&t[ct]?t.Aa(e,n,p(r)?!!r.capture:!!r,i):yt(t,e,n,!1,r,i)}function yt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=p(i)?!!i.capture:!!i;if(a&&!nt)return null;var s=St(t);if(s||(t[mt]=s=new ft(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=wt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_t(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function bt(t){if(!c(t)&&t&&!t.X){var e=t.src;if(e&&e[ct])ht(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_t(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=St(e))?(ht(n,t),0==n.b&&(n.src=null,e[mt]=null)):dt(t)}}}function _t(t){return t in gt?gt[t]:gt[t]="on"+t}function wt(t,e){return!!t.X||function(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&bt(t),n.call(r,e)}(t,nt?new at(e,this):e=new at(e||u("window.event"),this))}function St(t){return(t=t[mt])instanceof ft?t:null}var Et="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(t){return"function"==d(t)?t:(t[Et]||(t[Et]=function(e){return t.handleEvent(e)}),t[Et])}function Ct(){E.call(this),this.c=new ft(this),this.J=this,this.B=null}function kt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.X&&a.capture==n){var s=a.listener,c=a.da||a.src;a.Z&&ht(t.c,a),i=!1!==s.call(c,r)&&i}}return i&&0!=r.Ja}S(Ct,E),Ct.prototype[ct]=!0,(r=Ct.prototype).addEventListener=function(t,e,n,r){vt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(f(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=p(i)?!!i.capture:!!i,r=xt(r),e&&e[ct]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=pt(a=e.a[n],r,i,o))&&(dt(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=St(e))&&(n=e.a[n.toString()],e=-1,n&&(e=pt(n,r,i,o)),(r=-1<e?n[e]:null)&&bt(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(s(t))t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var i=t;j(t=new ot(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=kt(a,r,!0,t)&&i}if(i=kt(a=t.a=n,r,!0,t)&&i,i=kt(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=kt(a=t.a=e[o],r,!1,t)&&i;return i},r.G=function(){if(Ct.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)dt(n[r]);delete e.a[t],e.b--}}this.B=null},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Ba=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Tt=a.JSON.stringify;function Pt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function It(){this.b=this.a=null}Pt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var At,Ot=new Pt((function(){return new Mt}),(function(t){t.reset()}));function $t(){var t=Lt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Mt(){this.next=this.b=this.a=null}function Dt(t){a.setTimeout((function(){throw t}),0)}function Nt(t,e){At||function(){var t=a.Promise.resolve(void 0);At=function(){t.then(jt)}}(),Rt||(At(),Rt=!0),Lt.add(t,e)}It.prototype.add=function(t,e){var n=Ot.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Mt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Mt.prototype.reset=function(){this.next=this.b=this.a=null};var Rt=!1,Lt=new It;function jt(){for(var t;t=$t();){try{t.a.call(t.b)}catch(n){Dt(n)}var e=Ot;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Rt=!1}function Ft(t,e){Ct.call(this),this.b=t||1,this.a=e||a,this.f=b(this.gb,this),this.g=w()}function Bt(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Vt(t,e,n){if("function"==d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Ht(t,e,n){E.call(this),this.f=null!=n?b(t,n):t,this.c=e,this.b=b(this.ab,this),this.a=[]}function Ut(t){t.U=Vt(t.b,t.c),t.f.apply(null,t.a)}function qt(t){E.call(this),this.b=t,this.a={}}S(Ft,Ct),(r=Ft.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Bt(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},r.G=function(){Ft.N.G.call(this),Bt(this),delete this.a},S(Ht,E),(r=Ht.prototype).ea=!1,r.U=null,r.Ua=function(t){this.a=arguments,this.U?this.ea=!0:Ut(this)},r.G=function(){Ht.N.G.call(this),this.U&&(a.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.ab=function(){this.U=null,this.ea&&(this.ea=!1,Ut(this))},S(qt,E);var zt=[];function Wt(t,e,n,r){f(n)||(n&&(zt[0]=n.toString()),n=zt);for(var i=0;i<n.length;i++){var o=vt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Gt(t){N(t.a,(function(t,e){this.a.hasOwnProperty(e)&&bt(t)}),t),t.a={}}function Kt(){}qt.prototype.G=function(){qt.N.G.call(this),Gt(this)},qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qt=new Ct;function Yt(t){ot.call(this,"serverreachability",t)}function Xt(t){Qt.dispatchEvent(new Yt(Qt,t))}function Zt(t){ot.call(this,"statevent",t)}function Jt(t){Qt.dispatchEvent(new Zt(Qt,t))}function te(t){ot.call(this,"timingevent",t)}function ee(t,e){if("function"!=d(t))throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){t()}),e)}S(Yt,ot),S(Zt,ot),S(te,ot);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},re={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ie(){}function oe(){}ie.prototype.a=null;var ae,se={OPEN:"a",ib:"b",Na:"c",rb:"d"};function ce(){ot.call(this,"d")}function ue(){ot.call(this,"c")}function le(){}function de(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new qt(this),this.O=fe,this.P=new Ft(t=z?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}S(ce,ot),S(ue,ot),S(le,ie),ae=new le;var fe=45e3,he={},pe={};function me(t,e,n){t.F=1,t.f=Be(Me(e)),t.l=n,t.H=!0,ve(t,null)}function ge(t,e,n,r){t.F=1,t.f=Be(Me(e)),t.l=null,t.H=n,ve(t,r)}function ve(t,e){t.v=w(),_e(t),t.D=Me(t.f),Fe(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new Ht(b(t.Ka,t,t.a),t.J)),Wt(t.I,t.a,"readystatechange",t.eb),e=t.h?R(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Xt(1)}function ye(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=be(t,n);if(i==pe){4==e&&(t.c=4,Jt(14),r=!1);break}if(i==he){t.c=4,Jt(15),r=!1;break}Ce(t,i)}4==e&&0==n.length&&(t.c=1,Jt(16),r=!1),t.b=t.b&&r,r||(xe(t),Ee(t))}function be(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?pe:(n=Number(e.substring(n,r)),isNaN(n)?he:(r+=1)+n>e.length?pe:(e=e.substr(r,n),t.A=r+n,e))}function _e(t){t.R=w()+t.O,we(t,t.O)}function we(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(b(t.bb,t),e)}function Se(t){t.i&&(a.clearTimeout(t.i),t.i=null)}function Ee(t){t.g.Da()||t.m||t.g.na(t)}function xe(t){Se(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Bt(t.P),Gt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Ce(t,e){try{t.g.Ga(t,e),Xt(4)}catch(n){}}function ke(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||s(t))C(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(h(t)||s(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(s(t))return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Te(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Te)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Pe(t,e){Ae(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ie(t))}function Ie(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ae(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ae(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ae(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=de.prototype).setTimeout=function(t){this.O=t},r.eb=function(t){t=t.target;var e=this.B;e&&3==Mn(t)?e.Ua():this.Ka(t)},r.Ka=function(t){try{if(t==this.a)t:{var e=Mn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!z&&!this.a.aa())){this.m||4!=e||7==n||Xt(8==n||0>=r?3:2),Se(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var a=Dn(this.a,"X-HTTP-Initial-Response");if(a&&!P(a)){var s=a;break e}}s=null}if(!s){this.b=!1,this.c=3,Jt(12),xe(this),Ee(this);break t}this.s=!0,Ce(this,s)}this.H?(ye(this,e,o),z&&this.b&&3==e&&(Wt(this.I,this.P,"tick",this.cb),this.P.start())):Ce(this,o),4==e&&xe(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,_e(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Jt(12)):(this.c=0,Jt(13)),xe(this),Ee(this)}}}catch(c){}},r.cb=function(){if(this.a){var t=Mn(this.a),e=this.a.aa();this.A<e.length&&(Se(this),ye(this,t,e),this.b&&4!=t&&_e(this))}},r.cancel=function(){this.m=!0,xe(this)},r.bb=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&(Xt(3),Jt(17)),xe(this),this.c=2,Ee(this)):we(this,this.R-t)},(r=Te.prototype).C=function(){Ie(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return Ie(this),this.a.concat()},r.get=function(t,e){return Ae(this.b,t)?this.b[t]:e},r.set=function(t,e){Ae(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Oe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $e(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof $e?(this.h=void 0!==e?e:t.h,De(this,t.f),this.j=t.j,Ne(this,t.b),Re(this,t.i),this.a=t.a,Le(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(Oe))?(this.h=!!e,De(this,n[1]||"",!0),this.j=Ve(n[2]||""),Ne(this,n[3]||"",!0),Re(this,n[4]),this.a=Ve(n[5]||"",!0),Le(this,n[6]||"",!0),this.g=Ve(n[7]||"")):(this.h=!!e,this.c=new Qe(null,this.h))}function Me(t){return new $e(t)}function De(t,e,n){t.f=n?Ve(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ne(t,e,n){t.b=n?Ve(e,!0):e}function Re(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Le(t,e,n){e instanceof Qe?(t.c=e,function(t,e){e&&!t.f&&(Ye(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xe(this,e),Je(this,n,t))}),t)),t.f=e}(t.c,t.h)):(n||(e=He(e,Ge)),t.c=new Qe(e,t.h))}function je(t,e,n){t.c.set(e,n)}function Fe(t,e,n){f(n)||(n=[String(n)]),Je(t.c,e,n)}function Be(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function Ve(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function He(t,e,n){return s(t)?(t=encodeURI(t).replace(e,Ue),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ue(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}$e.prototype.toString=function(){var t=[],e=this.f;e&&t.push(He(e,qe,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(He(e,qe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(He(n,"/"==n.charAt(0)?We:ze,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",He(n,Ke)),t.join("")},$e.prototype.resolve=function(t){var e=Me(this),n=!!t.f;n?De(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Ne(e,t.b):n=null!=t.i;var r=t.a;if(n)Re(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(O(i,"./")||O(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?Le(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var qe=/[#\/\?@]/g,ze=/[#\?:]/g,We=/[#\?]/g,Ge=/[#\?@]/g,Ke=/#/g;function Qe(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ye(t){t.a||(t.a=new Te,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xe(t,e){Ye(t),e=en(t,e),Ae(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Pe(t.a,e))}function Ze(t,e){return Ye(t),e=en(t,e),Ae(t.a.b,e)}function Je(t,e,n){Xe(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),T(n)),t.b+=n.length)}function tn(t){var e=new Qe;return e.c=t.c,t.a&&(e.a=new Te(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)Jt(4),e?(Jt(10),Wn(t.a,t,!1)):(Jt(11),Wn(t.a,t,!0));else{t.b=new de(t,void 0,void 0),t.b.h=t.h,e=Xn(e=t.a,e.Y()?t.f:null,t.i),Jt(4),Fe(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&je(e,n,r),ge(t.b,e,!1,t.f)}}function on(){this.a=this.b=null}function an(){this.a=new Te}function sn(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[m]||(t[m]=++g)):e.charAt(0)+t}function cn(t,e){this.b=t,this.a=e}function un(t){this.g=t||ln,t=a.PerformanceNavigationTiming?0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(a.ka&&a.ka.Ea&&a.ka.Ea()&&a.ka.Ea().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new an),this.b=null,this.c=[]}(r=Qe.prototype).add=function(t,e){Ye(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Ye(this),this.a.forEach((function(n,r){C(n,(function(n){t.call(e,n,r,this)}),this)}),this)},r.K=function(){Ye(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.C=function(t){Ye(this);var e=[];if(s(t))Ze(this,t)&&(e=k(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=k(e,t[n])}return e},r.set=function(t,e){return Ye(this),this.c=null,Ze(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")},S((function(){}),(function(){})),(r=nn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Da=function(){return!1},r.Ga=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Dn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Dn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return(e=this.a).m=this.c,void Qn(e,2)}this.f=r[0]}else(e=this.a).m=this.c,Qn(e,2)}else 1==this.M&&(this.g?Jt(6):"11111"==e?(Jt(5),this.g=!0,(!U||10<=Number(Z))&&(this.c=200,this.b.cancel(),Jt(11),Wn(this.a,this,!0))):(Jt(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?(Jt(11),Wn(this.a,this,!0)):(Jt(10),Wn(this.a,this,!1)));else{0==this.M?Jt(8):1==this.M&&Jt(9);var t=this.a;t.m=this.c,Qn(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},an.prototype.add=function(t){this.a.set(sn(t),t)},an.prototype.C=function(){return this.a.C()};var ln=10;function dn(t,e){!t.a&&(O(e,"spdy")||O(e,"quic")||O(e,"h2"))&&(t.f=t.g,t.a=new an,t.b&&(mn(t,t.b),t.b=null))}function fn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function hn(t){return t.b?1:t.a?t.a.a.c:0}function pn(t,e){return t.b?t=t.b==e:t.a?(e=sn(e),t=Ae(t.a.a.b,e)):t=!1,t}function mn(t,e){t.a?t.a.add(e):t.b=e}function gn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=sn(e),n=Ae(t.a.a.b,n)),n&&Pe(t.a.a,sn(e)))}function vn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return C(t.a.C(),(function(t){e=e.concat(t.j)})),e}return T(t.c)}function yn(){}function bn(){this.a=new yn}function _n(t,e,n){var r=n||"";try{ke(t,(function(t,n){var i=t;p(t)&&(i=Tt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}un.prototype.cancel=function(){this.c=vn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(C(this.a.C(),(function(t){t.cancel()})),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},yn.prototype.stringify=function(t){return a.JSON.stringify(t,void 0)},yn.prototype.parse=function(t){return a.JSON.parse(t,void 0)};var Sn=a.JSON.parse;function En(t){Ct.call(this),this.headers=new Te,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=xn,this.D=this.F=!1}S(En,Ct);var xn="",Cn=/^https?$/i,kn=["POST","PUT"];function Tn(t){return"content-type"==t.toLowerCase()}function Pn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,In(t),On(t)}function In(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function An(t){if(t.b&&void 0!==o&&(!t.s[1]||4!=Mn(t)||2!=t.T()))if(t.l&&4==Mn(t))Vt(t.Fa,0,t);else if(t.dispatchEvent("readystatechange"),4==Mn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.A).match(Oe)[1]||null;if(!s&&a.self&&a.self.location){var c=a.self.location.protocol;s=c.substr(0,c.length-1)}i=!Cn.test(s?s.toLowerCase():"")}e=i}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.h=6,t.f=t.za()+" ["+t.T()+"]",In(t))}finally{On(t)}}}function On(t,e){if(t.a){$n(t);var n=t.a,r=t.s[0]?l:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function $n(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(a.clearTimeout(t.m),t.m=null)}function Mn(t){return t.a?t.a.readyState:0}function Dn(t,e){return t.a?t.a.getResponseHeader(e):null}function Nn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return N(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),s(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return je(t,e,n),t}function Rn(t){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!u("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=u("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Sa=u("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Qa=u("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=u("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.La=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new un(t&&t.concurrentRequestLimit),this.ja=new bn,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Ln(t){if(jn(t),3==t.u){var e=t.P++,n=Me(t.B);je(n,"SID",t.H),je(n,"RID",e),je(n,"TYPE","terminate"),Hn(t,n),(e=new de(t,e,void 0)).F=2,e.f=Be(Me(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(e.f.toString(),"")),!n&&a.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),_e(e)}Yn(t)}function jn(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(a.clearTimeout(t.l),t.l=null),Gn(t),t.b.cancel(),t.h&&(c(t.h)&&a.clearTimeout(t.h),t.h=null)}function Fn(t,e){t.f.push(new cn(t.Ra++,e)),3==t.u&&Bn(t)}function Bn(t){fn(t.b)||t.h||(t.h=!0,Nt(t.Ia,t),t.A=0)}function Vn(t,e){var n;n=e?e.W:t.P++;var r=Me(t.B);je(r,"SID",t.H),je(r,"RID",n),je(r,"AID",t.O),Hn(t,r),t.g&&t.i&&Nn(r,t.g,t.i),n=new de(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=Un(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),mn(t.b,n),me(n,r,e)}function Hn(t,e){t.c&&ke({},(function(t,n){je(e,n,t)}))}function Un(t,e,n){n=Math.min(t.f.length,n);var r=t.c?b(t.c.Ta,t.c,t):null;t:for(var i=t.f,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=o))o=Math.max(0,i[c].b-100),s=!1;else try{_n(l,a,"req"+u+"_")}catch(d){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function qn(t){t.a||t.l||(t.S=1,Nt(t.Ha,t),t.v=0)}function zn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(b(t.Ha,t),Kn(t,t.v)),t.v++,0))}function Wn(t,e,n){var r=e.l;r&&dn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Xn(t,null,t.ha),Bn(t)}function Gn(t){null!=t.s&&(a.clearTimeout(t.s),t.s=null)}function Kn(t,e){var n=t.Oa+Math.floor(Math.random()*t.Sa);return t.ma()||(n*=2),n*e}function Qn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=b(t.fb,t);n||(n=new $e("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||De(n,"https"),Be(n)),function(t,e){var n=new Kt;if(a.Image){var r=new Image;r.onload=_(wn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_(wn,n,r,"TestLoadImage: error",!1,e),r.onabort=_(wn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_(wn,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Jt(2);t.u=0,t.c&&t.c.ta(e),Yn(t),jn(t)}function Yn(t){t.u=0,t.m=-1,t.c&&(0==vn(t.b).length&&0==t.f.length||(t.b.c.length=0,T(t.f),t.f.length=0),t.c.sa())}function Xn(t,e,n){var r=function(t){return t instanceof $e?Me(t):new $e(t,void 0)}(n);if(""!=r.b)e&&Ne(r,e+"."+r.b),Re(r,r.i);else{var i=a.location;r=function(t,e,n,r){var i=new $e(null,void 0);return t&&De(i,t),e&&Ne(i,e),n&&Re(i,n),r&&(i.a=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&N(t.V,(function(t,e){je(r,e,t)})),n=t.I,(e=t.j)&&n&&je(r,e,n),je(r,"VER",t.wa),Hn(t,r),r}function Zn(){}function Jn(){if(U&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function tr(t,e){Ct.call(this),this.a=new Rn(e),this.g=t,this.m=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!P(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!P(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rr(this)}function er(t){ce.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nr(){ue.call(this),this.status=1}function rr(t){this.a=t}(r=En.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:ae),this.a.onreadystatechange=b(this.Fa,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void Pn(this,o)}t=n||"";var i=new Te(this.headers);r&&ke(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Tn,n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(i.K()),n=a.FormData&&t instanceof a.FormData,!(0<=x(kn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{$n(this),0<this.o&&((this.D=function(t){return U&&tt(9)&&c(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ca,this)):this.m=Vt(this.Ca,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Pn(this,o)}},r.Ca=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),On(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),On(this,!0)),En.N.G.call(this)},r.Fa=function(){this.j||(this.w||this.l||this.g?An(this):this.$a())},r.$a=function(){An(this)},r.T=function(){try{return 2<Mn(this)?this.a.status:-1}catch(V){return-1}},r.za=function(){try{return 2<Mn(this)?this.a.statusText:""}catch(V){return""}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(V){return""}},r.Va=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Sn(e)}},r.ya=function(){return this.h},r.Ya=function(){return s(this.f)?this.f:String(this.f)},(r=Rn.prototype).wa=8,r.u=1,r.Da=function(){return 0==this.u},r.Ia=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new de(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?j(r=R(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&s(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Un(this,n,e),je(i=Me(this.B),"RID",t),je(i,"CVER",22),this.o&&this.j&&je(i,"X-HTTP-Session-Id",this.j),Hn(this,i),this.g&&r&&Nn(i,this.g,r),mn(this.b,n),this.W?(je(i,"$req",e),je(i,"SID","null"),n.S=!0,me(n,i,null)):me(n,i,e),this.u=2}}else 3==this.u&&(t?Vn(this,t):0==this.f.length||fn(this.b)||Vn(this))},r.Ha=function(){this.l=null,this.a=new de(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Me(this.pa);je(t,"RID","rpc"),je(t,"SID",this.H),je(t,"CI",this.ia?"0":"1"),je(t,"AID",this.O),Hn(this,t),je(t,"TYPE","xmlhttp"),this.g&&this.i&&Nn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),ge(this.a,t,!0,this.ga)},r.Ga=function(t,e){if(0!=this.u&&(this.a==t||pn(this.b,t)))if(this.m=t.o,!t.s&&pn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(o){n=null}if(f(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Gn(this),this.a.cancel(),this.a=null}zn(this),Jt(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(b(this.Za,this),6e3));if(1>=hn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else Qn(this,11)}else if((t.s||this.a==t)&&Gn(this),!P(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&c(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Dn(r,"X-Client-Wire-Protocol"))&&dn(this.b,i),this.j&&(r=Dn(r,"X-HTTP-Session-Id")))&&(this.I=r,je(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Xn(this,this.Y()?this.ga:null,this.ha),r.s?(gn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Se(r),_e(r)),this.a=r):qn(this),0<this.f.length&&Bn(this)}else"stop"!=r[0]&&"close"!=r[0]||Qn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Qn(this,7):Ln(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,zn(this),Jt(19))},r.na=function(t){var e=null;if(this.a==t){Gn(this),this.a=null;var n=2}else{if(!pn(this.b,t))return;e=t.j,gn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,Qt.dispatchEvent(new te(Qt,t.l?t.l.length:0,e,this.A)),Bn(this)):qn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(hn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Pa?0:t.Qa)||(t.h=ee(b(t.Ia,t,e),Kn(t,t.A)),t.A++,0)))}(this,t)||2==n&&zn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:Qn(this,5);break;case 4:Qn(this,10);break;case 3:Qn(this,6);break;default:Qn(this,2)}}},r.fb=function(t){Jt(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new En(this.La)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Zn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Ta=function(){},Jn.prototype.a=function(t,e){return new tr(t,e)},S(tr,Ct),(r=tr.prototype).addEventListener=function(t,e,n,r){tr.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){tr.N.removeEventListener.call(this,t,e,n,r)},r.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;Jt(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Nn(e,t.g,t.i)),(t=t.w).i=n,e=Xn(t.a,null,t.i),Jt(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(Fe(e,"MODE","init"),!t.a.o&&t.a.j&&Fe(e,"X-HTTP-Session-Id",t.a.j),t.b=new de(t,void 0,void 0),t.b.h=t.h,ge(t.b,e,!1,null),t.M=0)},r.close=function(){Ln(this.a)},r.Xa=function(t){if(s(t)){var e={};e.__data__=t,Fn(this.a,e)}else this.h?((e={}).__data__=Tt(t),Fn(this.a,e)):Fn(this.a,t)},r.G=function(){this.a.c=null,delete this.f,Ln(this.a),delete this.a,tr.N.G.call(this)},S(er,ce),S(nr,ue),S(rr,Zn),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(t){this.a.dispatchEvent(new er(t))},rr.prototype.ta=function(t){this.a.dispatchEvent(new nr(t))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var ir=_((function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r}),Jn);Jn.prototype.createWebChannel=Jn.prototype.a,tr.prototype.send=tr.prototype.Xa,tr.prototype.open=tr.prototype.Wa,tr.prototype.close=tr.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",oe.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",Ct.prototype.listen=Ct.prototype.Aa,En.prototype.listenOnce=En.prototype.Ba,En.prototype.getLastError=En.prototype.Ya,En.prototype.getLastErrorCode=En.prototype.ya,En.prototype.getStatus=En.prototype.T,En.prototype.getStatusText=En.prototype.za,En.prototype.getResponseJson=En.prototype.Va,En.prototype.getResponseText=En.prototype.aa,En.prototype.send=En.prototype.ca;var or={createWebChannelTransport:ir,ErrorCode:ne,EventType:re,WebChannel:oe,XhrIo:En},ar=or.createWebChannelTransport,sr=or.ErrorCode,cr=or.EventType,ur=or.WebChannel,lr=or.XhrIo;e.default=or},Eew1:function(t,e,n){var r;t.exports=(r=n("Ni7E"),n("w9Pv"),function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.x64.Word,s=e.algo,c=[],u=[],l=[];!function(){for(var t=1,e=0,n=0;n<24;n++){c[t+5*e]=(n+1)*(n+2)/2%64;var r=(2*t+3*e)%5;t=e%5,e=r}for(t=0;t<5;t++)for(e=0;e<5;e++)u[t+5*e]=e+(2*t+3*e)%5*5;for(var i=1,o=0;o<24;o++){for(var s=0,d=0,f=0;f<7;f++){if(1&i){var h=(1<<f)-1;h<32?d^=1<<h:s^=1<<h-32}128&i?i=i<<1^113:i<<=1}l[o]=a.create(s,d)}}();var d=[];!function(){for(var t=0;t<25;t++)d[t]=a.create()}();var f=s.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=t[e+2*i],a=t[e+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),(O=n[i]).high^=a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),O.low^=o}for(var s=0;s<24;s++){for(var f=0;f<5;f++){for(var h=0,p=0,m=0;m<5;m++)h^=(O=n[f+5*m]).high,p^=O.low;var g=d[f];g.high=h,g.low=p}for(f=0;f<5;f++){var v=d[(f+4)%5],y=d[(f+1)%5],b=y.high,_=y.low;for(h=v.high^(b<<1|_>>>31),p=v.low^(_<<1|b>>>31),m=0;m<5;m++)(O=n[f+5*m]).high^=h,O.low^=p}for(var w=1;w<25;w++){var S=(O=n[w]).high,E=O.low,x=c[w];x<32?(h=S<<x|E>>>32-x,p=E<<x|S>>>32-x):(h=E<<x-32|S>>>64-x,p=S<<x-32|E>>>64-x);var C=d[u[w]];C.high=h,C.low=p}var k=d[0],T=n[0];for(k.high=T.high,k.low=T.low,f=0;f<5;f++)for(m=0;m<5;m++){var P=d[w=f+5*m],I=d[(f+1)%5+5*m],A=d[(f+2)%5+5*m];(O=n[w]).high=P.high^~I.high&A.high,O.low=P.low^~I.low&A.low}var O,$=l[s];(O=n[0]).high^=$.high,O.low^=$.low}},_doFinalize:function(){var e=this._data,n=e.words,r=8*e.sigBytes,o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(t.ceil((r+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,c=s/8,u=[],l=0;l<c;l++){var d=a[l],f=d.high,h=d.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),u.push(h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)),u.push(f)}return new i.init(u,s)},clone:function(){for(var t=o.clone.call(this),e=t._state=this._state.slice(0),n=0;n<25;n++)e[n]=e[n].clone();return t}});e.SHA3=o._createHelper(f),e.HmacSHA3=o._createHmacHelper(f)}(Math),r.SHA3)},F0rJ:function(t,e,n){"use strict";var r=n("qMCr");e.concatAll=function(){return r.mergeAll(1)}},FHnU:function(t,e){angular.module("castifyEdit.ui.videoEditor",["castifyEdit.ui.videoCanvas","castifyEdit.ui.cropCanvas","castifyEdit.ui.videoControls","castifyEdit.ui.trimSlider","castifyEdit.ui.timeLine","castifyEdit.ui.videoPreview","castifyExt.ui.videoPlayer","cf2.upgradeHelperService","castifyExt.ui.upgradeButton","castifyExt.appOptions"]).directive("cfVideoEditor",["$mdToast","cf2UpgradeHelperService","appOptions",function(t,e,n){return{restrict:"E",templateUrl:"components/castifyEdit/ui/video-editor.html",scope:{file:"=cfFile",cfCancel:"&",cfSave:"&"},controller:["$scope",function(t){this.registerVideoPreview=function(e){t.previewCtrl=e},this.getScope=function(){return t},this.init=function(){}}],link:function(r,i,o,a){if(a.init(),r.config={meta:{copy:!0}},n.values.showEditToolsHint){var s=t.simple().content("Draw a box to crop your video, move scissors to trim.").position("top right").hideDelay(0).action("Got it");s._options.parent="cf-video-editor",t.show(s).then((function(t){"ok"===t&&(n.values.showEditToolsHint=!1,n.save())}))}r.cf2UpgradeHelperService=e,r.canSave=function(){return(r.config.crop||r.config.trim)&&e.hasFeature("hasCropTrim")},r.save=function(t){var e=r.config;e.meta.copy=t,"video/mp4"===r.file.mimeType&&(e.outFormat="mp4",e.meta.dst="drive"),r.cfSave({config:e})}}}}])},FKTW:function(t,e){angular.module("castifyEdit.ui.videoPreview",["w69b.throttle"]).directive("cfVideoPreview",["throttle","$interval","$document",function(t,e,n){return{restrict:"E",template:'<video autoplay cf-video-load="file"></video>',scope:{editConfig:"=",file:"="},require:["^cfVideoEditor","cfVideoPreview"],controller:["$scope",function(r){var i,o,a=this,s=null;a.loading=!1,a.duration=0;var c=a.currentTime,u=null,l=n.find("body")[0];function d(t){i.duration-i.currentTime<=(t=t||0)&&(t=0);var e=r.editConfig.trim;return e&&e.end&&i.currentTime>=e.end-t}function f(){var t=r.editConfig.trim;!d(.05)||a.paused||a.ended||(i.pause(),a.seek(t.end))}function h(){a.currentTime!==c&&(f(),c=a.currentTime,o.$broadcast("videoPreview:timeUpdate"))}function p(){f(),a.paused&&(e.cancel(s),s=!1)}function m(t){32===t.which&&t.target===l&&(i.paused?a.play():a.pause(),t.preventDefault())}function g(t){return Math.round(10*t)/10}function v(t){(t=g(t))!==i.currentTime&&(i.currentTime=g(t))}Object.defineProperties(a,{ended:{get:function(){return i.ended||d()}},paused:{get:function(){return i.paused}},currentTime:{get:function(){return i.currentTime}},loading:{get:function(){return!u||i.seeking}}}),a.init=function(t,c){o=c,a.video=i=t[0],t.bind("timeupdate",h),t.bind("loadedmetadata",(function e(){a.duration=i.duration,o.$broadcast("videoPreview:loaded"),t.unbind("loadedmetadata",e),r.$apply()})),t.bind("playing pause ended",(function(){a.paused||s||(s=e(p,10,0,!1)),r.$apply()})),t.bind("seeking seeked",(function(t){r.$apply()})),t.bind("loadstart",(function e(){u=!1,t.unbind("loadstart",e),r.$apply()})),t.bind("canplay",(function e(){u=!0,t.unbind("canplay",e),r.$apply()})),n.bind("keydown",m),c.$on("$destroy",(function(){n.unbind("keydown",m)}))};var y=t((function(t){v(t)}),100);a.pause=function(){i.pause()},a.play=function(){a.ended&&a.seekToStart(),i.play()},a.seekToStart=function(){var t=r.editConfig.trim;a.seek(t&&t.start||0)},a.seek=function(t){y.flush(),v(t)},a.getTrimmedEndTime=function(){var t=r.editConfig.trim;return t&&t.end||a.duration},a.getTrimmedStartTime=function(){var t=r.editConfig.trim;return t&&t.start||0},a.seekThrottled=function(t){t!==i.currentTime&&y(t)}}],link:function(t,e,n,r){var i=r[0],o=r[1];o.init(e.find("video"),i.getScope()),i.registerVideoPreview(o)}}}])},FVvq:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("kZSD"),o=n("dmvN"),a=n("d4zx"),s=n("d0I2"),c=n("R4cV");e.mergeMap=function t(e,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof n?function(i){return i.pipe(t((function(t,r){return c.from(e(t,r)).pipe(s.map((function(e,i){return n(t,e,r,i)})))}),r))}:("number"==typeof n&&(r=n),function(t){return t.lift(new u(e,r))})};var u=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))},t}();e.MergeMapOperator=u;var l=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new a.InnerSubscriber(this,void 0,void 0);this.destination.add(r),i.subscribeToResult(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeMapSubscriber=l},Ff96:function(t,e,n){t.exports=!n("Zup5")((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},Fs62:function(t,e,n){"use strict";e.TimeoutError=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}()},"G+hJ":function(t,e){angular.module("w69b.uuid",[]).factory("uuid",["$window",function(t){function e(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e}return function(){var n=new Uint16Array(8);return t.crypto.getRandomValues(n),e(n[0])+e(n[1])+"-"+e(n[2])+"-4"+e(n[3]).substring(1)+"-y"+e(n[4]).substring(1)+"-"+e(n[5])+e(n[6])+e(n[7])}}])},GB03:function(t,e,n){"use strict";var r=n("7bXj");e.subscribeToIterable=function(t){return function(e){for(var n=t[r.iterator]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e}}},GOAL:function(t,e,n){"use strict";var r=n("5uKB");e.distinctUntilKeyChanged=function(t,e){return r.distinctUntilChanged((function(n,r){return e?e(n[t],r[t]):n[t]===r[t]}))}},Gjt8:function(t,e,n){"use strict";n.r(e),n.d(e,"LogLevel",(function(){return i})),n.d(e,"Logger",(function(){return s})),n.d(e,"setLogLevel",(function(){return c}));var r=[],i=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),o=i.INFO,a=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},s=function(){function t(t){this.name=t,this._logLevel=o,this._logHandler=a,r.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.ERROR].concat(t))},t}();function c(t){r.forEach((function(e){e.logLevel=t}))}},"Gn/Z":function(t,e,n){var r=n("M5Hp"),i=n("NaO6");t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},Gn4E:function(t,e){angular.module("castifyExt.ui.fileList",["ngMaterial","w69b.chromeAnalytics","w69b.ui.bgImg","w69b.ui.focus","w69b.ui.bytesFilter","castifyExt.appOptions","castifyExt.ui.syncAuthErrorRedirector","castifyExt.fileDbClient","castifyExt.ui.fileActions","castifyExt.ui.editableText","castifyExt.ui.fileSyncInfo","castifyExt.ui.syncInfo","castifyExt.ui.blackfriday","castifyExt.ui.editJobsInfo","castifyExt.driveUtils","castifyExt.syncStatusClient","cf2.upgradeHelperService"]).controller("FileListCtrl",["$scope","fileDbClient","$mdDialog","appOptions","$location","$mdToast","driveUtils","syncStatusClient","cf2UpgradeHelperService",function(t,e,n,r,i,o,a,s,c){t.loading=!0,e.listFiles().then((function(e){t.$watchCollection((function(){return e}),(function(){var n=t.files||[];n.length=0,angular.forEach(e,(function(t){t.autoShare||n.push(t)})),t.files=n}))}),(function(){o.show(o.simple({hideDelay:0}).content("Failed to load files, please try to reload the page!"))})).finally((function(){t.loading=!1})),t.options=r.values,t.cf2UpgradeHelperService=c,t.showDetail=function(t){i.path("/files/"+t.id)},t.removeAll=function(){var t;t=e.isSyncEnabled()?"Deleting will remove all Screencasts from your device and also from your Drive account.":"Deleting will remove all Screencasts from your device. This cannot be undone.",n.show(n.confirm().title("Delete all Screencasts?").content(t).cancel("Cancel").ok("Delete All")).then((function(){e.removeAll()}))},t.driveSync=s.state,t.openInDrive=function(){a.getDriveUploadParentId().then(t=>window.open("https://drive.google.com/drive/u/0/folders/"+t,"_blank"))}}])},GwyS:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("kZSD"),o=n("dmvN"),a=n("d4zx");e.mergeScan=function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new s(t,e,n))}};var s=function(){function t(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.accumulator,this.seed,this.concurrent))},t}();e.MergeScanOperator=s;var c=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o.acc=r,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,n=this.destination,r=void 0;try{r=(0,this.accumulator)(this.acc,t,e)}catch(i){return n.error(i)}this.active++,this._innerSub(r,t,e)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,n){var r=new a.InnerSubscriber(this,void 0,void 0);this.destination.add(r),i.subscribeToResult(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.destination;this.acc=e,this.hasValue=!0,o.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.destination.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(o.OuterSubscriber);e.MergeScanSubscriber=c},H6Rg:function(t,e,n){n("uozk"),t.exports=n("WIDk")("Array","findIndex")},HQQz:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("tkgy"),o=n("dmvN"),a=n("kZSD");e.retryWhen=function(t){return function(e){return e.lift(new s(t,e))}};var s=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.notifier,this.source))},t}(),c=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.notifier=n,i.source=r,i}return r(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.errors,r=this.retries,o=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{n=new i.Subject;try{r=(0,this.notifier)(n)}catch(s){return t.prototype.error.call(this,s)}o=a.subscribeToResult(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=o,n.next(e)}},e.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,n,r,i){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)},e}(o.OuterSubscriber)},HRCS:function(t,e){angular.module("w69b.chromeAnalytics",[]).provider("analytics",(function(){var t,e;this.setTrackingId=function(e){t=e},this.setApp=function(t,n){e=arguments},this.$get=["$window",function(n){if(!e)throw new Error("make sure to call analyticsProvider.setApp()");if(!n.analytics)throw new Error("chrome-analytics lib not loaded");var r=n.analytics,i=r.getService.apply(r,e),o=i.getTracker(t),a={};return a.tracker=o,a.eventBuilder=function(){return r.EventBuilder.builder()},a.setEnabled=function(t){i.getConfig().addCallback((function(e){e.setTrackingPermitted(t)}))},a.send=function(){o.send.apply(o,arguments)},a.trackPageView=function(t){o.sendAppView(t)},a.trackEvent=function(){o.sendEvent.apply(o,arguments)},a.sendNonInteractionEvent=function(t,e,n,i){a.send(r.HitTypes.EVENT,{eventCategory:t,eventAction:e,eventLabel:n,eventValue:i,nonInteraction:!0})},a.trackTimer=function(t,e,n){var r,i={start:function(){return r=(new Date).getTime(),i},send:function(a,s,c){var u=(new Date).getTime();return o.sendTiming(a||t,s||e,u-r,c||n),i}};return i.start(),i},a}]}))},Ha4h:function(t,e,n){"use strict";e.isDate=function(t){return t instanceof Date&&!isNaN(+t)}},HfdI:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV");e.skip=function(t){return function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.total))},t}(),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return r(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(i.Subscriber)},HopG:function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};l.prototype.append=function(t,e){t=s(t),e=c(e);var n=this.map[t];this.map[t]=n?n+","+e:e},l.prototype.delete=function(t){delete this.map[s(t)]},l.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},l.prototype.set=function(t,e){this.map[s(t)]=c(e)},l.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},l.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),u(t)},l.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),u(t)},l.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),u(t)},e.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},m.call(g.prototype),m.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];y.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=l,t.Request=g,t.Response=y,t.fetch=function(t,n){return new Promise((function(r,i){var o=new g(t,n),a=new XMLHttpRequest;a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new l,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL"),r(new y("response"in a?a.response:a.responseText,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&e.blob&&(a.responseType="blob"),o.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),a.send(void 0===o._bodyInit?null:o._bodyInit)}))},t.fetch.polyfill=!0}function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function c(t){return"string"!=typeof t&&(t=String(t)),t}function u(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(t){this.map={},t instanceof l?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function h(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function p(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=p(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!i(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=p(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var t,e,n,r=d(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=f(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(t,e){var n,r,i=(e=e||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),o.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function y(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},Hqsp:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.AsapScheduler=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(n("Cmdc").AsyncScheduler)},IKDi:function(t,e,n){var r;t.exports=(r=n("Ni7E"),n("heQk"),r.pad.ZeroPadding={pad:function(t,e){var n=4*e;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var e=t.words,n=t.sigBytes-1;!(e[n>>>2]>>>24-n%4*8&255);)n--;t.sigBytes=n+1}},r.pad.ZeroPadding)},IcZ0:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("tkgy"),o=n("6Br6"),a=n("dmvN"),s=n("kZSD");e.windowToggle=function(t,e){return function(n){return n.lift(new c(t,e))}};var c=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.openings,this.closingSelector))},t}(),u=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(i.openSubscription=s.subscribeToResult(i,n,n)),i}return r(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var n=e.length,r=0;r<n;r++)e[r].window.next(t)},e.prototype._error=function(e){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,r=-1;++r<n;){var i=e[r];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,n=-1;++n<e;){var r=t[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,n,r,a){if(t===this.openings){var c=void 0;try{c=(0,this.closingSelector)(e)}catch(h){return this.error(h)}var u=new i.Subject,l=new o.Subscription,d={window:u,subscription:l};this.contexts.push(d);var f=s.subscribeToResult(this,c,d);f.closed?this.closeWindow(this.contexts.length-1):(f.context=d,l.add(f)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,n=e[t],r=n.window,i=n.subscription;e.splice(t,1),r.complete(),i.unsubscribe()}},e}(a.OuterSubscriber)},"Ie/p":function(t,e){angular.module("w69b.chromeTabs",["w69b.promiseTool"]).factory("chromeTabs",["$window","promiseTool","$q",function(t,e,n){if(!t.chrome||!t.chrome.tabs)return null;var r=t.chrome,i={};return i.query=e.wrapChromeError(r.tabs.query,r.tabs),i.getActiveTab=function(){return i.query({active:!0,windowId:r.windows.WINDOW_ID_CURRENT}).then((function(t){return t.length?t[0]:n.reject()}))},i.get=e.wrapChromeError(r.tabs.get,r.tabs),i.update=e.wrapChromeError(r.tabs.update,r.tabs),i.remove=e.wrapChromeError(r.tabs.remove,r.tabs),i.create=e.wrapChromeError(r.tabs.create,r.tabs),i.connect=r.tabs.connect.bind(r.tabs),i.setZoomSettings=e.wrapChromeError(r.tabs.setZoomSettings,r.tabs),i.setZoom=e.wrapChromeError(r.tabs.setZoom,r.tabs),i.executeScript=e.wrapChromeError(r.tabs.executeScript,r.tabs),i.insertCSS=e.wrapChromeError(r.tabs.insertCSS,r.tabs),i.sendMessage=e.wrapChromeError(r.tabs.sendMessage,r.tabs),i.onUpdated=r.tabs.onUpdated,i.onActivated=r.tabs.onActivated,i.sendMessageActive=function(t,e){return i.getActiveTab().then((function(n){return i.sendMessage(n.id,t,e)}))},i}]).directive("newTab",["chromeTabs",function(t){return{restrict:"A",link:function(e,n,r){n.bind("click",(function(e){e.preventDefault(),t.create({url:r.href}).then((function(t){chrome.windows.update(t.windowId,{focused:!0},angular.noop)}))}))}}}])},IiHr:function(t,e){angular.module("w69b.chromeWindows",[]).factory("chromeWindows",["promiseTool",function(t){var e={};return e.get=t.wrapChromeError(chrome.windows.get,chrome.windows),e.create=t.wrapChromeError(chrome.windows.create,chrome.windows),e.update=t.wrapChromeError(chrome.windows.update,chrome.windows),e.getCurrent=t.wrapChromeError(chrome.windows.getCurrent,chrome.windows),e.remove=t.wrapChromeError(chrome.windows.remove,chrome.windows),e.onRemoved=chrome.windows.onRemoved,e}])},"Im+d":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV");e.isEmpty=function(){return function(t){return t.lift(new o)}};var o=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(i.Subscriber)},Ipt7:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("Iwrg"),i=/^[ \t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \t]*$/,o=function(){function t(t,e,n,i){void 0===t&&(t=Object(r.l)()),void 0===e&&(e=Object(r.l)().substring(16)),this._traceId=t,this._spanId=e,this._sampled=n,this._parent=i}return t.prototype.setParent=function(t){return this._parent=t,this},t.prototype.setSampled=function(t){return this._sampled=t,this},t.fromTraceparent=function(e){var n=e.match(i);if(n){var r=void 0;"1"===n[3]?r=!0:"0"===n[3]&&(r=!1);var o=new t(n[1],n[2],r);return new t(n[1],void 0,r,o)}},t.prototype.toTraceparent=function(){var t="";return!0===this._sampled?t="-1":!1===this._sampled&&(t="-0"),this._traceId+"-"+this._spanId+t},t.prototype.toJSON=function(){return{parent:this._parent&&this._parent.toJSON()||void 0,sampled:this._sampled,span_id:this._spanId,trace_id:this._traceId}},t}()},Iwrg:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"i",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"l",(function(){return c})),n.d(e,"k",(function(){return u})),n.d(e,"e",(function(){return l})),n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return h})),n.d(e,"g",(function(){return p})),n.d(e,"h",(function(){return m})),n.d(e,"j",(function(){return y}));var r=n("26VM");function i(t,e){return t.require(e)}function o(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}var a={};function s(){return o()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:a}function c(){var t=s(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function u(t){if(!t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return e?{host:e[4],path:e[5],protocol:e[2],relative:e[5]+(e[6]||"")+(e[8]||"")}:{}}function l(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function d(t){var e=s();if(!("console"in e))return t();var n=e.console,r={};["debug","info","warn","error","log","assert"].forEach((function(t){t in e.console&&n[t].__sentry__&&(r[t]=n[t].__sentry_wrapped__,n[t]=n[t].__sentry_original__)}));var i=t();return Object.keys(r).forEach((function(t){n[t]=r[t]})),i}function f(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function h(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach((function(n){t.exception.values[0].mechanism[n]=e[n]}))}catch(n){}}function p(){try{return document.location.href}catch(t){return""}}function m(t){try{for(var e=t,n=[],r=0,i=0,o=" > ".length,a=void 0;e&&r++<5&&!("html"===(a=g(e))||r>1&&i+n.length*o+a.length>=80);)n.push(a),i+=a.length,e=e.parentNode;return n.reverse().join(" > ")}catch(s){return"<unknown>"}}function g(t){var e,n,i,o,a,s=t,c=[];if(!s||!s.tagName)return"";if(c.push(s.tagName.toLowerCase()),s.id&&c.push("#"+s.id),(e=s.className)&&Object(r.j)(e))for(n=e.split(/\s+/),a=0;a<n.length;a++)c.push("."+n[a]);var u=["type","name","title","alt"];for(a=0;a<u.length;a++)(o=s.getAttribute(i=u[a]))&&c.push("["+i+'="'+o+'"]');return c.join("")}var v=6e4;function y(t,e){if(!e)return v;var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+e);return isNaN(r)?v:r-t}},Ixdx:function(t,e,n){n("dRAY")("toStringTag")},J0MF:function(t,e,n){var r=n("Zup5"),i=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==u||n!=c&&("function"==typeof e?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},J3oN:function(t,e,n){var r=n("skk5")("unscopables"),i=n("7NtF"),o=n("NaO6"),a=Array.prototype;null==a[r]&&o(a,r,i(null)),t.exports=function(t){a[r][t]=!0}},J404:function(t,e){angular.module("w69b.logging",[]).provider("$log",(function(){var t=!0,e=this,n=!1;this.debugEnabled=function(e){return angular.isDefined(e)?(t=e,this):t},this.setCustomHook=function(t){n=t},this.$get=["$window",function(r){function i(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function o(t){var e=r.console||{},o=e[t]||e.log||angular.noop,a=!1;try{a=!!o.apply}catch(s){}return a?function(){var r=[];if(angular.forEach(arguments,(function(t){r.push(i(t))})),n&&n(t,r))return o.apply(e,r)}:function(e,r){n&&n(t,[e,r])&&o(e,null===r?"":r)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:(a=o("debug"),function(){t&&a.apply(e,arguments)})};var a}]}))},JJ8B:function(t,e,n){"use strict";var r=n("1hPV");e.canReportError=function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof r.Subscriber?e:null}return!0}},JP3K:function(t,e,n){"use strict";var r=n("VvFP"),i=n("ci3w");e.startWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return i.isScheduler(n)?(t.pop(),function(e){return r.concat(t,e,n)}):function(e){return r.concat(t,e)}}},K4pA:function(t,e,n){n("Llzl"),n("zhNR"),n("Ddvy"),n("kybk"),t.exports="ngMaterial"},K7a0:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.QueueScheduler=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(n("Cmdc").AsyncScheduler)},KCzB:function(t,e,n){var r=n("M5Hp").document;t.exports=r&&r.documentElement},KE3a:function(t,e){angular.module("castifyExt.backgroundTool",["w69b.chromeRuntime"]).factory("backgroundTool",["chromeRuntime","$q","$rootScope",function(t,e,n){var r;function i(){var n=e.defer();return t.onMessage.addListener((function e(r){"bg:loaded"===r&&(t.onMessage.removeListener(e),n.resolve())})),t.sendMessage("bg:load").catch(angular.identity),n.promise}return{portHelper:function(r,o){var a,s={getPort:function(){return(!1===o?e.when():i()).then((function(){return a||(a=t.connect({name:r})),a}))},postMessage:function(t,e){return s.getPort().then((function(n){return n.postMessage({type:t,data:e})}))},installHandlers:function(t){function e(e){t.hasOwnProperty(e.type)&&t[e.type](e.data),n.$$phase||n.$apply()}return s.getPort().then((function(t){t.onMessage.addListener(e)})),function(){s.getPort().then((function(t){t.onMessage.removeListener(e)}))}}};return s},loadBackground:function(){return r||(r=i()),r}}}])},KFOX:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV"),o=n("5hAx");e.skipLast=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new o.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(0===this._skipCount?new i.Subscriber(t):new s(t,this._skipCount))},t}(),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r._skipCount=n,r._count=0,r._ring=new Array(n),r}return r(e,t),e.prototype._next=function(t){var e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{var r=n%e,i=this._ring,o=i[r];i[r]=t,this.destination.next(o)}},e}(i.Subscriber)},KGdM:function(t,e){angular.module("w69b.chromeSystem",["w69b.promiseTool"]).factory("chromeSystem",["promiseTool",function(t){var e=window.chrome&&window.chrome.system,n={};return e?(e.cpu&&(n.cpu={getInfo:t.wrapChromeError(e.cpu.getInfo,e.cpu)}),e.memory&&(n.memory={getInfo:t.wrapChromeError(e.memory.getInfo,e.memory)}),n):n}])},KXTB:function(t,e,n){var r,i;t.exports=(i=n("Ni7E"),n("heQk"),i.mode.ECB=((r=i.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),r.Decryptor=r.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),r),i.mode.ECB)},KbIB:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("tkgy"),o=n("dmvN"),a=n("kZSD");e.window=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var n=new c(t),r=e.subscribe(n);return r.closed||n.add(a.subscribeToResult(n,this.windowBoundaries)),r},t}(),c=function(t){function e(e){var n=t.call(this,e)||this;return n.window=new i.Subject,e.next(n.window),n}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,n=this.window=new i.Subject;e.next(n)},e}(o.OuterSubscriber)},KveQ:function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},Kwq1:function(t,e,n){"use strict";var r=n("tkgy"),i=n("EMVo");e.publish=function(t){return t?i.multicast((function(){return new r.Subject}),t):i.multicast(new r.Subject)}},L79O:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV");e.retry=function(t){return void 0===t&&(t=-1),function(e){return e.lift(new o(t,e))}};var o=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.count,this.source))},t}(),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.count=n,i.source=r,i}return r(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return t.prototype.error.call(this,e);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(i.Subscriber)},L8sb:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV");e.dematerialize=function(){return function(t){return t.lift(new o)}};var o=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(i.Subscriber)},LC77:function(t,e){angular.module("castifyExt.ui.quizQuestions",["ngMaterial"]).component("cfQuizQuestions",{bindings:{config:"<",onDone:"&"},templateUrl:"components/castifyExt/ui/quiz-questions/quiz-questions.html",controller:function(){var t=this,e={},n=[];function r(e){t.node=e}t.back=function(){var t=n.pop();delete e[t.key],r(t)},t.canGoBack=function(){return n.length>0},t.selectAnswer=function(i){n.push(t.node),e[t.node.key]=i.value,i.next?r(i.next):t.onDone({answers:e})},t.$onChanges=function(){r(t.config)}}})},LHv7:function(t,e){angular.module("castifyExt.setupService",["castifyExt.appOptions","w69b.webrtc","cf2.chromeStorageService","w69b.spawn","cf2.connectedAppsService","cf2.userAccount","castifyExt.castifyAuth","castifyExt.optionalPermissions"]).factory("setupService",["webrtc","spawn","cf2ChromeStorageService","appOptions","$log","optionalPermissions","userAccount","$http","castifyConfig","cf2ConnectedAppsService","castifyAuth",function(t,e,n,r,i,o,a,s,c,u,l){var d={};const f=c.API_URL+"/survey_questions";return d.setSetupComplete=function(t=!0){return n.sync.setSingle("setupService:welcomeShown",t)},d.getSetupComplete=function(){return n.sync.getSingle("setupService:welcomeShown",!1)},d.getDriveSyncEnabled=e.wrap((function*(){return yield r.loadedPromise,r.values.driveSync})),d.getSetupState=function(){return e((function*(){let[n,r,i,s,c,u]=yield Promise.all([a.getAccount(),l.getAuthToken().catch(()=>!1),o.hasLiteTabPermissions(),e((function*(){var e=t.hasVideoAccess(),n=t.hasMicrophone(),r=t.hasAudioAccess();return(yield e)||!(yield n)||(yield r)})),d.getDriveSyncEnabled(),d.getSetupComplete()]);return{tab:i,cam:s,signedIn:!(!n.user||!r),filledSurvey:!!n.user&&!!n.user.survey&&!!n.user.survey.user_type,driveSync:c,setupComplete:u}}))},d.isComplete=function(){return e((function*(){var[t,e,n]=yield Promise.all([d.getSetupState(),u.hasConnectedApps(),d.getSetupComplete()]);return i.debug("setupService.isComplete state",t,e),t.signedIn||e||t.tab||n}))},d.postSurvey=function(t){return a.postUpdate({survey:t})},d.fetchSurveyQuestions=function(){return s.get(f).then(t=>t.data)},d.updateStorage=function(t){r.values.driveSync=t,r.save()},d}])},LIe9:function(t,e,n){"use strict";var r,i,o,a=n("z+Nr"),s=n("NaO6"),c=n("2IC7"),u=n("q91K"),l=n("skk5")("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(r=i):d=!0),null==r&&(r={}),u||c(r,l)||s(r,l,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},LR82:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.Action=function(t){function e(e,n){return t.call(this)||this}return r(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n("6Br6").Subscription)},Lbxd:function(t,e,n){"use strict";var r=n("k/06");e.subscribeToObservable=function(t){return function(e){var n=t[r.observable]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},Llzl:function(t,e,n){n("wHJ2"),t.exports=angular},LzYd:function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},M3eJ:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},M5Hp:function(t,e){t.exports="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")()},MBAa:function(t,e,n){t.exports=n("Cywn")},MDuJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("83Me"),i=n("j7/t"),o=n("XCe5"),a=n("e+Ja"),s=(n("/qed"),function(){function t(){}return t.create=function(e){for(var n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return void 0===t.instances[e]?(n=new r.Logger(e,t.getRandomColor(),t.isDevelopmentMode,i,t.isMutedModule(e),t.levels.length>0?t.fixedWidth:void 0),t.instances[e]=n):n=t.instances[e],n},t.getRandomColor=function(){var t="012345".split(""),e="#";e+=t[Math.round(5*Math.random())],t="0123456789ABCDEF".split("");for(var n=0;n<5;n++)e+=t[Math.round(15*Math.random())];return void 0===e?this.getRandomColor():e},t.display=function(e,n,r,s){a.contain(t.levels,r)&&(r===i.Level.DATA&&o.Display.msg(e,n,s,t.instances[s].color,i.Level.DATA,t.instances[s].fixedWidth),r===i.Level.ERROR&&o.Display.msg(e,n,s,t.instances[s].color,i.Level.ERROR,t.instances[s].fixedWidth),r===i.Level.INFO&&o.Display.msg(e,n,s,t.instances[s].color,i.Level.INFO,t.instances[s].fixedWidth),r===i.Level.WARN&&o.Display.msg(e,n,s,t.instances[s].color,i.Level.WARN,t.instances[s].fixedWidth))},t.onlyLevel=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t._logOnly)throw"[ng2-logger] You should use funcion onlyLevel only once";for(var r in t._logOnly||(t._logOnly=!0),t.levels=Array.isArray(e)?e:[e],t.instances)if(t.instances.hasOwnProperty(r)){var i=t.instances[r];i.allowed=t.levels}},t.onlyModules=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t._logModules)throw"[ng2-logger] You should use funcion onlyModules only once";t._logModules||(t._logModules=!0),0!==e.length&&(t.modules=e,t.muteAllOtherModules())},t.isMutedModule=function(e){return 0!=t.modules.length&&!a.contain(t.modules,e)},t.muteAllOtherModules=function(){for(var e in t.instances)a.contain(t.modules,e)||t.instances[e].mute()},t.setProductionMode=function(){if(t.modeIsSet)throw t.modeIsSet=!1,"[ng2-logger] Production mode is already set";t.modeIsSet=!0,setTimeout((function(){t.modeIsSet&&void 0!==console&&void 0!==console.clear&&(console.clear(),console.log=function(){},console.error=function(){},console.warn=function(){},console.info=function(){})})),r.Logger.isProductionMode=!0,t.isDevelopmentMode=!1},t.instances={},t.fixedWidth=0,t._logOnly=!1,t.levels=[],t._logModules=!1,t.modules=[],t.isDevelopmentMode=!0,t.modeIsSet=!1,t}());e.Log=s},MKx0:function(t,e,n){"use strict";var r=n("hk5J"),i=n("EMVo");e.publishBehavior=function(t){return function(e){return i.multicast(new r.BehaviorSubject(t))(e)}}},"Ma/v":function(t,e,n){"use strict";var r=n("VVFg");e.findIndex=function(t,e){return function(n){return n.lift(new r.FindValueOperator(t,n,!0,e))}}},MaI4:function(t,e){angular.module("castifyExt.ui.fileSyncInfo",["castifyExt.fileDbClient"]).controller("FileSyncInfoCtrl",["$scope","fileDbClient","cf2UploaderService",function(t,e,n){}]).directive("cfFileSyncIcon",(function(){return{restrict:"E",templateUrl:"components/castifyExt/ui/file-sync-info/file-sync-icon.html",scope:{file:"="},controller:"FileSyncInfoCtrl"}})).directive("cfFileSyncInfo",(function(){return{restrict:"E",templateUrl:"components/castifyExt/ui/file-sync-info/file-sync-info.html",scope:{file:"=",syncInfo:"="},controller:"FileSyncInfoCtrl"}}))},MbF9:function(t,e,n){"use strict";var r=n("/jws"),i={};i[n("skk5")("toStringTag")]="z",t.exports="[object z]"!==String(i)?function(){return"[object "+r(this)+"]"}:i.toString},Ml3R:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("qiMw"),o=n("0fXQ"),a=n("Reu/");e.SubscribeOnObservable=function(t){function e(e,n,r){void 0===n&&(n=0),void 0===r&&(r=o.asap);var i=t.call(this)||this;return i.source=e,i.delayTime=n,i.scheduler=r,(!a.isNumeric(n)||n<0)&&(i.delayTime=0),r&&"function"==typeof r.schedule||(i.scheduler=o.asap),i}return r(e,t),e.create=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=o.asap),new e(t,n,r)},e.dispatch=function(t){return this.add(t.source.subscribe(t.subscriber))},e.prototype._subscribe=function(t){return this.scheduler.schedule(e.dispatch,this.delayTime,{source:this.source,subscriber:t})},e}(i.Observable)},My7p:function(t,e){angular.module("castifyExt.ui.fileComment",["castifyExt.driveUtils","w69b.googledrive","castifyExt.ui.share.shareUtils","w69b.chromeAnalytics","w69b.spawn"]).component("cfFileComment",{controllerAs:"$ctrl",templateUrl:"components/castifyExt/ui/file-comment/file-comment.html",bindings:{file:"="},controller:"FileCommentCtrl"}).controller("FileCommentCtrl",["$scope","googledrive","spawn","$element","$timeout","driveUtils","shareUtils","analytics",function(t,e,n,r,i,o,a,s){const c=this,u={content:"",updateStatus:"",updateMessage:""},l={id:"",content:"",updateStatus:"",updateMessage:""};function d(){const e=r[0].querySelector(".comments-container");e&&i(()=>e.scrollTop=e.scrollHeight,0);const n=t.$watch("$ctrl.comments.length",(t,r)=>{t!==r&&(t>r||!r)&&(n(),e&&i(()=>e.scrollTop=e.scrollHeight,0))})}c.newComment={...u},c.editComment={...l},c.permissions=[],c.comments=[],c.savingEdit=!1,c.permissionLoading=!1,c.savingInProgress=!1,c.failedToFetch=!1,c.deleteIndex="",c.commentsContainer=document.getElementsByClassName("comments-container")[0],c.resetEditComment=()=>c.editComment={...l},c.startNewComment=()=>{c.showCreateCommentContainer=!0,c.resetEditComment(),s.trackEvent("video_details","comments -> new","click")},d(),c.saveNewComment=n.wrap((function*(){c.savingInProgress=!0,s.trackEvent("video_details","comments -> post","click");try{const t=yield e.insertComment(c.file.driveInfo.id,c.newComment.content);c.comments.push(t),c.newComment={...u},c.showCreateCommentContainer=!1,d()}catch(t){c.newComment.updateStatus="Failed to post."}c.savingInProgress=!1})),c.deleteComment=n.wrap((function*(t){c.resetEditComment(),c.deleteIndex=t,c.savingEdit=!0;let{commentId:n}=c.comments[t];try{yield e.deleteComment(c.file.driveInfo.id,n),c.comments.splice(t,1)}catch(r){c.editComment.updateStatus="Failed to delete."}c.savingEdit=!1,c.deleteIndex=""})),c.selectEditComment=t=>{c.resetEditComment(),c.editComment.id=t,c.editComment.content=c.comments[t].content,c.commentsContainer.children[t].scrollIntoViewIfNeeded()},c.patchComment=n.wrap((function*(t){c.savingEdit=!0;let{commentId:n}=c.comments[t];c.commentsContainer.children[t].scrollIntoViewIfNeeded();try{c.comments[t]=yield e.patchComment(c.file.driveInfo.id,n,c.editComment.content),c.resetEditComment()}catch(r){c.editComment.updateStatus="Failed to save."}c.savingEdit=!1}));const f=n.wrap((function*(){let t=o.findReadOnlyPermissions(c.permissions);return 0===t.length&&(yield a.enableLinkSharing(c.file,{target:"drive"}),yield m(),t=o.findReadOnlyPermissions(c.permissions)),h(t,{additionalRoles:["commenter"]})}));function h(t,r){return Promise.all(t.map(n.wrap((function*(t){!function(t){const e=c.permissions.findIndex(e=>e.id===t.id);c.permissions[e]=t}(yield e.patchPermission(c.file.driveInfo.id,t.id,r))}))))}c.toggleCommentPermission=n.wrap((function*(t){c.permissionLoading=!0,s.trackEvent("video_details",`comments -> ${t?"":"dis"}allow`,"click"),yield t?f():h(o.findCommentPermissions(c.permissions),{additionalRoles:[]}),c.allowComments=!!o.findCommentPermissions(c.permissions).length,c.permissionLoading=!1}));const p=n.wrap((function*(){try{c.comments=(yield e.listComments(c.file.driveInfo.id)).reverse()}catch(t){c.failedToFetch=!0}})),m=n.wrap((function*(){try{c.permissions=yield e.listPermissions(c.file.driveInfo.id),c.allowComments=!!o.findCommentPermissions(c.permissions).length}catch(t){c.failedToFetch=!0}}));let g=t.$watch("$ctrl.file.driveInfo.id",n.wrap((function*(t){t&&(yield Promise.all([m(),p()]),g())})))}])},N1DK:function(t,e,n){n("dRAY")("toPrimitive")},NZvQ:function(t,e){angular.module("castifyExt.ui.setup",["castifyExt.requestMicPermission","castifyExt.optionalPermissions","castifyExt.ui.loadingOverlay","castifyExt.setupService","castifyExt.deployConfig","cf2.userAccount","w69b.promiseTool","w69b.webrtc","w69b.spawn","ui.router"]).component("cfSetup",{controllerAs:"$ctrl",templateUrl:"components/castifyExt/ui/setup/setup.html",controller:["$state","$location","userAccount","spawn","promiseTool","setupService","$log","$window","deployConfig",function(t,e,n,r,i,o,a,s,c){const u=this;u.signIn=r.wrap((function*(){try{u.loading=!0,yield n.signIn(),yield o.updateStorage(u.useDrive);const t=yield n.getAccount();u.user=t.user,u.loading=!1,u.smartRoute()}catch(t){u.loading=!1,a.debug("sign in error: ",t),u.error=u.generalError}})),u.askedPermission=!1,u.smartRoute=r.wrap((function*(){const e=o.getSetupState();e.catch(t=>{a.debug("getSetupState error: ",t),u.step=1});let{signedIn:n,tab:r,cam:i,filledSurvey:l,setupComplete:d}=yield e;n?u.askedPermission||r&&i?l?u.user&&u.user.numRecordingsMonth||d?(o.setSetupComplete(),t.go("files")):(o.setSetupComplete(),s.location.href=c.welcomePageUri):u.step=3:u.step=2:u.step=1})),u.postSurvey=()=>o.postSurvey(u.surveyResponses).then(t=>u.user.survey=t.user.survey),u._markNoConnection=function(){u.loading=!1,u.noConnection=!0},u._getAcountAndQuestions=function(){return Promise.all([n.getAccount(),o.fetchSurveyQuestions()]).then((function([{user:t},e]){u.user=t,u.surveyQuestions=e}))},u.$onInit=r.wrap((function*(){u.loading=!0,yield i.withTimeout(u._getAcountAndQuestions,1e4).catch(u._markNoConnection),u.useDrive=!0,u.surveyResponses={},u.$location=e,u.generalError="There was a problem. Please refresh the page.",(()=>{u.changedText="",u.changedTextString="",u.texts={signinTitle:["Sign in with Google"],signinDrive:["Automatically save videos to Google Drive.","Automatically save videos to Google Drive. Disable this feature anytime."],signinButton:["Sign in with Google"],permissionsTitle:["Set Permissions","Allow permissions","Enable recording tools"],permissionsParagraph:["To unlock all features, please enable the following permissions:","To enable all features, please allow the following permissions:","To enable all features, please allow the following permissions (strongly recommended):"],cameraMicCheckbox:["Camera and microphone"],tabCheckbox:["Drawing and annotation tools"],permissionsButton:["Next","Allow"],surveyTitle:["Introduce yourself"],surveyParagraph:["Tell us a bit about yourself to enjoy a more personalized experience."],surveyButton:["Let's get started!"],finalTitle1:["That's it! You're good to go.","That's it! Time to record your first video.","Done! Here's a video to help you get going.","Done! Watch this video and you'll be a pro in no time."],finalTitle2:["Need help?"]},u.text={signinTitle:u.texts.signinTitle[0],signinDrive:u.texts.signinDrive[0],signinButton:u.texts.signinButton[0],permissionsTitle:u.texts.permissionsTitle[0],permissionsParagraph:u.texts.permissionsParagraph[0],cameraMicCheckbox:u.texts.cameraMicCheckbox[0],tabCheckbox:u.texts.tabCheckbox[0],permissionsButton:u.texts.permissionsButton[0],surveyTitle:u.texts.surveyTitle[0],surveyParagraph:u.texts.surveyParagraph[0],surveyButton:u.texts.surveyButton[0],finalTitle1:u.texts.finalTitle1[0],finalTitle2:u.texts.finalTitle2[0]};const t=Object.keys(u.texts).filter(t=>u.texts[t].length>1);if(t.length){const e=t[Math.floor(Math.random()*t.length)],n=u.texts[e][Math.floor(Math.random()*u.texts[e].length)];u.changedText=e,u.changedTextString=n,u.text[e]=n}})(),u.smartRoute(),u.loading=!1}))}]}).component("cfSetupSignin",{controllerAs:"$ctrl",templateUrl:"components/castifyExt/ui/setup/signin.html",bindings:{text:"<",error:"=",signIn:"&",useDrive:"="}}).component("cfSetupPermissions",{controllerAs:"$ctrl",templateUrl:"components/castifyExt/ui/setup/permissions.html",bindings:{text:"<",loading:"=",smartRoute:"&",generalError:"<",hasCamAndMicPermission:"=",askedPermission:"="},controller:["$scope","spawn","webrtc","optionalPermissions","$log",function(t,e,n,r,i){const o=this,a=e.wrap((function*(){return yield r.hasTabPermissions().then(t=>o.hasTabPermissions=t)}));o.startTime=Date.now(),o.requestCameraAndMicPermission=!0,o.hasCamAndMicPermission=o.hasCamAndMicPermission||!1,o.requestTabPermission=!0,o.hasTabPermissions=!1,o.$onInit=()=>{o.loading=!1,a(),t.$watch("$ctrl.text",t=>o.loading=!t)},o.requestPermissions=e.wrap((function*(){o.askedPermission=!0;try{if(o.requestTabPermission&&!o.hasTabPermissions){if(!(yield r.requestTabPermissions()))throw new Error("denied tab permission");o.hasTabPermissions=!0}if(o.requestCameraAndMicPermission){let{audio:t,video:e}=yield n.getCameraAndMicPermission();o.hasCamAndMicPermission=t||e}o.smartRoute()}catch(t){i.debug("setup allow permissions... :",t),o.error=o.generalError}}))}]}).component("cfSetupSurvey",{controllerAs:"$ctrl",templateUrl:"components/castifyExt/ui/setup/survey.html",bindings:{user:"<",text:"<",smartRoute:"&",postSurvey:"&",generalError:"<",submitSurvey:"&",surveyResponses:"=",surveyQuestions:"<"},controller:["$scope","$log",function(t,e){const n=this;n.startTime=Date.now();const r=t=>{n.question=t,n.answers=t.answers},i=()=>r({});n.respond=(t,o)=>{n.lastAnswerTime=n.lastAnswerTime||n.startTime,((t,e)=>n.surveyResponses[t]=n.answers[e].value)(t,o),(t=>n.answers[t].next)(o)?(t=>r(n.answers[t].next))(o):(i(),n.postSurvey().then(n.smartRoute).catch(t=>{e.debug("saving survey error: ",t),n.error=n.generalError})),n.lastAnswerTime=Date.now()},n.$onInit=()=>{t.$watch("$ctrl.surveyQuestions",t=>{t&&(n.surveyCheckbox?i():r(n.surveyQuestions))})}}]})},NaO6:function(t,e,n){var r=n("lxjo"),i=n("CSyd");t.exports=n("DRiV")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},Ni7E:function(t,e,n){var r;t.exports=r=r||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),r={},i=r.lib={},o=i.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++)e[r+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(r+o)%4*8;else for(o=0;o<i;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,r=[],i=function(e){e=e;var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return i/=4294967296,(i+=.5)*(t.random()>.5?1:-1)}},o=0;o<e;o+=4){var s=i(4294967296*(n||t.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new a.init(r,e)}}),s=r.enc={},c=s.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new a.init(n,e/2)}},u=s.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++)r.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new a.init(n,e)}},l=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},d=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,s=i/(4*o),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*o,u=t.min(4*c,i);if(c){for(var l=0;l<c;l+=o)this._doProcessBlock(r,l);var d=r.splice(0,c);n.sigBytes-=u}return new a.init(d,u)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),f=(i.Hasher=d.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new f.HMAC.init(t,n).finalize(e)}}}),r.algo={});return r}(Math)},NiQx:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("dmvN"),o=n("d4zx"),a=n("kZSD"),s=n("d0I2"),c=n("R4cV");e.switchMap=function t(e,n){return"function"==typeof n?function(r){return r.pipe(t((function(t,r){return c.from(e(t,r)).pipe(s.map((function(e,i){return n(t,e,r,i)})))})))}:function(t){return t.lift(new u(e))}};var u=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project))},t}(),l=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return r(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new o.InnerSubscriber(this,void 0,void 0);this.destination.add(i),this.innerSubscription=a.subscribeToResult(this,t,e,n,i)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(i.OuterSubscriber)},NxNH:function(t,e,n){var r;t.exports=(r=n("Ni7E"),function(){var t=r.lib.WordArray,e=r.enc;function n(t){return t<<8&4278255360|t>>>8&16711935}e.Utf16=e.Utf16BE={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i+=2)r.push(String.fromCharCode(e[i>>>2]>>>16-i%4*8&65535));return r.join("")},parse:function(e){for(var n=e.length,r=[],i=0;i<n;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(r,2*n)}},e.Utf16LE={stringify:function(t){for(var e=t.words,r=t.sigBytes,i=[],o=0;o<r;o+=2){var a=n(e[o>>>2]>>>16-o%4*8&65535);i.push(String.fromCharCode(a))}return i.join("")},parse:function(e){for(var r=e.length,i=[],o=0;o<r;o++)i[o>>>1]|=n(e.charCodeAt(o)<<16-o%2*16);return t.create(i,2*r)}}}(),r.enc.Utf16)},O09R:function(t,e,n){"use strict";e.ObjectUnsubscribedError=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},ONtY:function(t,e,n){"use strict";var r=n("wkq9"),i=n("DbaZ"),o=n("rwVn"),a=n("Vi6X"),s=n("AnSF"),c=n("EKQR"),u=n("skk5")("isConcatSpreadable"),l=!n("Zup5")((function(){var t=[];return t[u]=!1,t.concat()[0]!==t})),d=n("87Td")("concat"),f=function(t){if(!i(t))return!1;var e=t[u];return void 0!==e?!!e:r(t)},h=!l||!d;n("9SEF")({target:"Array",proto:!0,forced:h},{concat:function(t){var e,n,r,i,u,l=o(this),d=c(l,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(f(u=-1===e?l:arguments[e])){if(h+(i=a(u.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,h++)n in u&&s(d,h,u[n])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(d,h++,u)}return d.length=h,d}})},OeIB:function(t,e){angular.module("castifyEdit.ui.timeLineSeekItem",[]).factory("TimeLineSeekItem",(function(){return function(t){return{}}}))},P8nh:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV");e.takeWhile=function(t,e){return void 0===e&&(e=!1),function(n){return n.lift(new o(t,e))}};var o=function(){function t(t,e){this.predicate=t,this.inclusive=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.inclusive))},t}(),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return r(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(r){return void n.error(r)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())},e}(i.Subscriber)},PA9X:function(t,e){angular.module("castifyExt.ui.support",["w69b.chromePersistentLogger","w69b.chromeRuntime","cf2.userAccount","castifyExt.castifyAuth","w69b.chromeSystem","w69b.chromeTabs","w69b.spawn","ngMaterial"]).factory("supportApiService",["$http","castifyConfig",function(t,e){var n={},r=e.API_URL+"/support/search",i=e.API_URL+"/support/tickets",o={oauth_consumer_key:"1Yb6N1ZB261nNDA1sVuBtA"},a=100,s=5;function c(t){var e=t.data.articles||[];return(e=e.slice(0,s)).map((function(t){var e=t.text.replace(/&nbsp;/gi," ");return e.length>a&&(e=e.substr(0,a-3)+"..."),{title:t.title,text:e,externalLink:t.url}}))}return n.queryArticles=function(e){return t.get(r,{params:angular.extend({query:e},o)}).then(c)},n.createTicket=function(e){const n=JSON.parse(JSON.stringify(e).replace('/"Bearer(.*?)"/g','"REMOVED"'));return t.post(i,n,{params:o})},n}]).controller("SupportCtrl",["$scope",function(t){t.category=null;var e={key:"bug",title:"None of the above?",icon:"bug_report",text:"Report a Bug"};t.rootItem={items:[{title:"Knowledgebase",text:"Browse or search our knowledgebase for step-by-step guides, videos and troubleshooting.",icon:"school",externalLink:"https://screencastify.helpscoutdocs.com/"},{key:"bug",title:"Report Bug",text:"Let us know if something isn't working properly.",icon:"bug_report",items:[{title:"Audio issues",text:"You're having trouble with microphone or system audio.",query:"microphone sound audio",buttonItem:e},{title:"Recording issues",text:"You're having trouble recording videos.",query:"recording",buttonItem:e},{title:"Uploading to Drive or YouTube",text:"You're having trouble uploading/saving a recording.",query:"upload",buttonItem:e}]},{title:"Suggest New Feature",text:"Have an idea on how to make Screencastify better?",icon:"lightbulb_outline",externalLink:"https://www.screencastify.com/feedback"},{key:"contact",title:"Contact Us",text:"Send a message to our support team.",icon:"mail"}]},t.reset=function(){t.category=null}}]).controller("SupportMessageCtrl",["$scope","chromePersistentLogger","chromeRuntime","supportApiService","$q","castifyAuth","$mdToast","chromeSystem","userAccount","spawn",function(t,e,n,r,i,o,a,s,c,u){var l,d={key:"confirm",title:"Can't find an answer?",icon:"mail",text:"Send message"};function f(){return e.getMergedLogs(["popup","background","app"])}function h(){return null}var p=u.wrap((function*(){var t=yield c.getAccount(),e=t.license.type;return t.user&&(e+=`(${t.user.email})`),e+" v"+n.getManifest().version}));function m(t,e){return{name:t,data:btoa(unescape(encodeURIComponent(e))),content_type:"text/plain"}}function g(e){t.loading=!0,e.finally((function(){t.loading=!1}))}function v(){var e="Support Request [Tool]";"bug"===t.category&&(e="Bug Report [Tool]");var n={email:t.email,ticket:{subject:e,message:t.message,custom_field_values:{version:l.version}}},i=[];return i.push(m("system.json",l.system)),t.attachLogs&&i.push(m("logs.txt",t.logs)),n.ticket.attachments=i,r.createTicket(n).then((function(){t.submitted=!0})).catch((function(){a.show(a.simple().content("Oops, we could not send your message."))}))}t.confirm=function(){t.instantAnswer=null,g(v())},t.submit=function(){"contact"==t.category?g(r.queryArticles(t.message).then((function(e){if(!e.length)return v();t.instantAnswer={items:e,buttonItem:d}}),v)):t.confirm()},t.back=function(){t.instantAnswer?t.instantAnswer=null:t.cfBack()},g(i.all({email:o.getAccount(),logs:n.sendMessage(null,"bg:flushLogs",{}).then(f,f).then((function(t){return t.slice(-1e3).join("\n")})).catch(h),version:p(0),system:i.all({platform:n.getPlatformInfo(),ua:window.navigator.userAgent,cpu:s.cpu.getInfo(),memory:s.memory.getInfo()}).then((function(t){return JSON.stringify(t,null,4)})).catch(h)}).then((function(e){l=e,t.logs=e.logs,t.email=e.email}))),t.instantAnswer=null,t.submitted=!1,t.$watch("category",(function(e){"bug"===e?(t.messageLabel="Describe the issue",t.attachLogs=!0,t.introText="Please describe what went wrong as precisely as possible."):(t.introText="",t.messageLabel="Your Message",t.attachLogs=!0)}))}]).directive("cfSupportMessage",(function(){return{restrict:"E",templateUrl:"components/castifyExt/ui/support/support-message.html",scope:{category:"=",cfBack:"&"},controller:"SupportMessageCtrl"}})).controller("SupportCategoryCtrl",["$scope","chromeTabs","supportApiService",function(t,e,n){t.items=null,t.category=null;var r=[];function i(e){t.items=e}t.canGoBack=function(){return r.length>1},t.back=function(){r.pop();var e=r[r.length-1];t.items=e.items,t.buttonItem=e.buttonItem},t.select=function(o){var a,s;o.externalLink?/https?:\/\//.test(s=o.externalLink)&&e.create({url:s}):o.items?(r.push(o),t.buttonItem=o.buttonItem,t.items=o.items):o.query?(r.push(o),t.buttonItem=o.buttonItem,a=n.queryArticles(o.query).then(i),t.loading=!0,a.finally((function(){t.loading=!1}))):t.cfCategorySelected({key:o.key})},t.$watch("item",(function(e){e&&t.select(e)}))}]).directive("cfSupportCategory",(function(){return{restrict:"E",templateUrl:"components/castifyExt/ui/support/support-category.html",scope:{cfCategorySelected:"&",item:"="},controller:"SupportCategoryCtrl"}}))},PEZj:function(t,e,n){"use strict";var r=n("NiQx");e.switchMapTo=function(t,e){return e?r.switchMap((function(){return t}),e):r.switchMap((function(){return t}))}},"PHk/":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV"),o=n("hjML"),a=n("v2vP");e.tap=function(t,e,n){return function(r){return r.lift(new s(t,e,n))}};var s=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))},t}(),c=function(t){function e(e,n,r,i){var s=t.call(this,e)||this;return s._tapNext=o.noop,s._tapError=o.noop,s._tapComplete=o.noop,s._tapError=r||o.noop,s._tapComplete=i||o.noop,a.isFunction(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||o.noop,s._tapError=n.error||o.noop,s._tapComplete=n.complete||o.noop),s}return r(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(i.Subscriber)},Pa2V:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return d})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return h})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return m})),n.d(e,"__await",(function(){return g})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return y})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return _})),n.d(e,"__importStar",(function(){return w})),n.d(e,"__importDefault",(function(){return S}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function c(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(e){o(e)}}function s(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function d(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function h(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(t){s("next",t)}function u(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function y(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=h(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}},PnNS:function(t,e,n){var r;t.exports=(r=n("Ni7E"),function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.algo,s=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(s[i]=n(t.pow(r,.5))),c[i]=n(t.pow(r,1/3)),i++),r++}();var u=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],d=n[6],f=n[7],h=0;h<64;h++){if(h<16)u[h]=0|t[e+h];else{var p=u[h-15],m=u[h-2];u[h]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+u[h-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+u[h-16]}var g=r&i^r&o^i&o,v=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&d)+c[h]+u[h];f=d,d=l,l=s,s=a+v|0,a=o,o=i,i=r,r=v+(((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+g)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+d|0,n[7]=n[7]+f|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(l),e.HmacSHA256=o._createHmacHelper(l)}(Math),r.SHA256)},PqL6:function(t,e,n){"use strict";var r=n("l95E"),i=n("Fs62"),o=n("RiMm"),a=n("DLj4");e.timeout=function(t,e){return void 0===e&&(e=r.async),o.timeoutWith(t,a.throwError(new i.TimeoutError),e)}},"Q/JU":function(t,e,n){e.f=n("skk5")},Q1GU:function(t,e,n){var r;t.exports=(r=n("Ni7E"),n("i3c9"),n("0Hfl"),n("Cf/K"),n("heQk"),function(){var t=r,e=t.lib.StreamCipher,n=[],i=[],o=[],a=t.algo.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,n=0;n<4;n++)t[n]=16711935&(t[n]<<8|t[n]>>>24)|4278255360&(t[n]<<24|t[n]>>>8);var r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,n=0;n<4;n++)s.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(e){var o=e.words,a=o[0],c=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),d=u>>>16|4294901760&l,f=l<<16|65535&u;for(i[0]^=u,i[1]^=d,i[2]^=l,i[3]^=f,i[4]^=u,i[5]^=d,i[6]^=l,i[7]^=f,n=0;n<4;n++)s.call(this)}},_doProcessBlock:function(t,e){var r=this._X;s.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)n[i]=16711935&(n[i]<<8|n[i]>>>24)|4278255360&(n[i]<<24|n[i]>>>8),t[e+i]^=n[i]},blockSize:4,ivSize:2});function s(){for(var t=this._X,e=this._C,n=0;n<8;n++)i[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=t[n]+e[n],a=65535&r,s=r>>>16;o[n]=((a*a>>>17)+a*s>>>15)+s*s^((4294901760&r)*r|0)+((65535&r)*r|0)}t[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,t[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,t[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,t[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,t[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,t[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,t[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,t[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.Rabbit=e._createHelper(a)}(),r.Rabbit)},QBW9:function(t,e){angular.module("w69b.ui.bgImg",[]).directive("wbBgImg",(function(){return{restrict:"A",link:function(t,e,n){t.$watch(n.wbBgImg,(function(t){e.css("background-image",t?"url('"+t+"')":"")}))}}}))},QIqL:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("tkgy"),o=n("dmvN"),a=n("kZSD");e.repeatWhen=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.notifier,e))},t}(),c=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.notifier=n,i.source=r,i.sourceIsBeingSubscribedTo=!0,i}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){var e;this.notifications=new i.Subject;try{e=(0,this.notifier)(this.notifications)}catch(n){return t.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=a.subscribeToResult(this,e)},e}(o.OuterSubscriber)},QP76:function(t,e){angular.module("castifyExt.chromeEventPublisher",[]).run(["chromeRuntime","$rootScope",function(t,e){t.onMessage.addListener((function(t){angular.isObject(t)&&angular.isString(t.type)&&0===t.type.lastIndexOf("event:",0)&&e.$broadcast(t.type,t.data),e.$$phase||e.$digest()}))}])},QWSO:function(t,e,n){var r;t.exports=(r=n("Ni7E"),n("heQk"),r.pad.AnsiX923={pad:function(t,e){var n=t.sigBytes,r=4*e,i=r-n%r,o=n+i-1;t.clamp(),t.words[o>>>2]|=i<<24-o%4*8,t.sigBytes+=i},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},r.pad.Ansix923)},QiYn:function(t,e,n){var r;t.exports=(r=n("Ni7E"),n("i3c9"),n("0Hfl"),n("Cf/K"),n("heQk"),function(){var t=r,e=t.lib.StreamCipher,n=t.algo,i=n.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var a=i%n,s=r[i];r[i]=r[o=(o+r[i]+(e[a>>>2]>>>24-a%4*8&255))%256],r[o]=s}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var t=this._S,e=this._i,n=this._j,r=0,i=0;i<4;i++){var o=t[e=(e+1)%256];t[e]=t[n=(n+t[e])%256],t[n]=o,r|=t[(t[e]+t[n])%256]<<24-8*i}return this._i=e,this._j=n,r}t.RC4=e._createHelper(i);var a=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)o.call(this)}});t.RC4Drop=e._createHelper(a)}(),r.RC4)},QuXn:function(t,e,n){"use strict";var r=!1;e.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},R4cV:function(t,e,n){"use strict";var r=n("qiMw"),i=n("ihxi"),o=n("4mxr");e.from=function(t,e){return e?o.scheduled(t,e):t instanceof r.Observable?t:new r.Observable(i.subscribeTo(t))}},RKpm:function(t,e,n){"use strict";e.identity=function(t){return t}},Rdb5:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.SubjectSubscription=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n("6Br6").Subscription)},RekH:function(t,e,n){(function(t){var r;(function(){var i,o,a,s=1,c=2,u=4,l=8,d=16,f=32,h=64,p=128,m=256,g=200,v="Expected a function",y="__lodash_placeholder__",b="[object Arguments]",_="[object Array]",w="[object Boolean]",S="[object Date]",E="[object Error]",x="[object Function]",C="[object Number]",k="[object Object]",T="[object RegExp]",P="[object String]",I="[object ArrayBuffer]",A="[object Float32Array]",O="[object Float64Array]",$="[object Int8Array]",M="[object Int16Array]",D="[object Int32Array]",N="[object Uint8Array]",R="[object Uint8ClampedArray]",L="[object Uint16Array]",j="[object Uint32Array]",F=/\b__p \+= '';/g,B=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39|#96);/g,U=/[&<>"'`]/g,q=RegExp(H.source),z=RegExp(U.source),W=/<%-([\s\S]+?)%>/g,G=/<%([\s\S]+?)%>/g,K=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Y=/^\w*$/,X=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Z=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,J=RegExp(Z.source),tt=/[\u0300-\u036f\ufe20-\ufe23]/g,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,it=/^0[xX]/,ot=/^\[object .+?Constructor\]$/,at=/^\d+$/,st=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,ct=/($^)/,ut=/['\n\r\u2028\u2029\\]/g,lt=(o="[A-Z\\xc0-\\xd6\\xd8-\\xde]",a="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(o+"+(?="+o+a+")|"+o+"?"+a+"|"+o+"+|[0-9]+","g")),dt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],ft=-1,ht={};ht[A]=ht[O]=ht[$]=ht[M]=ht[D]=ht[N]=ht[R]=ht[L]=ht[j]=!0,ht[b]=ht[_]=ht[I]=ht[w]=ht[S]=ht[E]=ht[x]=ht["[object Map]"]=ht[C]=ht[k]=ht[T]=ht["[object Set]"]=ht[P]=ht["[object WeakMap]"]=!1;var pt={};pt[b]=pt[_]=pt[I]=pt[w]=pt[S]=pt[A]=pt[O]=pt[$]=pt[M]=pt[D]=pt[C]=pt[k]=pt[T]=pt[P]=pt[N]=pt[R]=pt[L]=pt[j]=!0,pt[E]=pt[x]=pt["[object Map]"]=pt["[object Set]"]=pt["[object WeakMap]"]=!1;var mt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},gt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},vt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},yt={function:!0,object:!0},bt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},_t={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},wt=yt[typeof e]&&e&&!e.nodeType&&e&&yt[typeof t]&&t&&!t.nodeType&&t&&"object"==typeof global&&global&&global.Object&&global,St=yt[typeof self]&&self&&self.Object&&self,Et=yt[typeof window]&&window&&window.Object&&window,xt=wt||Et!==(this&&this.window)&&Et||St||this;function Ct(t,e){if(t!==e){var n=null===t,r=t===i,o=t==t,a=null===e,s=e===i,c=e==e;if(t>e&&!a||!o||n&&!s&&c||r&&c)return 1;if(t<e&&!n||!c||a&&!r&&o||s&&o)return-1}return 0}function kt(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function Tt(t,e,n){if(e!=e)return Lt(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function Pt(t){return"function"==typeof t||!1}function It(t){return null==t?"":t+""}function At(t,e){for(var n=-1,r=t.length;++n<r&&e.indexOf(t.charAt(n))>-1;);return n}function Ot(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function $t(t,e){return Ct(t.criteria,e.criteria)||t.index-e.index}function Mt(t){return mt[t]}function Dt(t){return gt[t]}function Nt(t,e,n){return e?t=bt[t]:n&&(t=_t[t]),"\\"+t}function Rt(t){return"\\"+_t[t]}function Lt(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!=o)return i}return-1}function jt(t){return!!t&&"object"==typeof t}function Ft(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function Bt(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;)t[n]===e&&(t[n]=y,o[++i]=n);return o}function Vt(t){for(var e=-1,n=t.length;++e<n&&Ft(t.charCodeAt(e)););return e}function Ht(t){for(var e=t.length;e--&&Ft(t.charCodeAt(e)););return e}function Ut(t){return vt[t]}var qt=function t(e){var n=(e=e?qt.defaults(xt.Object(),e,qt.pick(xt,dt)):xt).Array,r=e.Date,o=e.Error,a=e.Function,mt=e.Math,gt=e.Number,vt=e.Object,yt=e.RegExp,bt=e.String,_t=e.TypeError,wt=n.prototype,St=vt.prototype,Et=bt.prototype,Ft=a.prototype.toString,zt=St.hasOwnProperty,Wt=0,Gt=St.toString,Kt=xt._,Qt=yt("^"+Ft.call(zt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yt=e.ArrayBuffer,Xt=e.clearTimeout,Zt=e.parseFloat,Jt=mt.pow,te=St.propertyIsEnumerable,ee=pr(e,"Set"),ne=e.setTimeout,re=wt.splice,ie=e.Uint8Array,oe=pr(e,"WeakMap"),ae=mt.ceil,se=pr(vt,"create"),ce=mt.floor,ue=pr(n,"isArray"),le=e.isFinite,de=pr(vt,"keys"),fe=mt.max,he=mt.min,pe=pr(r,"now"),me=e.parseInt,ge=mt.random,ve=gt.NEGATIVE_INFINITY,ye=gt.POSITIVE_INFINITY,be=4294967294,_e=2147483647,we=9007199254740991,Se=oe&&new oe,Ee={};function xe(t){if(jt(t)&&!Hi(t)&&!(t instanceof Te)){if(t instanceof ke)return t;if(zt.call(t,"__chain__")&&zt.call(t,"__wrapped__"))return $r(t)}return new ke(t)}function Ce(){}function ke(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function Te(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ye,this.__views__=[]}function Pe(){this.__data__={}}function Ie(t){var e=t?t.length:0;for(this.data={hash:se(null),set:new ee};e--;)this.push(t[e])}function Ae(t,e){var n=t.data;return("string"==typeof e||Wi(e)?n.set.has(e):n.hash[e])?0:-1}function Oe(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function $e(t,e){for(var n=-1,r=t.length;++n<r&&!1!==e(t[n],n,t););return t}function Me(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function De(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[++i]=a)}return o}function Ne(t,e){for(var r=-1,i=t.length,o=n(i);++r<i;)o[r]=e(t[r],r,t);return o}function Re(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Le(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function je(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Fe(t,e,n,r){return t!==i&&zt.call(r,n)?t:e}function Be(t,e,n){for(var r=-1,o=po(e),a=o.length;++r<a;){var s=o[r],c=t[s],u=n(c,e[s],s,t,e);(u==u?u===c:c!=c)&&(c!==i||s in t)||(t[s]=u)}return t}function Ve(t,e){return null==e?t:Ue(e,po(e),t)}function He(t,e){for(var r=-1,o=null==t,a=!o&&gr(t),s=a?t.length:0,c=e.length,u=n(c);++r<c;){var l=e[r];u[r]=a?vr(l,s)?t[l]:i:o?i:t[l]}return u}function Ue(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}function qe(t,e,n){var r=typeof t;return"function"==r?e===i?t:In(t,e,n):null==t?Do:"object"==r?fn(t):e===i?Bo(t):hn(t,e)}function ze(t,e,n,r,o,a,s){var c;if(n&&(c=o?n(t,r,o):n(t)),c!==i)return c;if(!Wi(t))return t;var u=Hi(t);if(u){if(c=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&zt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!e)return Oe(t,c)}else{var l=Gt.call(t),d=l==x;if(l!=k&&l!=b&&(!d||o))return pt[l]?function(t,e,n){var r=t.constructor;switch(e){case I:return An(t);case w:case S:return new r(+t);case A:case O:case $:case M:case D:case N:case R:case L:case j:var i=t.buffer;return new r(n?An(i):i,t.byteOffset,t.length);case C:case P:return new r(t);case T:var o=new r(t.source,rt.exec(t));o.lastIndex=t.lastIndex}return o}(t,l,e):o?t:{};if(c=function(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=vt),new e}(d?{}:t),!e)return Ve(c,t)}a||(a=[]),s||(s=[]);for(var f=a.length;f--;)if(a[f]==t)return s[f];return a.push(t),s.push(c),(u?$e:on)(t,(function(r,i){c[i]=ze(r,e,n,i,t,a,s)})),c}xe.support={},xe.templateSettings={escape:W,evaluate:G,interpolate:K,variable:"",imports:{_:xe}};var We=function(){function t(){}return function(e){if(Wi(e)){t.prototype=e;var n=new t;t.prototype=i}return n||{}}}();function Ge(t,e,n){if("function"!=typeof t)throw new _t(v);return ne((function(){t.apply(i,n)}),e)}function Ke(t,e){var n=t?t.length:0,r=[];if(!n)return r;var i=-1,o=dr(),a=o==Tt,s=a&&e.length>=g?Ln(e):null,c=e.length;s&&(o=Ae,a=!1,e=s);t:for(;++i<n;){var u=t[i];if(a&&u==u){for(var l=c;l--;)if(e[l]===u)continue t;r.push(u)}else o(e,u,0)<0&&r.push(u)}return r}var Qe=Nn(on),Ye=Nn(an,!0);function Xe(t,e){var n=!0;return Qe(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function Ze(t,e){var n=[];return Qe(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function Je(t,e,n,r){var i;return n(t,(function(t,n,o){if(e(t,n,o))return i=r?n:t,!1})),i}function tn(t,e,n,r){r||(r=[]);for(var i=-1,o=t.length;++i<o;){var a=t[i];jt(a)&&gr(a)&&(n||Hi(a)||Vi(a))?e?tn(a,e,n,r):Re(r,a):n||(r[r.length]=a)}return r}var en=Rn(),nn=Rn(!0);function rn(t,e){return en(t,e,mo)}function on(t,e){return en(t,e,po)}function an(t,e){return nn(t,e,po)}function sn(t,e){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];zi(t[a])&&(o[++i]=a)}return o}function cn(t,e,n){if(null!=t){n!==i&&n in Ar(t)&&(e=[n]);for(var r=0,o=e.length;null!=t&&r<o;)t=t[e[r++]];return r&&r==o?t:i}}function un(t,e,n,r,i,o){return t===e||(null==t||null==e||!Wi(t)&&!jt(e)?t!=t&&e!=e:function(t,e,n,r,i,o,a){var s=Hi(t),c=Hi(e),u=_,l=_;s||((u=Gt.call(t))==b?u=k:u!=k&&(s=Zi(t))),c||((l=Gt.call(e))==b?l=k:l!=k&&(c=Zi(e)));var d=u==k,f=l==k,h=u==l;if(h&&!s&&!d)return function(t,e,n){switch(n){case w:case S:return+t==+e;case E:return t.name==e.name&&t.message==e.message;case C:return t!=+t?e!=+e:t==+e;case T:case P:return t==e+""}return!1}(t,e,u);if(!i){var p=d&&zt.call(t,"__wrapped__"),m=f&&zt.call(e,"__wrapped__");if(p||m)return n(p?t.value():t,m?e.value():e,r,i,o,a)}if(!h)return!1;o||(o=[]),a||(a=[]);for(var g=o.length;g--;)if(o[g]==t)return a[g]==e;o.push(t),a.push(e);var v=(s?ar:sr)(t,e,n,r,i,o,a);return o.pop(),a.pop(),v}(t,e,un,n,r,i,o))}function ln(t,e,n){var r=e.length,o=r,a=!n;if(null==t)return!o;for(t=Ar(t);r--;){var s=e[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){var c=(s=e[r])[0],u=t[c],l=s[1];if(a&&s[2]){if(u===i&&!(c in t))return!1}else{var d=n?n(u,l,c):i;if(!(d===i?un(l,u,n,!0):d))return!1}}return!0}function dn(t,e){var r=-1,i=gr(t)?n(t.length):[];return Qe(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function fn(t){var e=hr(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null!=t&&t[n]===r&&(r!==i||n in Ar(t))}}return function(t){return ln(t,e)}}function hn(t,e){var n=Hi(t),r=br(t)&&Sr(e),o=t+"";return t=Or(t),function(a){if(null==a)return!1;var s=o;if(a=Ar(a),(n||!r)&&!(s in a)){if(null==(a=1==t.length?a:cn(a,bn(t,0,-1))))return!1;s=Vr(t),a=Ar(a)}return a[s]===e?e!==i||s in a:un(e,a[s],i,!0)}}function pn(t){return function(e){return null==e?i:e[t]}}function mn(t,e){for(var n=t?e.length:0;n--;){var r=e[n];if(r!=i&&vr(r)){var i=r;re.call(t,r,1)}}return t}function gn(t,e){return t+ce(ge()*(e-t+1))}function vn(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}var yn=Se?function(t,e){return Se.set(t,e),t}:Do;function bn(t,e,r){var o=-1,a=t.length;(e=null==e?0:+e||0)<0&&(e=-e>a?0:a+e),(r=r===i||r>a?a:+r||0)<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var s=n(a);++o<a;)s[o]=t[o+e];return s}function _n(t,e){var n;return Qe(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function wn(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Sn(t,e,n){var r=cr(),i=-1;return e=Ne(e,(function(t){return r(t)})),wn(dn(t,(function(t){return{criteria:Ne(e,(function(e){return e(t)})),index:++i,value:t}})),(function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var c=Ct(i[r],o[r]);if(c){if(r>=s)return c;var u=n[r];return c*("asc"===u||!0===u?1:-1)}}return t.index-e.index}(t,e,n)}))}function En(t,e){var n=-1,r=dr(),i=t.length,o=r==Tt,a=o&&i>=g,s=a?Ln():null,c=[];s?(r=Ae,o=!1):(a=!1,s=e?[]:c);t:for(;++n<i;){var u=t[n],l=e?e(u,n,t):u;if(o&&u==u){for(var d=s.length;d--;)if(s[d]===l)continue t;e&&s.push(l),c.push(u)}else r(s,l,0)<0&&((e||a)&&s.push(l),c.push(u))}return c}function xn(t,e){for(var r=-1,i=e.length,o=n(i);++r<i;)o[r]=t[e[r]];return o}function Cn(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?bn(t,r?0:o,r?o+1:i):bn(t,r?o+1:0,r?i:o)}function kn(t,e){var n=t;n instanceof Te&&(n=n.value());for(var r=-1,i=e.length;++r<i;){var o=e[r];n=o.func.apply(o.thisArg,Re([n],o.args))}return n}function Tn(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e==e&&i<=_e){for(;r<i;){var o=r+i>>>1,a=t[o];(n?a<=e:a<e)&&null!==a?r=o+1:i=o}return i}return Pn(t,e,Do,n)}function Pn(t,e,n,r){e=n(e);for(var o=0,a=t?t.length:0,s=e!=e,c=null===e,u=e===i;o<a;){var l=ce((o+a)/2),d=n(t[l]),f=d!==i,h=d==d;if(s)var p=h||r;else p=c?h&&f&&(r||null!=d):u?h&&(r||f):null!=d&&(r?d<=e:d<e);p?o=l+1:a=l}return he(a,be)}function In(t,e,n){if("function"!=typeof t)return Do;if(e===i)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,a){return t.call(e,n,r,i,o,a)}}return function(){return t.apply(e,arguments)}}function An(t){var e=new Yt(t.byteLength);return new ie(e).set(new ie(t)),e}function On(t,e,r){for(var i=r.length,o=-1,a=fe(t.length-i,0),s=-1,c=e.length,u=n(c+a);++s<c;)u[s]=e[s];for(;++o<i;)u[r[o]]=t[o];for(;a--;)u[s++]=t[o++];return u}function $n(t,e,r){for(var i=-1,o=r.length,a=-1,s=fe(t.length-o,0),c=-1,u=e.length,l=n(s+u);++a<s;)l[a]=t[a];for(var d=a;++c<u;)l[d+c]=e[c];for(;++i<o;)l[d+r[i]]=t[a++];return l}function Mn(t,e){return function(n,r,i){var o=e?e():{};if(r=cr(r,i,3),Hi(n))for(var a=-1,s=n.length;++a<s;){var c=n[a];t(o,c,r(c,a,n),n)}else Qe(n,(function(e,n,i){t(o,e,r(e,n,i),i)}));return o}}function Dn(t){return Fi((function(e,n){var r=-1,o=null==e?0:n.length,a=o>2?n[o-2]:i,s=o>2?n[2]:i,c=o>1?n[o-1]:i;for("function"==typeof a?(a=In(a,c,5),o-=2):o-=(a="function"==typeof c?c:i)?1:0,s&&yr(n[0],n[1],s)&&(a=o<3?i:a,o=1);++r<o;){var u=n[r];u&&t(e,u,a)}return e}))}function Nn(t,e){return function(n,r){var i=n?fr(n):0;if(!wr(i))return t(n,r);for(var o=e?i:-1,a=Ar(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Rn(t){return function(e,n,r){for(var i=Ar(e),o=r(e),a=o.length,s=t?a:-1;t?s--:++s<a;){var c=o[s];if(!1===n(i[c],c,i))break}return e}}function Ln(t){return se&&ee?new Ie(t):null}function jn(t){return function(e){for(var n=-1,r=Oo(Eo(e)),i=r.length,o="";++n<i;)o=t(o,r[n],n);return o}}function Fn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=We(t.prototype),r=t.apply(n,e);return Wi(r)?r:n}}function Bn(t){return function e(n,r,o){o&&yr(n,r,o)&&(r=i);var a=or(n,t,i,i,i,i,i,r);return a.placeholder=e.placeholder,a}}function Vn(t,e){return Fi((function(n){var r=n[0];return null==r?r:(n.push(e),t.apply(i,n))}))}function Hn(t,e){return function(n,r,o){if(o&&yr(n,r,o)&&(r=i),1==(r=cr(r,o,3)).length){var a=function(t,e,n,r){for(var i=-1,o=t.length,a=r,s=a;++i<o;){var c=t[i],u=+e(c);n(u,a)&&(a=u,s=c)}return s}(n=Hi(n)?n:Ir(n),r,t,e);if(!n.length||a!==e)return a}return function(t,e,n,r){var i=r,o=i;return Qe(t,(function(t,a,s){var c=+e(t,a,s);(n(c,i)||c===r&&c===o)&&(i=c,o=t)})),o}(n,r,t,e)}}function Un(t,e){return function(n,r,o){if(r=cr(r,o,3),Hi(n)){var a=kt(n,r,e);return a>-1?n[a]:i}return Je(n,r,t)}}function qn(t){return function(e,n,r){return e&&e.length?kt(e,n=cr(n,r,3),t):-1}}function zn(t){return function(e,n,r){return Je(e,n=cr(n,r,3),t,!0)}}function Wn(t){return function(){for(var e,r=arguments.length,o=t?r:-1,a=0,s=n(r);t?o--:++o<r;){var c=s[a++]=arguments[o];if("function"!=typeof c)throw new _t(v);!e&&ke.prototype.thru&&"wrapper"==lr(c)&&(e=new ke([],!0))}for(o=e?-1:r;++o<r;){var u=lr(c=s[o]),d="wrapper"==u?ur(c):i;e=d&&_r(d[0])&&d[1]==(p|l|f|m)&&!d[4].length&&1==d[9]?e[lr(d[0])].apply(e,d[3]):1==c.length&&_r(c)?e[u]():e.thru(c)}return function(){var t=arguments,n=t[0];if(e&&1==t.length&&Hi(n)&&n.length>=g)return e.plant(n).value();for(var i=0,o=r?s[i].apply(this,t):n;++i<r;)o=s[i].call(this,o);return o}}}function Gn(t,e){return function(n,r,o){return"function"==typeof r&&o===i&&Hi(n)?t(n,r):e(n,In(r,o,3))}}function Kn(t){return function(e,n,r){return"function"==typeof n&&r===i||(n=In(n,r,3)),t(e,n,mo)}}function Qn(t){return function(e,n,r){return"function"==typeof n&&r===i||(n=In(n,r,3)),t(e,n)}}function Yn(t){return function(e,n,r){var i={};return n=cr(n,r,3),on(e,(function(e,r,o){var a=n(e,r,o);i[r=t?a:r]=e=t?e:a})),i}}function Xn(t){return function(e,n,r){return e=It(e),(t?e:"")+er(e,n,r)+(t?"":e)}}function Zn(t){var e=Fi((function(n,r){var o=Bt(r,e.placeholder);return or(n,t,i,r,o)}));return e}function Jn(t,e){return function(n,r,o,a){var s=arguments.length<3;return"function"==typeof r&&a===i&&Hi(n)?t(n,r,o,s):vn(n,cr(r,a,4),o,s,e)}}function tr(t,e,r,o,a,m,g,v,y,b){var _=e&p,w=e&s,S=e&c,E=e&l,x=e&u,C=e&d,k=S?i:Fn(t);return function u(){for(var l=arguments.length,d=l,p=n(l);d--;)p[d]=arguments[d];if(o&&(p=On(p,o,a)),m&&(p=$n(p,m,g)),E||C){var T=u.placeholder,P=Bt(p,T);if((l-=P.length)<b){var I=v?Oe(v):i,A=fe(b-l,0);e|=E?f:h,e&=~(E?h:f),x||(e&=~(s|c));var O=[t,e,r,E?p:i,E?P:i,E?i:p,E?i:P,I,y,A],$=tr.apply(i,O);return _r(t)&&Tr($,O),$.placeholder=T,$}}var M=w?r:this,D=S?M[t]:t;return v&&(p=function(t,e){for(var n=t.length,r=he(e.length,n),o=Oe(t);r--;){var a=e[r];t[r]=vr(a,n)?o[a]:i}return t}(p,v)),_&&y<p.length&&(p.length=y),this&&this!==xt&&this instanceof u&&(D=k||Fn(t)),D.apply(M,p)}}function er(t,e,n){var r=t.length;if(r>=(e=+e)||!le(e))return"";var i=e-r;return To(n=null==n?" ":n+"",ae(i/n.length)).slice(0,i)}function nr(t,e,r,i){var o=e&s,a=Fn(t);return function e(){for(var s=-1,c=arguments.length,u=-1,l=i.length,d=n(l+c);++u<l;)d[u]=i[u];for(;c--;)d[u++]=arguments[++s];return(this&&this!==xt&&this instanceof e?a:t).apply(o?r:this,d)}}function rr(t){var e=mt[t];return function(t,n){return(n=n===i?0:+n||0)?(n=Jt(10,n),e(t*n)/n):e(t)}}function ir(t){return function(e,n,r,i){var o=cr(r);return null==r&&o===qe?Tn(e,n,t):Pn(e,n,o(r,i,1),t)}}function or(t,e,n,r,o,a,d,g){var b=e&c;if(!b&&"function"!=typeof t)throw new _t(v);var _=r?r.length:0;if(_||(e&=~(f|h),r=o=i),_-=o?o.length:0,e&h){var w=r,S=o;r=o=i}var E=b?i:ur(t),x=[t,e,n,r,o,w,S,a,d,g];if(E&&(function(t,e){var n=t[1],r=e[1],i=n|r;if(!(i<p||r==p&&n==l||r==p&&n==m&&t[7].length<=e[8]||r==(p|m)&&n==l))return t;r&s&&(t[2]=e[2],i|=n&s?0:u);var o=e[3];if(o){var a=t[3];t[3]=a?On(a,o,e[4]):Oe(o),t[4]=a?Bt(t[3],y):Oe(e[4])}(o=e[5])&&(t[5]=(a=t[5])?$n(a,o,e[6]):Oe(o),t[6]=a?Bt(t[5],y):Oe(e[6])),(o=e[7])&&(t[7]=Oe(o)),r&p&&(t[8]=null==t[8]?e[8]:he(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(x,E),e=x[1],g=x[9]),x[9]=null==g?b?0:t.length:fe(g-_,0)||0,e==s)var C=function(t,e){var n=Fn(t);return function r(){return(this&&this!==xt&&this instanceof r?n:t).apply(e,arguments)}}(x[0],x[2]);else C=e!=f&&e!=(s|f)||x[4].length?tr.apply(i,x):nr.apply(i,x);return(E?yn:Tr)(C,x)}function ar(t,e,n,r,o,a,s){var c=-1,u=t.length,l=e.length;if(u!=l&&!(o&&l>u))return!1;for(;++c<u;){var d=t[c],f=e[c],h=r?r(o?f:d,o?d:f,c):i;if(h!==i){if(h)continue;return!1}if(o){if(!je(e,(function(t){return d===t||n(d,t,r,o,a,s)})))return!1}else if(d!==f&&!n(d,f,r,o,a,s))return!1}return!0}function sr(t,e,n,r,o,a,s){var c=po(t),u=c.length;if(u!=po(e).length&&!o)return!1;for(var l=u;l--;){var d=c[l];if(!(o?d in e:zt.call(e,d)))return!1}for(var f=o;++l<u;){var h=t[d=c[l]],p=e[d],m=r?r(o?p:h,o?h:p,d):i;if(!(m===i?n(h,p,r,o,a,s):m))return!1;f||(f="constructor"==d)}if(!f){var g=t.constructor,v=e.constructor;if(g!=v&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof v&&v instanceof v))return!1}return!0}function cr(t,e,n){var r=xe.callback||Mo;return r=r===Mo?qe:r,n?r(t,e,n):r}var ur=Se?function(t){return Se.get(t)}:Fo;function lr(t){for(var e=t.name,n=Ee[e],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function dr(t,e,n){var r=xe.indexOf||Fr;return r=r===Fr?Tt:r,t?r(t,e,n):r}var fr=pn("length");function hr(t){for(var e=bo(t),n=e.length;n--;)e[n][2]=Sr(e[n][1]);return e}function pr(t,e){var n=null==t?i:t[e];return Gi(n)?n:i}function mr(t,e,n){null==t||br(e,t)||(t=1==(e=Or(e)).length?t:cn(t,bn(e,0,-1)),e=Vr(e));var r=null==t?t:t[e];return null==r?i:r.apply(t,n)}function gr(t){return null!=t&&wr(fr(t))}function vr(t,e){return t="number"==typeof t||at.test(t)?+t:-1,e=null==e?we:e,t>-1&&t%1==0&&t<e}function yr(t,e,n){if(!Wi(n))return!1;var r=typeof e;if("number"==r?gr(n)&&vr(e,n.length):"string"==r&&e in n){var i=n[e];return t==t?t===i:i!=i}return!1}function br(t,e){var n=typeof t;return!!("string"==n&&Y.test(t)||"number"==n)||!Hi(t)&&(!Q.test(t)||null!=e&&t in Ar(e))}function _r(t){var e=lr(t);if(!(e in Te.prototype))return!1;var n=xe[e];if(t===n)return!0;var r=ur(n);return!!r&&t===r[0]}function wr(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=we}function Sr(t){return t==t&&!Wi(t)}function Er(t,e){t=Ar(t);for(var n=-1,r=e.length,i={};++n<r;){var o=e[n];o in t&&(i[o]=t[o])}return i}function xr(t,e){var n={};return rn(t,(function(t,r,i){e(t,r,i)&&(n[r]=t)})),n}var Cr,kr,Tr=(Cr=0,kr=0,function(t,e){var n=Si(),r=16-(n-kr);if(kr=n,r>0){if(++Cr>=150)return t}else Cr=0;return yn(t,e)});function Pr(t){for(var e=mo(t),n=e.length,r=n&&t.length,i=!!r&&wr(r)&&(Hi(t)||Vi(t)),o=-1,a=[];++o<n;){var s=e[o];(i&&vr(s,r)||zt.call(t,s))&&a.push(s)}return a}function Ir(t){return null==t?[]:gr(t)?Wi(t)?t:vt(t):wo(t)}function Ar(t){return Wi(t)?t:vt(t)}function Or(t){if(Hi(t))return t;var e=[];return It(t).replace(X,(function(t,n,r,i){e.push(r?i.replace(et,"$1"):n||t)})),e}function $r(t){return t instanceof Te?t.clone():new ke(t.__wrapped__,t.__chain__,Oe(t.__actions__))}var Mr=Fi((function(t,e){return jt(t)&&gr(t)?Ke(t,tn(e,!1,!0)):[]}));function Dr(t,e,n){return t&&t.length?((n?yr(t,e,n):null==e)&&(e=1),bn(t,e<0?0:e)):[]}function Nr(t,e,n){var r=t?t.length:0;return r?((n?yr(t,e,n):null==e)&&(e=1),bn(t,0,(e=r-(+e||0))<0?0:e)):[]}var Rr=qn(),Lr=qn(!0);function jr(t){return t?t[0]:i}function Fr(t,e,n){var r=t?t.length:0;if(!r)return-1;if("number"==typeof n)n=n<0?fe(r+n,0):n;else if(n){var i=Tn(t,e);return i<r&&(e==e?e===t[i]:t[i]!=t[i])?i:-1}return Tt(t,e,n||0)}var Br=Fi((function(t){for(var e=t.length,r=e,i=n(d),o=dr(),a=o==Tt,s=[];r--;){var c=t[r]=gr(c=t[r])?c:[];i[r]=a&&c.length>=120?Ln(r&&c):null}var u=t[0],l=-1,d=u?u.length:0,f=i[0];t:for(;++l<d;)if(c=u[l],(f?Ae(f,c):o(s,c,0))<0){for(r=e;--r;){var h=i[r];if((h?Ae(h,c):o(t[r],c,0))<0)continue t}f&&f.push(c),s.push(c)}return s}));function Vr(t){var e=t?t.length:0;return e?t[e-1]:i}var Hr=Fi((function(t,e){var n=He(t,e=tn(e));return mn(t,e.sort(Ct)),n}));function Ur(t){return Dr(t,1)}var qr=ir(),zr=ir(!0),Wr=Fi((function(t){return En(tn(t,!1,!0))}));function Gr(t,e,n,r){if(!t||!t.length)return[];null!=e&&"boolean"!=typeof e&&(n=yr(t,e,r=n)?i:e,e=!1);var o=cr();return null==n&&o===qe||(n=o(n,r,3)),e&&dr()==Tt?function(t,e){for(var n,r=-1,i=t.length,o=-1,a=[];++r<i;){var s=t[r],c=e?e(s,r,t):s;r&&n===c||(n=c,a[++o]=s)}return a}(t,n):En(t,n)}function Kr(t){if(!t||!t.length)return[];var e=-1,r=0;t=De(t,(function(t){if(gr(t))return r=fe(t.length,r),!0}));for(var i=n(r);++e<r;)i[e]=Ne(t,pn(e));return i}function Qr(t,e,n){if(!t||!t.length)return[];var r=Kr(t);return null==e?r:(e=In(e,n,4),Ne(r,(function(t){return Le(t,e,i,!0)})))}var Yr=Fi((function(t,e){return gr(t)?Ke(t,e):[]})),Xr=Fi(Kr);function Zr(t,e){var n=-1,r=t?t.length:0,i={};for(!r||e||Hi(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}var Jr=Fi((function(t){var e=t.length,n=e>2?t[e-2]:i,r=e>1?t[e-1]:i;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof r?(--e,r):i,r=i),t.length=e,Qr(t,n,r)}));function ti(t){var e=xe(t);return e.__chain__=!0,e}function ei(t,e,n){return e.call(n,t)}var ni=Fi((function(t){return t=tn(t),this.thru((function(e){return function(t,e){for(var r=-1,i=t.length,o=-1,a=e.length,s=n(i+a);++r<i;)s[r]=t[r];for(;++o<a;)s[r++]=e[o];return s}(Hi(e)?e:[Ar(e)],t)}))})),ri=Fi((function(t,e){return He(t,tn(e))})),ii=Mn((function(t,e,n){zt.call(t,n)?++t[n]:t[n]=1}));function oi(t,e,n){var r=Hi(t)?Me:Xe;return n&&yr(t,e,n)&&(e=i),"function"==typeof e&&n===i||(e=cr(e,n,3)),r(t,e)}function ai(t,e,n){return(Hi(t)?De:Ze)(t,e=cr(e,n,3))}var si=Un(Qe),ci=Un(Ye,!0),ui=Gn($e,Qe),li=Gn((function(t,e){for(var n=t.length;n--&&!1!==e(t[n],n,t););return t}),Ye),di=Mn((function(t,e,n){zt.call(t,n)?t[n].push(e):t[n]=[e]}));function fi(t,e,n,r){var i=t?fr(t):0;return wr(i)||(i=(t=wo(t)).length),n="number"!=typeof n||r&&yr(e,n,r)?0:n<0?fe(i+n,0):n||0,"string"==typeof t||!Hi(t)&&Xi(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&dr(t,e,n)>-1}var hi=Mn((function(t,e,n){t[n]=e})),pi=Fi((function(t,e,r){var o=-1,a="function"==typeof e,s=br(e),c=gr(t)?n(t.length):[];return Qe(t,(function(t){var n=a?e:s&&null!=t?t[e]:i;c[++o]=n?n.apply(t,r):mr(t,e,r)})),c}));function mi(t,e,n){return(Hi(t)?Ne:dn)(t,e=cr(e,n,3))}var gi=Mn((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),vi=Jn(Le,Qe),yi=Jn((function(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}),Ye);function bi(t,e,n){if(n?yr(t,e,n):null==e)return(r=(t=Ir(t)).length)>0?t[gn(0,r-1)]:i;var r,o=-1,a=to(t),s=(r=a.length)-1;for(e=he(e<0?0:+e||0,r);++o<e;){var c=gn(o,s),u=a[c];a[c]=a[o],a[o]=u}return a.length=e,a}function _i(t,e,n){var r=Hi(t)?je:_n;return n&&yr(t,e,n)&&(e=i),"function"==typeof e&&n===i||(e=cr(e,n,3)),r(t,e)}var wi=Fi((function(t,e){if(null==t)return[];var n=e[2];return n&&yr(e[0],e[1],n)&&(e.length=1),Sn(t,tn(e),[])})),Si=pe||function(){return(new r).getTime()};function Ei(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new _t(v);var r=t;t=e,e=r}return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var xi=Fi((function(t,e,n){var r=s;if(n.length){var i=Bt(n,xi.placeholder);r|=f}return or(t,r,e,n,i)})),Ci=Fi((function(t,e){for(var n=-1,r=(e=e.length?tn(e):ho(t)).length;++n<r;){var i=e[n];t[i]=or(t[i],s,t)}return t})),ki=Fi((function(t,e,n){var r=s|c;if(n.length){var i=Bt(n,ki.placeholder);r|=f}return or(e,r,t,n,i)})),Ti=Bn(l),Pi=Bn(d);function Ii(t,e,n){var r,o,a,s,c,u,l,d=0,f=!1,h=!0;if("function"!=typeof t)throw new _t(v);if(e=e<0?0:+e||0,!0===n){var p=!0;h=!1}else Wi(n)&&(p=!!n.leading,f="maxWait"in n&&fe(+n.maxWait||0,e),h="trailing"in n?!!n.trailing:h);function m(e,n){n&&Xt(n),o=u=l=i,e&&(d=Si(),a=t.apply(c,r),u||o||(r=c=i))}function g(){var t=e-(Si()-s);t<=0||t>e?m(l,o):u=ne(g,t)}function y(){m(h,u)}function b(){if(r=arguments,s=Si(),c=this,l=h&&(u||!p),!1===f)var n=p&&!u;else{o||p||(d=s);var m=f-(s-d),v=m<=0||m>f;v?(o&&(o=Xt(o)),d=s,a=t.apply(c,r)):o||(o=ne(y,m))}return v&&u?u=Xt(u):u||e===f||(u=ne(g,e)),n&&(v=!0,a=t.apply(c,r)),!v||u||o||(r=c=i),a}return b.cancel=function(){u&&Xt(u),o&&Xt(o),d=0,o=u=l=i},b}var Ai=Fi((function(t,e){return Ge(t,1,e)})),Oi=Fi((function(t,e,n){return Ge(t,e,n)})),$i=Wn(),Mi=Wn(!0);function Di(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new _t(v);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new Di.Cache,n}var Ni=Fi((function(t,e){if(e=tn(e),"function"!=typeof t||!Me(e,Pt))throw new _t(v);var n=e.length;return Fi((function(r){for(var i=he(r.length,n);i--;)r[i]=e[i](r[i]);return t.apply(this,r)}))})),Ri=Zn(f),Li=Zn(h),ji=Fi((function(t,e){return or(t,m,i,i,i,tn(e))}));function Fi(t,e){if("function"!=typeof t)throw new _t(v);return e=fe(e===i?t.length-1:+e||0,0),function(){for(var r=arguments,i=-1,o=fe(r.length-e,0),a=n(o);++i<o;)a[i]=r[e+i];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,r[0],a);case 2:return t.call(this,r[0],r[1],a)}var s=n(e+1);for(i=-1;++i<e;)s[i]=r[i];return s[e]=a,t.apply(this,s)}}function Bi(t,e){return t>e}function Vi(t){return jt(t)&&gr(t)&&zt.call(t,"callee")&&!te.call(t,"callee")}var Hi=ue||function(t){return jt(t)&&wr(t.length)&&Gt.call(t)==_};function Ui(t,e,n,r){var o=(n="function"==typeof n?In(n,r,3):i)?n(t,e):i;return o===i?un(t,e,n):!!o}function qi(t){return jt(t)&&"string"==typeof t.message&&Gt.call(t)==E}function zi(t){return Wi(t)&&Gt.call(t)==x}function Wi(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Gi(t){return null!=t&&(zi(t)?Qt.test(Ft.call(t)):jt(t)&&ot.test(t))}function Ki(t){return"number"==typeof t||jt(t)&&Gt.call(t)==C}function Qi(t){var e,n;return!(!jt(t)||Gt.call(t)!=k||Vi(t)||!(zt.call(t,"constructor")||"function"!=typeof(e=t.constructor)||e instanceof e))&&(rn(t,(function(t,e){n=e})),n===i||zt.call(t,n))}function Yi(t){return Wi(t)&&Gt.call(t)==T}function Xi(t){return"string"==typeof t||jt(t)&&Gt.call(t)==P}function Zi(t){return jt(t)&&wr(t.length)&&!!ht[Gt.call(t)]}function Ji(t,e){return t<e}function to(t){var e=t?fr(t):0;return wr(e)?e?Oe(t):[]:wo(t)}function eo(t){return Ue(t,mo(t))}var no=Dn((function t(e,n,r,o,a){if(!Wi(e))return e;var s=gr(n)&&(Hi(n)||Zi(n)),c=s?i:po(n);return $e(c||n,(function(u,l){if(c&&(u=n[l=u]),jt(u))o||(o=[]),a||(a=[]),function(t,e,n,r,o,a,s){for(var c=a.length,u=e[n];c--;)if(a[c]==u)return void(t[n]=s[c]);var l=t[n],d=o?o(l,u,n,t,e):i,f=d===i;f&&(d=u,gr(u)&&(Hi(u)||Zi(u))?d=Hi(l)?l:gr(l)?Oe(l):[]:Qi(u)||Vi(u)?d=Vi(l)?eo(l):Qi(l)?l:{}:f=!1),a.push(u),s.push(d),f?t[n]=r(d,u,o,a,s):(d==d?d!==l:l==l)&&(t[n]=d)}(e,n,l,t,r,o,a);else{var d=e[l],f=r?r(d,u,l,e,n):i,h=f===i;h&&(f=u),f===i&&(!s||l in e)||!h&&(f==f?f===d:d!=d)||(e[l]=f)}})),e})),ro=Dn((function(t,e,n){return n?Be(t,e,n):Ve(t,e)})),io=Vn(ro,(function(t,e){return t===i?e:t})),oo=Vn(no,(function t(e,n){return e===i?n:no(e,n,t)})),ao=zn(on),so=zn(an),co=Kn(en),uo=Kn(nn),lo=Qn(on),fo=Qn(an);function ho(t){return sn(t,mo(t))}var po=de?function(t){var e=null==t?i:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&gr(t)?Pr(t):Wi(t)?de(t):[]}:Pr;function mo(t){if(null==t)return[];Wi(t)||(t=vt(t));var e=t.length;e=e&&wr(e)&&(Hi(t)||Vi(t))&&e||0;for(var r=t.constructor,i=-1,o="function"==typeof r&&r.prototype===t,a=n(e),s=e>0;++i<e;)a[i]=i+"";for(var c in t)s&&vr(c,e)||"constructor"==c&&(o||!zt.call(t,c))||a.push(c);return a}var go=Yn(!0),vo=Yn(),yo=Fi((function(t,e){if(null==t)return{};if("function"!=typeof e[0])return e=Ne(tn(e),bt),Er(t,Ke(mo(t),e));var n=In(e[0],e[1],3);return xr(t,(function(t,e,r){return!n(t,e,r)}))}));function bo(t){t=Ar(t);for(var e=-1,r=po(t),i=r.length,o=n(i);++e<i;){var a=r[e];o[e]=[a,t[a]]}return o}var _o=Fi((function(t,e){return null==t?{}:"function"==typeof e[0]?xr(t,In(e[0],e[1],3)):Er(t,tn(e))}));function wo(t){return xn(t,po(t))}var So=jn((function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}));function Eo(t){return(t=It(t))&&t.replace(st,Mt).replace(tt,"")}var xo=jn((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Co=Xn(),ko=Xn(!0);function To(t,e){var n="";if(t=It(t),(e=+e)<1||!t||!le(e))return n;do{e%2&&(n+=t),e=ce(e/2),t+=t}while(e);return n}var Po=jn((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Io=jn((function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}));function Ao(t,e,n){var r=t;return(t=It(t))?(n?yr(r,e,n):null==e)?t.slice(Vt(t),Ht(t)+1):t.slice(At(t,e+=""),Ot(t,e)+1):t}function Oo(t,e,n){return n&&yr(t,e,n)&&(e=i),(t=It(t)).match(e||lt)||[]}var $o=Fi((function(t,e){try{return t.apply(i,e)}catch(n){return qi(n)?n:new o(n)}}));function Mo(t,e,n){return n&&yr(t,e,n)&&(e=i),jt(t)?No(t):qe(t,e)}function Do(t){return t}function No(t){return fn(ze(t,!0))}var Ro=Fi((function(t,e){return function(n){return mr(n,t,e)}})),Lo=Fi((function(t,e){return function(n){return mr(t,n,e)}}));function jo(t,e,n){if(null==n){var r=Wi(e),o=r?po(e):i,a=o&&o.length?sn(e,o):i;(a?a.length:r)||(a=!1,n=e,e=t,t=this)}a||(a=sn(e,po(e)));var s=!0,c=-1,u=zi(t),l=a.length;!1===n?s=!1:Wi(n)&&"chain"in n&&(s=n.chain);for(;++c<l;){var d=a[c],f=e[d];t[d]=f,u&&(t.prototype[d]=function(e){return function(){var n=this.__chain__;if(s||n){var r=t(this.__wrapped__),i=r.__actions__=Oe(this.__actions__);return i.push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,Re([this.value()],arguments))}}(f))}return t}function Fo(){}function Bo(t){return br(t)?pn(t):function(t){var e=t+"";return t=Or(t),function(n){return cn(n,t,e)}}(t)}var Vo,Ho=rr("ceil"),Uo=rr("floor"),qo=Hn(Bi,ve),zo=Hn(Ji,ye),Wo=rr("round");return xe.prototype=Ce.prototype,(ke.prototype=We(Ce.prototype)).constructor=ke,(Te.prototype=We(Ce.prototype)).constructor=Te,Pe.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Pe.prototype.get=function(t){return"__proto__"==t?i:this.__data__[t]},Pe.prototype.has=function(t){return"__proto__"!=t&&zt.call(this.__data__,t)},Pe.prototype.set=function(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this},Ie.prototype.push=function(t){var e=this.data;"string"==typeof t||Wi(t)?e.set.add(t):e.hash[t]=!0},Di.Cache=Pe,xe.after=function(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new _t(v);var n=t;t=e,e=n}return t=le(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}},xe.ary=function(t,e,n){return n&&yr(t,e,n)&&(e=i),e=t&&null==e?t.length:fe(+e||0,0),or(t,p,i,i,i,i,e)},xe.assign=ro,xe.at=ri,xe.before=Ei,xe.bind=xi,xe.bindAll=Ci,xe.bindKey=ki,xe.callback=Mo,xe.chain=ti,xe.chunk=function(t,e,r){e=(r?yr(t,e,r):null==e)?1:fe(ce(e)||1,1);for(var i=0,o=t?t.length:0,a=-1,s=n(ae(o/e));i<o;)s[++a]=bn(t,i,i+=e);return s},xe.compact=function(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var o=t[e];o&&(i[++r]=o)}return i},xe.constant=function(t){return function(){return t}},xe.countBy=ii,xe.create=function(t,e,n){var r=We(t);return n&&yr(t,e,n)&&(e=i),e?Ve(r,e):r},xe.curry=Ti,xe.curryRight=Pi,xe.debounce=Ii,xe.defaults=io,xe.defaultsDeep=oo,xe.defer=Ai,xe.delay=Oi,xe.difference=Mr,xe.drop=Dr,xe.dropRight=Nr,xe.dropRightWhile=function(t,e,n){return t&&t.length?Cn(t,cr(e,n,3),!0,!0):[]},xe.dropWhile=function(t,e,n){return t&&t.length?Cn(t,cr(e,n,3),!0):[]},xe.fill=function(t,e,n,r){var o=t?t.length:0;return o?(n&&"number"!=typeof n&&yr(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=null==n?0:+n||0)<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:+r||0)<0&&(r+=o),o=n>r?0:r>>>0,n>>>=0;n<o;)t[n++]=e;return t}(t,e,n,r)):[]},xe.filter=ai,xe.flatten=function(t,e,n){var r=t?t.length:0;return n&&yr(t,e,n)&&(e=!1),r?tn(t,e):[]},xe.flattenDeep=function(t){return t&&t.length?tn(t,!0):[]},xe.flow=$i,xe.flowRight=Mi,xe.forEach=ui,xe.forEachRight=li,xe.forIn=co,xe.forInRight=uo,xe.forOwn=lo,xe.forOwnRight=fo,xe.functions=ho,xe.groupBy=di,xe.indexBy=hi,xe.initial=function(t){return Nr(t,1)},xe.intersection=Br,xe.invert=function(t,e,n){n&&yr(t,e,n)&&(e=i);for(var r=-1,o=po(t),a=o.length,s={};++r<a;){var c=o[r],u=t[c];e?zt.call(s,u)?s[u].push(c):s[u]=[c]:s[u]=c}return s},xe.invoke=pi,xe.keys=po,xe.keysIn=mo,xe.map=mi,xe.mapKeys=go,xe.mapValues=vo,xe.matches=No,xe.matchesProperty=function(t,e){return hn(t,ze(e,!0))},xe.memoize=Di,xe.merge=no,xe.method=Ro,xe.methodOf=Lo,xe.mixin=jo,xe.modArgs=Ni,xe.negate=function(t){if("function"!=typeof t)throw new _t(v);return function(){return!t.apply(this,arguments)}},xe.omit=yo,xe.once=function(t){return Ei(2,t)},xe.pairs=bo,xe.partial=Ri,xe.partialRight=Li,xe.partition=gi,xe.pick=_o,xe.pluck=function(t,e){return mi(t,Bo(e))},xe.property=Bo,xe.propertyOf=function(t){return function(e){return cn(t,Or(e),e+"")}},xe.pull=function(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=dr(),i=t.length;++n<i;)for(var o=0,a=t[n];(o=r(e,a,o))>-1;)re.call(e,o,1);return e},xe.pullAt=Hr,xe.range=function(t,e,r){r&&yr(t,e,r)&&(e=r=i),t=+t||0,null==e?(e=t,t=0):e=+e||0;for(var o=-1,a=fe(ae((e-t)/((r=null==r?1:+r||0)||1)),0),s=n(a);++o<a;)s[o]=t,t+=r;return s},xe.rearg=ji,xe.reject=function(t,e,n){var r=Hi(t)?De:Ze;return e=cr(e,n,3),r(t,(function(t,n,r){return!e(t,n,r)}))},xe.remove=function(t,e,n){var r=[];if(!t||!t.length)return r;var i=-1,o=[],a=t.length;for(e=cr(e,n,3);++i<a;){var s=t[i];e(s,i,t)&&(r.push(s),o.push(i))}return mn(t,o),r},xe.rest=Ur,xe.restParam=Fi,xe.set=function(t,e,n){if(null==t)return t;for(var r=e+"",i=-1,o=(e=null!=t[r]||br(e,t)?[r]:Or(e)).length,a=o-1,s=t;null!=s&&++i<o;){var c=e[i];Wi(s)&&(i==a?s[c]=n:null==s[c]&&(s[c]=vr(e[i+1])?[]:{})),s=s[c]}return t},xe.shuffle=function(t){return bi(t,ye)},xe.slice=function(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&yr(t,e,n)&&(e=0,n=r),bn(t,e,n)):[]},xe.sortBy=function(t,e,n){if(null==t)return[];n&&yr(t,e,n)&&(e=i);var r=-1;return e=cr(e,n,3),wn(dn(t,(function(t,n,i){return{criteria:e(t,n,i),index:++r,value:t}})),$t)},xe.sortByAll=wi,xe.sortByOrder=function(t,e,n,r){return null==t?[]:(r&&yr(e,n,r)&&(n=i),Hi(e)||(e=null==e?[]:[e]),Hi(n)||(n=null==n?[]:[n]),Sn(t,e,n))},xe.spread=function(t){if("function"!=typeof t)throw new _t(v);return function(e){return t.apply(this,e)}},xe.take=function(t,e,n){return t&&t.length?((n?yr(t,e,n):null==e)&&(e=1),bn(t,0,e<0?0:e)):[]},xe.takeRight=function(t,e,n){var r=t?t.length:0;return r?((n?yr(t,e,n):null==e)&&(e=1),bn(t,(e=r-(+e||0))<0?0:e)):[]},xe.takeRightWhile=function(t,e,n){return t&&t.length?Cn(t,cr(e,n,3),!1,!0):[]},xe.takeWhile=function(t,e,n){return t&&t.length?Cn(t,cr(e,n,3)):[]},xe.tap=function(t,e,n){return e.call(n,t),t},xe.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new _t(v);return!1===n?r=!1:Wi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ii(t,e,{leading:r,maxWait:+e,trailing:i})},xe.thru=ei,xe.times=function(t,e,r){if((t=ce(t))<1||!le(t))return[];var i=-1,o=n(he(t,4294967295));for(e=In(e,r,1);++i<t;)i<4294967295?o[i]=e(i):e(i);return o},xe.toArray=to,xe.toPlainObject=eo,xe.transform=function(t,e,n,r){var o=Hi(t)||Zi(t);if(e=cr(e,r,4),null==n)if(o||Wi(t)){var a=t.constructor;n=o?Hi(t)?new a:[]:We(zi(a)?a.prototype:i)}else n={};return(o?$e:on)(t,(function(t,r,i){return e(n,t,r,i)})),n},xe.union=Wr,xe.uniq=Gr,xe.unzip=Kr,xe.unzipWith=Qr,xe.values=wo,xe.valuesIn=function(t){return xn(t,mo(t))},xe.where=function(t,e){return ai(t,fn(e))},xe.without=Yr,xe.wrap=function(t,e){return or(e=null==e?Do:e,f,i,[t],[])},xe.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(gr(n))var r=r?Re(Ke(r,n),Ke(n,r)):n}return r?En(r):[]},xe.zip=Xr,xe.zipObject=Zr,xe.zipWith=Jr,xe.backflow=Mi,xe.collect=mi,xe.compose=Mi,xe.each=ui,xe.eachRight=li,xe.extend=ro,xe.iteratee=Mo,xe.methods=ho,xe.object=Zr,xe.select=ai,xe.tail=Ur,xe.unique=Gr,jo(xe,xe),xe.add=function(t,e){return(+t||0)+(+e||0)},xe.attempt=$o,xe.camelCase=So,xe.capitalize=function(t){return(t=It(t))&&t.charAt(0).toUpperCase()+t.slice(1)},xe.ceil=Ho,xe.clone=function(t,e,n,r){return e&&"boolean"!=typeof e&&yr(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?ze(t,e,In(n,r,1)):ze(t,e)},xe.cloneDeep=function(t,e,n){return"function"==typeof e?ze(t,!0,In(e,n,1)):ze(t,!0)},xe.deburr=Eo,xe.endsWith=function(t,e,n){e+="";var r=(t=It(t)).length;return n=n===i?r:he(n<0?0:+n||0,r),(n-=e.length)>=0&&t.indexOf(e,n)==n},xe.escape=function(t){return(t=It(t))&&z.test(t)?t.replace(U,Dt):t},xe.escapeRegExp=function(t){return(t=It(t))&&J.test(t)?t.replace(Z,Nt):t||"(?:)"},xe.every=oi,xe.find=si,xe.findIndex=Rr,xe.findKey=ao,xe.findLast=ci,xe.findLastIndex=Lr,xe.findLastKey=so,xe.findWhere=function(t,e){return si(t,fn(e))},xe.first=jr,xe.floor=Uo,xe.get=function(t,e,n){var r=null==t?i:cn(t,Or(e),e+"");return r===i?n:r},xe.gt=Bi,xe.gte=function(t,e){return t>=e},xe.has=function(t,e){if(null==t)return!1;var n=zt.call(t,e);if(!n&&!br(e)){if(null==(t=1==(e=Or(e)).length?t:cn(t,bn(e,0,-1))))return!1;e=Vr(e),n=zt.call(t,e)}return n||wr(t.length)&&vr(e,t.length)&&(Hi(t)||Vi(t))},xe.identity=Do,xe.includes=fi,xe.indexOf=Fr,xe.inRange=function(t,e,n){return e=+e||0,n===i?(n=e,e=0):n=+n||0,t>=he(e,n)&&t<fe(e,n)},xe.isArguments=Vi,xe.isArray=Hi,xe.isBoolean=function(t){return!0===t||!1===t||jt(t)&&Gt.call(t)==w},xe.isDate=function(t){return jt(t)&&Gt.call(t)==S},xe.isElement=function(t){return!!t&&1===t.nodeType&&jt(t)&&!Qi(t)},xe.isEmpty=function(t){return null==t||(gr(t)&&(Hi(t)||Xi(t)||Vi(t)||jt(t)&&zi(t.splice))?!t.length:!po(t).length)},xe.isEqual=Ui,xe.isError=qi,xe.isFinite=function(t){return"number"==typeof t&&le(t)},xe.isFunction=zi,xe.isMatch=function(t,e,n,r){return n="function"==typeof n?In(n,r,3):i,ln(t,hr(e),n)},xe.isNaN=function(t){return Ki(t)&&t!=+t},xe.isNative=Gi,xe.isNull=function(t){return null===t},xe.isNumber=Ki,xe.isObject=Wi,xe.isPlainObject=Qi,xe.isRegExp=Yi,xe.isString=Xi,xe.isTypedArray=Zi,xe.isUndefined=function(t){return t===i},xe.kebabCase=xo,xe.last=Vr,xe.lastIndexOf=function(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(n<0?fe(r+n,0):he(n||0,r-1))+1;else if(n){var o=t[i=Tn(t,e,!0)-1];return(e==e?e===o:o!=o)?i:-1}if(e!=e)return Lt(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1},xe.lt=Ji,xe.lte=function(t,e){return t<=e},xe.max=qo,xe.min=zo,xe.noConflict=function(){return xt._=Kt,this},xe.noop=Fo,xe.now=Si,xe.pad=function(t,e,n){var r=(t=It(t)).length;if(r>=(e=+e)||!le(e))return t;var i=(e-r)/2,o=ce(i);return(n=er("",ae(i),n)).slice(0,o)+t+n},xe.padLeft=Co,xe.padRight=ko,xe.parseInt=function(t,e,n){return(n?yr(t,e,n):null==e)?e=0:e&&(e=+e),t=Ao(t),me(t,e||(it.test(t)?16:10))},xe.random=function(t,e,n){n&&yr(t,e,n)&&(e=n=i);var r=null==t,o=null==e;if(null==n&&(o&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,o=!0)),r&&o&&(e=1,o=!1),t=+t||0,o?(e=t,t=0):e=+e||0,n||t%1||e%1){var a=ge();return he(t+a*(e-t+Zt("1e-"+((a+"").length-1))),e)}return gn(t,e)},xe.reduce=vi,xe.reduceRight=yi,xe.repeat=To,xe.result=function(t,e,n){var r=null==t?i:t[e];return r===i&&(null==t||br(e,t)||(r=null==(t=1==(e=Or(e)).length?t:cn(t,bn(e,0,-1)))?i:t[Vr(e)]),r=r===i?n:r),zi(r)?r.call(t):r},xe.round=Wo,xe.runInContext=t,xe.size=function(t){var e=t?fr(t):0;return wr(e)?e:po(t).length},xe.snakeCase=Po,xe.some=_i,xe.sortedIndex=qr,xe.sortedLastIndex=zr,xe.startCase=Io,xe.startsWith=function(t,e,n){return t=It(t),n=null==n?0:he(n<0?0:+n||0,t.length),t.lastIndexOf(e,n)==n},xe.sum=function(t,e,n){return n&&yr(t,e,n)&&(e=i),1==(e=cr(e,n,3)).length?function(t,e){for(var n=t.length,r=0;n--;)r+=+e(t[n])||0;return r}(Hi(t)?t:Ir(t),e):function(t,e){var n=0;return Qe(t,(function(t,r,i){n+=+e(t,r,i)||0})),n}(t,e)},xe.template=function(t,e,n){var r=xe.templateSettings;n&&yr(t,e,n)&&(e=n=i),t=It(t),e=Be(Ve({},n||e),r,Fe);var o,s,c=Be(Ve({},e.imports),r.imports,Fe),u=po(c),l=xn(c,u),d=0,f=e.interpolate||ct,h="__p += '",p=yt((e.escape||ct).source+"|"+f.source+"|"+(f===K?nt:ct).source+"|"+(e.evaluate||ct).source+"|$","g"),m="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++ft+"]")+"\n";t.replace(p,(function(e,n,r,i,a,c){return r||(r=i),h+=t.slice(d,c).replace(ut,Rt),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=c+e.length,e})),h+="';\n";var g=e.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(s?h.replace(F,""):h).replace(B,"$1").replace(V,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=$o((function(){return a(u,m+"return "+h).apply(i,l)}));if(v.source=h,qi(v))throw v;return v},xe.trim=Ao,xe.trimLeft=function(t,e,n){var r=t;return(t=It(t))?(n?yr(r,e,n):null==e)?t.slice(Vt(t)):t.slice(At(t,e+"")):t},xe.trimRight=function(t,e,n){var r=t;return(t=It(t))?(n?yr(r,e,n):null==e)?t.slice(0,Ht(t)+1):t.slice(0,Ot(t,e+"")+1):t},xe.trunc=function(t,e,n){n&&yr(t,e,n)&&(e=i);var r=30,o="...";if(null!=e)if(Wi(e)){var a="separator"in e?e.separator:a;r="length"in e?+e.length||0:r,o="omission"in e?It(e.omission):o}else r=+e||0;if(r>=(t=It(t)).length)return t;var s=r-o.length;if(s<1)return o;var c=t.slice(0,s);if(null==a)return c+o;if(Yi(a)){if(t.slice(s).search(a)){var u,l,d=t.slice(0,s);for(a.global||(a=yt(a.source,(rt.exec(a)||"")+"g")),a.lastIndex=0;u=a.exec(d);)l=u.index;c=c.slice(0,null==l?s:l)}}else if(t.indexOf(a,s)!=s){var f=c.lastIndexOf(a);f>-1&&(c=c.slice(0,f))}return c+o},xe.unescape=function(t){return(t=It(t))&&q.test(t)?t.replace(H,Ut):t},xe.uniqueId=function(t){var e=++Wt;return It(t)+e},xe.words=Oo,xe.all=oi,xe.any=_i,xe.contains=fi,xe.eq=Ui,xe.detect=si,xe.foldl=vi,xe.foldr=yi,xe.head=jr,xe.include=fi,xe.inject=vi,jo(xe,(Vo={},on(xe,(function(t,e){xe.prototype[e]||(Vo[e]=t)})),Vo),!1),xe.sample=bi,xe.prototype.sample=function(t){return this.__chain__||null!=t?this.thru((function(e){return bi(e,t)})):bi(this.value())},xe.VERSION="3.10.1",$e(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){xe[t].placeholder=xe})),$e(["drop","take"],(function(t,e){Te.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new Te(this);n=null==n?1:fe(ce(n)||0,0);var i=this.clone();return r?i.__takeCount__=he(i.__takeCount__,n):i.__views__.push({size:n,type:t+(i.__dir__<0?"Right":"")}),i},Te.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),$e(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=2!=n;Te.prototype[t]=function(t,e){var i=this.clone();return i.__iteratees__.push({iteratee:cr(t,e,1),type:n}),i.__filtered__=i.__filtered__||r,i}})),$e(["first","last"],(function(t,e){var n="take"+(e?"Right":"");Te.prototype[t]=function(){return this[n](1).value()[0]}})),$e(["initial","rest"],(function(t,e){var n="drop"+(e?"":"Right");Te.prototype[t]=function(){return this.__filtered__?new Te(this):this[n](1)}})),$e(["pluck","where"],(function(t,e){var n=e?"filter":"map",r=e?fn:Bo;Te.prototype[t]=function(t){return this[n](r(t))}})),Te.prototype.compact=function(){return this.filter(Do)},Te.prototype.reject=function(t,e){return t=cr(t,e,1),this.filter((function(e){return!t(e)}))},Te.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||e<0)?new Te(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=+e||0)<0?n.dropRight(-e):n.take(e-t)),n)},Te.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},Te.prototype.toArray=function(){return this.take(ye)},on(Te.prototype,(function(t,e){var n=/^(?:filter|map|reject)|While$/.test(e),r=/^(?:first|last)$/.test(e),o=xe[r?"take"+("last"==e?"Right":""):e];o&&(xe.prototype[e]=function(){var e=r?[1]:arguments,a=this.__chain__,s=this.__wrapped__,c=!!this.__actions__.length,u=s instanceof Te,l=e[0],d=u||Hi(s);d&&n&&"function"==typeof l&&1!=l.length&&(u=d=!1);var f=function(t){return r&&a?o(t,1)[0]:o.apply(i,Re([t],e))},h={func:ei,args:[f],thisArg:i},p=u&&!c;if(r&&!a)return p?((s=s.clone()).__actions__.push(h),t.call(s)):o.call(i,this.value())[0];if(!r&&d){s=p?s:new Te(this);var m=t.apply(s,e);return m.__actions__.push(h),new ke(m,a)}return this.thru(f)})})),$e(["join","pop","push","replace","shift","sort","splice","split","unshift"],(function(t){var e=(/^(?:replace|split)$/.test(t)?Et:wt)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(t);xe.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?e.apply(this.value(),t):this[n]((function(n){return e.apply(n,t)}))}})),on(Te.prototype,(function(t,e){var n=xe[e];if(n){var r=n.name;(Ee[r]||(Ee[r]=[])).push({name:e,func:n})}})),Ee[tr(i,c).name]=[{name:"wrapper",func:i}],Te.prototype.clone=function(){var t=new Te(this.__wrapped__);return t.__actions__=Oe(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Oe(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Oe(this.__views__),t},Te.prototype.reverse=function(){if(this.__filtered__){var t=new Te(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Te.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Hi(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=he(e,t+a);break;case"takeRight":t=fe(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,d=l.length,f=0,h=he(c,this.__takeCount__);if(!n||i<g||i==c&&h==c)return kn(r&&n?t.reverse():t,this.__actions__);var p=[];t:for(;c--&&f<h;){for(var m=-1,v=t[u+=e];++m<d;){var y=l[m],b=y.type,_=(0,y.iteratee)(v);if(2==b)v=_;else if(!_){if(1==b)continue t;break t}}p[f++]=v}return p},xe.prototype.chain=function(){return ti(this)},xe.prototype.commit=function(){return new ke(this.value(),this.__chain__)},xe.prototype.concat=ni,xe.prototype.plant=function(t){for(var e,n=this;n instanceof Ce;){var r=$r(n);e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},xe.prototype.reverse=function(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof Te){var n=t;return this.__actions__.length&&(n=new Te(this)),(n=n.reverse()).__actions__.push({func:ei,args:[e],thisArg:i}),new ke(n,this.__chain__)}return this.thru(e)},xe.prototype.toString=function(){return this.value()+""},xe.prototype.run=xe.prototype.toJSON=xe.prototype.valueOf=xe.prototype.value=function(){return kn(this.__wrapped__,this.__actions__)},xe.prototype.collect=xe.prototype.map,xe.prototype.head=xe.prototype.first,xe.prototype.select=xe.prototype.filter,xe.prototype.tail=xe.prototype.rest,xe}();xt._=qt,(r=(function(){return qt}).call(e,n,e,t))===i||(t.exports=r)}).call(this)}).call(this,n("aYSr")(t))},"Reu/":function(t,e,n){"use strict";var r=n("D9en");e.isNumeric=function(t){return!r.isArray(t)&&t-parseFloat(t)+1>=0}},Rfcv:function(t,e,n){"use strict";var r=n("wYoa"),i=n("e1hM"),o=n("KveQ"),a=n("rwVn"),s=n("yECB"),c=Object.assign;t.exports=!c||n("Zup5")((function(){var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||"abcdefghijklmnopqrst"!=r(c({},e)).join("")}))?function(t,e){for(var n=a(t),c=arguments.length,u=1,l=i.f,d=o.f;c>u;)for(var f,h=s(arguments[u++]),p=l?r(h).concat(l(h)):r(h),m=p.length,g=0;m>g;)d.call(h,f=p[g++])&&(n[f]=h[f]);return n}:c},RiMm:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("l95E"),o=n("Ha4h"),a=n("dmvN"),s=n("kZSD");e.timeoutWith=function(t,e,n){return void 0===n&&(n=i.async),function(r){var i=o.isDate(t),a=i?+t-n.now():Math.abs(t);return r.lift(new c(a,i,e,n))}};var c=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),u=function(t){function e(e,n,r,i,o){var a=t.call(this,e)||this;return a.absoluteTimeout=n,a.waitFor=r,a.withObservable=i,a.scheduler=o,a.action=null,a.scheduleTimeout(),a}return r(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(s.subscribeToResult(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(a.OuterSubscriber)},S7RE:function(t,e){angular.module("castifyExt.ui.connectedApps",["cf2.connectedAppsService","ngMaterial"]).controller("ConnectedAppsCtrl",["$scope","cf2ConnectedAppsService","$mdDialog",function(t,e,n){var r;t.remove=function(r,i){n.show(n.confirm("Disconnect App").content(`Do you want to disconnect "${r.title}" from Screencastify?`).ok("Disconnect App").cancel("Cancel").targetEvent(i)).then((function(){t.apps.splice(t.apps.indexOf(r),1),e.disconnect(r.id)}))},r=e.getConnectedAppInfo().then((function(e){t.apps=e})),t.loading=!0,r.finally((function(){t.loading=!1}))}])},SD3w:function(t,e,n){n("dRAY")("asyncIterator")},SDb7:function(t,e,n){n("WBpV"),t.exports=n("WIDk")("String","repeat")},SOVL:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("l95E"),o=n("1hPV"),a=n("ci3w");e.bufferTime=function(t){var e=arguments.length,n=i.async;a.isScheduler(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var o=Number.POSITIVE_INFINITY;return e>=3&&(o=arguments[2]),function(e){return e.lift(new s(t,r,o,n))}};var s=function(){function t(t,e,n,r){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),c=function(){return function(){this.buffer=[]}}(),u=function(t){function e(e,n,r,i,o){var a=t.call(this,e)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=r,a.maxBufferSize=i,a.scheduler=o,a.contexts=[];var s=a.openContext();if(a.timespanOnly=null==r||r<0,a.timespanOnly)a.add(s.closeAction=o.schedule(l,n,{subscriber:a,context:s,bufferTimeSpan:n}));else{var c={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:a,scheduler:o};a.add(s.closeAction=o.schedule(f,n,{subscriber:a,context:s})),a.add(o.schedule(d,r,c))}return a}return r(e,t),e.prototype._next=function(t){for(var e,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],a=o.buffer;a.push(t),a.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts,n=this.destination;e.length>0;){var r=e.shift();n.next(r.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var n=this.bufferTimeSpan;this.add(t.closeAction=this.scheduler.schedule(l,n,{subscriber:this,context:t,bufferTimeSpan:n}))}},e.prototype.openContext=function(){var t=new c;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(o.Subscriber);function l(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function d(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,r=t.subscriber,i=t.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(f,n,{subscriber:r,context:o})),this.schedule(t,e))}function f(t){t.subscriber.closeContext(t.context)}},SSAN:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("dmvN"),o=n("d4zx"),a=n("kZSD");e.catchError=function(t){return function(e){var n=new s(t),r=e.lift(n);return n.caught=r}};var s=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.selector,this.caught))},t}(),c=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return r(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(i){return void t.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new o.InnerSubscriber(this,void 0,void 0);this.add(r),a.subscribeToResult(this,n,void 0,void 0,r)}},e}(i.OuterSubscriber)},Sjgq:function(t,e,n){"use strict";var r=n("M5Hp"),i=n("2IC7"),o=n("DRiV"),a=n("q91K"),s=n("9SEF"),c=n("ohwb"),u=n("ZREF"),l=n("Zup5"),d=n("kXWg"),f=n("7js5"),h=n("i3dY"),p=n("skk5"),m=n("Q/JU"),g=n("dRAY"),v=n("/CoV"),y=n("wkq9"),b=n("7uYF"),_=n("DbaZ"),w=n("Ss0U"),S=n("t5Fe"),E=n("CSyd"),x=n("7NtF"),C=n("ur0i"),k=n("dbvG"),T=n("lxjo"),P=n("KveQ"),I=n("NaO6"),A=n("wYoa"),O=n("ywLU")("hidden"),$=n("4q26"),M=$.set,D=$.getterFor("Symbol"),N=k.f,R=T.f,L=C.f,j=r.Symbol,F=r.JSON,B=F&&F.stringify,V=p("toPrimitive"),H=P.f,U=d("symbol-registry"),q=d("symbols"),z=d("op-symbols"),W=d("wks"),G=Object.prototype,K=r.QObject,Q=n("ySQr"),Y=!K||!K.prototype||!K.prototype.findChild,X=o&&l((function(){return 7!=x(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=N(G,e);r&&delete G[e],R(t,e,n),r&&t!==G&&R(G,e,r)}:R,Z=function(t,e){var n=q[t]=x(j.prototype);return M(n,{type:"Symbol",tag:t,description:e}),o||(n.description=e),n},J=Q&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof j},tt=function(t,e,n){return t===G&&tt(z,e,n),b(t),e=S(e,!0),b(n),i(q,e)?(n.enumerable?(i(t,O)&&t[O][e]&&(t[O][e]=!1),n=x(n,{enumerable:E(0,!1)})):(i(t,O)||R(t,O,E(1,{})),t[O][e]=!0),X(t,e,n)):R(t,e,n)},et=function(t,e){b(t);for(var n,r=v(e=w(e)),i=0,o=r.length;o>i;)tt(t,n=r[i++],e[n]);return t},nt=function(t){var e=H.call(this,t=S(t,!0));return!(this===G&&i(q,t)&&!i(z,t))&&(!(e||!i(this,t)||!i(q,t)||i(this,O)&&this[O][t])||e)},rt=function(t,e){if(t=w(t),e=S(e,!0),t!==G||!i(q,e)||i(z,e)){var n=N(t,e);return!n||!i(q,e)||i(t,O)&&t[O][e]||(n.enumerable=!0),n}},it=function(t){for(var e,n=L(w(t)),r=[],o=0;n.length>o;)i(q,e=n[o++])||i(u,e)||r.push(e);return r},ot=function(t){for(var e,n=t===G,r=L(n?z:w(t)),o=[],a=0;r.length>a;)!i(q,e=r[a++])||n&&!i(G,e)||o.push(q[e]);return o};Q||(c((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor");var t=void 0===arguments[0]?void 0:String(arguments[0]),e=h(t),n=function(t){this===G&&n.call(z,t),i(this,O)&&i(this[O],e)&&(this[O][e]=!1),X(this,e,E(1,t))};return o&&Y&&X(G,e,{configurable:!0,set:n}),Z(e,t)}).prototype,"toString",(function(){return D(this).tag})),P.f=nt,T.f=tt,k.f=rt,n("XzrS").f=C.f=it,n("e1hM").f=ot,o&&(R(j.prototype,"description",{configurable:!0,get:function(){return D(this).description}}),a||c(G,"propertyIsEnumerable",nt,{unsafe:!0})),m.f=function(t){return Z(p(t),t)}),s({global:!0,wrap:!0,forced:!Q,sham:!Q},{Symbol:j});for(var at=A(W),st=0;at.length>st;)g(at[st++]);s({target:"Symbol",stat:!0,forced:!Q},{for:function(t){return i(U,t+="")?U[t]:U[t]=j(t)},keyFor:function(t){if(!J(t))throw TypeError(t+" is not a symbol");for(var e in U)if(U[e]===t)return e},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),s({target:"Object",stat:!0,forced:!Q,sham:!o},{create:function(t,e){return void 0===e?x(t):et(x(t),e)},defineProperty:tt,defineProperties:et,getOwnPropertyDescriptor:rt}),s({target:"Object",stat:!0,forced:!Q},{getOwnPropertyNames:it,getOwnPropertySymbols:ot}),F&&s({target:"JSON",stat:!0,forced:!Q||l((function(){var t=j();return"[null]"!=B([t])||"{}"!=B({a:t})||"{}"!=B(Object(t))}))},{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(_(e)||void 0!==t)&&!J(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!J(e))return e}),r[1]=e,B.apply(F,r)}}),j.prototype[V]||I(j.prototype,V,j.prototype.valueOf),f(j,"Symbol"),u[O]=!0},SnNh:function(t,e){angular.module("castifyExt.ui.share",["ngMaterial","cf2.chromeStorageService","w69b.spawn","cf2.uploader","cf2.userAccount","castifyExt.ui.youtubeChannelChooser","castifyExt.ui.connectAppChooser","castifyExt.ui.loadingOverlay","castifyExt.ui.privacyPicker","castifyExt.ui.share.shareUtils","castifyExt.connect.connectService"]).controller("ShareDialogCtrl",["$scope","cf2ChromeStorageService","cf2UploaderService","$q","$log","userAccount","connectService","$mdDialog","$mdToast","shareUtils","spawn",function(t,e,n,r,i,o,a,s,c,u,l){var d,f="uploadOptions";t.options={youtubeChannelId:null},t.me={},t.$mdDialog=s;var h,p={drive:{target:"drive"},youtube:{target:"youtube"},connect:{target:"connect"}},m=!1;function g(t){return t&&-1===t.status&&!m&&c.show(c.simple({position:"top right"}).content("Failed to load data, please check your network connection.")),m=!0,r.reject(t)}function v(){var n=t.options;if(n.connectApp){var r=n.connectApp;n.connectApp={id:r.id,title:r.title}}var i={target:n.target,privacy:n.privacy,youtubeChannelId:n.youtubeChannelId,connectApp:n.connectApp};return h=i,e.local.setSingle(f,i)}function y(){var n=t.options,r=angular.extend({},h,{target:n.target,privacy:n.privacy});return h=r,e.local.setSingle(f,r)}function b(e){e.shareLink=u.isLinkShareable(e.privacy)?u.getLink(t.file,e.target):null}function _(){var e=t.file,n=p,o=[];n.drive.uploaded=!1,n.youtube.uploaded=!1,n.drive.shareLink=null,n.youtube.shareLink=null,e.isSynced&&(n.drive.uploaded=!0),e.driveInfo&&o.push(u.getPrivacy(e,"drive").then((function(t){n.drive.uploaded=!0,n.drive.privacy=t,b(n.drive)})).catch(g));var a=t.options.youtubeChannelId;const s=l.wrap((function*(){let t;try{t=yield u.getPrivacy(e,"youtube",a)}catch(r){i.info("failed to fetch file from yt, making a guess"),t="unlisted"}n.youtube.uploaded=!0,n.youtube.privacy=t,b(n.youtube)}));return e.youtubeInfo&&a&&o.push(r.when(s())),r.all(o)}function w(e,n){return n||(n="loading"),t[n]=!0,e.finally((function(){t[n]=!1})),e}function S(t,e){var n=p[t];n.privacy=e,b(n)}t.file.youtubeInfo&&t.file.youtubeInfo.channelId&&(t.options.youtubeChannelId=t.file.youtubeInfo.channelId),e.local.getSingle(f).then((function(e){h=e=e||{target:"youtube",privacy:"public"},t.options.target=e.target,t.options.youtubeChannelId||(t.options.youtubeChannelId=e.youtubeChannelId),t.options.connectApp=e.connectApp,d=e.privacy,t.$watch((function(){return n.isQueuedOrActive(t.file.id,"youtube")}),(function(t){p.youtube.uploading=t})),t.$watch("file.driveInfo.id",(function(t,e){t!==e&&w(_())})),t.$watch("file.youtubeInfo.id",(function(t,e){t!==e&&w(_())})),t.$watch((function(){return n.getTargetState(t.file.id,"drive")}),(function(t){p.drive.uploadState=t})),t.$watch((function(){return n.getTargetState(t.file.id,"youtube")}),(function(t){p.youtube.uploadState=t})),t.$watch((function(){return n.isQueuedOrActive(t.file.id,"drive")}),(function(t,e){p.drive.uploading=t,e&&!t&&w(_())})),t.$watch("options.youtubeChannelId",(function(){w(_())})),t.$watch((function(){var e=t.options.target;return{target:e,status:p[e]}}),(function(){var e=p[t.options.target];t.fileStatus=e,t.options.privacy=e.uploaded?e.privacy:d}),!0)})),o.getAccount().then((function(e){e.user&&e.user.me&&(t.me=e.user.me)})),t.upload=function(){var e=t.options;if("connect"==e.target)return function(){v();var e=a.share(t.options.connectApp.id,t.file.id);s.hide(!0),e.catch((function(t){i.warn(t)}))}();v();var n=u.upload(t.file,{target:e.target,privacy:e.privacy,domain:t.me.domain,channelId:e.youtubeChannelId});w(n),n.then((function(){s.hide(!0)}))},t.enableLinkSharing=function(){var e,n=t.fileStatus,r={privacy:n.privacy,target:n.target,channelId:t.options.youtubeChannelId};n.uploaded?e=u.enableLinkSharing(t.file,r).then((function(e){S(r.target,e.privacy),t.copyLink()})):(r.privacy="unlisted",e=u.upload(t.file,r)),e.then(y),w(e)},t.savePrivacy=function(e){if(t.fileStatus.uploaded){t.options.privacy=e;var n=l((function*(){const e={target:t.options.target,privacy:t.options.privacy,channelId:t.options.youtubeChannelId},n=yield u.setPrivacy(t.file,e);return S(e.target,n)}));n.then(y),w(n,"savingPrivacy"),n.catch((function(e){_(),i.warn("failed to set privacy",e);var n="Failed to update your privacy setting. ";t.me.domain&&(n+=" Your domain administrator might have disabled some sharing options."),c.show(c.simple({hideDelay:5e3,position:"top right"}).content(n))}))}},t.copyLink=function(){u.copyLink(t.fileStatus.shareLink,{position:"top right"})},t.isValid=function(){var e=t.options;return!t.loading&&("youtube"!==e.target||e.youtubeChannelId)&&("connect"!==e.target||e.connectApp)}}])},SqYg:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV");e.defaultIfEmpty=function(t){return void 0===t&&(t=null),function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.defaultValue))},t}(),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(i.Subscriber)},Ss0U:function(t,e,n){var r=n("yECB"),i=n("LzYd");t.exports=function(t){return r(i(t))}},TQWX:function(t,e){angular.module("castifyEdit.ui.videoControls",["w69b.throttle"]).directive("cfVideoControls",["$document","throttle",function(t,e){return{restrict:"E",templateUrl:"components/castifyEdit/ui/video-controls/video-controls.html",scope:{previewCtrl:"="},link:function(t){t.play=function(){t.previewCtrl.play()},t.pause=function(){t.previewCtrl.pause()}}}}])},TSVP:function(t,e){angular.module("castifyExt.syncDownloaderClient",["castifyExt.backgroundTool"]).factory("syncDownloaderClient",["backgroundTool","$timeout",function(t,e){var n,r=t.portHelper("syncDownloader",!1),i={downloads:{}};return r.installHandlers({downloads:function(t){angular.copy(t,i.downloads),n&&e.cancel(n),n=null,Object.keys(t).length&&(n=e(i.update,1e3))}}),i.update=function(){r.postMessage("update")},i}])},"U/Wa":function(t,e){angular.module("castifyExt.ui.topnav",["ngMaterial"]).component("cfTopnav",{transclude:!0,bindings:{popupMode:"@",parentState:"@",onGoUp:"&?",showMenu:"@"},templateUrl:"components/castifyExt/ui/topnav/topnav.html",controller:function(){var t=this;t.$onChanges=function(){t.popupMode=angular.isDefined(t.popupMode)}}})},UDNL:function(t,e,n){t.exports=n("M5Hp")},UPWm:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.QueueAction=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(n("vU7N").AsyncAction)},Ua55:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o,a,s,c,u,l,d,f,h,p,m=(r=n("plFh"))&&"object"==typeof r&&"default"in r?r.default:r,g=n("Pa2V"),v=n("82Ps"),y=n("Gjt8"),b=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),v.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:v.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),_=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return v.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),w=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new b(e)}}catch(n){}return new _},S=w("localStorage"),E=w("sessionStorage"),x=new y.Logger("@firebase/database"),C=(i=1,function(){return i++}),k=function(t){var e=v.stringToByteArray(t),n=new v.Sha1;n.update(e);var r=n.digest();return v.base64.encodeByteArray(r)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++)Array.isArray(t[r])||t[r]&&"object"==typeof t[r]&&"number"==typeof t[r].length?n+=T.apply(null,t[r]):n+="object"==typeof t[r]?v.stringify(t[r]):t[r],n+=" ";return n},P=null,I=!0,A=function(t,e){v.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(x.logLevel=y.LogLevel.VERBOSE,P=x.log.bind(x),e&&E.set("logging_enabled",!0)):"function"==typeof t?P=t:(P=null,E.remove("logging_enabled"))},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===I&&(I=!1,null===P&&!0===E.get("logging_enabled")&&A(!0)),P){var n=T.apply(null,t);P(n)}},$=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];O.apply(void 0,[t].concat(e))}},M=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+T.apply(void 0,t);x.error(n)},D=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+T.apply(void 0,t);throw x.error(n),new Error(n)},N=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+T.apply(void 0,t);x.warn(n)},R=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},L="[MIN_NAME]",j="[MAX_NAME]",F=function(t,e){if(t===e)return 0;if(t===L||e===j)return-1;if(e===L||t===j)return 1;var n=G(t),r=G(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},B=function(t,e){return t===e?0:t<e?-1:1},V=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+v.stringify(e))},H=function(t){if("object"!=typeof t||null===t)return v.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=v.stringify(e[i]),r+=":",r+=H(t[e[i]]);return r+"}"},U=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r},q=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;++n)e(n,t[n]);else v.forEach(t,(function(t,n){return e(n,t)}))},z=function(t){var e,n,r,i,o,a,s;for(v.assert(!R(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074)))),a=[],o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse(),s=a.join("");var c="";for(o=0;o<64;o+=8){var u=parseInt(s.substr(o,8),2).toString(16);1===u.length&&(u="0"+u),c+=u}return c.toLowerCase()},W=new RegExp("^-?\\d{1,10}$"),G=function(t){if(W.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},K=function(t){try{t()}catch(e){setTimeout((function(){throw N("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},Q=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Y=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},X=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=F(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),Z=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=v.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=v.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=v.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),J="long_polling",tt=function(){function t(t,e,n,r,i){void 0===i&&(i=""),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=S.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&S.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(v.assert("string"==typeof t,"typeof type must == string"),v.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==J)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return v.forEach(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),et=function(t){var e=nt(t),n=e.subdomain;return"firebase"===e.domain&&D(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||D("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&N("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tt(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme),path:new X(e.pathString)}},nt=function(t){var e="",n="",r="",i="",o=!0,a="https",s=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));var u=t.indexOf("/");-1===u&&(u=t.length);var l=t.indexOf("?");-1===l&&(l=t.length),e=t.substring(0,Math.min(u,l)),u<l&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(u,l)));var d=function(t){var e={};"?"===t.charAt(0)&&(t=t.substring(1));for(var n=0,r=t.split("&");n<r.length;n++){var i=r[n];if(0!==i.length){var o=i.split("=");2===o.length?e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):N("Invalid query segment '"+i+"' in query '"+t+"'")}}return e}(t.substring(Math.min(t.length,l)));(c=e.indexOf(":"))>=0?(o="https"===a||"wss"===a,s=parseInt(e.substring(c+1),10)):c=t.length;var f=e.split(".");3===f.length?(n=f[1],r=f[0].toLowerCase()):2===f.length?n=f[0]:"localhost"===f[0].slice(0,c).toLowerCase()&&(n="localhost"),""===r&&"ns"in d&&(r=d.ns)}return{host:e,port:s,domain:n,subdomain:r,secure:o,scheme:a,pathString:i}},rt=/[\[\].#$\/\u0000-\u001F\u007F]/,it=/[\[\].#$\u0000-\u001F\u007F]/,ot=function(t){return"string"==typeof t&&0!==t.length&&!rt.test(t)},at=function(t){return"string"==typeof t&&0!==t.length&&!it.test(t)},st=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!R(t)||t&&"object"==typeof t&&v.contains(t,".sv")},ct=function(t,e,n,r,i){i&&void 0===n||ut(v.errorPrefix(t,e,i),n,r)},ut=function(t,e,n){var r=n instanceof X?new Z(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(R(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&v.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(v.forEach(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!ot(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),ut(t,n,r),r.pop()})),i&&o)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},lt=function(t,e,n,r,i){if(!i||void 0!==n){var o=v.errorPrefix(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];v.forEach(n,(function(t,e){var n=new X(t);if(ut(o,e,r.child(n)),".priority"===n.getBack()&&!st(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ot(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(X.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,a)}},dt=function(t,e,n,r){if(!r||void 0!==n){if(R(n))throw new Error(v.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!st(n))throw new Error(v.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ft=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(v.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ht=function(t,e,n,r){if(!(r&&void 0===n||ot(n)))throw new Error(v.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},pt=function(t,e,n,r){if(!(r&&void 0===n||at(n)))throw new Error(v.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},mt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),pt(t,e,n,r)},gt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},vt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ot(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),at(t)}(r))throw new Error(v.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},yt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(v.errorPrefix(t,e,r)+"must be a boolean.")},bt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){v.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),v.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new v.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){v.validateArgCount("OnDisconnect.remove",0,1,arguments.length),gt("OnDisconnect.remove",this.path_),v.validateCallback("OnDisconnect.remove",1,t,!0);var e=new v.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){v.validateArgCount("OnDisconnect.set",1,2,arguments.length),gt("OnDisconnect.set",this.path_),ct("OnDisconnect.set",1,t,this.path_,!1),v.validateCallback("OnDisconnect.set",2,e,!0);var n=new v.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){v.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),gt("OnDisconnect.setWithPriority",this.path_),ct("OnDisconnect.setWithPriority",1,t,this.path_,!1),dt("OnDisconnect.setWithPriority",2,e,!1),v.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new v.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(v.validateArgCount("OnDisconnect.update",1,2,arguments.length),gt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,N("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}lt("OnDisconnect.update",1,t,this.path_,!1),v.validateCallback("OnDisconnect.update",2,e,!0);var i=new v.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),_t=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return v.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),wt=(o="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",a=0,s=[],function(t){var e,n=t===a;a=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=o.charAt(t%64),t=Math.floor(t/64);v.assert(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===s[e];e--)s[e]=0;s[e]++}else for(e=0;e<12;e++)s[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=o.charAt(s[e]);return v.assert(20===i.length,"nextPushId: Length should be 20."),i}),St=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Et=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new St(L,t),r=new St(L,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return St.MIN},t}(),xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return c},set:function(t){c=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return F(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw v.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return St.MIN},e.prototype.maxPost=function(){return new St(j,c)},e.prototype.makePost=function(t,e){return v.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new St(t,c)},e.prototype.toString=function(){return".key"},e}(Et),Ct=new xt,kt=function(t){return"number"==typeof t?"number:"+z(t):"string:"+t},Tt=function(t){if(t.isLeafNode()){var e=t.val();v.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&v.contains(e,".sv"),"Priority must be a string or number.")}else v.assert(t===u||t.isEmpty(),"priority of unexpected type.");v.assert(t===u||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Pt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,v.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Tt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return l},set:function(t){l=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(v.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+kt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?z(this.value_):this.value_,this.lazyHash_=k(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(v.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return v.assert(i>=0,"Unknown leaf type: "+n),v.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),It=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?F(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return St.MIN},e.prototype.maxPost=function(){return new St(j,new Pt("[PRIORITY-POST]",f))},e.prototype.makePost=function(t,e){var n=d(t);return new St(e,new Pt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Et)),At=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ot=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Mt.EMPTY_NODE,this.right=null!=o?o:Mt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,i;return(i=(r=n(t,(i=this).key))<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Mt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Mt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),$t=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ot(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Mt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ot.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ot.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new At(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new At(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new At(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new At(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new $t,t}(),Dt=Math.log(2),Nt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Dt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Rt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0==s)return null;if(1==s)return o=t[e],a=n?n(o):o,new Ot(a,o.node,Ot.BLACK,null,null);var c=parseInt(s/2,10)+e,u=i(e,c),l=i(c+1,r);return o=t[c],a=n?n(o):o,new Ot(a,o.node,Ot.BLACK,u,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var u=i(o+1,s),l=t[o],d=n?n(l):l;c(new Ot(d,l.node,r,null,u))},c=function(t){r?(r.left=t,r=t):(o=t,r=t)},u=0;u<e.count;++u){var l=e.nextBitIsOne(),d=Math.pow(2,e.count-(u+1));l?s(d,Ot.BLACK):(s(d,Ot.BLACK),s(d,Ot.RED))}return o}(new Nt(t.length));return new Mt(r||e,o)},Lt={},jt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return v.assert(Lt&&It,"ChildrenNode.ts has not been loaded"),h=h||new t({".priority":Lt},{".priority":It})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=v.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===Lt?null:e},t.prototype.hasIndex=function(t){return v.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){v.assert(e!==Ct,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,a=n.getIterator(St.Wrap),s=a.getNext();s;)o=o||e.isDefinedOn(s.node),i.push(s),s=a.getNext();r=o?Rt(i,e.getCompare()):Lt;var c=e.toString(),u=v.clone(this.indexSet_);u[c]=e;var l=v.clone(this.indexes_);return l[c]=r,new t(l,u)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(v.map(this.indexes_,(function(t,i){var o=v.safeGet(r.indexSet_,i);if(v.assert(o,"Missing index implementation for "+i),t===Lt){if(o.isDefinedOn(e.node)){for(var a=[],s=n.getIterator(St.Wrap),c=s.getNext();c;)c.name!=e.name&&a.push(c),c=s.getNext();return a.push(e),Rt(a,o.getCompare())}return Lt}var u=n.get(e.name),l=t;return u&&(l=l.remove(new St(e.name,u))),l.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(v.map(this.indexes_,(function(t){if(t===Lt)return t;var r=n.get(e.name);return r?t.remove(new St(e.name,r)):t})),this.indexSet_)},t}();function Ft(t,e){return F(t.name,e.name)}function Bt(t,e){return F(t,e)}var Vt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Tt(this.priorityNode_),this.children_.isEmpty()&&v.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return p||(p=new t(new Mt(Bt),null,jt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||p},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?p:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(v.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r,i=new St(e,n),o=void 0,a=void 0;return n.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_)),r=o.isEmpty()?p:this.priorityNode_,new t(o,r,a)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;v.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(It,(function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+kt(this.getPriority().val())+":"),this.forEachChild(It,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":k(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new St(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new St(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new St(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,St.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,St.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ht?-1:0},t.prototype.withIndex=function(e){if(e===Ct||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Ct||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(It),r=e.getIterator(It),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Ct?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Ht=new(function(t){function e(){return t.call(this,new Mt(Bt),Vt.EMPTY_NODE,jt.Default)||this}return g.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Vt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Vt));Object.defineProperties(St,{MIN:{value:new St(L,Vt.EMPTY_NODE)},MAX:{value:new St(j,Ht)}}),xt.__EMPTY_NODE=Vt.EMPTY_NODE,Pt.__childrenNodeConstructor=Vt,u=Ht,function(t){f=t}(Ht);var Ut=!0;function qt(t,e){if(void 0===e&&(e=null),null===t)return Vt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),v.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Pt(t,qt(e));if(t instanceof Array||!Ut){var n=Vt.EMPTY_NODE,r=t;return v.forEach(r,(function(t,e){if(v.contains(r,t)&&"."!==t.substring(0,1)){var i=qt(e);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(qt(e))}var i=[],o=!1,a=t;if(v.forEach(a,(function(t,e){if("string"!=typeof t||"."!==t.substring(0,1)){var n=qt(a[t]);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),i.push(new St(t,n)))}})),0==i.length)return Vt.EMPTY_NODE;var s=Rt(i,Ft,(function(t){return t.name}),Bt);if(o){var c=Rt(i,It.getCompare());return new Vt(s,qt(e),new jt({".priority":c},{".priority":It}))}return new Vt(s,qt(e),jt.Default)}!function(t){d=t}(qt);var zt,Wt,Gt,Kt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?F(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return St.MIN},e.prototype.maxPost=function(){return St.MAX},e.prototype.makePost=function(t,e){var n=qt(t);return new St(e,n)},e.prototype.toString=function(){return".value"},e}(Et)),Qt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,v.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return g.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?F(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=qt(t),r=Vt.EMPTY_NODE.updateChild(this.indexPath_,n);return new St(e,r)},e.prototype.maxPost=function(){var t=Vt.EMPTY_NODE.updateChild(this.indexPath_,Ht);return new St(j,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Et),Yt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return v.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return v.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return v.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return v.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){v.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),pt("DataSnapshot.child",1,e,!1);var n=new X(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,It)},t.prototype.hasChild=function(t){v.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),pt("DataSnapshot.hasChild",1,t,!1);var e=new X(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return v.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(v.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),v.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),It))}))},t.prototype.hasChildren=function(){return v.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return v.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return v.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Xt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+v.stringify(this.snapshot.exportVal())},t}(),Zt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Jt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Xt("value",this,new Yt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){v.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Zt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),te=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return v.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Zt(this,t,e):null},t.prototype.createEvent=function(t,e){v.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Xt(t.type,this,new Yt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){v.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var n=v.getCount(e.callbacks_);if(n===v.getCount(this.callbacks_)){if(1===n){var r=v.getAnyKey(e.callbacks_),i=v.getAnyKey(this.callbacks_);return!(i!==r||e.callbacks_[r]&&this.callbacks_[i]&&e.callbacks_[r]!==this.callbacks_[i])}return v.every(this.callbacks_,(function(t,n){return e.callbacks_[t]===n}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),ee=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return v.assert(zt,"Reference.ts has not been loaded"),zt},set:function(t){zt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ct){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=L)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!=j)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===It){if(null!=e&&!st(e)||null!=n&&!st(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(v.assert(t.getIndex()instanceof Qt||t.getIndex()===Kt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return v.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){v.validateArgCount("Query.on",2,4,arguments.length),ft("Query.on",1,e,!1),v.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[e]=n,this.onChildEvent(a,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Jt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new te(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){v.validateArgCount("Query.off",0,3,arguments.length),ft("Query.off",1,t,!0),v.validateCallback("Query.off",2,e,!0),v.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var o=e||null;r=new Jt(o,null,n||null)}else t&&(e&&((i={})[t]=e),r=new te(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;v.validateArgCount("Query.once",1,4,arguments.length),ft("Query.once",1,e,!1),v.validateCallback("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),s=!0,c=new v.Deferred;c.promise.catch((function(){}));var u=function(t){s&&(s=!1,o.off(e,u),n&&n.bind(a.context)(t),c.resolve(t))};return this.on(e,u,(function(t){o.off(e,u),a.cancel&&a.cancel.bind(a.context)(t),c.reject(t)})),c.promise},t.prototype.limitToFirst=function(e){if(v.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(v.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(v.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');pt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new X(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Qt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){v.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Ct);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){v.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(It);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){v.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Kt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),v.validateArgCount("Query.startAt",0,2,arguments.length),ct("Query.startAt",1,e,this.path,!0),ht("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),v.validateArgCount("Query.endAt",0,2,arguments.length),ct("Query.endAt",1,e,this.path,!0),ht("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(v.validateArgCount("Query.equalTo",1,2,arguments.length),ct("Query.equalTo",1,t,this.path,!1),ht("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return v.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return v.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=H(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(v.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,v.validateCallback(t,3,r.cancel,!0),r.context=n,v.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(v.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),ne=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return v.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return v.isEmpty(this.set)},t.prototype.count=function(){return v.getCount(this.set)},t.prototype.each=function(t){v.forEach(this.set,(function(e,n){return t(e,n)}))},t.prototype.keys=function(){var t=[];return v.forEach(this.set,(function(e){t.push(e)})),t},t}(),re=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(t){if(null!=this.value_)return this.value_.getChild(t);if(t.isEmpty()||null==this.children_)return null;var e=t.getFront();return t=t.popFront(),this.children_.contains(e)?this.children_.get(e).find(t):null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,n);else{null==this.children_&&(this.children_=new ne);var r=e.getFront();this.children_.contains(r)||this.children_.add(r,new t);var i=this.children_.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var n=this;return e.forEachChild(It,(function(t,e){n.remember(new X(t),e)})),this.forget(t)}if(null!==this.children_){var r=t.getFront();return t=t.popFront(),this.children_.contains(r)&&this.children_.get(r).forget(t)&&this.children_.remove(r),!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild((function(n,r){var i=new X(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each((function(e,n){t(e,n)}))},t}(),ie=function(t,e){return t&&"object"==typeof t?(v.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},oe=function(t,e){var n,r=t.getPriority().val(),i=ie(r,e);if(t.isLeafNode()){var o=t,a=ie(o.getValue(),e);return a!==o.getValue()||i!==o.getPriority().val()?new Pt(a,qt(i)):t}var s=t;return n=s,i!==s.getPriority().val()&&(n=n.updatePriority(new Pt(i))),s.forEachChild(It,(function(t,r){var i=oe(r,e);i!==r&&(n=n.updateImmediateChild(t,i))})),n},ae=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),se=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,v.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ce=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ae.ACK_USER_WRITE,this.source=se.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return v.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new X(e));return new t(X.Empty,n,this.revert)}return v.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),ue=function(){return Wt||(Wt=new Mt(B)),Wt},le=function(){function t(t,e){void 0===e&&(e=ue()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return v.forEach(e,(function(t,e){n=n.set(new X(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:X.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new X(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(X.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,X.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,X.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(X.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),de=function(){function t(t,e){this.source=t,this.path=e,this.type=ae.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty):new t(this.source,this.path.popFront())},t}(),fe=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ae.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),he=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ae.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new X(e));return n.isEmpty()?null:n.value?new fe(this.source,X.Empty,n.value):new t(this.source,X.Empty,n)}return v.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),pe=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),me=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new pe(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new pe(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new pe(Vt.EMPTY_NODE,!1,!1),new pe(Vt.EMPTY_NODE,!1,!1)),t}(),ge=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),ve=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){v.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()==n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(ge.childRemovedChange(e,a)):v.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ge.childAddedChange(e,n)):o.trackChildChange(ge.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(It,(function(t,r){e.hasChild(t)||n.trackChildChange(ge.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(It,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ge.childChangedChange(e,r,i))}else n.trackChildChange(ge.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Vt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ye=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;v.assert(e==ge.CHILD_ADDED||e==ge.CHILD_CHANGED||e==ge.CHILD_REMOVED,"Only child changes supported for tracking"),v.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=v.safeGet(this.changeMap_,n);if(r){var i=r.type;if(e==ge.CHILD_ADDED&&i==ge.CHILD_REMOVED)this.changeMap_[n]=ge.childChangedChange(n,t.snapshotNode,r.snapshotNode);else if(e==ge.CHILD_REMOVED&&i==ge.CHILD_ADDED)delete this.changeMap_[n];else if(e==ge.CHILD_REMOVED&&i==ge.CHILD_CHANGED)this.changeMap_[n]=ge.childRemovedChange(n,r.oldSnap);else if(e==ge.CHILD_CHANGED&&i==ge.CHILD_ADDED)this.changeMap_[n]=ge.childAddedChange(n,t.snapshotNode);else{if(e!=ge.CHILD_CHANGED||i!=ge.CHILD_CHANGED)throw v.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap_[n]=ge.childChangedChange(n,t.snapshotNode,r.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return v.getValues(this.changeMap_)},t}(),be=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),_e=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new pe(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),we=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),Se=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){v.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),v.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,a,s=new ye;if(n.type===ae.OVERWRITE){var c=n;c.source.fromUser?o=this.applyUserOverwrite_(e,c.path,c.snap,r,i,s):(v.assert(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.getServerCache().isFiltered()&&!c.path.isEmpty(),o=this.applyServerOverwrite_(e,c.path,c.snap,r,i,a,s))}else if(n.type===ae.MERGE){var u=n;u.source.fromUser?o=this.applyUserMerge_(e,u.path,u.children,r,i,s):(v.assert(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,u.path,u.children,r,i,a,s))}else if(n.type===ae.ACK_USER_WRITE){var l=n;o=l.revert?this.revertUserWrite_(e,l.path,r,i,s):this.ackUserWrite_(e,l.path,l.affectedTree,r,i,s)}else{if(n.type!==ae.LISTEN_COMPLETE)throw v.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,s)}var d=s.getChanges();return t.maybeAddValueEvent_(e,o,d),new we(o,d)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ge.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,s=void 0;if(e.isEmpty())if(v.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var c=t.getCompleteServerSnap(),u=n.calcCompleteEventChildren(c instanceof Vt?c:Vt.EMPTY_NODE);a=this.filter_.updateFullNode(t.getEventCache().getNode(),u,i)}else{var l=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var d=e.getFront();if(".priority"==d){v.assert(1==e.getLength(),"Can't have a priority with additional path components");var f=o.getNode();s=t.getServerCache().getNode();var h=n.calcEventCacheAfterServerOverwrite(e,f,s);a=null!=h?this.filter_.updatePriority(f,h):o.getNode()}else{var p=e.popFront(),m=void 0;if(o.isCompleteForChild(d)){s=t.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),s);m=null!=g?o.getNode().getImmediateChild(d).updateChild(p,g):o.getNode().getImmediateChild(d)}else m=n.calcCompleteChild(d,t.getServerCache());a=null!=m?this.filter_.updateChild(o.getNode(),d,m,p,r,i):o.getNode()}}return t.updateEventSnap(a,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,c=t.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=u.updateFullNode(c.getNode(),n,null);else if(u.filtersNodes()&&!c.isFiltered()){var l=c.getNode().updateChild(e,n);s=u.updateFullNode(c.getNode(),l,null)}else{var d=e.getFront();if(!c.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),h=c.getNode().getImmediateChild(d).updateChild(f,n);s=".priority"==d?u.updatePriority(c.getNode(),h):u.updateChild(c.getNode(),d,h,f,be,null)}var p=t.updateServerSnap(s,c.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),m=new _e(r,p,i);return this.generateEventCacheAfterServerEvent_(p,e,r,m,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,c=t.getEventCache(),u=new _e(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,c.isFullyInitialized(),c.isFiltered());else{var d=e.popFront(),f=c.getNode().getImmediateChild(l),h=void 0;if(d.isEmpty())h=n;else{var p=u.getCompleteChild(l);h=null!=p?".priority"===d.getBack()&&p.getChild(d.parent()).isEmpty()?p:p.updateChild(d,n):Vt.EMPTY_NODE}if(f.equals(h))a=t;else{var m=this.filter_.updateChild(c.getNode(),l,h,d,u,o);a=t.updateEventSnap(m,c.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,c=e;return r.foreach((function(r,u){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(c=s.applyUserOverwrite_(c,l,u,i,o,a))})),r.foreach((function(r,u){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(c=s.applyUserOverwrite_(c,l,u,i,o,a))})),c},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var c,u=t;c=e.isEmpty()?n:le.Empty.setTree(e,n);var l=t.getServerCache().getNode();return c.children.inorderTraversal((function(e,n){if(l.hasChild(e)){var c=t.getServerCache().getNode().getImmediateChild(e),d=s.applyMerge_(c,n);u=s.applyServerOverwrite_(u,new X(e),d,r,i,o,a)}})),c.children.inorderTraversal((function(e,n){var c=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!c){var d=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(d,n);u=s.applyServerOverwrite_(u,new X(e),f,r,i,o,a)}})),u},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var c=le.Empty;return s.getNode().forEachChild(Ct,(function(t,e){c=c.set(new X(t),e)})),this.applyServerMerge_(t,e,c,r,i,a,o)}return t}var u=le.Empty;return n.foreach((function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(u=u.set(t,s.getNode().getChild(r)))})),this.applyServerMerge_(t,e,u,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,be,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a=new _e(n,t,r),s=t.getEventCache().getNode(),c=void 0;if(e.isEmpty()||".priority"===e.getFront()){var u=void 0;if(t.getServerCache().isFullyInitialized())u=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var l=t.getServerCache().getNode();v.assert(l instanceof Vt,"serverChildren would be complete if leaf node"),u=n.calcCompleteEventChildren(l)}c=this.filter_.updateFullNode(s,u=u,i)}else{var d=e.getFront(),f=n.calcCompleteChild(d,t.getServerCache());null==f&&t.getServerCache().isCompleteForChild(d)&&(f=s.getImmediateChild(d)),(c=null!=f?this.filter_.updateChild(s,d,f,e.popFront(),a,i):t.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(s,d,Vt.EMPTY_NODE,e.popFront(),a,i):s).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(X.Empty),t.updateEventSnap(c,o,this.filter_.filtersNodes())},t}(),Ee=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===ge.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(ge.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,ge.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,ge.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,ge.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,ge.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,ge.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter((function(t){return t.type===e}));a.sort(this.compareChanges_.bind(this)),a.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw v.assertionError("Should only compare child_ events.");var n=new St(t.childName,t.snapshotNode),r=new St(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),xe=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new ve(n.getIndex()),i=n.getNodeFilter();this.processor_=new Se(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(Vt.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(Vt.EMPTY_NODE,a.getNode(),null),u=new pe(s,o.isFullyInitialized(),r.filtersNodes()),l=new pe(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new me(l,u),this.eventGenerator_=new Ee(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){v.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)}))}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ae.MERGE&&null!==t.source.queryId&&(v.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),v.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),v.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(It,(function(t,e){n.push(ge.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(ge.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Ce=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return v.assert(Gt,"Reference.ts has not been loaded"),Gt},set:function(t){v.assert(!Gt,"__referenceConstructor has already been defined"),Gt=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return v.isEmpty(this.views_)},t.prototype.applyOperation=function(t,e,n){var r=t.source.queryId;if(null!==r){var i=v.safeGet(this.views_,r);return v.assert(null!=i,"SyncTree gave us an op for an invalid query."),i.applyOperation(t,e,n)}var o=[];return v.forEach(this.views_,(function(r,i){o=o.concat(i.applyOperation(t,e,n))})),o},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=v.safeGet(this.views_,o);if(!a){var s=n.calcCompleteEventCache(i?r:null),c=!1;s?c=!0:r instanceof Vt?(s=n.calcCompleteEventChildren(r),c=!1):(s=Vt.EMPTY_NODE,c=!1);var u=new me(new pe(s,c,!1),new pe(r,i,!1));a=new xe(t,u),this.views_[o]=a}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i=e.queryIdentifier(),o=[],a=[],s=this.hasCompleteView();if("default"===i){var c=this;v.forEach(this.views_,(function(t,e){a=a.concat(e.removeEventRegistration(n,r)),e.isEmpty()&&(delete c.views_[t],e.getQuery().getQueryParams().loadsAllData()||o.push(e.getQuery()))}))}else{var u=v.safeGet(this.views_,i);u&&(a=a.concat(u.removeEventRegistration(n,r)),u.isEmpty()&&(delete this.views_[i],u.getQuery().getQueryParams().loadsAllData()||o.push(u.getQuery())))}return s&&!this.hasCompleteView()&&o.push(new t.__referenceConstructor(e.repo,e.path)),{removed:o,events:a}},t.prototype.getQueryViews=function(){var t=this;return Object.keys(this.views_).map((function(e){return t.views_[e]})).filter((function(t){return!t.getQuery().getQueryParams().loadsAllData()}))},t.prototype.getCompleteServerCache=function(t){var e=null;return v.forEach(this.views_,(function(n,r){e=e||r.getCompleteServerCache(t)})),e},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return v.safeGet(this.views_,e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){return v.findValue(this.views_,(function(t){return t.getQuery().getQueryParams().loadsAllData()}))||null},t}(),ke=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new le(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=X.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new le(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return v.forEach(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,le.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(X.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(It,(function(e,n){t.push(new St(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new St(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new le(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_(X.Empty,this.writeTree_,e)},t.Empty=new t(new le(null)),t.applySubtreeWrite_=function(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(v.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t.applySubtreeWrite_(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r},t}(),Te=function(){function t(){this.visibleWrites_=ke.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Pe(t,this)},t.prototype.addOverwrite=function(t,e,n,r){v.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){v.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));v.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&a>=0;){var s=this.allWrites_[a];s.visible&&(a>=n&&this.recordContainsPath_(s,r.path)?i=!1:r.path.contains(s.path)&&(o=!0)),a--}return!!i&&(o?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):v.forEach(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(X.Empty)?t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e).apply(n||Vt.EMPTY_NODE):null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var s=this.visibleWrites_.childCompoundWrite(e);return s.isEmpty()?n:null!=n||s.hasCompleteWrite(X.Empty)?s.apply(n||Vt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Vt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(It,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(It,(function(t,e){var r=i.childCompoundWrite(new X(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){v.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),c=s.getCompleteNode(X.Empty);if(null!=c)a=c;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var u=[],l=o.getCompare(),d=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=d.getNext();f&&u.length<r;)0!==l(f,n)&&u.push(f),f=d.getNext();return u},t.prototype.recordContainsPath_=function(t,e){return t.snap?t.path.contains(e):!!v.findKey(t.children,(function(n,r){return t.path.child(r).contains(e)}))},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,X.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=ke.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,s=void 0;if(o.snap)n.contains(a)?(s=X.relativePath(n,a),r=r.addWrite(s,o.snap)):a.contains(n)&&(s=X.relativePath(a,n),r=r.addWrite(X.Empty,o.snap.getChild(s)));else{if(!o.children)throw v.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))s=X.relativePath(n,a),r=r.addWrites(s,o.children);else if(a.contains(n))if((s=X.relativePath(a,n)).isEmpty())r=r.addWrites(X.Empty,o.children);else{var c=v.safeGet(o.children,s.getFront());if(c){var u=c.getChild(s.popFront());r=r.addWrite(X.Empty,u)}}}}}return r},t}(),Pe=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Ie=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=le.Empty,this.pendingWriteTree_=new Te,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new fe(se.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=le.fromObject(e);return this.applyOperationToSyncPoints_(new he(se.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=le.Empty;return null!=n.snap?r=r.set(X.Empty,!0):v.forEach(n.children,(function(t,e){r=r.set(new X(t),e)})),this.applyOperationToSyncPoints_(new ce(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new fe(se.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=le.fromObject(e);return this.applyOperationToSyncPoints_(new he(se.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new de(se.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,c=X.relativePath(a,e),u=new fe(se.forServerTaggedQuery(s),c,n);return this.applyTaggedOperation_(a,u)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,c=X.relativePath(a,e),u=le.fromObject(n),l=new he(se.forServerTaggedQuery(s),c,u);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=X.relativePath(o,e),c=new de(se.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,c)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=X.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var a,s=this.syncPointTree_.get(r);s?(o=o||s.hasCompleteView(),i=i||s.getCompleteServerCache(X.Empty)):(s=new Ce,this.syncPointTree_=this.syncPointTree_.set(r,s)),null!=i?a=!0:(a=!1,i=Vt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(X.Empty);n&&(i=i.updateImmediateChild(t,n))})));var c=s.viewExistsForQuery(e);if(!c&&!e.getQueryParams().loadsAllData()){var u=t.makeQueryKey_(e);v.assert(!(u in this.queryToTagMap_),"View does not exist, but we have a tag");var l=t.getNextQueryTag_();this.queryToTagMap_[u]=l,this.tagToQueryMap_["_"+l]=u}var d=this.pendingWriteTree_.childWrites(r),f=s.addEventRegistration(e,n,d,i,a);if(!c&&!o){var h=s.viewForQuery(e);f=f.concat(this.setupListener_(e,h))}return f},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var c=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=c.removed;s=c.events;var l=-1!==u.findIndex((function(t){return t.getQueryParams().loadsAllData()})),d=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(l&&!d){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var h=this.collectDistinctViewsForSubTree_(f),p=0;p<h.length;++p){var m=h[p],g=m.getQuery(),v=this.createListenerForView_(m);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),v.hashFn,v.onComplete)}}!d&&u.length>0&&!r&&(l?this.listenProvider_.stopListening(t.queryForListening_(e),null):u.forEach((function(e){var n=i.queryToTagMap_[t.makeQueryKey_(e)];i.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(u)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=X.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),v.forEach(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap_[i];delete this.queryToTagMap_[i],delete this.tagToQueryMap_["_"+o]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),s=this.syncPointTree_.subtree(r);if(i)v.assert(!s.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=s.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),v.forEach(n,(function(t,e){r=r.concat(e)})),r})),u=0;u<c.length;++u){var l=c[u];this.listenProvider_.stopListening(t.queryForListening_(l),this.tagForQuery_(l))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Vt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return v.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new X(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return v.safeGet(this.queryToTagMap_,n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);v.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(X.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(X.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(X.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),c=e.children.get(a);if(c&&s){var u=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,c,u,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(X.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(X.Empty));var a=[];return e.children.inorderTraversal((function(e,o){var s=n?n.getImmediateChild(e):null,c=r.child(e),u=t.operationForChild(e);u&&(a=a.concat(i.applyOperationDescendantsHelper_(u,o,s,c)))})),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),Ae=function(){function t(){this.rootNode_=Vt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Oe=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,(function(t){return t&&"auth/token-not-initialized"===t.code?(O("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}))},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';N(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),$e=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),v.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return v.deepCopy(this.counters_)},t}(),Me=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new $e),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),De=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=v.clone(t);return this.last_&&v.forEach(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Ne=1e4,Re=3e4,Le=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new De(t);var n=Ne+(Re-Ne)*Math.random();Y(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;v.forEach(e,(function(e,i){i>0&&v.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),Y(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),je=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Fe(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Fe=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();P&&O("event: "+e.toString()),K(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Be=function(){function t(t){this.allowedEvents_=t,this.listeners_={},v.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=this.listeners_[t].slice(),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){v.assert(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Ve=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return g.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return v.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Be),He=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||v.isMobileCordova()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return g.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return v.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Be),Ue=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&K((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),qe="pLPCommand",ze="pRTLPCB",We=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$(t),this.stats_=Me.getCollection(e),this.urlFn=function(t){return e.connectionURL(J,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Ue(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(v.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Ge((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],i=t[1],o=t[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==r)n.id=i,n.password=o;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],i=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,i)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),!v.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI)&&!v.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=v.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=v.base64Encode(e),r=U(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!v.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=v.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Ge=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new ne,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,v.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=C(),window[qe+this.uniqueCallbackIdentifier]=e,window[ze+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(s){O("frame writing exception"),s.stack&&O(s.stack),O(s)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||O("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0))),v.isNodeSdk()&&this.myID){var n={disconn:"t"};n.id=this.myID,n.pw=this.myPW;var r=this.urlFn(n);t.nodeRestRequest(r)}var i=this.onDisconnect;i&&(this.onDisconnect=null,i())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var r=function(){n.outstandingRequests.remove(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;v.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){O("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),Ke=null;"undefined"!=typeof MozWebSocket?Ke=MozWebSocket:"undefined"!=typeof WebSocket&&(Ke=WebSocket);var Qe=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$(this.connId),this.stats_=Me.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!v.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,S.set("previous_websocket_failure",!0);try{if(v.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+m.SDK_VERSION+"/"+process.platform+"/"+(v.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},i=process.env,o=0==this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;o&&(r.proxy={origin:o}),this.mySock=new Ke(this.connURL,[],r)}else this.mySock=new Ke(this.connURL)}catch(s){this.log_("Error instantiating WebSocket.");var a=s.message||s.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ke&&!t.forceDisallow_},t.previouslyFailed=function(){return S.isInMemoryStorage||!0===S.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){S.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=v.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(v.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=v.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=U(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ye=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[We,Qe]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n=Qe&&Qe.isAvailable(),r=n&&!Qe.previouslyFailed();if(e.webSocketOnly&&(n||N("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Qe];else{var i=this.transports_=[];q(t.ALL_TRANSPORTS,(function(t,e){e&&e.isAvailable()&&i.push(e)}))}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Xe=function(){function t(t,e,n,r,i,o,a){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$("c:"+this.id+":"),this.transportManager_=new Ye(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Y((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=V("t",t),n=V("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=V("t",t),n=V("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=V("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?M("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):M("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&N("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Y((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Y((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(S.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Ze=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Je=1e3,tn=3e5,en=function(t){function e(n,r,i,o,a,s){var c=t.call(this)||this;if(c.repoInfo_=n,c.onDataUpdate_=r,c.onConnectStatus_=i,c.onServerInfoUpdate_=o,c.authTokenProvider_=a,c.authOverride_=s,c.id=e.nextPersistentConnectionId_++,c.log_=$("p:"+c.id+":"),c.interruptReasons_={},c.listens_={},c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=Je,c.maxReconnectDelay_=tn,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,s&&!v.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),Ve.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&He.getInstance().on("online",c.onOnline_,c),c}return g.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(v.stringify(i)),v.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens_[o]=this.listens_[o]||{},v.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),v.assert(!this.listens_[o][i],"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens_[o][i]=a,this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,c=a.s;e.warnOnListenWarnings_(s,r),(n.listens_[i]&&n.listens_[i][o])===t&&(n.log_("listen response",a),"ok"!==c&&n.removeListen_(i,o),t.onComplete&&t.onComplete(c,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&v.contains(t,"w")){var n=v.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();N("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||v.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=v.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),v.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+v.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):M("Unrecognized action received from server: "+v.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;v.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Je,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Je,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Je),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,a=this.lastSessionId,s=!1,c=null,u=function(){c?c.close():(s=!0,r())};this.realtime_={close:u,sendRequest:function(t){v.assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)}};var l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(l).then((function(e){s?O("getToken() completed but was canceled"):(O("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,c=new Xe(i,o.repoInfo_,t,n,r,(function(t){N(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),a))})).then(null,(function(t){o.log_("Failed to get token: "+t),s||(v.CONSTANTS.NODE_ADMIN&&N(t),u())}))}},e.prototype.interrupt=function(t){O("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){O("Resuming connection for reason: "+t),delete this.interruptReasons_[t],v.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Je,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return H(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new X(t).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][e],delete this.listens_[r][e],0===v.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},e.prototype.onAuthRevoked_=function(t,e){O("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),v.forEach(this.listens_,(function(e,n){v.forEach(n,(function(e,n){t.sendListen_(n)}))}));for(var e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";v.CONSTANTS.NODE_ADMIN?e="admin_node":v.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+m.SDK_VERSION.replace(/\./g,"-")]=1,v.isMobileCordova()?t["framework.cordova"]=1:v.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=He.getInstance().currentlyOnline();return v.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Ze),nn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=$("p:rest:"),i.listens_={},i}return g.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(v.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var s=e.getListenId_(t,r),c={};this.listens_[s]=c;var u=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",u,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),v.safeGet(o.listens_,s)===c&&i(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(e.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+v.querystring(e);r.log_("Sending REST request for "+a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);var t=null;if(s.status>=200&&s.status<300){try{t=v.jsonEval(s.responseText)}catch(e){N("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&N("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()}))},e}(Ze),rn=function(){function t(t,e,n){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new je,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new re,this.persistentConnection_=null;var i=new Oe(n);if(this.stats_=Me.getCollection(t),e||Q())this.server_=new nn(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{v.stringify(o)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}this.persistentConnection_=new en(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,o),this.server_=this.persistentConnection_}i.addTokenChangeListener((function(t){r.server_.refreshAuthToken(t)})),this.statsReporter_=Me.getOrCreateReporter(t,(function(){return new Le(r.stats_,r.server_)})),this.transactions_init_(),this.infoData_=new Ae,this.infoSyncTree_=new Ie({startListening:function(t,e,n,i){var o=[],a=r.infoData_.getNode(t.path);return a.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ie({startListening:function(t,e,n,i){return r.server_.listen(t,n,e,(function(e,n){var o=i(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new X(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new X(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var a=v.map(e,(function(t){return qt(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var s=qt(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,s,r)}else if(n){var c=v.map(e,(function(t){return qt(t)}));o=this.serverSyncTree_.applyServerMerge(i,c)}else{var u=qt(e);o=this.serverSyncTree_.applyServerOverwrite(i,u)}var l=i;o.length>0&&(l=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(l,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;q(t,(function(t,n){e.updateInfo_(n,t)}))},t.prototype.updateInfo_=function(t,e){var n=new X("/.info/"+t),r=qt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=qt(e,n),s=oe(a,o),c=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserOverwrite(t,s,c,!0);this.eventQueue_.queueEvents(u),this.server_.put(t.toString(),a.val(!0),(function(e,n){var o="ok"===e;o||N("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)}));var l=this.abortTransactions_(t);this.rerunTransactions_(l),this.eventQueue_.raiseEventsForChangedPath(l,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(v.forEach(e,(function(t,e){i=!1;var n=qt(e);a[t]=oe(n,o)})),i)O("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(c),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||N("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!o),c=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(c,a),r.callOnCompleteCallback(n,e,i)})),v.forEach(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=function(t,e){var n=new re;return t.forEachTree(new X(""),(function(t,r){n.remember(t,oe(r,e))})),n}(this.onDisconnect_,e),r=[];n.forEachTree(X.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new re,this.eventQueue_.raiseEventsForChangedPath(X.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=qt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=qt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(v.isEmpty(e))return O("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&v.forEach(e,(function(e,n){var i=qt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new De(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);v.forEach(e,(function(t,e){for(var r=t.length;r<n+2;r++)t+=" ";console.log(t+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),O.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&K((function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new pn(this))},enumerable:!0,configurable:!0}),t}(),on=function(){function t(e){this.indexedFilter_=new ve(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new St(e,n))||(n=Vt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Vt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Vt.EMPTY_NODE);var i=this;return e.forEachChild(It,(function(t,e){i.matches(new St(t,e))||(r=r.updateImmediateChild(t,Vt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),an=function(){function t(t){this.rangedFilter_=new on(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new St(e,n))||(n=Vt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Vt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Vt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Vt.EMPTY_NODE);var s=void 0,c=void 0,u=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();u=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var d=!1;i.hasNext();)a=i.getNext(),!d&&u(s,a)<=0&&(d=!0),d&&o<this.limit_&&u(a,c)<=0?o++:r=r.updateImmediateChild(a.name,Vt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var s=t;v.assert(s.numChildren()==this.limit_,"");var c=new St(e,n),u=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(c);if(s.hasChild(e)){for(var d=s.getImmediateChild(e),f=r.getChildAfterChild(this.index_,u,this.reverse_);null!=f&&(f.name==e||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var h=null==f?1:o(f,c);if(l&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(ge.childChangedChange(e,n,d)),s.updateImmediateChild(e,n);null!=i&&i.trackChildChange(ge.childRemovedChange(e,d));var p=s.updateImmediateChild(e,Vt.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(ge.childAddedChange(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?t:l&&o(u,c)>=0?(null!=i&&(i.trackChildChange(ge.childRemovedChange(u.name,u.node)),i.trackChildChange(ge.childAddedChange(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(u.name,Vt.EMPTY_NODE)):t},t}(),sn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=It}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return v.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return v.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:L},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return v.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return v.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:j},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return v.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==It&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==It},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new ve(this.getIndex()):this.hasLimit()?new an(this):new on(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===It?e=n.PRIORITY_INDEX:this.index_===Kt?e=n.VALUE_INDEX:this.index_===Ct?e=n.KEY_INDEX:(v.assert(this.index_ instanceof Qt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=v.stringify(e),this.startSet_&&(r[n.START_AT]=v.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+v.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=v.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+v.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),cn=function(t){function e(e,n){if(!(e instanceof rn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,sn.DEFAULT,!1)||this}return g.__extends(e,t),e.prototype.getKey=function(){return v.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return v.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof X||(null===this.path.getFront()?mt("Reference.child",1,t,!1):pt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){v.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){v.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){v.validateArgCount("Reference.set",1,2,arguments.length),gt("Reference.set",this.path),ct("Reference.set",1,t,this.path,!1),v.validateCallback("Reference.set",2,e,!0);var n=new v.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(v.validateArgCount("Reference.update",1,2,arguments.length),gt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,N("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}lt("Reference.update",1,t,this.path,!1),v.validateCallback("Reference.update",2,e,!0);var i=new v.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(v.validateArgCount("Reference.setWithPriority",2,3,arguments.length),gt("Reference.setWithPriority",this.path),ct("Reference.setWithPriority",1,t,this.path,!1),dt("Reference.setWithPriority",2,e,!1),v.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new v.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return v.validateArgCount("Reference.remove",0,1,arguments.length),gt("Reference.remove",this.path),v.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(v.validateArgCount("Reference.transaction",1,3,arguments.length),gt("Reference.transaction",this.path),v.validateCallback("Reference.transaction",1,t,!1),v.validateCallback("Reference.transaction",2,e,!0),yt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new v.Deferred;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new _t(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){v.validateArgCount("Reference.setPriority",1,2,arguments.length),gt("Reference.setPriority",this.path),dt("Reference.setPriority",1,t,!1),v.validateCallback("Reference.setPriority",2,e,!0);var n=new v.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){v.validateArgCount("Reference.push",0,2,arguments.length),gt("Reference.push",this.path),ct("Reference.push",1,t,this.path,!0),v.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=wt(r),o=this.child(i),a=this.child(i);return n=null!=t?o.set(t,e).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return gt("Reference.onDisconnect",this.path),new bt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(ee);ee.__referenceConstructor=cn,Ce.__referenceConstructor=cn;var un=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),ln=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new un),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,r=e instanceof X?e:new X(e),i=this;null!==(n=r.getFront());)i=new t(n,i,v.safeGet(i.node_.children,n)||new un),r=r.popFront();return i},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){v.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;v.forEach(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new X(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=v.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),dn=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});rn.MAX_TRANSACTION_RETRIES_=25,rn.prototype.transactions_init_=function(){this.transactionQueueTree_=new ln},rn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new cn(this,t);o.on("value",i);var a={path:t,update:e,onComplete:n,status:null,order:C(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=this.getLatestState_(t);a.currentInputSnapshot=s;var c=a.update(s.val());if(void 0===c){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var u=new Yt(a.currentInputSnapshot,new cn(this,a.path),It);a.onComplete(null,!1,u)}}else{ut("transaction failed: Data returned ",c,a.path),a.status=dn.RUN;var l=this.transactionQueueTree_.subTree(t),d=l.getValue()||[];d.push(a),l.setValue(d);var f=void 0;"object"==typeof c&&null!==c&&v.contains(c,".priority")?(f=v.safeGet(c,".priority"),v.assert(st(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(this.serverSyncTree_.calcCompleteEventCache(t)||Vt.EMPTY_NODE).getPriority().val(),f=f;var h=this.generateServerValues(),p=qt(c,f),m=oe(p,h);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=m,a.currentWriteId=this.getNextWriteId_();var g=this.serverSyncTree_.applyUserOverwrite(t,m,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,g),this.sendReadyTransactions_()}},rn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Vt.EMPTY_NODE},rn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);v.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===dn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},rn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),o=i,a=i.hash(),s=0;s<e.length;s++){var c=e[s];v.assert(c.status===dn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=dn.SENT,c.retryCount++;var u=X.relativePath(t,c.path);o=o.updateChild(u,c.currentOutputSnapshotRaw)}var l=o.val(!0),d=t;this.server_.put(d.toString(),l,(function(r){n.log_("transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=dn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,c=new cn(n,e[a].path),u=new Yt(s,c,It);o.push(e[a].onComplete.bind(null,null,!0,u))}e[a].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),a=0;a<o.length;a++)K(o[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status=e[a].status===dn.SENT_NEEDS_ABORT?dn.NEEDS_ABORT:dn.RUN;else for(N("transaction at "+d.toString()+" failed: "+r),a=0;a<e.length;a++)e[a].status=dn.NEEDS_ABORT,e[a].abortReason=r;n.rerunTransactions_(t)}}),a)},rn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},rn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===dn.RUN})).map((function(t){return t.currentWriteId})),o=0;o<t.length;o++){var a=t[o],s=X.relativePath(e,a.path),c=!1,u=void 0;if(v.assert(null!==s,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===dn.NEEDS_ABORT)c=!0,u=a.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===dn.RUN)if(a.retryCount>=rn.MAX_TRANSACTION_RETRIES_)c=!0,u="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var l=this.getLatestState_(a.path,i);a.currentInputSnapshot=l;var d=t[o].update(l.val());if(void 0!==d){ut("transaction failed: Data returned ",d,a.path);var f=qt(d);"object"==typeof d&&null!=d&&v.contains(d,".priority")||(f=f.updatePriority(l.getPriority()));var h=a.currentWriteId,p=this.generateServerValues(),m=oe(f,p);a.currentOutputSnapshotRaw=f,a.currentOutputSnapshotResolved=m,a.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(h),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(a.path,m,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(h,!0))}else c=!0,u="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],c&&(t[o].status=dn.COMPLETED,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete))if("nodata"===u){var g=new cn(this,t[o].path),y=new Yt(t[o].currentInputSnapshot,g,It);n.push(t[o].onComplete.bind(null,null,!1,y))}else n.push(t[o].onComplete.bind(null,new Error(u),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)K(n[o]);this.sendReadyTransactions_()}},rn.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},rn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},rn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},rn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==dn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},rn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},rn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)e[o].status===dn.SENT_NEEDS_ABORT||(e[o].status===dn.SENT?(v.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=dn.SENT_NEEDS_ABORT,e[o].abortReason="set"):(v.assert(e[o].status===dn.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),o=0;o<n.length;o++)K(n[o])}};var fn,hn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return fn||(fn=new t),fn},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&D("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=et(n),i=r.repoInfo;return vt("Invalid Firebase Database URL",1,r),r.path.isEmpty()||D("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,t).database},t.prototype.deleteRepo=function(t){var e=v.safeGet(this.repos_,t.app.name);e&&v.safeGet(e,t.repoInfo_.toURLString())===t||D("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=v.safeGet(this.repos_,e.name);n||(this.repos_[e.name]=n={});var r=v.safeGet(n,t.toURLString());return r&&D("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new rn(t,this.useRestClient_,e),n[t.toURLString()]=r,r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),pn=function(){function t(t){this.repo_=t,t instanceof rn||D("Don't call new Database() directly - please use firebase.database()."),this.root_=new cn(t,X.Empty),this.INTERNAL=new mn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),v.validateArgCount("database.ref",0,1,arguments.length),t instanceof cn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),v.validateArgCount(e,1,1,arguments.length);var n=et(t);vt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&D(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&D("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){v.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){v.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),mn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return g.__awaiter(this,void 0,void 0,(function(){return g.__generator(this,(function(t){return this.database.checkDeleted_("delete"),hn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),gn=Object.freeze({forceLongPolling:function(){Qe.forceDisallow(),We.forceAllow()},forceWebSockets:function(){We.forceDisallow()},isWebSocketsAvailable:function(){return Qe.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),vn=en;en.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},en.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var yn=Object.freeze({DataConnection:vn,RealTimeConnection:Xe,hijackHash:function(t){var e=en.prototype.put;return en.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){en.prototype.put=e}},ConnectionTarget:tt,queryIdentifier:function(t){return t.queryIdentifier()},listens:function(t){return t.repo.persistentConnection_.listens_},forceRestClient:function(t){hn.getInstance().forceRestClient(t)}}),bn=pn.ServerValue;function _n(e){var n=e.INTERNAL.registerService("database",(function(t,e,n){return hn.getInstance().databaseFromApp(t,n)}),{Reference:cn,Query:ee,Database:pn,DataSnapshot:Yt,enableLogging:A,INTERNAL:gn,ServerValue:bn,TEST_ACCESS:yn},null,!0);v.isNodeSdk()&&(t.exports=n)}_n(m),e.DataSnapshot=Yt,e.Database=pn,e.OnDisconnect=bt,e.Query=ee,e.Reference=cn,e.ServerValue=bn,e.enableLogging=A,e.registerDatabase=_n},UgHj:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV"),o=n("l95E"),a=n("1Ri2");e.throttleTime=function(t,e,n){return void 0===e&&(e=o.async),void 0===n&&(n=a.defaultThrottleConfig),function(r){return r.lift(new s(t,e,n.leading,n.trailing))}};var s=function(){function t(t,e,n,r){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),c=function(t){function e(e,n,r,i,o){var a=t.call(this,e)||this;return a.duration=n,a.scheduler=r,a.leading=i,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return r(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(u,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(i.Subscriber);function u(t){t.subscriber.clearThrottle()}},UmrE:function(t,e){angular.module("castifyExt.syncAuthTool",["castifyExt.castifyAuth","w69b.chromeRuntime","castifyExt.appOptions","castifyExt.driveUtils","w69b.spawn"]).factory("syncAuthTool",["castifyAuth","spawn","$q","$log","appOptions","chromeRuntime","$rootScope","driveUtils",function(t,e,n,r,i,o,a,s){var c={};return c.broadcastIfSyncError=e.wrap((function*(t){return"not_signed_in"===t?(r.debug("syncAuthTool: sync enabled but not signed in"),a.$broadcast("event:syncAuthError"),o.sendMessage({type:"event:syncAuthError"}).catch(angular.identity),n.reject(t)):(i.values.driveSync&&c.checkSetup().catch((function(e){switch(e){case"token":r.debug("syncAuthTool: sync enabled but we do not have a valid token"),a.$broadcast("event:syncAuthError"),o.sendMessage({type:"event:syncAuthError"}).catch(angular.identity);break;case"forbidden":r.debug("syncAuthTool: detected drive-forbidden error",t),a.$broadcast("event:syncForbiddenError");break;default:r.warn("syncAuthTool: unhandled sync error detected",t)}})),n.reject(t))})),c.hasValidAuthToken=function(){return t.getAuthToken({interactive:!1,validate:!0})},c.isRateLimitError=function(t){return s.isRateLimitError(t)},c.checkSetup=function(){return c.hasValidAuthToken().catch((function(){return n.reject("token")})).then((function(){return s.getDriveUploadParentId().catch((function(t){return s.isGoogleAppsForbiddenError(t)?n.reject("forbidden"):n.reject("unknown")}))})).then((function(){return!0}))},c}])},VFcZ:function(t,e,n){"use strict";var r=n("l95E"),i=n("d0I2");e.timestamp=function(t){return void 0===t&&(t=r.async),i.map((function(e){return new o(e,t.now())}))};var o=function(){return function(t,e){this.value=t,this.timestamp=e}}();e.Timestamp=o},VKa5:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return d}));var r=n("D57K"),i=n("Iwrg"),o=n("zgdO"),a=n("e9BD"),s=3,c=function(){function t(t,e,n){void 0===e&&(e=new a.a),void 0===n&&(n=s),this._version=n,this._stack=[],this._stack.push({client:t,scope:e})}return t.prototype._invokeClient=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop();o&&o.client&&o.client[t]&&(e=o.client)[t].apply(e,r.__spread(n,[o.scope]))},t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t},t.prototype.pushScope=function(){var t=this.getStack(),e=a.a.clone(t.length>0?t[t.length-1].scope:void 0);return this.getStack().push({client:this.getClient(),scope:e}),e},t.prototype.popScope=function(){return void 0!==this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=Object(i.l)(),o=e;if(!e){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(t){a=t}o={originalException:t,syntheticException:a}}return this._invokeClient("captureException",t,r.__assign({},o,{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var o=this._lastEventId=Object(i.l)(),a=n;if(!n){var s=void 0;try{throw new Error(t)}catch(c){s=c}a={originalException:t,syntheticException:s}}return this._invokeClient("captureMessage",t,e,r.__assign({},a,{event_id:o})),o},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=Object(i.l)();return this._invokeClient("captureEvent",t,r.__assign({},e,{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop();if(n.scope&&n.client){var o=n.client.getOptions&&n.client.getOptions()||{},a=o.beforeBreadcrumb,s=void 0===a?null:a,c=o.maxBreadcrumbs,u=void 0===c?30:c;if(!(u<=0)){var l=(new Date).getTime()/1e3,d=r.__assign({timestamp:l},t),f=s?Object(i.c)((function(){return s(d,e)})):d;null!==f&&n.scope.addBreadcrumb(f,Math.min(u,100))}}},t.prototype.setUser=function(t){var e=this.getStackTop();e.scope&&e.scope.setUser(t)},t.prototype.setTags=function(t){var e=this.getStackTop();e.scope&&e.scope.setTags(t)},t.prototype.setExtras=function(t){var e=this.getStackTop();e.scope&&e.scope.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop();e.scope&&e.client&&t(e.scope)},t.prototype.run=function(t){var e=l(this);try{t(this)}finally{l(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(n){return o.a.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.traceHeaders=function(){var t=this.getStackTop();if(t.scope&&t.client){var e=t.scope.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}},t}();function u(){var t=Object(i.f)();return t.__SENTRY__=t.__SENTRY__||{hub:void 0},t}function l(t){var e=u(),n=h(e);return p(e,t),n}function d(){var e=u();return f(e)&&!h(e).isOlderThan(s)||p(e,new c),Object(i.i)()?function(e){try{var n=Object(i.d)(t,"domain").active;if(!n)return h(e);if(!f(n)||h(n).isOlderThan(s)){var r=h(e).getStackTop();p(n,new c(r.client,a.a.clone(r.scope)))}return h(n)}catch(o){return h(e)}}(e):h(e)}function f(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function h(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub?t.__SENTRY__.hub:(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new c,t.__SENTRY__.hub)}function p(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}}).call(this,n("cyaT")(t))},VNoJ:function(t,e){angular.module("castifyEdit.ui.timeLineCanvas",["w69b.timeutil"]).directive("cfTimeLineCanvas",["timeutil","$window",function(t,e){function n(t){return{render:function(){var e;t.transformLineCenter(),t.setLineStyle(),t.ctx.stroke(((e=new Path2D).moveTo(0,0),e.lineTo(t.getWidth(),0),e))}}}function r(t,e){var n={},r=t.ctx,i=t.options;function o(e){if(r.save(),t.renderLabelIfFree(e.time,e.label)){var n=t.timeToPos(e.time);t.transformLineCenter(),r.translate(n,-i.tickHeight/2),t.setLineStyle(),r.stroke(((o=new Path2D).moveTo(0,0),o.lineTo(0,i.tickHeight),o))}var o;r.restore()}return n.render=function(){e.forEach(o)},n}function i(t,e,n){var r,i,o={},a=t.ctx,s=t.options,c=0,u=0;function l(t){t.preventDefault(),document.removeEventListener("mouseup",l,!0),document.removeEventListener("touchend",l,!0),"touchend"!==t.type&&h(d(t)),i=null}function d(e){var n=e.x;return e.touches&&e.touches.length&&(n=e.touches[0].clientX),n-(r[0].getBoundingClientRect().left+2*t.getPadding())}function f(t){if(t.preventDefault(),!i){var e=d(t);i={start:e},h(e),document.addEventListener("mouseup",l,!0),document.addEventListener("touchend",l,!0)}}function h(e){e=Math.min(Math.max(e,0),t.getWidth());var r=t.posToTime(e);r=function(t){return Math.min(Math.max(n.getTrimmedStartTime(),t),n.getTrimmedEndTime())}(r),c=r,n.pause(),n.seekThrottled(r),u!==c&&t.render()}function p(t){t.preventDefault(),i&&(h(i.start+t.deltaX),t.isFinal&&(i=null))}return o.render=function(){var e=n.currentTime;i&&(e=c),u=e,t.renderLabelIfFree(e);var r,o=t.timeToPos(e);t.transformLineCenter(),a.fillStyle=s.seekHandleColor,a.translate(o,0),a.fill(((r=new Path2D).arc(0,0,s.seekHandleSize/2,0,2*Math.PI),r))},function(){(r=angular.element('<div class="seek-event-target"></div>')).css("left",-t.getPadding()+"px"),r.css("right",-t.getPadding()+"px"),e.append(r);var n=new Hammer.Manager(r[0]);n.add(new Hammer.Pan({threshold:0,pointers:0})),n.on("pan",p),r.bind("mousedown touchstart",f),e.bind("$destroy",(function(){n.destroy(),r.unbind("mousedown touchstart",f)}))}(),o}return{restrict:"E",require:"^cfTimeLine",template:"<canvas></canvas>",scope:{ticks:"=",previewCtrl:"=?"},link:function(o,a,s,c){function u(t){var n=angular.element("<div></div>");n.addClass(t),a.append(n);var r=e.getComputedStyle(n[0]).color;return n.remove(),r}function l(){d.render()}var d=function(e,n,r){var i,o,a={},s=e.getContext("2d",{alpha:!1}),c=[],u=[];function l(t,e){return e[0]<=t&&t<=e[1]}return a.ctx=s,a.options=r,a.setLineStyle=function(){s.strokeStyle=r.color,s.lineWidth=r.lineWidth},a.renderLabelIfFree=function(e,i){s.save(),i||(i=t.formatDuration(e));var o=n.timeToPos(e);s.fillStyle=r.labelColor,s.font=r.labelFont;var u=s.measureText(i),d=Math.max(o-u.width/2,-a.getPadding()),f=d+u.width-(a.getWidth()+a.getPadding());f>0&&(d-=f);var h=[d,d+u.width];return function(t){return!c.some((function(e){return l((n=t)[0],r=e)||l(n[0],r)||l(r[0],n);var n,r}))}(h)?(s.translate(0,20),s.fillText(i,d,0),h[0]-=r.labelMargin,h[1]+=r.labelMargin,c.push(h),s.restore(),!0):(s.restore(),!1)},a.getLineCenterY=function(){return o-r.lineWidth-r.lineMargin},a.transformLineCenter=function(){s.translate(0,a.getLineCenterY())},a.render=function(){var t;t=window.devicePixelRatio,i=n.getWidth()+2*n.getPadding(),o=r.height,e.width=i*t,e.height=o*t,e.style.width=i+"px",e.style.height=o+"px",s.scale(t,t),s.fillStyle=r.background,s.fillRect(0,0,i+1,o+1),c=[],s.translate(a.getPadding(),0),u.forEach((function(t){s.save(),t.render(),s.restore()}))},a.addItem=function(t){u.push(t)},a.timeToPos=function(t){return n.timeToPos(t)},a.posToTime=function(t){return n.posToTime(t)},a.getPadding=function(){return n.getPadding()},a.getWidth=function(){return n.getWidth()},a}(a.find("canvas")[0],c,{items:["TimeLineSeekItem"],color:u("default-color"),labelColor:u("label-color"),labelFont:"12px Roboto",background:"white",lineWidth:2,lineMargin:8,tickHeight:10,labelMargin:4,seekHandleSize:16,seekHandleColor:u("seek-handle-color"),height:42});d.addItem(new n(d)),d.addItem(new r(d,o.ticks)),d.addItem(new i(d,a,o.previewCtrl)),a.css("margin-left",-c.getPadding()+"px"),a.css("margin-right",-c.getPadding()+"px"),o.$on("timeLine:resize",l),o.$on("timeLine:redrawCanvas",l),o.$on("videoPreview:loaded",l),o.$on("videoPreview:timeUpdate",l)}}}])},VTS6:function(t,e,n){"use strict";e.isArrayLike=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},VVFg:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV");e.find=function(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return function(n){return n.lift(new o(t,n,!1,e))}};var o=function(){function t(t,e,n,r){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}();e.FindValueOperator=o;var a=function(t){function e(e,n,r,i,o){var a=t.call(this,e)||this;return a.predicate=n,a.source=r,a.yieldIndex=i,a.thisArg=o,a.index=0,a}return r(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete(),this.unsubscribe()},e.prototype._next=function(t){var e=this.predicate,n=this.thisArg,r=this.index++;try{e.call(n||this,t,r,this.source)&&this.notifyComplete(this.yieldIndex?r:t)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(i.Subscriber);e.FindValueSubscriber=a},Vi6X:function(t,e,n){var r=n("M3eJ"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},VvFP:function(t,e,n){"use strict";var r=n("t0wZ"),i=n("F0rJ");e.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.concatAll()(r.of.apply(void 0,t))}},W7L6:function(t,e,n){"use strict";var r=n("M3eJ"),i=n("LzYd");t.exports="".repeat||function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},WBpV:function(t,e,n){n("9SEF")({target:"String",proto:!0},{repeat:n("W7L6")})},WFn1:function(t,e,n){var r;t.exports=(r=n("Ni7E"),function(){if("function"==typeof ArrayBuffer){var t=r.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var n=t.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=t[i]<<24-i%4*8;e.call(this,r,n)}else e.apply(this,arguments)}).prototype=t}}(),r.lib.WordArray)},WIDk:function(t,e,n){var r=n("M5Hp"),i=n("27Ka"),o=Function.call;t.exports=function(t,e,n){return i(o,r[t].prototype[e],n)}},WLOL:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("tkgy"),o=n("6Br6");e.AsyncSubject=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return r(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),o.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(i.Subject)},WNYX:function(t,e){angular.module("w69b.chromePermissions",["w69b.promiseTool"]).factory("chromePermissions",["promiseTool",function(t){var e=window.chrome&&window.chrome.permissions,n={};return e?(n.contains=t.wrapChromeError(e.contains,e),n.request=t.wrapChromeError(e.request,e),n.remove=t.wrapChromeError(e.remove,e),n.getAll=t.wrapChromeError(e.getAll,e),n):n}])},"WR+0":function(t,e){angular.module("castifyEdit.ui.trimSlider",["ngMaterial"]).directive("cfTrimSlider",(function(){return{restrict:"E",scope:{range:"=?",previewCtrl:"=?"},templateUrl:"components/castifyEdit/ui/trim-slider/trim-slider.html",require:"^cfTimeLine",link:function(t,e,n,r){var i,o=e[0],a=[],s=angular.element(o.querySelector(".handle.start")),c=angular.element(o.querySelector(".handle.end")),u=angular.element(o.querySelector(".overlay.start")),l=angular.element(o.querySelector(".overlay.end"));t.range=null;var d=r.addTick({time:0}),f=r.addTick({time:0}),h=1.5;function p(){v(m(t.range))}function m(t){return null===t?{start:0,end:r.getWidth()}:{start:r.timeToPos(t.start),end:r.timeToPos(t.end)}}function g(t){return{start:r.posToTime(t.start),end:r.posToTime(t.end)}}function v(t){s.css("transform",`translateZ(0) translateX(${t.start}px)`),c.css("transform",`translateZ(0) translateX(${t.end}px)`),u.css("width",t.start+"px"),l.css("left",t.end+"px");var e=g(t);d.time=e.start,f.time=e.end,r.redrawCanvas()}function y(t){var e=t.end;return e=Math.abs(e-r.getTimeSpan())>.001?r.roundTime(e):r.getTimeSpan(),{start:r.roundTime(t.start),end:e}}function b(e){e.preventDefault(),i||(i=function(e){for(;!e.classList.contains("handle")&&e;)e=e.parentElement;var n=m(t.range),r=e.classList;return r.contains("start")?{moving:n.start,counter:n.end,isStart:!0}:r.contains("end")?{moving:n.end,counter:n.start}:void 0}(e.target));var n,o,a,s=i.moving,c=(n=s+=e.deltaX,o=i.counter,{start:Math.min(n,o),end:Math.max(n,o)});if(function(t){t.start=Math.min(Math.max(t.start,0),r.getWidth()),t.end=Math.min(Math.max(t.end,0),r.getWidth())}(c),v(c=function(t){return m(y(g(t)))}(c)),a=r.roundTime(r.posToTime(s)),t.previewCtrl.pause(),t.previewCtrl.seekThrottled(a),e.isFinal){var u=y(g(c));0===u.start&&u.end===r.getTimeSpan()?u=null:function(e,n){var r=t.previewCtrl;n?(r.seek(e.start),r.play()):(r.seek(Math.max(0,e.start,e.end-h)),r.play())}(u,i.isStart),t.range=u,i=null,t.$apply()}}t.$on("timeLine:resize",p),t.$on("videoPreview:loaded",p),angular.forEach(o.querySelectorAll(".handle"),(function(t){var e=new Hammer.Manager(t);e.add(new Hammer.Pan({threshold:0,pointers:0})),e.on("pan",b),a.push(e)})),t.$on("$destroy",(function(){a.forEach((function(t){t.destroy()}))})),p()}}}))},WVut:function(t,e,n){t.exports=n("kXWg")("native-function-to-string",Function.toString)},Wcan:function(t,e,n){var r;t.exports=(r=n("Ni7E"),n("heQk"),r.mode.CTRGladman=function(){var t=r.lib.BlockCipherMode.extend();function e(t){if(255==(t>>24&255)){var e=t>>16&255,n=t>>8&255,r=255&t;255===e?(e=0,255===n?(n=0,255===r?r=0:++r):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=r}else t+=1<<24;return t}var n=t.Encryptor=t.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),function(t){0===(t[0]=e(t[0]))&&(t[1]=e(t[1]))}(a);var s=a.slice(0);r.encryptBlock(s,0);for(var c=0;c<i;c++)t[n+c]^=s[c]}});return t.Decryptor=n,t}(),r.mode.CTRGladman)},Wf6A:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV");e.count=function(t){return function(e){return e.lift(new o(t,e))}};var o=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.source))},t}(),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.source=r,i.count=0,i.index=0,i}return r(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(i.Subscriber)},WpSD:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("dmvN"),o=n("kZSD");e.audit=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.durationSelector))},t}(),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return r(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(r){return this.destination.error(r)}var n=o.subscribeToResult(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,n,r){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(i.OuterSubscriber)},XCe5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("j7/t"),i=n("/qed"),o=n("83Me"),a=function(){function t(){}return t.msg=function(t,e,n,a,s,c){var u="gray";if(s===r.Level.INFO&&(u="deepskyblue"),s===r.Level.ERROR&&(u="red"),s===r.Level.WARN&&(u="orange"),c){var l=c-n.length;if(l>0)for(var d=0;d<l;d++)n+=" "}if(o.Logger.isProductionMode)return this;if(i.Helpers.isBrowser)if(document.documentMode||/Edge/.test(navigator.userAgent)){if("string"==typeof t)e.unshift(f="[[ "+n+" ]] "+t+" ");else{var f="[[ "+n+"]] ";e.push(t),e.unshift(f)}s===r.Level.INFO?console.info.apply(console,e):s===r.Level.ERROR?console.error.apply(console,e):s===r.Level.WARN?console.warn.apply(console,e):console.log.apply(console,e)}else{if("string"==typeof t){f="%c "+n+"  %c "+t+" ";var h="background: "+a+";color:white; border: 1px solid "+a+"; ";e.unshift("border: 1px solid "+u+"; "),e.unshift(h),e.unshift(f)}else f="%c "+n+" ",h="background: "+a+";color:white; border: 1px solid "+u+"; ",e.push(t),e.unshift(h),e.unshift(f);console.log.apply(console,e)}},t}();e.Display=a},XRbf:function(t,e){angular.module("w69b.chromePersistentLogger",["cf2.chromeStorageService","w69b.logging","w69b.structs.CircularBuffer"]).provider("chromePersistentLogger",["$logProvider",function(t){var e,n="logs",r=[],i=!1,o=1e3,a=!1,s=!0;const c=1024;function u(t,n){var i={level:t,msg:n.map((function(t){if(!angular.isObject(t))return t;try{return angular.toJson(t)}catch(e){return t}})).join(", ").substr(0,c),timestamp:(new Date).getTime()};return e?e.add(i):r.push(i),!0}this.setStorageKey=function(t){n=t},this.setMaxNumLogs=function(t){o=t},this.enableAutoLoad=function(t){i=t},this.enableAutoSave=function(t){s=t},this.enableGlobalHandler=function(t){a=t},this.install=function(){this.enableAutoLoad(!0),t.setCustomHook(u)},this.$get=["$window","cf2ChromeStorageService","CircularBuffer","$log",function(t,c,l,d){var f={};function h(t){return[new Date(t.timestamp).toISOString(),t.level.toUpperCase(),t.msg].join(" ")}function p(t){var e=new l(o);return t.forEach((function(t){e.add(t)})),e}return f.load=function(){return c.local.getSingle("logs_"+n).then((function(t){t&&t.length&&(e=p(t.concat(f.getEntries())))}))},f.save=function(t){return c.local.setSingle("logs_"+(t||n),f.getEntries())},f.clear=function(){e.clear()},f.getEntries=function(){return e.getValues()},f.getLogs=function(){return f.getEntries().map(h)},f.getMergedLogs=function(t,e=!1){return t=t.map((function(t){return"logs_"+t})),c.local.get(t).then((function(t){var n=[];return angular.forEach(t,(function(t,e){t&&t.length&&t.forEach((function(t){t.storageKey=e.substr("logs_".length),n.push(t)}))})),n.sort((function(t,e){return t.timestamp-e.timestamp})),e?n:n.map((function(t){return"["+t.storageKey+"] "+h(t)}))}))},f.hookFn=u,e=p(r),r=null,i&&f.load(),a&&(t.onerror=function(t,e,n){d.error("global error",t,e,n)}),s&&t.addEventListener("unload",(function(){f.save()})),f}]}]).run(["chromePersistentLogger",angular.noop])},Xe46:function(t,e){angular.module("castifyExt.youtubeAuth",["w69b.uritool","castifyExt.castifyAuth"]).provider("youtubeAuth",(function(){var t,e=["https://www.googleapis.com/auth/youtube"];this.setScopes=function(t){e=t},this.setClientId=function(e){t=e},this.$get=["castifyAuth","$log","uritool","$q","$http","castifyConfig",function(n,r,i,o,a,s){var c=s.API_URL+"/youtube/",u=c+"channels",l=c+"tokens",d="https://accounts.google.com/o/oauth2/auth",f={},h=0,p={};function m(t){return t.data}function g(){return n.getRedirectURL().then((function(a){var s,c=(s={redirect_uri:a,scope:e.join(" "),response_type:"code",client_id:t,access_type:"offline",include_granted_scopes:!1,prompt:"select_account consent"},d+"?"+i.encodeQuery(s));return n.launchWebAuthFlow({url:c,interactive:!0}).then((function(t){return r.debug("youtube oauth result",t),t.code?t.code:o.reject("youtube_flow_returned_no_code")}))}))}function v(t){return a.post(u,{code:t,version:2},{googleAuth:!0}).then(m,(function(t){return r.warn("adding youtube code failed",t),o.reject("youtube_add_code_failed")}))}return p.addChannel=function(){return n.getAuthToken({interactive:!0}).then(g).then(v)},p.listChannels=function(){return a.get(u,{googleAuth:!0}).then(m)},p.removeChannel=function(t){return a.delete(u+"/"+t,{googleAuth:!0}).then(m)},p.getAuthToken=function(t){if(!t.channelId)throw new Error;var e,n=t.channelId,r=Math.floor(Date.now()-h)+12e4,i=f[n];return i&&i.expiresAt>r?e=o.when(i):(e=function(t){return a.get(l+"/"+t,{googleAuth:!0}).then(m).then((function(t){return t.expiresAt=Number(new Date(t.expiresAt)),t.issuedAt=Number(new Date(t.issuedAt)),t}))}(n)).then((function(t){f[n]=t,t.issuedAt&&(h=Date.now()-Number(t.issuedAt))})),e.then((function(t){return t.accessToken}))},p}]})).factory("youtubeHttpAuthInterceptor",["$q","$injector","$log",function(t,e,n){var r;return{request:function(i){return i.youtubeAuth?(i.googleAuth&&delete i.googleAuth,(o=i.youtubeAuth,a={channelId:o},(r||(r=e.get("youtubeAuth")),r).getAuthToken(a)).then((function(t){return i.headers=angular.extend(i.headers||{},function(t){return{Authorization:"Bearer "+t}}(t)),i}),(function(e){return n.warn("youtubeAuth failed",e),t.reject("youtubeAuth failed")}))):i;var o,a}}}])},XkPV:function(t,e,n){n("dRAY")("search")},XrfD:function(t,e){angular.module("castifyExt.ui.syncInfo",["castifyExt.syncStatusClient","castifyExt.ui.syncProgressIcon"]).directive("cfSyncInfo",["syncStatusClient",function(t){return{restrict:"E",scope:{},templateUrl:"components/castifyExt/ui/sync-info/sync-info.html",link:function(e){e.state=t.state,e.retry=function(){t.retry()}}}}])},XwOV:function(t,e){angular.module("castifyEdit.ui.videoCanvas",[]).directive("cfVideoCanvas",["$window","$timeout",function(t,e){return{restrict:"E",transclude:!0,controller:["$scope","$element",function(e,n){this.init=function(){var r,i=n,o=1,a=i.find("video");function s(t,e){if(!t)return null;var n={};return["width","height","top","left"].forEach((function(r){t.hasOwnProperty(r)&&(n[r]=t[r]*e)})),n}function c(){var t;if(r=(t=a[0])&&t.videoWidth?{width:t.videoWidth,height:t.videoHeight}:null){var n,s,c,u=i[0].getBoundingClientRect(),l=(n=r,s=u,c=Math.min(s.width/n.width,s.height/n.height),{width:n.width*c,height:n.height*c});o=l.width/r.width;var d=Math.floor((u.width-l.width)/2),f=Math.floor((u.height-l.height)/2),h={width:l.width+"px",height:l.height+"px",top:f+"px",left:d+"px",position:"absolute"};a.css(h),a.removeClass("ng-hide"),i.children().eq(1).css(h),e.$broadcast("videoCanvas:resize")}}this.toCanvasCoordinates=function(t){return s(t,o)},this.toVideoCoordinates=function(t){return s(t,1/o)},this.scaleDimToCanvas=function(t){return t*o},this.getVideoSize=function(){return r},i.css("position","relative"),e.$on("videoPreview:loaded",c),a.addClass("ng-hide"),t.addEventListener("resize",c),i.bind("$destroy",(function(){t.removeEventListener("resize",c)})),c()}}],link:function(t,e,n,r,i){if(i((function(t){e.append(t)})),2!=e.children().length)throw Error();r.init()}}}])},XzrS:function(t,e,n){var r=n("ue8h"),i=n("44C7").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},YRxH:function(t,e,n){var r;t.exports=(r=n("Ni7E"),n("i3c9"),n("0Hfl"),n("Cf/K"),n("heQk"),function(){var t=r,e=t.lib,n=e.WordArray,i=e.BlockCipher,o=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=o.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],n=0;n<56;n++){var r=a[n]-1;e[n]=t[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var u=i[o]=[],l=c[o];for(n=0;n<24;n++)u[n/6|0]|=e[(s[n]-1+l)%28]<<31-n%6,u[4+(n/6|0)]|=e[28+(s[n+24]-1+l)%28]<<31-n%6;for(u[0]=u[0]<<1|u[0]>>>31,n=1;n<7;n++)u[n]=u[n]>>>4*(n-1)+3;u[7]=u[7]<<5|u[7]>>>27}var d=this._invSubKeys=[];for(n=0;n<16;n++)d[n]=i[15-n]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,n){this._lBlock=t[e],this._rBlock=t[e+1],f.call(this,4,252645135),f.call(this,16,65535),h.call(this,2,858993459),h.call(this,8,16711935),f.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,a=this._rBlock,s=0,c=0;c<8;c++)s|=u[c][((a^i[c])&l[c])>>>0];this._lBlock=a,this._rBlock=o^s}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,f.call(this,1,1431655765),h.call(this,8,16711935),h.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function f(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function h(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}t.DES=i._createHelper(d);var p=o.TripleDES=i.extend({_doReset:function(){var t=this._key.words;this._des1=d.createEncryptor(n.create(t.slice(0,2))),this._des2=d.createEncryptor(n.create(t.slice(2,4))),this._des3=d.createEncryptor(n.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(p)}(),r.TripleDES)},Yfti:function(t,e,n){"use strict";var r=n("1hPV"),i=n("7oWP"),o=n("uzuk");e.toSubscriber=function(t,e,n){if(t){if(t instanceof r.Subscriber)return t;if(t[i.rxSubscriber])return t[i.rxSubscriber]()}return t||e||n?new r.Subscriber(t,e,n):new r.Subscriber(o.empty)}},YrJH:function(t,e,n){var r,i,o;t.exports=(o=n("Ni7E"),n("heQk"),r=o.lib.CipherParams,i=o.enc.Hex,o.format.Hex={stringify:function(t){return t.ciphertext.toString(i)},parse:function(t){var e=i.parse(t);return r.create({ciphertext:e})}},o.format.Hex)},YtTf:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV"),o=n("1DPV");e.single=function(t){return function(e){return e.lift(new a(t,e))}};var a=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.source))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.source=r,i.seenValue=!1,i.index=0,i}return r(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(n){this.destination.error(n)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new o.EmptyError)},e}(i.Subscriber)},Z0Xy:function(t,e){angular.module("castifyExt.audioContextPool",[]).factory("audioContextPool",["$window",function(t){var e=[];return{acquire:function(){return e.length?e.pop():new t.AudioContext({latencyHint:"playback"})},release:function(t){e.push(t)}}}])},ZGdk:function(t,e,n){"use strict";e.UnsubscriptionError=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}()},ZREF:function(t,e){t.exports={}},ZmOh:function(t,e,n){"use strict";var r=n("zDe/"),i=n("EMVo");e.publishReplay=function(t,e,n,o){n&&"function"!=typeof n&&(o=n);var a="function"==typeof n?n:void 0,s=new r.ReplaySubject(t,e,o);return function(t){return i.multicast((function(){return s}),a)(t)}}},Zup5:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},ZxLh:function(t,e,n){var r,i;t.exports=(r=n("Ni7E"),i=r.enc.Utf8,void(r.algo.HMAC=r.lib.Base.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=i.parse(e));var n=t.blockSize,r=4*n;e.sigBytes>r&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),a=this._iKey=e.clone(),s=o.words,c=a.words,u=0;u<n;u++)s[u]^=1549556828,c[u]^=909522486;o.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})))},a5Je:function(t,e){angular.module("w69b.ui.drivepicker",["w69b.googledrive"]).directive("wbDrivePickerButton",["googleauth","googledrive","$log",function(t,e,n){return{restrict:"EA",templateUrl:"components/w69b/ui/drivepicker.html",scope:{onPicked:"&",mimeTypes:"@",includeFolders:"@",selectFolderEnabled:"@",listMode:"@",title:"@"},transclude:!0,replace:!0,link:function(r){function i(t){n.debug(t);var e=google.picker;if(t[e.Response.ACTION]===e.Action.PICKED){var i=t[e.Response.DOCUMENTS],o=i.map((function(t){return t[e.Document.ID]}));r.onPicked({ids:o,docs:i}),r.$apply()}}function o(e){var n=new google.picker.DocsView;r.mimeTypes&&n.setMimeTypes(r.mimeTypes),n.setIncludeFolders(!!r.includeFolders),n.setSelectFolderEnabled(!!r.selectFolderEnabled),"grid"==r.listMode?n.setMode(google.picker.DocsViewMode.GRID):"list"==r.listMode&&n.setMode(google.picker.DocsViewMode.LIST),(new google.picker.PickerBuilder).setAppId(t.getAppId()).setOAuthToken(e).enableFeature(google.picker.Feature.NAV_HIDDEN).setTitle(r.title||"Open File").addView(n).setCallback(i).build().setVisible(!0)}r.isDisabled=!0,r.openDriveDialog=function(){t.getAuthToken(!0).then(o)},e.loadLibs().then((function(){return n.debug("drive libs loaded"),t.getAuthToken()})).then((function(){n.debug("drive authorized")})).finally((function(){r.isDisabled=!1}))}}}])},a96P:function(t,e,n){"use strict";e.isObject=function(t){return null!==t&&"object"==typeof t}},aYSr:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},aau1:function(t,e,n){n("dRAY")("observable")},b0vc:function(t,e){angular.module("castifyExt.ui.connectShareProgress",["castifyExt.syncDownloaderClient"]).directive("cfConnectShareProgress",(function(){return{restrict:"E",templateUrl:"components/castifyExt/ui/connect-share-progress/connect-share-progress.html",replace:!1,scope:{fileId:"="},controller:"ConnectShareProgressCtrl"}}))},"bC+6":function(t,e,n){n("dRAY")("species")},bIOq:function(t,e){angular.module("castifyExt.ui.pixelResolution",[]).directive("pixelResolution",(function(){return{template:'<span ng-show="resolution.width || resolution.height">{{resolution.width}}&#215;{{resolution.height}}</span>',restrict:"A",scope:{resolution:"=pixelResolution"}}}))},bTzN:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r,i=n("26VM");!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(r||(r={}));var o=function(){function t(t){var e=this;this._state=r.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(r.RESOLVED,t)},this._reject=function(t){e._setResult(r.REJECTED,t)},this._setResult=function(t,n){e._state===r.PENDING&&(Object(i.l)(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){e._state!==r.PENDING&&(e._handlers.forEach(e._state===r.REJECTED?function(t){t.onrejected&&t.onrejected(e._value)}:function(t){t.onfulfilled&&t.onfulfilled(e._value)}),e._handlers=[])};try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}return t.prototype.toString=function(){return"[object SyncPromise]"},t.resolve=function(e){return new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.all=function(e){return new t((function(n,r){if(Array.isArray(e))if(0!==e.length){var i=e.length,o=[];e.forEach((function(e,a){t.resolve(e).then((function(t){o[a]=t,0==(i-=1)&&n(o)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},t.prototype.then=function(e,n){var r=this;return new t((function(t,i){r._attachHandler({onfulfilled:function(n){if(e)try{return void t(e(n))}catch(r){return void i(r)}else t(n)},onrejected:function(e){if(n)try{return void t(n(e))}catch(r){return void i(r)}else i(e)}})}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var n=this;return new t((function(t,r){var i,o;return n.then((function(t){o=!1,i=t,e&&e()}),(function(t){o=!0,i=t,e&&e()})).then((function(){o?r(i):t(i)}))}))},t}()},babd:function(t,e){angular.module("castifyExt.ui.micLevel",["w69b.webrtc","castifyExt.audioContextPool","castifyExt.appOptions","w69b.throttle","castifyExt.appOptions"]).factory("micLevelFactory",["webrtc","audioContextPool","$rootScope","appOptions","$q",function(t,e,n,r,i){return function(){var o,a,s,c,u,l={},d={},f=0,h=0,p=1,m=angular.noop;function g(t){return function(){var e=arguments,n=i.defer();return(u||i.when()).finally((function(){var r=t(...e);n.resolve(r)})),(u=n.promise).finally((function(){u=null})),n.promise}}function v(){var t=d.analyser;t&&(o||(o=new Uint8Array(t.frequencyBinCount)),t.getByteFrequencyData(o),f=-1)}function y(t){if(c)throw Error();a=t;var n=c=e.acquire(),r=n.createMediaStreamSource(t),i=n.createAnalyser(),o=n.createGain();o.gain.value=p,i.smoothingTimeConstant=.3,i.fftSize=32,i.minDecibels=-70,i.maxDecibels=-10;var s=n.createScriptProcessor(2048,2,1);s.onaudioprocess=v,r.connect(o),o.connect(i),i.connect(s),s.connect(n.destination),d.input=r,d.analyser=i,d.capture=s,d.gain=o}function b(){var e={echoCancellation:r.localValues.micAudioProcessing};return s&&(e.sourceId=s),t.getUserMedia({audio:{mandatory:e},video:!1})}function _(){a&&a.getTracks().forEach((function(t){t.stop()})),a=null}function w(t){p=t,d.gain&&(d.gain.gain.value=t)}return l.start=g((function(){var t=null;return h||(m=n.$watch((function(){return r.localValues.micGain}),w),t=b().then(y)),++h,t})),l.setSourceId=g((function(t){if(s=t,_(),d.input)return b().then((function(t){d.input.disconnect(),d.input=c.createMediaStreamSource(t),d.input.connect(d.gain)}))})),l.stop=g((function(){h&&!--h&&(angular.forEach(d,(function(t){t.disconnect()})),d={},_(),f=0,e.release(c),c=null,m())})),l.getVolume=function(){return f<0&&(f=Math.max.apply(null,o)/255),f},l}}]).directive("cfMicLevel",["micLevelFactory","$window","$timeout",function(t,e,n){!function(){class t extends HTMLCanvasElement{connectedCallback(){this.dispatchEvent(new Event("attached"))}disconnectedCallback(){this.dispatchEvent(new Event("detached"))}}window.customElements.define("cf-mic-canvas",t)}();var r=new Map;function i(e){if(r.has(e))return r.get(e);var n=t();return n.setSourceId(e),r.set(e,n),n}return{restrict:"E",replace:!0,scope:{sourceId:"=?"},template:'<canvas class="cf-mic-level" is="cf-mic-canvas"></canvas>',link:function(t,r,o){var a,s,c=i(t.sourceId),u=r[0],l=u.getContext("2d"),d="horizontal"===o.orientation,f=!1,h=!1;function p(){l.clearRect(0,0,u.width,u.height),d?l.fillRect(0,0,Math.round(c.getVolume()*u.width),u.height):l.fillRect(0,u.height,u.width,-Math.round(c.getVolume()*u.height)),a=e.requestAnimationFrame(p)}function m(){h||(h=!0,c.start(),a=e.requestAnimationFrame(p))}function g(){h&&(h=!1,e.cancelAnimationFrame(a),c.stop())}n((function(){f||m()}),0),r.bind("attached",(function(){f=!1,m()})),r.bind("detached",(function(){f=!0,g()})),(s=d?l.createLinearGradient(0,0,u.width,0):l.createLinearGradient(0,u.height,0,0)).addColorStop(0,"#0f0"),s.addColorStop(.7,"#ff0"),s.addColorStop(1,"#f00"),l.fillStyle=s,r.bind("$destroy",g),t.$watch("sourceId",(function(t,e){if(t!==e){var n=h;g(),c=i(t),n&&m()}}))}}}]).directive("cfMicLevelSlider",["appOptions","throttle","$window",function(t,e,n){return{restrict:"E",replace:!0,scope:{},templateUrl:"components/castifyExt/ui/mic-level/mic-level-slider.html",link:function(r){var i=e(t.saveLocal.bind(t),1e3),o=angular.element(n),a=!1;function s(){i.flush()}r.$watch("micGainRange",(function(e,n){a&&e!==n&&(e=Math.exp(Number(e)),t.localValues.micGain=e,i())})),t.loadedPromise.then((function(){var e=t.localValues.micGain;e=Math.log(e),r.micGainRange=e,a=!0})),o.bind("unload",s),r.$on("$destroy",(function(){o.unbind("unload",s),s()}))}}}])},bla6:function(t,e,n){n("dRAY")("split")},byuQ:function(t,e,n){"use strict";var r=n("qiMw"),i=n("ci3w"),o=n("qMCr"),a=n("DtmU");e.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,s=null,c=t[t.length-1];return i.isScheduler(c)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof c&&(n=t.pop()),null===s&&1===t.length&&t[0]instanceof r.Observable?t[0]:o.mergeAll(n)(a.fromArray(t,s))}},c4q8:function(t,e){angular.module("w69b.chromeRuntime",["w69b.promiseTool"]).factory("chromeRuntime",["promiseTool",function(t){var e={};return e.sendMessage=t.wrapChromeError(chrome.runtime.sendMessage,chrome.runtime),e.getBackgroundPage=t.wrapChromeError(chrome.runtime.getBackgroundPage,chrome.runtime),e.connect=chrome.runtime.connect.bind(chrome.runtime),e.getManifest=chrome.runtime.getManifest.bind(chrome.runtime),e.id=chrome.runtime.id,chrome.runtime.getPlatformInfo&&(e.getPlatformInfo=t.wrapChromeError(chrome.runtime.getPlatformInfo,chrome.runtime)),e.setUninstallURL=t.wrapChromeError(chrome.runtime.setUninstallURL,chrome.runtime),["onMessage","onMessageExternal","onConnect","onConnectExternal","onInstalled","onSuspend"].forEach((function(t){e[t]={addListener:function(e){chrome.runtime[t].addListener(e)},removeListener:function(e){chrome.runtime[t].removeListener(e)}}})),e}])},cJHJ:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n("26VM");function i(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e?t:t.length<=e?t:t.substr(0,e)+"..."}function o(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var i=t[r];try{n.push(String(i))}catch(o){n.push("[value cannot be serialized]")}}return n.join(e)}function a(t,e){return Object(r.i)(e)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e)}},cLDS:function(t,e,n){var r=n("MbF9"),i=Object.prototype;r!==i.toString&&n("ohwb")(i,"toString",r,{unsafe:!0})},cXjr:function(t,e,n){"use strict";var r=n("Vi6X"),i=n("ubDa"),o=n("qiR+")("startsWith"),a="".startsWith;n("9SEF")({target:"String",proto:!0,forced:!o},{startsWith:function(t){var e=i(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),o=String(t);return a?a.call(e,o,n):e.slice(n,n+o.length)===o}})},cgCA:function(t,e){angular.module("w69b.promiseTool",[]).factory("promiseTool",["$q","$timeout",function(t,e){return{wrapChromeError:function(e,n){return function(){var r=Array.prototype.slice.call(arguments,0),i=t.defer();return r.push((function(t){chrome.runtime.lastError?i.reject(chrome.runtime.lastError):i.resolve(t)})),e.apply(n,r),i.promise}},wrapCallbacks:function(e,n){return function(){var r=Array.prototype.slice.call(arguments,0),i=t.defer();return r.push(i.resolve.bind(i)),r.push(i.reject.bind(i)),e.apply(n,r),i.promise}},serializer:function(){var e=null,n=function(n){var r=t.defer();return(e||t.when()).then((function(){(n.call()||t.when()).then(t=>r.resolve(t),t=>r.reject(t))})),(e=r.promise.catch(()=>null)).then((function(){e=null})),r.promise};return n.wrap=function(t){return function(){return n(t.bind(this,...arguments))}},n},withTimeout:function(n,r,i){i||(i=angular.noop);var o=t.defer(),a=e((function(){var t=i();angular.isDefined(t)?o.resolve(t):o.reject("timeout"),o=null}),r);function s(){e.cancel(a),a=null}return n().then((function(){s(),o&&o.resolve.apply(o,arguments)}),(function(){s(),o&&o.reject.apply(o,arguments)})),o.promise}}}])},ci3w:function(t,e,n){"use strict";e.isScheduler=function(t){return t&&"function"==typeof t.schedule}},cnmo:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV");e.mapTo=function(t){return function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.value))},t}(),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.value=n,r}return r(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(i.Subscriber)},cp9A:function(t,e,n){var r=n("27Ka"),i=n("yECB"),o=n("rwVn"),a=n("Vi6X"),s=n("EKQR");t.exports=function(t,e){var n=1==t,c=2==t,u=3==t,l=4==t,d=6==t,f=5==t||d,h=e||s;return function(e,s,p){for(var m,g,v=o(e),y=i(v),b=r(s,p,3),_=a(y.length),w=0,S=n?h(e,_):c?h(e,0):void 0;_>w;w++)if((f||w in y)&&(g=b(m=y[w],w,v),t))if(n)S[w]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:S.push(m)}else if(l)return!1;return d?-1:u||l?l:S}}},cyaT:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},cyo2:function(t,e,n){"use strict";var r=n("qiMw"),i=n("R4cV"),o=n("qIOz");e.defer=function(t){return new r.Observable((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?i.from(n):o.empty()).subscribe(e)}))}},d0I2:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV");e.map=function(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}};var o=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}();e.MapOperator=o;var a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(i.Subscriber)},d4zx:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.InnerSubscriber=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("1hPV").Subscriber)},d6Rh:function(t,e,n){"use strict";e.not=function(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}},d7dg:function(t,e){angular.module("w69b.ui.bytesFilter",[]).filter("bytes",["$injector",function(t){var e;return function(n,r){if(!angular.isNumber(n))return"-";if(angular.isUndefined(r)&&(r=1),n<=0)return"0 B";var i=Math.floor(Math.log(n)/Math.log(1024));return function(n,r){return e||(e=t.get("$filter")("number")),e(n,r)}(n/Math.pow(1024,Math.floor(i)),r)+" "+["B","KB","MB","GB","TB","PB"][i]}}])},dMoo:function(t,e,n){t.exports=n("o8Oe"),n("AiRz"),n("aau1"),n("tsJ/")},dRAY:function(t,e,n){var r=n("UDNL"),i=n("2IC7"),o=n("Q/JU"),a=n("lxjo").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},dbvG:function(t,e,n){var r=n("DRiV"),i=n("KveQ"),o=n("CSyd"),a=n("Ss0U"),s=n("t5Fe"),c=n("2IC7"),u=n("dniD"),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=s(e,!0),u)try{return l(t,e)}catch(n){}if(c(t,e))return o(!i.f.call(t,e),t[e])}},dmvN:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.OuterSubscriber=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("1hPV").Subscriber)},dniD:function(t,e,n){t.exports=!n("DRiV")&&!n("Zup5")((function(){return 7!=Object.defineProperty(n("3qBM")("div"),"a",{get:function(){return 7}}).a}))},du10:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("dmvN"),o=n("kZSD");e.expand=function(t,e,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(r){return r.lift(new a(t,e,n))}};var a=function(){function t(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.concurrent,this.scheduler))},t}();e.ExpandOperator=a;var s=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return r(e,t),e.dispatch=function(t){t.subscriber.subscribeToProjection(t.result,t.value,t.index)},e.prototype._next=function(t){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(t);try{var i=(0,this.project)(t,r);this.scheduler?this.destination.add(this.scheduler.schedule(e.dispatch,0,{subscriber:this,result:i,value:t,index:r})):this.subscribeToProjection(i,t,r)}catch(o){n.error(o)}}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,n){this.active++,this.destination.add(o.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.destination.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(i.OuterSubscriber);e.ExpandSubscriber=s},"e+Ja":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.contain=function(t,e){return t.filter((function(t){return t instanceof RegExp?t.test(e):t===e||!(!e.match||"function"!=typeof e.match||!e.match(t))})).length>0}},e1hM:function(t,e){e.f=Object.getOwnPropertySymbols},e9BD:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return d}));var r=n("D57K"),i=n("bTzN"),o=n("26VM"),a=n("mekd"),s=n("Iwrg"),c=n("Ipt7"),u=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._context={}}return t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout((function(){t._scopeListeners.forEach((function(e){e(t)})),t._notifyingListeners=!1})))},t.prototype._notifyEventProcessors=function(t,e,n,a){var s=this;return void 0===a&&(a=0),new i.a((function(i,c){var u=t[a];if(null===e||"function"!=typeof u)i(e);else{var l=u(r.__assign({},e),n);Object(o.l)(l)?l.then((function(e){return s._notifyEventProcessors(t,e,n,a+1).then(i)})).then(null,c):s._notifyEventProcessors(t,l,n,a+1).then(i).then(null,c)}}))},t.prototype.setUser=function(t){return this._user=Object(a.c)(t),this._notifyScopeListeners(),this},t.prototype.setTags=function(t){return this._tags=r.__assign({},this._tags,Object(a.c)(t)),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=r.__assign({},this._tags,((n={})[t]=Object(a.c)(e),n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=r.__assign({},this._extra,Object(a.c)(t)),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=r.__assign({},this._extra,((n={})[t]=Object(a.c)(e),n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=Object(a.c)(t),this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=Object(a.c)(t),this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this._transaction=t,this._notifyScopeListeners(),this},t.prototype.setContext=function(t,e){return this._context[t]=e?Object(a.c)(e):void 0,this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.startSpan=function(t){var e=new c.a;return e.setParent(t),this.setSpan(e),e},t.prototype.getSpan=function(){return this._span},t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=r.__spread(e._breadcrumbs),n._tags=r.__assign({},e._tags),n._extra=r.__assign({},e._extra),n._context=r.__assign({},e._context),n._user=e._user,n._level=e._level,n._span=e._span,n._transaction=e._transaction,n._fingerprint=e._fingerprint,n._eventProcessors=r.__spread(e._eventProcessors)),n},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._context={},this._level=void 0,this._transaction=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n=(new Date).getTime()/1e3,i=r.__assign({timestamp:n},t);return this._breadcrumbs=void 0!==e&&e>=0?r.__spread(this._breadcrumbs,[Object(a.c)(i)]).slice(-e):r.__spread(this._breadcrumbs,[Object(a.c)(i)]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t.prototype.applyToEvent=function(t,e){return this._extra&&Object.keys(this._extra).length&&(t.extra=r.__assign({},this._extra,t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=r.__assign({},this._tags,t.tags)),this._user&&Object.keys(this._user).length&&(t.user=r.__assign({},this._user,t.user)),this._context&&Object.keys(this._context).length&&(t.contexts=r.__assign({},this._context,t.contexts)),this._level&&(t.level=this._level),this._transaction&&(t.transaction=this._transaction),this._span&&(t.contexts=t.contexts||{},t.contexts.trace=this._span),this._applyFingerprint(t),t.breadcrumbs=r.__spread(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(r.__spread(l(),this._eventProcessors),t,e)},t}();function l(){var t=Object(s.f)();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function d(t){l().push(t)}},fVL5:function(t,e,n){var r=n("BT7O");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(i){}return function(n,i){return r(n,i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},fdxO:function(t,e,n){"use strict";var r=n("EMVo"),i=n("vVDj"),o=n("tkgy");function a(){return new o.Subject}e.share=function(){return function(t){return i.refCount()(r.multicast(a)(t))}}},gCzY:function(t,e){angular.module("castifyExt.requestMicPermission",[]).factory("requestMicPermission",["$window","$q","$interval",function(t,e,n){return function(){var r=e.defer(),i=t.open("mic.html","mic",""),o=!1;i.clGotStream=function(){o=!0,r.resolve()};var a=n((function(){i.closed&&!o&&r.reject("closed mic permission window without granting permission")}),200);return r.promise.finally((function(){n.cancel(a)})),r.promise}}])},gbmF:function(t,e){angular.module("castifyExt.ui.themeConfig",["ngMaterial"]).config(["$mdThemingProvider",function(t){t.definePalette("castify",{50:"ffffff",100:"555555",200:"ef9a9a",300:"e57373",400:"ef5350",500:"ff8282",600:"e53935",700:"d32f2f",800:"c62828",900:"b71c1c",A100:"fd8c00",A200:"ff8282",A400:"00aaff",A700:"d50000"}),t.theme("default").primaryPalette("castify",{default:"500","hue-1":"A100","hue-2":"A200","hue-3":"A400"}).accentPalette("pink")}]).config(["$mdIconProvider",function(t){t.defaultIconSet("../../gen/icons.svg")}])},gd1f:function(t,e){angular.module("castifyEdit.ui.cropCanvas",[]).directive("cfCropCanvas",(function(){return{restrict:"E",require:"^cfVideoCanvas",templateUrl:"components/castifyEdit/ui/crop-canvas/crop-canvas.html",scope:{crop:"=",initialized:"=?",options:"="},link:function(t,e,n,r){var i,o,a,s,c=16,u=e[0],l=angular.element(u.querySelector(".overlay.top")),d=angular.element(u.querySelector(".overlay.bottom")),f=angular.element(u.querySelector(".overlay.left")),h=angular.element(u.querySelector(".overlay.right")),p=angular.element(u.querySelector(".crop-box")),m=angular.element(u.querySelector(".move-handle")),g=angular.element(u.querySelector(".dimension-info")),v=[],y=16/9,b={width:100,height:20};function _(t,e){var n=Math.min(t.left,e.left),r=Math.min(t.top,e.top),i=Math.max(t.top,e.top);return{top:r,left:n,width:Math.max(t.left,e.left)-n,height:i-r}}function w(t){t.left=Math.min(Math.max(t.left,0),s.width),t.top=Math.min(Math.max(t.top,0),s.height)}function S(t){var e=I(r.toVideoCoordinates(t));return A(e),P(e,r.getVideoSize()),e}function E(e){var n=null;return(t.options&&t.options.lockAspectYt||e.ctrlKey)&&(n=y),n}function x(t,e,n){var r=angular.copy(e);r.top+=n.deltaY,r.left+=n.deltaX,C(t,r,E(n.srcEvent),n.isFinal)}function C(e,n,i,o){w(n);var a=function(t,e,n){if(!n)return _(t,e);var r=function(t,e){return{left:t.left-e.left,top:t.top-e.top}}(e,t),i=n;return _(t,function(t,e){return{left:t.left+e.left,top:t.top+e.top}}(t,Math.abs(r.left)<=Math.abs(r.top*i)?{left:r.left,top:Math.abs(r.left/i)*Math.sign(r.top)}:{left:Math.abs(r.top*i)*Math.sign(r.left),top:r.top}))}(e,n,i);!function(t){var e=r.scaleDimToCanvas(c);t.width=Math.max(t.width,e),t.height=Math.max(t.height,e)}(a),T(a),D(a=O(a));var s=S(a);N(s,a),o&&(t.box=s,t.$apply())}function k(e){e.preventDefault(),i||(i=function(e){var n=r.toCanvasCoordinates(t.box);n.bottom=n.top+n.height,n.right=n.left+n.width;var i={left:n.left,top:n.top},o={left:n.right,top:n.top},a={left:n.left,top:n.bottom},s={left:n.right,top:n.bottom},c=e.classList;return c.contains("top-left")?{corner:i,counter:s}:c.contains("top-right")?{corner:o,counter:a}:c.contains("bottom-left")?{corner:a,counter:o}:c.contains("bottom-right")?{corner:s,counter:i}:void 0}(e.target)),x(i.counter,i.corner,e),e.isFinal&&(i=null)}function T(t){P(t,s)}function P(t,e){var n=t.left+t.width-e.width;n>0&&(t.left-=n);var r=t.top+t.height-e.height;r>0&&(t.top-=r),t.top<0&&(t.height+=t.top),t.left<0&&(t.width+=t.left),t.left=Math.max(0,t.left),t.top=Math.max(0,t.top)}function I(t){return{left:Math.round(t.left),top:Math.round(t.top),width:Math.round(t.width),height:Math.round(t.height)}}function A(t){t.width-=t.width%2,t.height-=t.height%2}function O(t){return A(t=I(t=r.toVideoCoordinates(t))),r.toCanvasCoordinates(t)}function $(t){var e=t.x,n=t.y;return t.touches&&t.touches.length&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{left:e-s.left,top:n-s.top}}function M(t){t.preventDefault(),document.removeEventListener("mouseup",M,!0),a&&a.hasPanned&&C(a.start,$(t),E(t),!0),a=null}function D(t){p.toggleClass("ng-hide",!t),t&&((t=I(t)).bottom=t.top+t.height,t.right=t.left+t.width,l.css("height",t.top+"px"),d.css("top",t.bottom+"px"),f.css("top",t.top+"px"),f.css("width",t.left+"px"),f.css("height",t.height+"px"),h.css("top",t.top+"px"),h.css("left",t.right+"px"),h.css("height",t.height+"px"),p.css({top:t.top+"px",left:t.left+"px",width:t.width+"px",height:t.height+"px"}))}function N(t,e){t&&(e||(e=r.toCanvasCoordinates(t)),e.width>b.width&&e.height>b.height)?g.text(`${t.width}✕${t.height} px`):(g.toggleClass("ng-hide",!1),g.text(""))}function R(){t.initialized=!0,s=e[0].getBoundingClientRect(),t.box?D(r.toCanvasCoordinates(t.box)):D()}function L(t,e){var n=new Hammer.Manager(t);n.add(new Hammer.Pan({threshold:0,pointers:0})),n.on("pan",e),v.push(n)}t.$watch("box",(function(e){if(e){var n=r.getVideoSize();N(e),t.crop=0===e.top&&0===e.left&&e.width===n.width&&e.height===n.height?null:e}}),!0),t.$on("videoCanvas:resize",R),t.initialized=!1,angular.forEach(u.querySelectorAll(".handle"),(function(t){L(t,k)})),L(m[0],(function(e){e.preventDefault(),o||(o=r.toCanvasCoordinates(t.box));var n=angular.copy(o);n.top+=e.deltaY,n.left+=e.deltaX,w(n),T(n),D(n=O(n)),e.isFinal&&(o=null,t.box=S(n),t.$apply())})),L(e[0],(function(t){a&&(t.preventDefault(),a.hasPanned=!0,x(a.start,a.start,t),t.isFinal&&(a=null))})),e.bind("mousedown touchstart",(function(t){if(!p[0].contains(t.target)){var e=$(t);a={start:e},document.addEventListener("mouseup",M,!0)}})),t.$on("$destroy",(function(){v.forEach((function(t){t.destroy()}))})),R()}}}))},gxS2:function(t,e,n){"use strict";var r=n("1DPV"),i=n("vgQ0"),o=n("ALqu"),a=n("CICS"),s=n("SqYg"),c=n("RKpm");e.last=function(t,e){var n=arguments.length>=2;return function(u){return u.pipe(t?i.filter((function(e,n){return t(e,n,u)})):c.identity,o.takeLast(1),n?s.defaultIfEmpty(e):a.throwIfEmpty((function(){return new r.EmptyError})))}}},"h+IO":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("D9en"),o=n("DtmU"),a=n("dmvN"),s=n("kZSD");e.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!i.isArray(t[0]))return t[0];t=t[0]}return o.fromArray(t,void 0).lift(new c)};var c=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}();e.RaceOperator=c;var u=function(t){function e(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],i=s.subscribeToResult(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var a=this.subscriptions[o];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(e)},e}(a.OuterSubscriber);e.RaceSubscriber=u},h4Px:function(t,e){!function(t,e){"use strict";var n,r,i,o,a=1,s="-add",c="-remove",u="$$ngAnimateChildren";void 0===t.ontransitionend&&void 0!==t.onwebkittransitionend?(n="WebkitTransition",r="webkitTransitionEnd transitionend"):(n="transition",r="transitionend"),void 0===t.onanimationend&&void 0!==t.onwebkitanimationend?(i="WebkitAnimation",o="webkitAnimationEnd animationend"):(i="animation",o="animationend");var l="Duration",d="TimingFunction",f="PlayState",h=i+"Delay",p=i+l,m=n+"Delay",g=n+l,v=e.$$minErr("ng");function y(t,e,n){if(!t)throw v("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function b(t,e){return t||e?t?e?(Q(t)&&(t=t.join(" ")),Q(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function _(t,e,n){var r="";return t=Q(t)?t:t&&tt(t)&&t.length?t.split(/\s+/):[],K(t,(function(t,i){t&&t.length>0&&(r+=i>0?" ":"",r+=n?e+t:t+e)})),r}function w(t){if(t instanceof nt)switch(t.length){case 0:return t;case 1:if(t[0].nodeType===a)return t;break;default:return nt(S(t))}if(t.nodeType===a)return nt(t)}function S(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===a)return n}}function E(t){return function(e,n){n.addClass&&(function(t,e,n){K(e,(function(e){t.addClass(e,n)}))}(t,e,n.addClass),n.addClass=null),n.removeClass&&(function(t,e,n){K(e,(function(e){t.removeClass(e,n)}))}(t,e,n.removeClass),n.removeClass=null)}}function x(t){if(!(t=t||{}).$$prepared){var e=t.domOperation||rt;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=rt},t.$$prepared=!0}return t}function C(t,e){k(t,e),T(t,e)}function k(t,e){e.from&&(t.css(e.from),e.from=null)}function T(t,e){e.to&&(t.css(e.to),e.to=null)}function P(t,e,n){var r=e.options||{},i=n.options||{},o=(r.addClass||"")+" "+(i.addClass||""),a=(r.removeClass||"")+" "+(i.removeClass||""),u=function(t,e,n){var r={};t=o(t),e=o(e),K(e,(function(t,e){r[e]=1})),n=o(n),K(n,(function(t,e){r[e]=1===r[e]?null:-1}));var i={addClass:"",removeClass:""};function o(t){tt(t)&&(t=t.split(" "));var e={};return K(t,(function(t){t.length&&(e[t]=!0)})),e}return K(r,(function(e,n){var r,o;1===e?(r="addClass",o=!t[n]||t[n+c]):-1===e&&(r="removeClass",o=t[n]||t[n+s]),o&&(i[r].length&&(i[r]+=" "),i[r]+=n)})),i}(t.attr("class"),o,a);i.preparationClasses&&(r.preparationClasses=$(i.preparationClasses,r.preparationClasses),delete i.preparationClasses);var l=r.domOperation!==rt?r.domOperation:null;return G(r,i),l&&(r.domOperation=l),r.addClass=u.addClass?u.addClass:null,r.removeClass=u.removeClass?u.removeClass:null,e.addClass=r.addClass,e.removeClass=r.removeClass,r}function I(t){return t instanceof nt?t[0]:t}function A(t,e){var n=e?"paused":"",r=i+f;return O(t,[r,n]),[r,n]}function O(t,e){t.style[e[0]]=e[1]}function $(t,e){return t?e?t+" "+e:t:e}var M={blockTransitions:function(t,e){var n=e?"-"+e+"s":"";return O(t,[m,n]),[m,n]}},D=["$interpolate",function(t){return{link:function(e,n,r){var i=r.ngAnimateChildren;function o(t){n.data(u,t="on"===t||"true"===t)}tt(i)&&0===i.length?n.data(u,!0):(o(t(i)(e)),r.$observe("ngAnimateChildren",o))}}}],N="$$animateCss",R=1e3,L=3,j=1.5,F={transitionDuration:g,transitionDelay:m,transitionProperty:n+"Property",animationDuration:p,animationDelay:h,animationIterationCount:i+"IterationCount"},B={transitionDuration:g,transitionDelay:m,animationDuration:p,animationDelay:h};function V(t,e){return[e?h:m,t+"s"]}function H(t,e,n){var r=Object.create(null),i=t.getComputedStyle(e)||{};return K(n,(function(t,e){var n,o,a=i[t];if(a){var s=a.charAt(0);("-"===s||"+"===s||s>=0)&&(n=0,o=a.split(/\s*,\s*/),K(o,(function(t){"s"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,n=n?Math.max(t,n):t})),a=n),0===a&&(a=null),r[e]=a}})),r}function U(t){return 0===t||null!=t}function q(t,e){var r=n,i=t+"s";return e?r+=l:i+=" linear all",[r,i]}function z(t,e,n){K(n,(function(n){t[n]=Y(t[n])?t[n]:e.style.getPropertyValue(n)}))}var W,G,K,Q,Y,X,Z,J,tt,et,nt,rt,it=["$animateProvider",function(t){this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$animateCache","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(t,e,a,u,l,f,h,m,g){var v=E(e),y=[];function b(t){y.push(t),m.waitUntilQuiet((function(){l.flush();for(var t=f(),e=0;e<y.length;e++)y[e](t);y.length=0}))}function w(e,n,r,i){var o=function(e,n,r,i,o){var a=l.get(r);return a||"infinite"===(a=H(t,e,o)).animationIterationCount&&(a.animationIterationCount=1),l.put(r,a,i||a.transitionDuration>0||a.animationDuration>0),a}(e,0,r,i,F),a=o.animationDelay,s=o.transitionDelay;return o.maxDelay=a&&s?Math.max(a,s):a||s,o.maxDuration=Math.max(o.animationDuration*o.animationIterationCount,o.transitionDuration),o}return function(f,m){var y=m||{};y.$$prepared||(y=x(W(y)));var S={},E=I(f);if(!E||!E.parentNode||!g.enabled())return Pt();var P,$,D,F,G,Y,X,Z,J,tt,et=[],nt=(f.attr("class"),function(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}(y)),it=[];if(0===y.duration||!h.animations&&!h.transitions)return Pt();var ot=y.event&&Q(y.event)?y.event.join(" "):y.event,at=ot&&y.structural,st="",ct="";at?st=_(ot,"ng-",!0):ot&&(st=ot),y.addClass&&(ct+=_(y.addClass,s)),y.removeClass&&(ct.length&&(ct+=" "),ct+=_(y.removeClass,c)),y.applyClassesEarly&&ct.length&&v(f,y);var ut=[st,ct].join(" ").trim(),lt=nt.to&&Object.keys(nt.to).length>0;if(!((y.keyframeStyle||"").length>0||lt||ut))return Pt();var dt,ft=l.cacheKey(E,ot,y.addClass,y.removeClass);if(l.containsCachedAnimationWithoutDuration(ft))return ut=null,Pt();if(y.stagger>0){var ht=parseFloat(y.stagger);dt={transitionDelay:ht,animationDelay:ht,transitionDuration:0,animationDuration:0}}else dt=function(n,r,i,o){var a,s="stagger-"+i;if(l.count(i)>0&&!(a=l.get(s))){var c=_(r,"-stagger");e.addClass(n,c),(a=H(t,n,o)).animationDuration=Math.max(a.animationDuration,0),a.transitionDuration=Math.max(a.transitionDuration,0),e.removeClass(n,c),l.put(s,a,!0)}return a||{}}(E,ut,ft,B);if(y.$$skipPreparationClasses||e.addClass(f,ut),y.transitionStyle){var pt=[n,y.transitionStyle];O(E,pt),et.push(pt)}if(y.duration>=0){var mt=q(y.duration,E.style[n].length>0);O(E,mt),et.push(mt)}if(y.keyframeStyle){var gt=[i,y.keyframeStyle];O(E,gt),et.push(gt)}var vt=dt?y.staggerIndex>=0?y.staggerIndex:l.count(ft):0,yt=0===vt;yt&&!y.skipBlocking&&M.blockTransitions(E,9999);var bt=w(E,0,ft,!at),_t=bt.maxDelay;Y=Math.max(_t,0),Z=bt.maxDuration;var wt={};if(wt.hasTransitions=bt.transitionDuration>0,wt.hasAnimations=bt.animationDuration>0,wt.hasTransitionAll=wt.hasTransitions&&"all"===bt.transitionProperty,wt.applyTransitionDuration=lt&&(wt.hasTransitions&&!wt.hasTransitionAll||wt.hasAnimations&&!wt.hasTransitions),wt.applyAnimationDuration=y.duration&&wt.hasAnimations,wt.applyTransitionDelay=U(y.delay)&&(wt.applyTransitionDuration||wt.hasTransitions),wt.applyAnimationDelay=U(y.delay)&&wt.hasAnimations,wt.recalculateTimingStyles=ct.length>0,(wt.applyTransitionDuration||wt.applyAnimationDuration)&&(Z=y.duration?parseFloat(y.duration):Z,wt.applyTransitionDuration&&(wt.hasTransitions=!0,bt.transitionDuration=Z,et.push(q(Z,E.style[n+"Property"].length>0))),wt.applyAnimationDuration&&(wt.hasAnimations=!0,bt.animationDuration=Z,et.push([p,Z+"s"]))),0===Z&&!wt.recalculateTimingStyles)return Pt();var St,Et=_(ut,"-active");return null!=y.delay&&("boolean"!=typeof y.delay&&(St=parseFloat(y.delay),Y=Math.max(St,0)),wt.applyTransitionDelay&&et.push(V(St)),wt.applyAnimationDelay&&et.push(V(St,!0))),null==y.duration&&bt.transitionDuration>0&&(wt.recalculateTimingStyles=wt.recalculateTimingStyles||yt),X=Y*R,J=Z*R,y.skipBlocking||(wt.blockTransition=bt.transitionDuration>0,wt.blockKeyframeAnimation=bt.animationDuration>0&&dt.animationDelay>0&&0===dt.animationDuration),y.from&&(y.cleanupStyles&&z(S,E,Object.keys(y.from)),k(f,y)),wt.blockTransition||wt.blockKeyframeAnimation?Tt(Z):y.skipBlocking||M.blockTransitions(E,!1),{$$willAnimate:!0,end:xt,start:function(){if(!P)return F=new a(G={end:xt,cancel:Ct,resume:null,pause:null}),b(At),F}};function xt(){kt()}function Ct(){kt(!0)}function kt(t){if(!(P||D&&$)){P=!0,$=!1,ut&&!y.$$skipPreparationClasses&&e.removeClass(f,ut),Et&&e.removeClass(f,Et),A(E,!1),M.blockTransitions(E,!1),K(et,(function(t){E.style[t[0]]=""})),v(f,y),C(f,y),Object.keys(S).length&&K(S,(function(t,e){t?E.style.setProperty(e,t):E.style.removeProperty(e)})),y.onDone&&y.onDone(),it&&it.length&&f.off(it.join(" "),It);var n=f.data(N);n&&(u.cancel(n[0].timer),f.removeData(N)),F&&F.complete(!t)}}function Tt(t){wt.blockTransition&&M.blockTransitions(E,t),wt.blockKeyframeAnimation&&A(E,!!t)}function Pt(){return F=new a({end:xt,cancel:Ct}),b(rt),kt(),{$$willAnimate:!1,start:function(){return F},end:xt}}function It(t){t.stopPropagation();var e=t.originalEvent||t;if(e.target===E){var n=e.$manualTimeStamp||Date.now(),r=parseFloat(e.elapsedTime.toFixed(L));Math.max(n-tt,0)>=X&&r>=Z&&(D=!0,kt())}}function At(){if(!P)if(E.parentNode){var t=function(t){if(D)$&&t&&($=!1,kt());else if($=!t,bt.animationDuration){var e=A(E,$);$?et.push(e):(i=(n=et).indexOf(r=e),r>=0&&n.splice(i,1))}var n,r,i},a=vt>0&&(bt.transitionDuration&&0===dt.transitionDuration||bt.animationDuration&&0===dt.animationDuration)&&Math.max(dt.animationDelay,dt.transitionDelay);a?u(s,Math.floor(a*vt*R),!1):s(),G.resume=function(){t(!0)},G.pause=function(){t(!1)}}else kt();function s(){if(!P){if(Tt(!1),K(et,(function(t){E.style[t[0]]=t[1]})),v(f,y),e.addClass(f,Et),wt.recalculateTimingStyles){if(E.getAttribute("class"),ft=l.cacheKey(E,ot,y.addClass,y.removeClass),bt=w(E,0,ft,!1),_t=bt.maxDelay,Y=Math.max(_t,0),0===(Z=bt.maxDuration))return void kt();wt.hasTransitions=bt.transitionDuration>0,wt.hasAnimations=bt.animationDuration>0}if(wt.applyAnimationDelay&&(_t="boolean"!=typeof y.delay&&U(y.delay)?parseFloat(y.delay):_t,Y=Math.max(_t,0),bt.animationDelay=_t,St=V(_t,!0),et.push(St),E.style[St[0]]=St[1]),X=Y*R,J=Z*R,y.easing){var t,a=y.easing;wt.hasTransitions&&(et.push([t=n+d,a]),E.style[t]=a),wt.hasAnimations&&(et.push([t=i+d,a]),E.style[t]=a)}bt.transitionDuration&&it.push(r),bt.animationDuration&&it.push(o),tt=Date.now();var s=X+j*J,h=tt+s,p=f.data(N)||[],m=!0;if(p.length){var g=p[0];(m=h>g.expectedEndTime)?u.cancel(g.timer):p.push(kt)}if(m){var b=u(c,s,!1);p[0]={timer:b,expectedEndTime:h},p.push(kt),f.data(N,p)}it.length&&f.on(it.join(" "),It),y.to&&(y.cleanupStyles&&z(S,E,Object.keys(y.to)),T(f,y))}}function c(){var t=f.data(N);if(t){for(var e=1;e<t.length;e++)t[e]();f.removeData(N)}}}}}]}],ot=["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver");var e="ng-animate-shim",n="ng-anchor-out",r="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(t,i,o,a,s,c,u){if(!s.animations&&!s.transitions)return rt;var l,d=u[0].body,f=I(a),h=nt((l=f).parentNode&&11===l.parentNode.nodeType||d.contains(f)?f:d);return function(i){return i.from&&i.to?function(i,a,s,c){var u=g(i),l=g(a),f=[];if(K(c,(function(i){var a=function(i,a,s){var c=nt(I(a).cloneNode(!0)),u=p(y(c));a.addClass(e),s.addClass(e),c.addClass("ng-anchor"),h.append(c);var l,f=function(){var e=t(c,{addClass:n,delay:!0,from:v(a)});return e.$$willAnimate?e:null}();if(!f&&!(l=b()))return _();var g=f||l;return{start:function(){var t,e=g.start();return e.done((function(){if(e=null,!l&&(l=b()))return(e=l.start()).done((function(){e=null,_(),t.complete()})),e;_(),t.complete()})),t=new o({end:n,cancel:n});function n(){e&&e.end()}}};function v(t){var e={},n=I(t).getBoundingClientRect();return K(["width","height","top","left"],(function(t){var r=n[t];switch(t){case"top":r+=d.scrollTop;break;case"left":r+=d.scrollLeft}e[t]=Math.floor(r)+"px"})),e}function y(t){return t.attr("class")||""}function b(){var e=p(y(s)),i=m(e,u),o=m(u,e),a=t(c,{to:v(s),addClass:r+" "+i,removeClass:n+" "+o,delay:!0});return a.$$willAnimate?a:null}function _(){c.remove(),a.removeClass(e),s.removeClass(e)}}(0,i.out,i.in);a&&f.push(a)})),u||l||0!==f.length)return{start:function(){var t=[];u&&t.push(u.start()),l&&t.push(l.start()),K(f,(function(e){t.push(e.start())}));var e=new o({end:n,cancel:n});return o.all(t,(function(t){e.complete(t)})),e;function n(){K(t,(function(t){t.end()}))}}}}(i.from,i.to,0,i.anchors):g(i)};function p(t){return t.replace(/\bng-\S+\b/g,"")}function m(t,e){return tt(t)&&(t=t.split(" ")),tt(e)&&(e=e.split(" ")),t.filter((function(t){return-1===e.indexOf(t)})).join(" ")}function g(e){var n=e.element,r=e.options||{};e.structural&&(r.event=e.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===e.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=$(r.event,r.preparationClasses));var i=t(n,r);return i.$$willAnimate?i:null}}]}],at=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,r){var i=E(r);return function(t,e,r,a){var s=!1;3===arguments.length&&J(r)&&(a=r,r=null),a=x(a),r||(r=t.attr("class")||"",a.addClass&&(r+=" "+a.addClass),a.removeClass&&(r+=" "+a.removeClass));var c,u,l,d,f,h=a.addClass,p=a.removeClass,m=o(r);if(m.length&&("leave"===e?(d="leave",l="afterLeave"):(d="before"+e.charAt(0).toUpperCase()+e.substr(1),l=e),"enter"!==e&&"move"!==e&&(c=_(t,e,a,m,d)),u=_(t,e,a,m,l)),c||u)return{$$willAnimate:!0,end:function(){return f?f.end():(v(),(f=new n).complete(!0)),f},start:function(){if(f)return f;var t;f=new n;var e=[];return c&&e.push((function(e){t=c(e)})),e.length?e.push((function(t){g(),t(!0)})):g(),u&&e.push((function(e){t=u(e)})),f.setHost({end:function(){i()},cancel:function(){i(!0)}}),n.chain(e,r),f;function r(t){v(),f.complete(t)}function i(e){s||((t||rt)(e),r(e))}}};function g(){a.domOperation(),i(t,a)}function v(){s=!0,g(),C(t,a)}function y(t,e,r,i,o){var a;switch(r){case"animate":a=[e,i.from,i.to,o];break;case"setClass":a=[e,h,p,o];break;case"addClass":a=[e,h,o];break;case"removeClass":a=[e,p,o];break;default:a=[e,o]}a.push(i);var s=t.apply(t,a);if(s)if(Z(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(Z(s))return s;return rt}function b(t,e,r,i,o){var a=[];return K(i,(function(i){var s=i[o];s&&a.push((function(){var i,o,a=!1,c=function(t){a||(a=!0,(o||rt)(t),i.complete(!t))};return i=new n({end:function(){c()},cancel:function(){c(!0)}}),o=y(s,t,e,r,(function(t){c(!1===t)})),i}))})),a}function _(t,e,r,i,o){var a,s,c=b(t,e,r,i,o);if(0===c.length&&("beforeSetClass"===o?(a=b(t,"removeClass",r,i,"beforeRemoveClass"),s=b(t,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(a=b(t,"removeClass",r,i,"removeClass"),s=b(t,"addClass",r,i,"addClass")),a&&(c=c.concat(a)),s&&(c=c.concat(s))),0!==c.length)return function(t){var e=[];return c.length&&K(c,(function(t){e.push(t())})),e.length?n.all(e,t):t(),function(t){K(e,(function(e){t?e.cancel():e.end()}))}}}};function o(n){n=Q(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var a=n[o],s=t.$$registeredAnimations[a];s&&!i[a]&&(r.push(e.get(s)),i[a]=!0)}return r}}]}],st=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){return function(t){if(t.from&&t.to){var r=n(t.from),i=n(t.to);if(!r&&!i)return;return{start:function(){var t=[];r&&t.push(r.start()),i&&t.push(i.start()),e.all(t,(function(t){n.complete(t)}));var n=new e({end:o(),cancel:o()});return n;function o(){return function(){K(t,(function(t){t.end()}))}}}}}return n(t)};function n(e){return t(e.element,e.event,e.classes,e.options)}}]}],ct="data-ng-animate",ut=["$animateProvider",function(e){var n=" ",r=this.rules={skip:[],cancel:[],join:[]};function i(t){return{addClass:t.addClass,removeClass:t.removeClass,from:t.from,to:t.to}}function o(t,e){if(t&&e){var r=function(t){if(!t)return null;var e=t.split(n),r=Object.create(null);return K(e,(function(t){r[t]=!0})),r}(e);return t.split(n).some((function(t){return r[t]}))}}function l(t,e,n){return r[t].some((function(t){return t(e,n)}))}function d(t,e){var n=(t.addClass||"").length>0,r=(t.removeClass||"").length>0;return e?n&&r:n||r}r.join.push((function(t,e){return!t.structural&&d(t)})),r.skip.push((function(t,e){return!t.structural&&!d(t)})),r.skip.push((function(t,e){return"leave"===e.event&&t.structural})),r.skip.push((function(t,e){return e.structural&&2===e.state&&!t.structural})),r.cancel.push((function(t,e){return e.structural&&t.structural})),r.cancel.push((function(t,e){return 2===e.state&&t.structural})),r.cancel.push((function(t,e){if(e.structural)return!1;var n=t.addClass,r=t.removeClass,i=e.addClass,a=e.removeClass;return!(et(n)&&et(r)||et(i)&&et(a))&&(o(n,a)||o(r,i))})),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(n,r,o,f,h,p,m,g,v,b,k){var T=new h,A=new h,O=null;function M(t){A.delete(t.target)}var D=r.$watch((function(){return 0===g.totalPendingRequests}),(function(t){t&&(D(),r.$$postDigest((function(){r.$$postDigest((function(){null===O&&(O=!0)}))})))})),N=Object.create(null),R=e.customFilter(),L=e.classNameFilter(),j=function(){return!0},F=R||j,B=L?function(t,e){var n=[t.getAttribute("class"),e.addClass,e.removeClass].join(" ");return L.test(n)}:j,V=E(v);function H(t,e){return P(t,e,{})}var U=t.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))};function q(t,e,n){var r=S(e);return t.filter((function(t){return!(t.node===r&&(!n||t.callback===n))}))}function z(t,e){"close"!==t||e.parentNode||Z.off(e)}var Z={on:function(t,e,n){var r=S(e);N[t]=N[t]||[],N[t].push({node:r,callback:n}),nt(e).on("$destroy",(function(){T.get(r)||Z.off(t,e,n)}))},off:function(t,e,n){if(1!==arguments.length||tt(arguments[0])){var r=N[t];r&&(N[t]=1===arguments.length?null:q(r,e,n))}else for(var i in e=arguments[0],N)N[i]=q(N[i],e)},pin:function(t,e){y(X(t),"element","not an element"),y(X(e),"parentElement","not an element"),t.data("$ngAnimatePin",e)},push:function(t,e,h,g){return(h=h||{}).domOperation=g,function(t,e,h){var g=W(h),v=w(t),y=I(v),b=y&&y.parentNode;g=x(g);var S,E=new m,M=(S=!1,function(t){S?t():r.$$postDigest((function(){S=!0,t()}))});if(Q(g.addClass)&&(g.addClass=g.addClass.join(" ")),g.addClass&&!tt(g.addClass)&&(g.addClass=null),Q(g.removeClass)&&(g.removeClass=g.removeClass.join(" ")),g.removeClass&&!tt(g.removeClass)&&(g.removeClass=null),g.from&&!J(g.from)&&(g.from=null),g.to&&!J(g.to)&&(g.to=null),!(O&&y&&F(y,e,h)&&B(y,g)))return at(),E;var D=["enter","move","leave"].indexOf(e)>=0,R=k(),L=R||A.get(y),j=!L&&T.get(y)||{},q=!!j.state;if(L||q&&1===j.state||(L=!function(t,e,n){var r,i=f[0].body,s=I(o),c=t===i||"HTML"===t.nodeName,l=t===s,d=!1,h=A.get(t),p=nt.data(t,"$ngAnimatePin");for(p&&(e=I(p));e&&(l||(l=e===s),e.nodeType===a);){var m=T.get(e)||{};if(!d){var g=A.get(e);if(!0===g&&!1!==h){h=!0;break}!1===g&&(h=!1),d=m.structural}if(et(r)||!0===r){var v=nt.data(e,u);Y(v)&&(r=v)}if(d&&!1===r)break;if(c||(c=e===i),c&&l)break;e=l||!(p=nt.data(e,"$ngAnimatePin"))?e.parentNode:I(p)}return(!d||r)&&!0!==h&&l&&c}(y,b)),L)return R&&ot(E,e,"start",i(g)),at(),R&&ot(E,e,"close",i(g)),E;D&&function(t){var e=t.querySelectorAll("["+ct+"]");K(e,(function(t){var e=parseInt(t.getAttribute(ct),10),n=T.get(t);if(n)switch(e){case 2:n.runner.end();case 1:T.delete(t)}}))}(y);var G={structural:D,element:v,event:e,addClass:g.addClass,removeClass:g.removeClass,close:at,options:g,runner:E};if(q){if(l("skip",G,j))return 2===j.state?(at(),E):(P(v,j,G),j.runner);if(l("cancel",G,j))if(2===j.state)j.runner.end();else{if(!j.structural)return P(v,j,G),j.runner;j.close()}else if(l("join",G,j)){if(2!==j.state)return function(t,e,n,r){var i="";n&&(i=_(n,"ng-",!0)),r.addClass&&(i=$(i,_(r.addClass,s))),r.removeClass&&(i=$(i,_(r.removeClass,c))),i.length&&(r.preparationClasses=i,e.addClass(i))}(0,v,D?e:null,g),e=G.event=j.event,g=P(v,j,G),j.runner;H(v,G)}}else H(v,G);var X=G.structural;if(X||(X="animate"===G.event&&Object.keys(G.options.to||{}).length>0||d(G)),!X)return at(),rt(y),E;var Z=(j.counter||0)+1;return G.counter=Z,it(y,1,G),r.$$postDigest((function(){v=w(t);var n=T.get(y),r=!n;n=n||{};var o=(v.parent()||[]).length>0&&("animate"===n.event||n.structural||d(n));if(r||n.counter!==Z||!o)return r&&(V(v,g),C(v,g)),(r||D&&n.event!==e)&&(g.domOperation(),E.end()),void(o||rt(y));e=!n.structural&&d(n,!0)?"setClass":n.event,it(y,2);var a=p(v,e,n.options);E.setHost(a),ot(E,e,"start",i(g)),a.done((function(t){at(!t);var n=T.get(y);n&&n.counter===Z&&rt(y),ot(E,e,"close",i(g))}))})),E;function ot(t,e,r,i){M((function(){var t=function(t,e,n){var r=[],i=N[n];return i&&K(i,(function(i){U.call(i.node,e)?r.push(i.callback):"leave"===n&&U.call(i.node,t)&&r.push(i.callback)})),r}(b,y,e);t.length?n((function(){K(t,(function(t){t(v,r,i)})),z(r,y)})):z(r,y)})),t.progress(e,r,i)}function at(t){!function(t,e){e.preparationClasses&&(t.removeClass(e.preparationClasses),e.preparationClasses=null),e.activeClasses&&(t.removeClass(e.activeClasses),e.activeClasses=null)}(v,g),V(v,g),C(v,g),g.domOperation(),E.complete(!t)}}(t,e,h)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!O;else{var r=X(t);if(r){var i=I(t);1===n?e=!A.get(i):(A.has(i)||nt(t).on("$destroy",M),A.set(i,!e))}else e=O=!!t}return e}};return Z;function rt(t){t.removeAttribute(ct),T.delete(t)}function it(t,e,n){(n=n||{}).state=e,t.setAttribute(ct,e);var r=T.get(t),i=r?G(r,n):n;T.set(t,i)}}]}],lt=["$animateProvider",function(t){var e=this.drivers=[],n="$$animationRunner";function r(t){return t.data(n)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler","$$animateCache",function(t,i,o,a,s,c,u){var l=[],d=E(t);return function(f,h,p){p=x(p);var m=["enter","move","leave"].indexOf(h)>=0,g=new a({end:function(){S()},cancel:function(){S(!0)}});if(!e.length)return S(),g;var v=b(f.attr("class"),b(p.addClass,p.removeClass)),y=p.tempClasses;return y&&(v+=" "+y,p.tempClasses=null),m&&f.data("$$animatePrepareClasses","ng-"+h+"-prepare"),function(t,e){t.data(n,e)}(f,g),l.push({element:f,classes:v,event:h,structural:m,options:p,beforeStart:function(){t.addClass(f,y=(y?y+" ":"")+"ng-animate");var e=f.data("$$animatePrepareClasses");e&&(t.removeClass(f,e),e=null)},close:S}),f.on("$destroy",w),l.length>1?g:(i.$$postDigest((function(){var n=[];K(l,(function(t){r(t.element)?n.push(t):t.close()})),l.length=0;var i=function(t){var e=[],n={};K(t,(function(t,r){var i=I(t.element),o=["enter","move"].indexOf(t.event)>=0,a=t.structural?function(t){var e=t.hasAttribute("ng-animate-ref")?[t]:t.querySelectorAll("[ng-animate-ref]"),n=[];return K(e,(function(t){var e=t.getAttribute("ng-animate-ref");e&&e.length&&n.push(t)})),n}(i):[];if(a.length){var s=o?"to":"from";K(a,(function(t){var e=t.getAttribute("ng-animate-ref");n[e]=n[e]||{},n[e][s]={animationID:r,element:nt(t)}}))}else e.push(t)}));var r={},i={};return K(n,(function(n,o){var a=n.from,s=n.to;if(a&&s){var c=t[a.animationID],u=t[s.animationID],l=a.animationID.toString();if(!i[l]){var d=i[l]={structural:!0,beforeStart:function(){c.beforeStart(),u.beforeStart()},close:function(){c.close(),u.close()},classes:_(c.classes,u.classes),from:c,to:u,anchors:[]};d.classes.length?e.push(d):(e.push(c),e.push(u))}i[l].anchors.push({out:a.element,in:s.element})}else{var f=a?a.animationID:s.animationID,h=f.toString();r[h]||(r[h]=!0,e.push(t[f]))}})),e}(n),a=[];K(i,(function(t){var n=t.from?t.from.element:t.element,i=p.addClass,s=u.cacheKey(n[0],t.event,i=(i?i+" ":"")+"ng-animate",p.removeClass);a.push({element:n,domNode:I(n),fn:function(){var n,i=t.close;if(u.containsCachedAnimationWithoutDuration(s))i();else{if(t.beforeStart(),r(t.anchors?t.from.element||t.to.element:t.element)){var a=function(t){for(var n=e.length-1;n>=0;n--){var r=o.get(e[n])(t);if(r)return r}}(t);a&&(n=a.start)}if(n){var c=n();c.done((function(t){i(!t)})),function(t,e){function n(t){var n=r(t);n&&n.setHost(e)}t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element)}(t,c)}else i()}}})}));for(var d=function(t){var e,n={children:[]},r=new s;for(e=0;e<t.length;e++){var i=t[e];r.set(i.domNode,t[e]={domNode:i.domNode,element:i.element,fn:i.fn,children:[]})}for(e=0;e<t.length;e++)o(t[e]);return function(t){var e,n=[],r=[];for(e=0;e<t.children.length;e++)r.push(t.children[e]);var i=r.length,o=0,a=[];for(e=0;e<r.length;e++){var s=r[e];i<=0&&(i=o,o=0,n.push(a),a=[]),a.push(s),s.children.forEach((function(t){o++,r.push(t)})),i--}return a.length&&n.push(a),n}(n);function o(t){if(t.processed)return t;t.processed=!0;var e,i=t.domNode,a=i.parentNode;for(r.set(i,t);a;){if(e=r.get(a)){e.processed||(e=o(e));break}a=a.parentNode}return(e||n).children.push(t),t}}(a),f=0;f<d.length;f++)for(var h=d[f],m=0;m<h.length;m++){var g=h[m],v=g.element;if(d[f][m]=g.fn,0!==f){var y=v.data("$$animatePrepareClasses");y&&t.addClass(v,y)}else v.removeData("$$animatePrepareClasses")}c(d)})),g);function _(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],r=0;r<t.length;r++){var i=t[r];if("ng-"!==i.substring(0,3))for(var o=0;o<e.length;o++)if(i===e[o]){n.push(i);break}}return n.join(" ")}function w(){var t=r(f);!t||"leave"===h&&p.$$domOperationFired||t.end()}function S(e){f.off("$destroy",w),function(t){t.removeData(n)}(f),d(f,p),C(f,p),p.domOperation(),y&&t.removeClass(f,y),g.complete(!e)}}}]}];e.module("ngAnimate",[],(function(){rt=e.noop,W=e.copy,G=e.extend,nt=e.element,K=e.forEach,Q=e.isArray,tt=e.isString,J=e.isObject,et=e.isUndefined,Y=e.isDefined,Z=e.isFunction,X=e.isElement})).info({angularVersion:"1.7.9"}).directive("ngAnimateSwap",["$animate",function(t){return{restrict:"A",transclude:"element",terminal:!0,priority:550,link:function(e,n,r,i,o){var a,s;e.$watchCollection(r.ngAnimateSwap||r.for,(function(e){a&&t.leave(a),s&&(s.$destroy(),s=null),(e||0===e)&&o((function(e,r){a=e,s=r,t.enter(e,null,n)}))}))}}}]).directive("ngAnimateChildren",D).factory("$$rAFScheduler",["$$rAF",function(t){var e,n;function r(t){e=e.concat(t),i()}return e=r.queue=[],r.waitUntilQuiet=function(e){n&&n(),n=t((function(){n=null,e(),i()}))},r;function i(){if(e.length){for(var r=e.shift(),o=0;o<r.length;o++)r[o]();n||t((function(){n||i()}))}}}]).provider("$$animateQueue",ut).provider("$$animateCache",(function(){var t="$$ngAnimateParentKey",e=0,n=Object.create(null);this.$get=[function(){return{cacheKey:function(n,r,i,o){var a=n.parentNode,s=[a[t]||(a[t]=++e),r,n.getAttribute("class")];return i&&s.push(i),o&&s.push(o),s.join(" ")},containsCachedAnimationWithoutDuration:function(t){var e=n[t];return e&&!e.isValid||!1},flush:function(){n=Object.create(null)},count:function(t){var e=n[t];return e?e.total:0},get:function(t){var e=n[t];return e&&e.value},put:function(t,e,r){n[t]?(n[t].total++,n[t].value=e):n[t]={total:1,value:e,isValid:r}}}}]})).provider("$$animation",lt).provider("$animateCss",it).provider("$$animateCssDriver",ot).provider("$$animateJs",at).provider("$$animateJsDriver",st)}(window,window.angular)},hOXu:function(t,e){!function(t,e){"use strict";var n="ngAriaDisable",r=e.module("ngAria",["ng"]).info({angularVersion:"1.7.9"}).provider("$aria",(function(){var t={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeydown:!0,bindRoleForClick:!0};function r(e,r,i,a){return function(s,c,u){if(!u.hasOwnProperty(n)){var l=u.$normalize(r);!t[l]||o(c,i)||u[l]||s.$watch(u[e],(function(t){c.attr(r,t=a?!t:!!t)}))}}}this.config=function(n){t=e.extend(t,n)},this.$get=function(){return{config:function(e){return t[e]},$$watchExpr:r}}})),i=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],o=function(t,e){if(-1!==e.indexOf(t[0].nodeName))return!0};r.directive("ngShow",["$aria",function(t){return t.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(t){return t.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(t){return t.$$watchExpr("ngValue","aria-checked",i,!1)}]).directive("ngChecked",["$aria",function(t){return t.$$watchExpr("ngChecked","aria-checked",i,!1)}]).directive("ngReadonly",["$aria",function(t){return t.$$watchExpr("ngReadonly","aria-readonly",i,!1)}]).directive("ngRequired",["$aria",function(t){return t.$$watchExpr("ngRequired","aria-required",i,!1)}]).directive("ngModel",["$aria",function(t){function e(e,n,r,a){return t.config(n)&&!r.attr(e)&&(a||!o(r,i))&&("hidden"!==r.attr("type")||"INPUT"!==r[0].nodeName)}function r(t,e){return!e.attr("role")&&e.attr("type")===t&&!o(e,i)}return{restrict:"A",require:"ngModel",priority:200,compile:function(i,o){if(!o.hasOwnProperty(n)){var a=function(t,e){var n=t.type,r=t.role;return"checkbox"===(n||r)||"menuitemcheckbox"===r?"checkbox":"radio"===(n||r)||"menuitemradio"===r?"radio":"range"===n||"progressbar"===r||"slider"===r?"range":""}(o);return{post:function(n,i,o,s){var c=e("tabindex","tabindex",i,!1);function u(){return s.$modelValue}switch(a){case"radio":case"checkbox":r(a,i)&&i.attr("role",a),e("aria-checked","ariaChecked",i,!1)&&n.$watch(u,"radio"===a?function(t){i.attr("aria-checked",o.value==s.$viewValue)}:function(){i.attr("aria-checked",!s.$isEmpty(s.$viewValue))}),c&&i.attr("tabindex",0);break;case"range":if(r(a,i)&&i.attr("role","slider"),t.config("ariaValue")){var l=!i.attr("aria-valuemin")&&(o.hasOwnProperty("min")||o.hasOwnProperty("ngMin")),d=!i.attr("aria-valuemax")&&(o.hasOwnProperty("max")||o.hasOwnProperty("ngMax")),f=!i.attr("aria-valuenow");l&&o.$observe("min",(function(t){i.attr("aria-valuemin",t)})),d&&o.$observe("max",(function(t){i.attr("aria-valuemax",t)})),f&&n.$watch(u,(function(t){i.attr("aria-valuenow",t)}))}c&&i.attr("tabindex",0)}!o.hasOwnProperty("ngRequired")&&s.$validators.required&&e("aria-required","ariaRequired",i,!1)&&o.$observe("required",(function(){i.attr("aria-required",!!o.required)})),e("aria-invalid","ariaInvalid",i,!0)&&n.$watch((function(){return s.$invalid}),(function(t){i.attr("aria-invalid",!!t)}))}}}}}}]).directive("ngDisabled",["$aria",function(t){return t.$$watchExpr("ngDisabled","aria-disabled",i,!1)}]).directive("ngMessages",(function(){return{restrict:"A",require:"?ngMessages",link:function(t,e,r,i){r.hasOwnProperty(n)||e.attr("aria-live")||e.attr("aria-live","assertive")}}})).directive("ngClick",["$aria","$parse",function(t,e){return{restrict:"A",compile:function(r,a){if(!a.hasOwnProperty(n)){var s=e(a.ngClick);return function(e,n,r){o(n,i)||(t.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),t.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),!t.config("bindKeydown")||r.ngKeydown||r.ngKeypress||r.ngKeyup||n.on("keydown",(function(t){var n=t.which||t.keyCode;13!==n&&32!==n||(-1!==i.indexOf(t.target.nodeName)||t.target.isContentEditable||t.preventDefault(),e.$apply((function(){s(e,{$event:t})})))})))}}}}}]).directive("ngDblclick",["$aria",function(t){return function(e,r,a){a.hasOwnProperty(n)||!t.config("tabindex")||r.attr("tabindex")||o(r,i)||r.attr("tabindex",0)}}])}(window,window.angular)},heQk:function(t,e,n){var r;t.exports=(r=n("Ni7E"),n("Cf/K"),void(r.lib.Cipher||function(t){var e=r,n=e.lib,i=n.Base,o=n.WordArray,a=n.BufferedBlockAlgorithm,s=e.enc.Base64,c=e.algo.EvpKDF,u=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?y:g}return function(e){return{encrypt:function(n,r,i){return t(r).encrypt(e,n,r,i)},decrypt:function(n,r,i){return t(r).decrypt(e,n,r,i)}}}}()}),l=(n.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),e.mode={}),d=n.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),f=l.CBC=function(){var e=d.extend();function n(e,n,r){var i=this._iv;if(i){var o=i;this._iv=t}else o=this._prevBlock;for(var a=0;a<r;a++)e[n+a]^=o[a]}return e.Encryptor=e.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize;n.call(this,t,e,i),r.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),e.Decryptor=e.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,o=t.slice(e,e+i);r.decryptBlock(t,e),n.call(this,t,e,i),this._prevBlock=o}}),e}(),h=(e.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,r=n-t.sigBytes%n,i=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(i);var c=o.create(a,r);t.concat(c)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},p=(n.BlockCipher=u.extend({cfg:u.cfg.extend({mode:f,padding:h}),reset:function(){u.reset.call(this);var t=this.cfg,e=t.iv,n=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else r=n.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==r?this._mode.init(this,e&&e.words):(this._mode=r.call(n,this,e&&e.words),this._mode.__creator=r)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4}),n.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),m=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;if(n)var r=o.create([1398893684,1701076831]).concat(n).concat(e);else r=e;return r.toString(s)},parse:function(t){var e=s.parse(t),n=e.words;if(1398893684==n[0]&&1701076831==n[1]){var r=o.create(n.slice(2,4));n.splice(0,4),e.sigBytes-=16}return p.create({ciphertext:e,salt:r})}},g=n.SerializableCipher=i.extend({cfg:i.extend({format:m}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var i=t.createEncryptor(n,r),o=i.finalize(e),a=i.cfg;return p.create({ciphertext:o,key:n,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(n,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),v=(e.kdf={}).OpenSSL={execute:function(t,e,n,r){r||(r=o.random(8));var i=c.create({keySize:e+n}).compute(t,r),a=o.create(i.words.slice(e),4*n);return i.sigBytes=4*e,p.create({key:i,iv:a,salt:r})}},y=n.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:v}),encrypt:function(t,e,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,t.keySize,t.ivSize);r.iv=i.iv;var o=g.encrypt.call(this,t,e,i.key,r);return o.mixIn(i),o},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var i=r.kdf.execute(n,t.keySize,t.ivSize,e.salt);return r.iv=i.iv,g.decrypt.call(this,t,e,i.key,r)}})}()))},hjML:function(t,e,n){"use strict";e.noop=function(){}},hk5J:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("tkgy"),o=n("O09R");e.BehaviorSubject=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return r(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.Subject)},huQ6:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return d})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return h})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return m})),n.d(e,"__await",(function(){return g})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return y})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return _})),n.d(e,"__importStar",(function(){return w})),n.d(e,"__importDefault",(function(){return S}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function c(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(e){o(e)}}function s(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function d(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function h(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(t){s("next",t)}function u(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function y(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=h(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}},i3c9:function(t,e,n){var r,i;t.exports=(i=n("Ni7E"),r=i.lib.WordArray,i.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(r.charAt(a>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(t){var e=t.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return function(t,e,n){for(var i=[],o=0,a=0;a<e;a++)if(a%4){var s=n[t.charCodeAt(a-1)]<<a%4*2,c=n[t.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=(s|c)<<24-o%4*8,o++}return r.create(i,o)}(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},i.enc.Base64)},i3dY:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},i5rK:function(t,e,n){"use strict";var r=n("81+z");e.min=function(t){return r.reduce("function"==typeof t?function(e,n){return t(e,n)<0?e:n}:function(t,e){return t<e?t:e})}},i6J5:function(t,e,n){"use strict";var r=n("qiMw"),i=n("6Br6"),o=n("7bXj");e.scheduleIterable=function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.Observable((function(n){var r,a=new i.Subscription;return a.add((function(){r&&"function"==typeof r.return&&r.return()})),a.add(e.schedule((function(){r=t[o.iterator](),a.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),a}))}},i84P:function(t,e,n){"use strict";var r=n("qiMw"),i=n("6Br6");e.schedulePromise=function(t,e){return new r.Observable((function(n){var r=new i.Subscription;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}},iSdK:function(t,e,n){t.exports=n("H6Rg")},iTUk:function(t,e){angular.module("w69b.structs.CircularBuffer",[]).factory("CircularBuffer",(function(){var t=function(t){this.maxSize_=t||100,this.buff_=[]},e=t.prototype;return e.nextPtr_=0,e.add=function(t){this.buff_[this.nextPtr_]=t,this.nextPtr_=(this.nextPtr_+1)%this.maxSize_},e.get=function(t){return t=this.normalizeIndex_(t),this.buff_[t]},e.set=function(t,e){t=this.normalizeIndex_(t),this.buff_[t]=e},e.getCount=function(){return this.buff_.length},e.isEmpty=function(){return 0===this.buff_.length},e.clear=function(){this.buff_.length=0,this.nextPtr_=0},e.getValues=function(){return this.getNewestValues(this.getCount())},e.getNewestValues=function(t){for(var e=this.getCount(),n=[],r=this.getCount()-t;r<e;r++)n.push(this.get(r));return n},e.getKeys=function(){for(var t=[],e=this.getCount(),n=0;n<e;n++)t[n]=n;return t},e.containsKey=function(t){return t<this.getCount()},e.containsValue=function(t){for(var e=this.getCount(),n=0;n<e;n++)if(this.get(n)==t)return!0;return!1},e.getLast=function(){return 0===this.getCount()?null:this.get(this.getCount()-1)},e.normalizeIndex_=function(t){if(t>=this.buff_.length)throw Error("Out of bounds exception");return this.buff_.length<this.maxSize_?t:(this.nextPtr_+Number(t))%this.maxSize_},t}))},ihxi:function(t,e,n){"use strict";var r=n("sBpz"),i=n("lTUY"),o=n("GB03"),a=n("Lbxd"),s=n("VTS6"),c=n("xKJD"),u=n("a96P"),l=n("7bXj"),d=n("k/06");e.subscribeTo=function(t){if(t&&"function"==typeof t[d.observable])return a.subscribeToObservable(t);if(s.isArrayLike(t))return r.subscribeToArray(t);if(c.isPromise(t))return i.subscribeToPromise(t);if(t&&"function"==typeof t[l.iterator])return o.subscribeToIterable(t);var e=u.isObject(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},ije0:function(t,e,n){"use strict";var r=n("l95E"),i=n("DoSS"),o=n("cyo2"),a=n("d0I2");e.timeInterval=function(t){return void 0===t&&(t=r.async),function(e){return o.defer((function(){return e.pipe(i.scan((function(e,n){var r=e.current;return{value:n,current:t.now(),last:r}}),{current:t.now(),value:void 0,last:void 0}),a.map((function(t){return new s(t.value,t.current-t.last)})))}))}};var s=function(){return function(t,e){this.value=t,this.interval=e}}();e.TimeInterval=s},"j7/t":function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),(r=e.Level||(e.Level={}))[r.DATA=0]="DATA",r[r.INFO=1]="INFO",r[r.WARN=2]="WARN",r[r.ERROR=3]="ERROR",r[r.__NOTHING=4]="__NOTHING"},jNCA:function(t,e,n){var r=n("DRiV"),i=n("lxjo"),o=n("7uYF"),a=n("wYoa");t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),s=r.length,c=0;s>c;)i.f(t,n=r[c++],e[n]);return t}},jOvN:function(t,e){angular.module("castifyExt.ui.fileEdit",["castifyEdit.ui.videoEditor","cf2.editJobSchedulerClientService","cf2.upgradeHelperService","castifyWebEdit.webEditUtils"]).controller("FileEditCtrl",["$scope","$transition$","fileDbClient","$location","cf2EditJobSchedulerClientService","cf2UpgradeHelperService","webEditUtils",function(t,e,n,r,i,o,a){t.fileId=e.params().fileId,n.getFileDescriptor(t.fileId).then((function(e){t.file=e})),t.onSave=async function(e){o.hasFeature("hasCropTrim")&&await a.showWaitBeforeCropSaveDialogIfHwEnabled(t.file)&&(e.meta.fileId=t.fileId,i.addJob(e),r.path("/files/"))},t.onCancel=function(){r.replace().path("/files/"+t.fileId)}}])},jVWu:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},jxUv:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("tkgy"),o=n("qiMw"),a=n("6Br6"),s=n("vVDj"),c=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.Subscription).add(this.source.subscribe(new u(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.Subscription.EMPTY)),t},e.prototype.refCount=function(){return s.refCount()(this)},e}(o.Observable);e.ConnectableObservable=c,e.connectableObservableDescriptor=function(){var t=c.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}();var u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.SubjectSubscriber)},"k/06":function(t,e,n){"use strict";e.observable=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},k9QN:function(t,e,n){n("x8vJ"),t.exports=n("UDNL").Object.assign},"kDD/":function(t,e,n){t.exports=n("2YBZ")},kTG4:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return d})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return h})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return m})),n.d(e,"__await",(function(){return g})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return y})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return _})),n.d(e,"__importStar",(function(){return w})),n.d(e,"__importDefault",(function(){return S}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function c(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(e){o(e)}}function s(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function d(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function h(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(t){s("next",t)}function u(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function y(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=h(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}},kXWg:function(t,e,n){var r=n("M5Hp"),i=n("Gn/Z"),o=r["__core-js_shared__"]||i("__core-js_shared__",{});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.0.1",mode:n("q91K")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},kZ4E:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("dmvN"),o=n("d4zx"),a=n("kZSD"),s=n("d0I2"),c=n("R4cV");e.exhaustMap=function t(e,n){return n?function(r){return r.pipe(t((function(t,r){return c.from(e(t,r)).pipe(s.map((function(e,i){return n(t,e,r,i)})))})))}:function(t){return t.lift(new u(e))}};var u=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project))},t}(),l=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return r(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new o.InnerSubscriber(this,void 0,void 0);this.destination.add(r),a.subscribeToResult(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber)},kZSD:function(t,e,n){"use strict";var r=n("d4zx"),i=n("ihxi"),o=n("qiMw");e.subscribeToResult=function(t,e,n,a,s){if(void 0===s&&(s=new r.InnerSubscriber(t,n,a)),!s.closed)return e instanceof o.Observable?e.subscribe(s):i.subscribeTo(e)(s)}},"kk/X":function(t,e,n){var r;t.exports=(r=n("Ni7E"),n("heQk"),r.pad.Iso97971={pad:function(t,e){t.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(t,e)},unpad:function(t){r.pad.ZeroPadding.unpad(t),t.sigBytes--}},r.pad.Iso97971)},kybk:function(t,e){!function(t,e,n){"use strict";e.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.animate","material.core.gestures","material.core.interaction","material.core.layout","material.core.meta","material.core.theming.palette","material.core.theming","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.chips","material.components.colors","material.components.content","material.components.datepicker","material.components.dialog","material.components.divider","material.components.fabActions","material.components.fabShared","material.components.fabSpeedDial","material.components.fabToolbar","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.menu","material.components.menuBar","material.components.navBar","material.components.panel","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.showHide","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.truncate","material.components.virtualRepeat","material.components.whiteframe"]),function(){function t(t,e){e.has("$swipe")&&t.warn("You are using the ngTouch module. \nAngularJS Material already has mobile click, tap, and swipe support... \nngTouch is not supported with AngularJS Material!")}function n(t,e){t.decorator("$$rAF",["$delegate",r]),t.decorator("$q",["$delegate",i]),e.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("deep-orange").backgroundPalette("grey")}function r(t){return t.throttle=function(e){var n,r,i,o;return function(){n=arguments,o=this,i=e,r||(r=!0,t((function(){i.apply(o,Array.prototype.slice.call(n)),r=!1})))}},t}function i(t){return t.resolve||(t.resolve=t.when),t}t.$inject=["$log","$injector"],n.$inject=["$provide","$mdThemingProvider"],r.$inject=["$delegate"],i.$inject=["$delegate"],e.module("material.core",["ngAnimate","material.core.animate","material.core.layout","material.core.interaction","material.core.gestures","material.core.theming"]).config(n).run(t)}(),function(){function t(t){return{restrict:"A",link:{pre:function(n,r,i){var o=i.mdAutoFocus||i.mdAutofocus||i.mdSidenavFocus;function a(t){e.isUndefined(t)&&(t=!0),r.toggleClass("md-autofocus",!!t)}a(t(o)(n)),o&&n.$watch(o,a)}}}}t.$inject=["$parse"],e.module("material.core").directive("mdAutofocus",t).directive("mdAutoFocus",t).directive("mdSidenavFocus",t)}(),e.module("material.core").factory("$mdColorUtil",(function(){return{rgbaToHex:function(t){return((t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):"").toUpperCase()},hexToRgba:function(t){var e="#"===t[0]?t.substr(1):t,n=e.length/3,r=e.substr(0,n),i=e.substr(n,n),o=e.substr(2*n);return 1===n&&(r+=r,i+=i,o+=o),"rgba("+parseInt(r,16)+","+parseInt(i,16)+","+parseInt(o,16)+",0.1)"},rgbToRgba:function(t){return t.replace(")",", 0.1)").replace("(","a(")},rgbaToRgb:function(t){return t?t.replace("rgba","rgb").replace(/,[^),]+\)/,")"):"rgb(0,0,0)"}}})),e.module("material.core").factory("$mdConstant",(function(){var t=document.createElement("div"),n=function(t){var e,n,r=/^(Moz|webkit|ms)(?=[A-Z])/;for(e in t.style)if(n=r.exec(e))return n[0]}(t),r=/webkit/i.test(n),i=/([:\-_]+(.))/g;function o(e){var r=(n+"-"+e).replace(i,(function(t,e,n,r){return r?n.toUpperCase():n})),o=r.charAt(0).toLowerCase()+r.substring(1);return a(t,e)?e:a(t,r)?r:a(t,o)?o:e}function a(t,n){return e.isDefined(t.style[n])}var s={isInputKey:function(t){return t.keyCode>=31&&t.keyCode<=90},isNumPadKey:function(t){return 3===t.location&&t.keyCode>=97&&t.keyCode<=105},isMetaKey:function(t){return t.keyCode>=91&&t.keyCode<=93},isFnLockKey:function(t){return t.keyCode>=112&&t.keyCode<=145},isNavigationKey:function(t){var e=s.KEY_CODE;return-1!=[e.SPACE,e.ENTER,e.UP_ARROW,e.DOWN_ARROW].indexOf(t.keyCode)},hasModifierKey:function(t){return t.ctrlKey||t.metaKey||t.altKey},ELEMENT_MAX_PIXELS:1533917,BEFORE_NG_ARIA:210,KEY_CODE:{COMMA:188,SEMICOLON:186,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(r?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(r?" webkitAnimationEnd":""),TRANSFORM:o("transform"),TRANSFORM_ORIGIN:o("transformOrigin"),TRANSITION:o("transition"),TRANSITION_DURATION:o("transitionDuration"),ANIMATION_PLAY_STATE:o("animationPlayState"),ANIMATION_DURATION:o("animationDuration"),ANIMATION_NAME:o("animationName"),ANIMATION_TIMING:o("animationTimingFunction"),ANIMATION_DIRECTION:o("animationDirection")},MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)",landscape:"(orientation: landscape)",portrait:"(orientation: portrait)",print:"print"},MEDIA_PRIORITY:["xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs","landscape","portrait","print"]};return s})),function(){function t(t,n){var r=function(){return!0};t&&!e.isArray(t)&&(t=Array.prototype.slice.call(t)),n=!!n;var i=t||[];return{items:function(){return[].concat(i)},count:function(){return i.length},inRange:o,contains:s,indexOf:a,itemAt:function(t){return o(t)?i[t]:null},findBy:function(t,e){return i.filter((function(n){return n[t]===e}))},add:function(t,n){return t?(e.isNumber(n)||(n=i.length),i.splice(n,0,t),a(t)):-1},remove:function(t){s(t)&&i.splice(a(t),1)},first:c,last:u,next:e.bind(null,l,!1),previous:e.bind(null,l,!0),hasPrevious:function(t){return!!t&&o(a(t)-1)},hasNext:function(t){return!!t&&o(a(t)+1)}};function o(t){return i.length&&t>-1&&t<i.length}function a(t){return i.indexOf(t)}function s(t){return t&&a(t)>-1}function c(){return i.length?i[0]:null}function u(){return i.length?i[i.length-1]:null}function l(t,s,l,d){l=l||r;for(var f=a(s);;){if(!o(f))return null;var h=f+(t?-1:1),p=null;if(o(h)?p=i[h]:n&&(h=a(p=t?u():c())),null===p||h===d)return null;if(l(p))return p;e.isUndefined(d)&&(d=h),f=h}}}e.module("material.core").config(["$provide",function(e){e.decorator("$mdUtil",["$delegate",function(e){return e.iterator=t,e}])}])}(),function(){function t(t,n,r){var i={},o={},a={},s={};return c.getResponsiveAttribute=function(e,n){for(var r=0;r<t.MEDIA_PRIORITY.length;r++){var a=t.MEDIA_PRIORITY[r];if(o[i[a]].matches){var s=l(e,n+"-"+a);if(e[s])return e[s]}}return e[l(e,n)]},c.getQuery=function(t){return o[t]},c.watchResponsiveAttributes=function(n,r,i){var o=[];return n.forEach((function(n){var a=l(r,n);for(var s in e.isDefined(r[a])&&o.push(r.$observe(a,e.bind(void 0,i,null))),t.MEDIA)a=l(r,n+"-"+s),e.isDefined(r[a])&&o.push(r.$observe(a,e.bind(void 0,i,s)))})),function(){o.forEach((function(t){t()}))}},c;function c(n){var s=i[n];e.isUndefined(s)&&(s=i[n]=function(e){return t.MEDIA[e]||("("!==e.charAt(0)?"("+e+")":e)}(n));var c=a[s];return e.isUndefined(c)&&(c=function(t){var e=o[t];return e||(e=o[t]=r.matchMedia(t)),e.addListener(u),a[e.media]=!!e.matches}(s)),c}function u(t){n.$evalAsync((function(){a[t.media]=!!t.matches}))}function l(t,e){return s[e]||(s[e]=t.$normalize(e))}}t.$inject=["$mdConstant","$rootScope","$window"],e.module("material.core").factory("$mdMedia",t)}(),function(){function t(t,n){var r=["data","x"];return t?n?o(t):i(t):{buildList:i,buildSelector:o,hasAttribute:function(t,e){if(!(t=a(t)))return!1;for(var n=i(e),r=0;r<n.length;r++)if(t.hasAttribute(n[r]))return!0;return!1},removeAttribute:function(t,e){(t=a(t))&&i(e).forEach((function(e){t.removeAttribute(e)}))}};function i(t){return(t=e.isArray(t)?t:[t]).forEach((function(e){r.forEach((function(n){t.push(n+"-"+e)}))})),t}function o(t){return i(t=e.isArray(t)?t:[t]).map((function(t){return"["+t+"]"})).join(",")}function a(t){if((t=t[0]||t).nodeType)return t}}e.module("material.core").config(["$provide",function(e){e.decorator("$mdUtil",["$delegate",function(e){return e.prefixer=t,e}])}])}(),function(){i.$inject=["$document","$timeout","$compile","$rootScope","$$mdAnimate","$interpolate","$log","$rootElement","$window","$$rAF"];var r=0;function i(i,o,a,s,c,u,l,d,f,h){var p=u.startSymbol(),m=u.endSymbol(),g="{{"===p&&"}}"===m;document.contains||(document.contains=function(t){return document.body.contains(t)});var v=function(t,n,r){var i=!1;if(t&&t.length){var o=f.getComputedStyle(t[0]);i=e.isDefined(o[n])&&(!r||o[n]==r)}return i};function y(t){return t?function(t){return String(t).indexOf("px")>-1}(t)||function(t){return String(t).indexOf("%")>-1}(t)?t:t+"px":"0"}var b={dom:{},now:t.performance&&t.performance.now?e.bind(t.performance,t.performance.now):Date.now||function(){return(new Date).getTime()},getModelOption:function(t,e){if(t.$options){var n=t.$options;return n.getOption?n.getOption(e):n[e]}},isRtl:function(t){switch(e.isDefined(t)&&t.hasOwnProperty("dir")&&t.dir){case"ltr":return!1;case"rtl":return!0}return"rtl"===i[0].dir||"rtl"===i[0].body.dir},bidi:function(t,n,r,i){var o=!this.isRtl();if(0==arguments.length)return o?"ltr":"rtl";var a=e.element(t);o&&e.isDefined(r)?a.css(n,y(r)):!o&&e.isDefined(i)&&a.css(n,y(i))},bidiProperty:function(t,n,r,i){var o=!this.isRtl(),a=e.element(t);o&&e.isDefined(n)?(a.css(n,y(i)),a.css(r,"")):!o&&e.isDefined(r)&&(a.css(r,y(i)),a.css(n,""))},clientRect:function(t,e,n){var r=_(t);e=_(e||r.offsetParent||document.body);var i=r.getBoundingClientRect(),o=n?e.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:i.left-o.left,top:i.top-o.top,width:i.width,height:i.height}},offsetRect:function(t,e){return b.clientRect(t,e,!0)},nodesToArray:function(t){t=t||[];for(var e=[],n=0;n<t.length;++n)e.push(t.item(n));return e},getViewportTop:function(){return b.disableScrollAround._count&&b.disableScrollAround._viewPortTop?b.disableScrollAround._viewPortTop:f.scrollY||f.pageYOffset||0},findFocusTarget:function(t,n){var r,i=this.prefixer("md-autofocus",!0);return(r=o(t,n||i))||n==i||(r=o(t,this.prefixer("md-auto-focus",!0)))||(r=o(t,i)),r;function o(t,n){var r,i=t[0].querySelectorAll(n);return i&&i.length&&i.length&&e.forEach(i,(function(t){(t=e.element(t)).hasClass("md-autofocus")&&(r=t)})),r}},disableScrollAround:function(t,n,r){if(r=r||{},b.disableScrollAround._count=Math.max(0,b.disableScrollAround._count||0),b.disableScrollAround._count++,b.disableScrollAround._restoreScroll)return b.disableScrollAround._restoreScroll;var o=i[0].body,a=function(){var t=i[0].documentElement,n=t.style.cssText||"",r=o.style.cssText||"",a=b.getViewportTop();b.disableScrollAround._viewPortTop=a;var s=o.clientWidth,c=t.scrollTop>0?t:o;return o.scrollHeight>o.clientHeight+1&&e.element(o).css({position:"fixed",width:"100%",top:-a+"px"}),o.clientWidth<s&&(o.style.overflow="hidden"),function(){o.style.cssText=r,t.style.cssText=n,c.scrollTop=a}}(),s=function(t,n){var r,i=e.element(t||o);function a(t){t.preventDefault()}return n.disableScrollMask?r=i:(r=e.element('<div class="md-scroll-mask">  <div class="md-scroll-mask-bar"></div></div>'),i.append(r)),r.on("wheel",a),r.on("touchmove",a),function(){r.off("wheel"),r.off("touchmove"),!n.disableScrollMask&&r[0].parentNode&&r[0].parentNode.removeChild(r[0])}}(n,r);return b.disableScrollAround._restoreScroll=function(){--b.disableScrollAround._count<=0&&(delete b.disableScrollAround._viewPortTop,a(),s(),delete b.disableScrollAround._restoreScroll)}},enableScrolling:function(){var t=this.disableScrollAround._restoreScroll;t&&t()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===n){var t=e.element("<div><div></div></div>").css({width:"100%","z-index":-1,position:"absolute",height:"35px","overflow-y":"scroll"});t.children().css("height","60px"),i[0].body.appendChild(t[0]),this.floatingScrollbars.cached=t[0].offsetWidth==t[0].childNodes[0].offsetWidth,t.remove()}return this.floatingScrollbars.cached},forceFocus:function(e){var n=e[0]||e;document.addEventListener("click",(function t(e){e.target===n&&e.$focus&&(n.focus(),e.stopImmediatePropagation(),e.preventDefault(),n.removeEventListener("click",t))}),!0);var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!1,!0,t,{},0,0,0,0,!1,!1,!1,!1,0,null),r.$material=!0,r.$focus=!0,n.dispatchEvent(r)},createBackdrop:function(t,e){return a(b.supplant('<md-backdrop class="{0}">',[e]))(t)},supplant:function(t,e,n){return t.replace(n=n||/\{([^{}]*)\}/g,(function(t,n){var r=n.split("."),i=e;try{for(var o in r)r.hasOwnProperty(o)&&(i=i[r[o]])}catch(a){i=t}return"string"==typeof i||"number"==typeof i?i:t}))},fakeNgModel:function(){return{$fake:!0,$setTouched:e.noop,$setViewValue:function(t){this.$viewValue=t,this.$render(t),this.$viewChangeListeners.forEach((function(t){t()}))},$isEmpty:function(t){return 0===(""+t).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:e.noop}},debounce:function(t,e,r,i){var a;return function(){var s=r,c=Array.prototype.slice.call(arguments);o.cancel(a),a=o((function(){a=n,t.apply(s,c)}),e||10,i)}},throttle:function(t,e){var n;return function(){var r=this,i=arguments,o=b.now();(!n||o-n>e)&&(t.apply(r,i),n=o)}},time:function(t){var e=b.now();return t(),b.now()-e},valueOnUse:function(t,e,n){var r=null,i=Array.prototype.slice.call(arguments),o=i.length>3?i.slice(3):[];Object.defineProperty(t,e,{get:function(){return null===r&&(r=n.apply(t,o)),r}})},nextUid:function(){return""+r++},disconnectScope:function(t){if(t&&t.$root!==t&&!t.$$destroyed){var e=t.$parent;t.$$disconnected=!0,e.$$childHead===t&&(e.$$childHead=t.$$nextSibling),e.$$childTail===t&&(e.$$childTail=t.$$prevSibling),t.$$prevSibling&&(t.$$prevSibling.$$nextSibling=t.$$nextSibling),t.$$nextSibling&&(t.$$nextSibling.$$prevSibling=t.$$prevSibling),t.$$nextSibling=t.$$prevSibling=null}},reconnectScope:function(t){if(t&&t.$root!==t&&t.$$disconnected){var e=t,n=e.$parent;e.$$disconnected=!1,e.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=e,n.$$childTail=e):n.$$childHead=n.$$childTail=e}},getClosest:function(t,n,r){if(e.isString(n)){var i=n.toUpperCase();n=function(t){return t.nodeName.toUpperCase()===i}}if(t instanceof e.element&&(t=t[0]),r&&(t=t.parentNode),!t)return null;do{if(n(t))return t}while(t=t.parentNode);return null},elementContains:function(n,r){var i=t.Node&&t.Node.prototype&&Node.prototype.contains;return e.bind(n,i?n.contains:function(t){return n===r||!!(16&this.compareDocumentPosition(t))})(r)},extractElementByName:function(t,n,r,i){var o=function t(e){return function(t){if(t)for(var e=0,r=t.length;e<r;e++)if(t[e].nodeName.toLowerCase()===n)return t[e];return null}(e)||(r?function(e){var n;if(e)for(var r=0,i=e.length;r<i;r++){var o=e[r];if(!n)for(var a=0,s=o.childNodes.length;a<s;a++)n=n||t([o.childNodes[a]])}return n}(e):null)}(t);return!o&&i&&l.warn(b.supplant("Unable to find node '{0}' in element '{1}'.",[n,t[0].outerHTML])),e.element(o||t)},initOptionalProperties:function(t,n,r){r=r||{},e.forEach(t.$$isolateBindings,(function(i,o){if(i.optional&&e.isUndefined(t[o])){var a=e.isDefined(n[i.attrName]);t[o]=e.isDefined(r[o])?r[o]:a}}))},nextTick:function(t,e,n){var r=b.nextTick,i=r.timeout,a=r.queue||[];return a.push({scope:n,callback:t}),null==e&&(e=!0),r.digest=r.digest||e,r.queue=a,i||(r.timeout=o((function(){var t=r.queue,e=r.digest;r.queue=[],r.timeout=null,r.digest=!1,t.forEach((function(t){t.scope&&t.scope.$$destroyed||t.callback()})),e&&s.$digest()}),0,!1))},processTemplate:function(t){return g?t:t&&e.isString(t)?t.replace(/\{\{/g,p).replace(/}}/g,m):t},getParentWithPointerEvents:function(t){for(var e=t.parent();v(e,"pointer-events","none");)e=e.parent();return e},getNearestContentElement:function(t){for(var e=t.parent()[0];e&&e!==d[0]&&e!==document.body&&"MD-CONTENT"!==e.nodeName.toUpperCase();)e=e.parentNode;return e},checkStickySupport:function(){var t,n=e.element("<div>");i[0].body.appendChild(n[0]);for(var r=["sticky","-webkit-sticky"],o=0;o<r.length;++o)if(n.css({position:r[o],top:0,"z-index":2}),n.css("position")==r[o]){t=r[o];break}return n.remove(),t},parseAttributeBoolean:function(t,e){return""===t||!!t&&(!1===e||"false"!==t&&"0"!==t)},hasComputedStyle:v,isParentFormSubmitted:function(t){var n=b.getClosest(t,"form"),r=n?e.element(n).controller("form"):null;return!!r&&r.$submitted},animateScrollTo:function(t,e,n){var r=t.scrollTop,i=e-r,o=r<e,a=b.now();h((function s(){var c,u=(c=n||1e3,function(t,e,n,r){if(t>r)return e+n;var i=(t/=r)*t;return e+n*(i*t*-2+3*i)}(b.now()-a,r,i,c));t.scrollTop=u,(o?u<e:u>e)&&h(s)}))},uniq:function(t){if(t)return t.filter((function(t,e,n){return n.indexOf(t)===e}))},getInnerHTML:function(t){var e=new XMLSerializer;return Array.prototype.map.call(t.childNodes,(function(t){return e.serializeToString(t)})).join("")},getOuterHTML:function(t){return(new XMLSerializer).serializeToString(t)},msie:t.document.documentMode};return b.dom.animator=c(b),b;function _(t){return t[0]||t}}e.module("material.core").factory("$mdUtil",i),e.element.prototype.focus=e.element.prototype.focus||function(){return this.length&&this[0].focus(),this},e.element.prototype.blur=e.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),e.module("material.core").factory("$$mdAnimate",["$q","$timeout","$mdConstant","$animateCss",function(n,r,i,o){return function(a){return function(n,r,i,o,a){var s;return s={translate3d:function(t,e,n,r){return a(t,{from:e,to:n,addClass:r.transitionInClass,removeClass:r.transitionOutClass,duration:r.duration}).start().then((function(){return i}));function i(n){return a(t,{to:n||e,addClass:r.transitionOutClass,removeClass:r.transitionInClass,duration:r.duration}).start()}},waitTransitionEnd:function(e,n){var a=3e3;return r((function(r,s){var c;("0s"==(c=(c=(n=n||{}).cachedTransitionStyles)||t.getComputedStyle(e[0])).transitionDuration||!c.transition&&!c.transitionProperty)&&(a=0);var u=i(l,n.timeout||a);function l(t){t&&t.target!==e[0]||(t&&i.cancel(u),e.off(o.CSS.TRANSITIONEND,l),r())}e.on(o.CSS.TRANSITIONEND,l)}))},calculateTransformValues:function(t,e){var n,r,i=e.element,o=e.bounds;if(i||o){var a=i?s.clientRect(i)||((r=(n=t?t.parent():null)?n.parent():null)?s.clientRect(r):null):s.copyRect(o),c=s.copyRect(t[0].getBoundingClientRect()),u=s.centerPointFor(c),l=s.centerPointFor(a);return{centerX:l.x-u.x,centerY:l.y-u.y,scaleX:Math.round(100*Math.min(.5,a.width/c.width))/100,scaleY:Math.round(100*Math.min(.5,a.height/c.height))/100}}return{centerX:0,centerY:0,scaleX:.5,scaleY:.5}},calculateZoomToOrigin:function(t,r){return e.bind(null,n.supplant,"translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )")(s.calculateTransformValues(t,r))},calculateSlideToOrigin:function(t,r){return e.bind(null,n.supplant,"translate3d( {centerX}px, {centerY}px, 0 )")(s.calculateTransformValues(t,r))},toCss:function(t){var n={};return e.forEach(t,(function(t,i){if(!e.isUndefined(t))if("left top right bottom width height x y min-width min-height max-width max-height".indexOf(i)>=0)n[i]=t+"px";else switch(i){case"transition":r(0,o.CSS.TRANSITION,t);break;case"transform":r(0,o.CSS.TRANSFORM,t);break;case"transformOrigin":r(0,o.CSS.TRANSFORM_ORIGIN,t);break;case"font-size":n["font-size"]=t}})),n;function r(t,r,i){e.forEach(r.split(" "),(function(t){n[t]=i}))}},toTransformCss:function(t,n,r){var i={};return e.forEach(o.CSS.TRANSFORM.split(" "),(function(e){i[e]=t})),n&&(i.transition=r=r||"all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important"),i},copyRect:function(t,n){return t?(n=n||{},e.forEach("left top right bottom width height".split(" "),(function(e){n[e]=Math.round(t[e])})),n.width=n.width||n.right-n.left,n.height=n.height||n.bottom-n.top,n):null},clientRect:function(t){var n,r=e.element(t)[0].getBoundingClientRect();return(n=r)&&n.width>0&&n.height>0?s.copyRect(r):null},centerPointFor:function(t){return t?{x:Math.round(t.left+t.width/2),y:Math.round(t.top+t.height/2)}:{x:0,y:0}}}}(a,n,r,i,o)}}]),e.version.minor>=4?e.module("material.core.animate",[]):function(){var t=e.forEach,n=e.isDefined(document.documentElement.style.WebkitAppearance),r=n?"-webkit-":"",i=(n?"webkitTransitionEnd ":"")+"transitionend",o=(n?"webkitAnimationEnd ":"")+"animationend",a=["$q","$$rAFMutex",function(n,r){function i(t){this.setHost(t),this._doneCallbacks=[],this._runInAnimationFrame=r(),this._state=0}return i.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:e.noop,getPromise:function(){if(!this.promise){var t=this;this.promise=n((function(e,n){t.done((function(t){!1===t?n():e()}))}))}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._runInAnimationFrame((function(){e._resolve(t)})))},_resolve:function(e){2!==this._state&&(t(this._doneCallbacks,(function(t){t(e)})),this._doneCallbacks.length=0,this._state=2)}},i.all=function(e,n){var r=0,i=!0;function o(t){i=i&&t,++r===e.length&&n(i)}t(e,(function(t){t.done(o)}))},i}];function s(t){return t.replace(/-[a-z]/g,(function(t){return t.charAt(1).toUpperCase()}))}e.module("material.core.animate",[]).factory("$$forceReflow",["$document",function(t){return function(){return t[0].body.clientWidth+1}}]).factory("$$AnimateRunner",a).factory("$$rAFMutex",["$$rAF",function(t){return function(){var e=!1;return t((function(){e=!0})),function(n){e?n():t(n)}}}]).factory("$animateCss",["$window","$$rAF","$$AnimateRunner","$$forceReflow","$$jqLite","$timeout","$animate",function(e,a,c,u,l,d,f){function h(t,e){e.addClass&&(l.addClass(t,e.addClass),e.addClass=null),e.removeClass&&(l.removeClass(t,e.removeClass),e.removeClass=null)}function p(e){var n=0,r=(e||"").split(/\s*,\s*/);return t(r,(function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,n=n?Math.max(t,n):t})),n}var m,g=[];function v(t,e){e.from&&(t.css(e.from),e.from=null)}function y(t,e){e.to&&(t.css(e.to),e.to=null)}function b(t){for(var e=0;e<t.length;e++)if(1===t[e].nodeType)return t[e]}function _(t,e){var n=b(t),i=s(r+"transition-delay");n.style[i]=e?"-9999s":""}return function(l,w){var S=[],E=b(l),x=E&&f.enabled(),C=!1,k=!1;x&&(w.transitionStyle&&S.push([r+"transition",w.transitionStyle]),w.keyframeStyle&&S.push([r+"animation",w.keyframeStyle]),w.delay&&S.push([r+"transition-delay",w.delay+"s"]),w.duration&&S.push([r+"transition-duration",w.duration+"s"]),C=w.keyframeStyle||w.to&&(w.duration>0||w.transitionStyle),k=!!w.addClass||!!w.removeClass,_(l,!0));var T=x&&(C||k);v(l,w);var P,I,A=!1;return{close:e.close,start:function(){var f,x=new c;return f=function(){if(_(l,!1),!T)return C();t(S,(function(t){var e=t[1];E.style[s(t[0])]=e})),h(l,w);var a=function(t){var r=b(t),i=e.getComputedStyle(r),o=p(i[u("transitionDuration")]),a=p(i[u("animationDuration")]),s=p(i[u("transitionDelay")]),c=p(i[u("animationDelay")]);return a*=parseInt(i[u("animationIterationCount")],10)||1,{duration:Math.max(a,o),delay:Math.max(c,s),animationDuration:a,transitionDuration:o,animationDelay:c,transitionDelay:s};function u(t){return n?"Webkit"+t.charAt(0).toUpperCase()+t.substr(1):t}}(l);if(0===a.duration)return C();var c=[];w.easing&&(a.transitionDuration&&c.push([r+"transition-timing-function",w.easing]),a.animationDuration&&c.push([r+"animation-timing-function",w.easing])),w.delay&&a.animationDelay&&c.push([r+"animation-delay",w.delay+"s"]),w.duration&&a.animationDuration&&c.push([r+"animation-duration",w.duration+"s"]),t(c,(function(t){var e=t[1];E.style[s(t[0])]=e,S.push(t)}));var u=1e3*a.delay,f=a.duration,m=1e3*f,g=Date.now();P=[],a.transitionDuration&&P.push(i),a.animationDuration&&P.push(o),P=P.join(" "),l.on(P,I=function(t){t.stopPropagation();var e=t.originalEvent||t,n=e.timeStamp||Date.now(),r=parseFloat(e.elapsedTime.toFixed(3));Math.max(n-g,0)>=u&&r>=f&&C()}),y(l,w),d(C,u+1.5*m,!1)},m&&m(),g.push(f),m=a((function(){m=null;for(var t=u(),e=0;e<g.length;e++)g[e](t);g.length=0})),x;function C(){if(!A)return A=!0,P&&I&&l.off(P,I),h(l,w),function(t,e){v(t,e),y(t,e)}(l,w),t(S,(function(t){E.style[s(t[0])]=""})),x.complete(!0),x}}}}}])}(),function(){function t(t,n,r,i){var o=this.showWarnings;return{expect:a,expectAsync:s,expectWithText:function(t,e){var n=c(t)||"";n.indexOf(i.startSymbol())>-1?s(t,e,(function(){return c(t)})):a(t,e,n)},expectWithoutText:function(t,e){var n=c(t);n.indexOf(i.startSymbol())>-1||n||a(t,e,n)},getText:c,hasAriaLabel:u,parentHasAriaLabel:function t(n,r){r=r||1;var i=e.element(n)[0]||n;return!!i.parentNode&&(!!function(t){if(!u(t))return!1;if(t.hasAttribute("role"))switch(t.getAttribute("role").toLowerCase()){case"command":case"definition":case"directory":case"grid":case"list":case"listitem":case"log":case"marquee":case"menu":case"menubar":case"note":case"presentation":case"separator":case"scrollbar":case"status":case"tablist":return!1}switch(t.tagName.toLowerCase()){case"abbr":case"acronym":case"address":case"applet":case"audio":case"b":case"bdi":case"bdo":case"big":case"blockquote":case"br":case"canvas":case"caption":case"center":case"cite":case"code":case"col":case"data":case"dd":case"del":case"dfn":case"dir":case"div":case"dl":case"em":case"embed":case"fieldset":case"figcaption":case"font":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"hgroup":case"html":case"i":case"ins":case"isindex":case"kbd":case"keygen":case"label":case"legend":case"li":case"map":case"mark":case"menu":case"object":case"ol":case"output":case"pre":case"presentation":case"q":case"rt":case"ruby":case"samp":case"small":case"source":case"span":case"status":case"strike":case"strong":case"sub":case"sup":case"svg":case"tbody":case"td":case"th":case"thead":case"time":case"tr":case"track":case"tt":case"ul":case"var":return!1}return!0}(i.parentNode)||!!--r&&t(i.parentNode,r))}};function a(t,i,a){var s=e.element(t)[0]||t;!s||s.hasAttribute(i)&&0!==s.getAttribute(i).length||function(t,e){var n,i=!1;if(t.hasChildNodes())for(var o=t.childNodes,a=0;a<o.length;a++){var s=o[a];1===s.nodeType&&s.hasAttribute(e)&&"none"!==((n=s).currentStyle?n.currentStyle:r.getComputedStyle(n)).display&&(i=!0)}return i}(s,i)||((a=e.isString(a)?a.trim():"").length?t.attr(i,a):o&&n.warn('ARIA: Attribute "',i,'", required for accessibility, is missing on node:',s))}function s(e,n,r){t((function(){a(e,n,r())}))}function c(t){t=t[0]||t;for(var e,n=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1),r="";e=n.nextNode();)i(e)||(r+=e.textContent);return r.trim()||"";function i(e){for(;e.parentNode&&(e=e.parentNode)!==t;)if(e.getAttribute&&"true"===e.getAttribute("aria-hidden"))return!0}}function u(t){var n=e.element(t)[0]||t;return!!n.hasAttribute&&(n.hasAttribute("aria-label")||n.hasAttribute("aria-labelledby")||n.hasAttribute("aria-describedby"))}}t.$inject=["$$rAF","$log","$window","$interpolate"],e.module("material.core").provider("$mdAria",(function(){var e={showWarnings:!0};return{disableWarnings:function(){e.showWarnings=!1},$get:["$$rAF","$log","$window","$interpolate",function(n,r,i,o){return t.apply(e,arguments)}]}}))}(),function(){function t(t){var n=!1;function r(t,e,n,r,i){this.$q=t,this.$templateRequest=e,this.$injector=n,this.$compile=r,this.$controller=i}this.respectPreAssignBindingsEnabled=function(t){return e.isDefined(t)?(n=t,this):n},this.$get=["$q","$templateRequest","$injector","$compile","$controller",function(t,e,n,i,o){return new r(t,e,n,i,o)}],r.prototype.compile=function(t){return t.contentElement?this._prepareContentElement(t):this._compileTemplate(t)},r.prototype._prepareContentElement=function(t){var e=this._fetchContentElement(t);return this.$q.resolve({element:e.element,cleanup:e.restore,locals:{},link:function(){return e.element}})},r.prototype._compileTemplate=function(t){var n=this,r=t.templateUrl,i=t.template||"",o=e.extend({},t.resolve),a=e.extend({},t.locals),s=t.transformTemplate||e.identity;return e.forEach(o,(function(t,r){o[r]=e.isString(t)?n.$injector.get(t):n.$injector.invoke(t)})),e.extend(o,a),o.$$ngTemplate=r?this.$templateRequest(r):this.$q.when(i),this.$q.all(o).then((function(r){var i=s(r.$$ngTemplate,t),o=t.element||e.element("<div>").html(i.trim()).contents();return n._compileElement(r,o,t)}))},r.prototype._compileElement=function(t,n,r){var i=this,o=this.$compile(n),a={element:n,cleanup:n.remove.bind(n),locals:t,link:function(s){if(t.$scope=s,r.controller){var c=e.extend({},t,{$element:n}),u=i._createController(r,c,t);n.data("$ngControllerController",u),n.children().data("$ngControllerController",u),a.controller=u}return o(s)}};return a},r.prototype._createController=function(r,i,o){var a;if(!n||("function"==typeof t.preAssignBindingsEnabled?t.preAssignBindingsEnabled():1===e.version.major&&e.version.minor<6)){var s=this.$controller(r.controller,i,!0);r.bindToController&&e.extend(s.instance,o),a=s()}else a=this.$controller(r.controller,i),r.bindToController&&e.extend(a,o);return r.controllerAs&&(i.$scope[r.controllerAs]=a),e.isFunction(a.$onInit)&&a.$onInit(),a},r.prototype._fetchContentElement=function(t){var n=t.contentElement,r=null;return e.isString(n)?r=i(n=document.querySelector(n)):(n=n[0]||n,r=document.contains(n)?i(n):function(){n.parentNode&&n.parentNode.removeChild(n)}),{element:e.element(n),restore:r};function i(t){var e=t.parentNode,n=t.nextElementSibling;return function(){n?e.insertBefore(t,n):e.appendChild(t)}}}}e.module("material.core").provider("$mdCompiler",t),t.$inject=["$compileProvider"]}(),function(){p.$inject=["$$MdGestureHandler","$$rAF","$timeout"],g.$inject=["$mdGesture","$$MdGestureHandler"];var n,r,i={},o=6,a=!1,s=!1,c=null,u=!1;if(t.navigator)var l=t.navigator.userAgent||t.navigator.vendor||t.opera,d=l.match(/ipad|iphone|ipod/i),f=l.match(/android/i);function h(){}function p(n,r,s){var c=function(){for(var t=document.createElement("div"),n=["","webkit","Moz","MS","ms","o"],r=0;r<n.length;r++){var i=n[r],o=i?i+"TouchAction":"touchAction";if(e.isDefined(t.style[o]))return o}}(),u={handler:function(t,r){var o=new n(t);return e.extend(o,r),i[t]=o,u},register:function(t,e,n){var r=i[e.replace(/^\$md./,"")];if(!r)throw new Error("Failed to register element with handler "+e+". Available handlers: "+Object.keys(i).join(", "));return r.registerElement(t,n)},isAndroid:f,isIos:d,isHijackingClicks:(d||f)&&!(void 0!==t.jQuery&&e.element===t.jQuery)&&!a};function l(t){return function(e,n){n.distance<this.state.options.maxDistance&&this.dispatchEvent(e,t,n)}}return u.isHijackingClicks&&(u.handler("click",{options:{maxDistance:o},onEnd:l("click")}),u.handler("focus",{options:{maxDistance:o},onEnd:function(t,e){e.distance<this.state.options.maxDistance&&S(t.target)&&(this.dispatchEvent(t,"focus",e),t.target.focus())}}),u.handler("mouseup",{options:{maxDistance:o},onEnd:l("mouseup")}),u.handler("mousedown",{onStart:function(t){this.dispatchEvent(t,"mousedown")}})),u.handler("press",{onStart:function(t,e){this.dispatchEvent(t,"$md.pressdown")},onEnd:function(t,e){this.dispatchEvent(t,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){s.cancel(this.state.timeout)},onStart:function(t,n){if(!this.state.registeredParent)return this.cancel();this.state.pos={x:n.x,y:n.y},this.state.timeout=s(e.bind(this,(function(){this.dispatchEvent(t,"$md.hold"),this.cancel()})),this.state.options.delay,!1)},onMove:function(t,e){c||"touchmove"!==t.type||t.preventDefault();var n=this.state.pos.x-e.x,r=this.state.pos.y-e.y;Math.sqrt(n*n+r*r)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onSetup:function(t,e){c&&(this.oldTouchAction=t[0].style[c],t[0].style[c]=e.horizontal?"pan-y":"pan-x")},onCleanup:function(t){this.oldTouchAction&&(t[0].style[c]=this.oldTouchAction)},onStart:function(t){this.state.registeredParent||this.cancel()},onMove:function(t,e){var n,r;c||"touchmove"!==t.type||t.preventDefault(),this.state.dragPointer?this.dispatchDragMove(t):(this.state.options.horizontal?(n=Math.abs(e.distanceX)>this.state.options.minDistance,r=Math.abs(e.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(e.distanceY)>this.state.options.minDistance,r=Math.abs(e.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=v(t),_(t,this.state.dragPointer),this.dispatchEvent(t,"$md.dragstart",this.state.dragPointer)):r&&this.cancel())},dispatchDragMove:r.throttle((function(t){this.state.isRunning&&(_(t,this.state.dragPointer),this.dispatchEvent(t,"$md.drag",this.state.dragPointer))})),onEnd:function(t,e){this.state.dragPointer&&(_(t,this.state.dragPointer),this.dispatchEvent(t,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(t,e){Math.abs(e.velocityX)>this.state.options.minVelocity&&Math.abs(e.distanceX)>this.state.options.minDistance?this.dispatchEvent(t,"left"==e.directionX?"$md.swipeleft":"$md.swiperight"):Math.abs(e.velocityY)>this.state.options.minVelocity&&Math.abs(e.distanceY)>this.state.options.minDistance&&this.dispatchEvent(t,"up"==e.directionY?"$md.swipeup":"$md.swipedown")}})}function m(t){this.name=t,this.state={}}function g(t,o){function a(t){!t.clientX&&!t.clientY||t.$material||t.isIonicTap||b(t)||"mousedown"===t.type&&(S(t.target)||S(document.activeElement))||(t.preventDefault(),t.stopPropagation())}function l(t,e){var r;for(var a in i)(r=i[a])instanceof o&&("start"===t&&r.cancel(),r[t](e,n))}s||(!u&&t.isHijackingClicks&&(document.addEventListener("click",(function(t){(d?e.isDefined(t.webkitForce)&&0===t.webkitForce:0===t.clientX&&0===t.clientY)||t.$material||t.isIonicTap||b(t)?(c=null,"label"===t.target.tagName.toLowerCase()&&(c={x:t.x,y:t.y})):(t.preventDefault(),t.stopPropagation(),c=null)}),!0),document.addEventListener("mouseup",a,!0),document.addEventListener("mousedown",a,!0),document.addEventListener("focus",a,!0),u=!0),e.element(document).on("mousedown touchstart pointerdown",(function(t){if(!n){var e=+Date.now();r&&!y(t,r)&&e-r.endTime<1500||(n=v(t),l("start",t))}})).on("mousemove touchmove pointermove",(function(t){n&&y(t,n)&&(_(t,n),l("move",t))})).on("mouseup mouseleave touchend touchcancel pointerup pointercancel",(function(t){n&&y(t,n)&&(_(t,n),n.endTime=+Date.now(),"pointercancel"!==t.type&&l("end",t),r=n,n=null)})).on("$$mdGestureReset",(function(){r=n=null})))}function v(t){var e=w(t),n={startTime:+Date.now(),target:t.target,type:t.type.charAt(0)};return n.startX=n.x=e.pageX,n.startY=n.y=e.pageY,n}function y(t,e){return t&&e&&t.type.charAt(0)===e.type}function b(t){return c&&c.x===t.x&&c.y===t.y}function _(t,e){var n=w(t),r=e.x=n.pageX,i=e.y=n.pageY;e.distanceX=r-e.startX,e.distanceY=i-e.startY,e.distance=Math.sqrt(e.distanceX*e.distanceX+e.distanceY*e.distanceY),e.directionX=e.distanceX>0?"right":e.distanceX<0?"left":"",e.directionY=e.distanceY>0?"down":e.distanceY<0?"up":"",e.duration=+Date.now()-e.startTime,e.velocityX=e.distanceX/e.duration,e.velocityY=e.distanceY/e.duration}function w(t){return(t=t.originalEvent||t).touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0]||t}function S(t){return!!t&&"-1"!==t.getAttribute("tabindex")&&!t.hasAttribute("disabled")&&(t.hasAttribute("tabindex")||t.hasAttribute("href")||t.isContentEditable||-1!==["INPUT","SELECT","BUTTON","TEXTAREA","VIDEO","AUDIO"].indexOf(t.nodeName))}e.module("material.core.gestures",[]).provider("$mdGesture",h).factory("$$MdGestureHandler",(function(){return m.prototype={options:{},dispatchEvent:void 0!==t.jQuery&&e.element===t.jQuery?function(t,r,i){i=i||n;var o=new e.element.Event(r);o.$material=!0,o.pointer=i,o.srcEvent=t,e.extend(o,{clientX:i.x,clientY:i.y,screenX:i.x,screenY:i.y,pageX:i.x,pageY:i.y,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey}),e.element(i.target).trigger(o)}:function(e,r,i){var o;i=i||n,"click"===r||"mouseup"===r||"mousedown"===r?"function"==typeof t.MouseEvent?o=new MouseEvent(r,{bubbles:!0,cancelable:!0,screenX:Number(e.screenX),screenY:Number(e.screenY),clientX:Number(i.x),clientY:Number(i.y),ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,button:e.button,buttons:e.buttons,relatedTarget:e.relatedTarget||null}):(o=document.createEvent("MouseEvents")).initMouseEvent(r,!0,!0,t,e.detail,i.x,i.y,i.x,i.y,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget||null):"function"==typeof t.CustomEvent?o=new CustomEvent(r,{bubbles:!0,cancelable:!0,detail:{}}):(o=document.createEvent("CustomEvent")).initCustomEvent(r,!0,!0,{}),o.$material=!0,o.pointer=i,o.srcEvent=e,i.target.dispatchEvent(o)},onSetup:e.noop,onCleanup:e.noop,onStart:e.noop,onMove:e.noop,onEnd:e.noop,onCancel:e.noop,start:function(t,n){if(!this.state.isRunning){var r=this.getNearestParent(t.target);this.state={isRunning:!0,options:e.extend({},this.options,r&&r.$mdGesture[this.name]||{}),registeredParent:r},this.onStart(t,n)}},move:function(t,e){this.state.isRunning&&this.onMove(t,e)},end:function(t,e){this.state.isRunning&&(this.state.isRunning=!1,this.onEnd(t,e))},cancel:function(t,e){this.onCancel(t,e),this.state={}},getNearestParent:function(t){for(var e=t;e;){if((e.$mdGesture||{})[this.name])return e;e=e.parentNode}return null},registerElement:function(t,e){var n=this;return t[0].$mdGesture=t[0].$mdGesture||{},t[0].$mdGesture[this.name]=e||{},t.on("$destroy",r),n.onSetup(t,e||{}),r;function r(){delete t[0].$mdGesture[n.name],t.off("$destroy",r),n.onCleanup(t,e||{})}}},m})).run(g),h.prototype={disableAll:function(){s=!0},skipClickHijack:function(){return a=!0},setMaxClickDistance:function(t){o=parseInt(t)},$get:["$$MdGestureHandler","$$rAF","$timeout",function(t,e,n){return new p(t,e,n)}]}}(),function(){function n(n,r,i){this.$timeout=n,this.$mdUtil=r,this.$rootScope=i,this.pointerEvent="MSPointerEvent"in t?"MSPointerDown":"PointerEvent"in t?"pointerdown":null,this.bodyElement=e.element(document.body),this.isBuffering=!1,this.bufferTimeout=null,this.lastInteractionType=null,this.lastInteractionTime=null,this.inputHandler=this.onInputEvent.bind(this),this.bufferedInputHandler=this.onBufferInputEvent.bind(this),this.inputEventMap={keydown:"keyboard",mousedown:"mouse",mouseenter:"mouse",touchstart:"touch",pointerdown:"pointer",MSPointerDown:"pointer"},this.iePointerMap={2:"touch",3:"touch",4:"mouse"},this.initializeEvents(),this.$rootScope.$on("$destroy",this.deregister.bind(this))}n.$inject=["$timeout","$mdUtil","$rootScope"],e.module("material.core.interaction",[]).service("$mdInteraction",n),n.prototype.deregister=function(){this.bodyElement.off("keydown mousedown",this.inputHandler),"ontouchstart"in document.documentElement&&this.bodyElement.off("touchstart",this.bufferedInputHandler),this.pointerEvent&&this.bodyElement.off(this.pointerEvent,this.inputHandler)},n.prototype.initializeEvents=function(){this.bodyElement.on("keydown mousedown",this.inputHandler),"ontouchstart"in document.documentElement&&this.bodyElement.on("touchstart",this.bufferedInputHandler),this.pointerEvent&&this.bodyElement.on(this.pointerEvent,this.inputHandler)},n.prototype.onInputEvent=function(t){if(!this.isBuffering){var e=this.inputEventMap[t.type];"pointer"===e&&(e=this.iePointerMap[t.pointerType]||t.pointerType),this.lastInteractionType=e,this.lastInteractionTime=this.$mdUtil.now()}},n.prototype.onBufferInputEvent=function(t){this.$timeout.cancel(this.bufferTimeout),this.onInputEvent(t),this.isBuffering=!0,this.bufferTimeout=this.$timeout((function(){this.isBuffering=!1}).bind(this),650,!1)},n.prototype.getLastInteractionType=function(){return this.lastInteractionType},n.prototype.isUserInvoked=function(t){var n=e.isNumber(t)?t:15;return this.lastInteractionTime>=this.$mdUtil.now()-n}}(),e.module("material.core").provider("$$interimElement",(function(){return r.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$mdUtil","$mdCompiler","$mdTheming","$injector","$exceptionHandler"],t.$get=r,t;function t(t){a.$inject=["$$interimElement","$injector"];var n=["onHide","onShow","onRemove"],r={},i={presets:{}},o={setDefaults:function(t){return i.optionsFactory=t.options,i.methods=(t.methods||[]).concat(n),o},addPreset:function(e,r){if((r=r||{}).methods=r.methods||[],r.options=r.options||function(){return{}},/^cancel|hide|show$/.test(e))throw new Error("Preset '"+e+"' in "+t+" is reserved!");if(r.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+t+" is reserved!");return i.presets[e]={methods:r.methods.concat(n),optionsFactory:r.options,argOption:r.argOption},o},addMethod:function(t,e){return r[t]=e,o},$get:a};return o.addPreset("build",{methods:["controller","controllerAs","resolve","multiple","template","templateUrl","themable","transformTemplate","parent","contentElement"]}),o;function a(n,o){var a,s,c=n(),u={hide:c.hide,cancel:c.cancel,show:function(t){return(t=t||{})._options&&(t=t._options),c.show(e.extend({},s,t))},destroy:function(t){return c.destroy(t)}};return a=i.methods||[],s=l(i.optionsFactory,{}),e.forEach(r,(function(t,e){u[e]=t})),e.forEach(i.presets,(function(t,n){var r=l(t.optionsFactory,{}),i=(t.methods||[]).concat(a);function o(t){this._options=e.extend({},r,t)}if(e.extend(r,{$type:n}),e.forEach(i,(function(t){o.prototype[t]=function(e){return this._options[t]=e,this}})),t.argOption){var s="show"+n.charAt(0).toUpperCase()+n.slice(1);u[s]=function(t){var e=u[n](t);return u.show(e)}}u[n]=function(n){return arguments.length&&t.argOption&&!e.isObject(n)&&!e.isArray(n)?(new o)[t.argOption](n):new o(n)}})),u;function l(e,n){var r={};return r[t]=u,o.invoke(e||function(){return n},{},r)}}}function r(t,r,i,o,a,s,c,u,l,d,f){return function(){var h,p=[],m=[],g=[];return h={show:function(t){var e=new y((t=t||{})||{}),n=t.multiple?r.resolve():r.all(p);t.multiple||(n=n.then((function(){var t=m.concat(g.map(h.cancel));return r.all(t)})));var i=n.then((function(){return e.show().then((function(){g.push(e)})).catch((function(t){return t})).finally((function(){p.splice(p.indexOf(i),1)}))}));return p.push(i),e.deferred.promise.catch((function(t){return t instanceof Error&&f(t),t})),e.deferred.promise},hide:v((function(t,e){return(e=e||{}).closeAll?r.all(g.slice().reverse().map(i)):e.closeTo!==n?r.all(g.slice(e.closeTo).map(i)):i(g[g.length-1]);function i(n){if(!n)return r.when(t);var i=n.remove(t,!1,e||{}).catch((function(t){return t})).finally((function(){m.splice(m.indexOf(i),1)}));return g.splice(g.indexOf(n),1),m.push(i),n.deferred.promise}})),cancel:v((function(t,n){var i=g.pop();if(!i)return r.when(t);var o=i.remove(t,!0,n||{}).catch((function(t){return t})).finally((function(){m.splice(m.indexOf(o),1)}));return m.push(o),i.deferred.promise.catch(e.noop)})),destroy:function(t){var n=t?null:g.shift(),i=e.element(t).length&&e.element(t)[0].parentNode;if(i){var o=g.filter((function(t){return t.options.element[0]===i}));o.length&&g.splice(g.indexOf(n=o[0]),1)}return n?n.remove(!1,!1,{$destroy:!0}):r.when(!1)},$injector_:d};function v(t){return function(){var e=arguments;return g.length?t.apply(h,e):p.length?p[0].finally((function(){return t.apply(h,e)})):r.when("No interim elements currently showing up.")}}function y(d){var f,p,m=r.when(!0);return d=function(t){return(t=t||{}).template&&(t.template=c.processTemplate(t.template)),e.extend({preserveScope:!1,cancelAutoHide:e.noop,scope:t.scope||i.$new(t.isolateScope),onShow:function(t,e,n){return s.enter(e,n.parent)},onRemove:function(t,e){return e&&s.leave(e)||r.when()}},t)}(d),f={options:d,deferred:r.defer(),show:function(){return r((function(n,i){function o(t){f.deferred.reject(t),i(t)}d.onCompiling&&d.onCompiling(d),function(t){return(t.skipCompile?null:u.compile(t))||r((function(e){e({locals:{},link:function(){return t.element}})}))}(d).then((function(i){p=function(n,r){e.extend(n.locals,r);var i=n.link(r.scope);return r.element=i,r.parent=function(n,r){var i,o=r.parent;return((o=e.isFunction(o)?o(r.scope,n,r):e.isString(o)?e.element(t[0].querySelector(o)):e.element(o))||{}).length?o:(a[0]&&a[0].querySelector&&(i=a[0].querySelector(":not(svg) > body")),i||(i=a[0]),"#comment"==i.nodeName&&(i=t[0].body),e.element(i))}(i,r),r.themable&&l(i),i}(i,d),d.cleanupElement=i.cleanup,m=function(t,n,i){var o=n.onShowing||e.noop,a=n.onComplete||e.noop;try{o(n.scope,t,n,i)}catch(s){return r.reject(s)}return r((function(e,o){try{r.when(n.onShow(n.scope,t,n,i)).then((function(){a(n.scope,t,n),g(),e(t)}),o)}catch(s){o(s.message)}}))}(p,d,i.controller).then(n,o)})).catch(o)}))},remove:function(t,n,i){return p?((d=e.extend(d||{},i||{})).cancelAutoHide&&d.cancelAutoHide(),d.element.triggerHandler("$mdInterimElementRemove"),!0===d.$destroy?v(d.element,d).then((function(){n&&a(t)||o(t)})):(r.when(m).finally((function(){v(d.element,d).then((function(){n?a(t):o(t)}),a)})),f.deferred.promise)):r.when(!1);function o(t){f.deferred.resolve(t)}function a(t){f.deferred.reject(t)}}};function g(){var t,r=e.noop;d.hideDelay&&(t=o(h.hide,d.hideDelay),r=function(){o.cancel(t)}),d.cancelAutoHide=function(){r(),d.cancelAutoHide=n}}function v(t,n){var i=n.onRemoving||e.noop;return r((function(e,o){try{var a=r.when(n.onRemove(n.scope,t,n)||!0);i(t,a),n.$destroy?(e(t),!n.preserveScope&&n.scope&&a.then((function(){n.scope.$destroy()}))):a.then((function(){!n.preserveScope&&n.scope&&n.scope.$destroy(),e(t)}),o)}catch(s){o(s.message)}}))}}}}})),function(){var t,n,r,i=/(-gt)?-(sm|md|lg|print)/g,o=/\s+/g,a=["grow","initial","auto","none","noshrink","nogrow"],s=["row","column"],c=["","start","center","end","stretch","space-around","space-between"],u=["","start","center","end","stretch"],l={enabled:!0,breakpoints:[]};function d(){var t=!!document.querySelector("[md-layouts-disabled]");l.enabled=!t}function f(){return l.enabled=!1,{restrict:"A",priority:"900"}}function h(i){return["$mdUtil","$interpolate","$log",function(a,s,c){return t=a,n=s,r=c,{restrict:"A",compile:function(t,n){var r;return l.enabled&&(g(i,b(i,n,""),v(0,i,n)),o(0,t),r=o),r||e.noop}}}];function o(t,e){e.addClass(i)}}function p(t){var n=t.split("-");return["$log",function(r){return r.warn(t+"has been deprecated. Please use a `"+n[0]+"-gt-<xxx>` variant."),e.noop}]}function m(e,n,r,o){var a=r[0].nodeName.toLowerCase();switch(e.replace(i,"")){case"flex":"md-button"!=a&&"fieldset"!=a||o.warn(t.supplant("Markup '{0}' may not work as expected in IE Browsers. Consult '{1}' for details.",["<"+a+" "+e+"></"+a+">","https://github.com/philipwalton/flexbugs#9-some-html-elements-cant-be-flex-containers"]))}}function g(n,r,l){if(!y(r)){switch(n.replace(i,"")){case"layout":_(r,s)||(r=s[0]);break;case"flex":_(r,a)||isNaN(r)&&(r="");break;case"flex-offset":case"flex-order":r&&!isNaN(+r)||(r="0");break;case"layout-align":var d=function(t){var e,n={main:"start",cross:"stretch"};return 0!==(t=t||"").indexOf("-")&&0!==t.indexOf(" ")||(t="none"+t),(e=t.toLowerCase().trim().replace(o,"-").split("-")).length&&"space"===e[0]&&(e=[e[0]+"-"+e[1],e[2]]),e.length>0&&(n.main=e[0]||n.main),e.length>1&&(n.cross=e[1]||n.cross),c.indexOf(n.main)<0&&(n.main="start"),u.indexOf(n.cross)<0&&(n.cross="stretch"),n}(r);r=t.supplant("{main}-{cross}",d);break;case"layout-padding":case"layout-margin":case"layout-fill":case"layout-wrap":case"layout-nowrap":r=""}null!=r&&(l||e.noop)(r)}return r?r.trim():""}function v(t,e,n){return function(t){y(t)||(n[n.$normalize(e)]=t)}}function y(t){return(t||"").indexOf(n.startSymbol())>-1}function b(t,e,n){var r=e.$normalize(t);return e[r]?e[r].trim().replace(o,"-"):n||null}function _(t,e,n){t=n&&t?t.replace(o,n):t;var r=!1;return t&&e.forEach((function(e){e=n?e.replace(o,n):e,r=r||e===t})),r}!function(i){var a=/^((?:x|data)[:\-_])/i,s=/([:\-_]+(.))/g,c=["layout","flex","flex-order","flex-offset","layout-align"],u=["show","hide","layout-padding","layout-margin"];function y(t){return t.replace(a,"").replace(s,(function(t,e,n,r){return r?n.toUpperCase():n}))}e.forEach(["","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl","print"],(function(a){e.forEach(c,(function(s){var c=a?s+"-"+a:s;i.directive(y(c),function(i){return["$mdUtil","$interpolate","$log",function(o,s,c){return t=o,n=s,r=c,{restrict:"A",compile:function(t,n){var o;return l.enabled&&(m(i,0,t,r),g(i,b(i,n,""),v(0,i,n)),o=a),o||e.noop}}}];function a(t,n,r){var a=function(t,n){var r;return function(i){var a=g(n,i||"");e.isDefined(a)&&(r&&t.removeClass(r),r=a?n+"-"+a.trim().replace(o,"-"):n,t.addClass(r))}}(n,i),s=r.$observe(r.$normalize(i),a);a(b(i,r,"")),t.$on("$destroy",(function(){s()}))}}(c))})),e.forEach(u,(function(t){var e=a?t+"-"+a:t;i.directive(y(e),h(e))}))})),i.provider("$$mdLayout",(function(){return{$get:e.noop,validateAttributeValue:g,validateAttributeUsage:m,disableLayouts:function(t){l.enabled=!0!==t}}})).directive("mdLayoutCss",f).directive("ngCloak",["$timeout",function(t){return{restrict:"A",priority:-10,compile:function(n){return l.enabled?(n.addClass("ng-cloak"),function(e,n){t((function(){n.removeClass("ng-cloak")}),10,!1)}):e.noop}}}]).directive("layoutWrap",h("layout-wrap")).directive("layoutNowrap",h("layout-nowrap")).directive("layoutNoWrap",h("layout-no-wrap")).directive("layoutFill",h("layout-fill")).directive("layoutLtMd",p("layout-lt-md")).directive("layoutLtLg",p("layout-lt-lg")).directive("flexLtMd",p("flex-lt-md")).directive("flexLtLg",p("flex-lt-lg")).directive("layoutAlignLtMd",p("layout-align-lt-md")).directive("layoutAlignLtLg",p("layout-align-lt-lg")).directive("flexOrderLtMd",p("flex-order-lt-md")).directive("flexOrderLtLg",p("flex-order-lt-lg")).directive("offsetLtMd",p("flex-offset-lt-md")).directive("offsetLtLg",p("flex-offset-lt-lg")).directive("hideLtMd",p("hide-lt-md")).directive("hideLtLg",p("hide-lt-lg")).directive("showLtMd",p("show-lt-md")).directive("showLtLg",p("show-lt-lg")).config(d)}(e.module("material.core.layout",["ng"]))}(),function(){function t(t){this._$timeout=t,this._liveElement=this._createLiveElement(),this._announceTimeout=100}t.$inject=["$timeout"],e.module("material.core").service("$mdLiveAnnouncer",t),t.prototype.announce=function(t,e){e||(e="polite");var n=this;n._liveElement.textContent="",n._liveElement.setAttribute("aria-live",e),n._$timeout((function(){n._liveElement.textContent=t}),n._announceTimeout,!1)},t.prototype._createLiveElement=function(){var t=document.createElement("div");return t.classList.add("md-visually-hidden"),t.setAttribute("role","status"),t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),document.body.appendChild(t),t}}(),e.module("material.core.meta",[]).provider("$$mdMeta",(function(){var t=e.element(document.head),n={};function r(t){if(n[t])return!0;var r=document.getElementsByName(t)[0];return!!r&&(n[t]=e.element(r),!0)}var i={setMeta:function(i,o){if(r(i),n[i])n[i].attr("content",o);else{var a=e.element('<meta name="'+i+'" content="'+o+'"/>');t.append(a),n[i]=a}return function(){n[i].attr("content",""),n[i].remove(),delete n[i]}},getMeta:function(t){if(!r(t))throw Error("$$mdMeta: could not find a meta tag with the name '"+t+"'");return n[t].attr("content")}};return e.extend({},i,{$get:function(){return i}})})),function(){function t(t,r){var i,o=[],a={};return i={notFoundError:function(e,n){t.error((n||"")+"No instance found for handle",e)},getInstances:function(){return o},get:function(t){if(!s(t))return null;var e,n,r;for(e=0,n=o.length;e<n;e++)if((r=o[e]).$$mdHandle===t)return r;return null},register:function(t,n){return n?(t.$$mdHandle=n,o.push(t),(r=a[n])&&(r.forEach((function(e){e.resolve(t)})),delete a[n]),function(){var e=o.indexOf(t);-1!==e&&o.splice(e,1)}):e.noop;var r},when:function(t){if(s(t)){var e=r.defer(),o=i.get(t);return o?e.resolve(o):(a[t]===n&&(a[t]=[]),a[t].push(e)),e.promise}return r.reject("Invalid `md-component-id` value.")}};function s(t){return t&&""!==t}}t.$inject=["$log","$q"],e.module("material.core").factory("$mdComponentRegistry",t)}(),function(){function t(t){return{attach:function(n,r,i){return i=e.extend(function(t){return t.hasClass("md-icon-button")?{isMenuItem:t.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:t.hasClass("md-menu-item"),dimBackground:!0}}(r),i),t.attach(n,r,i)}}}t.$inject=["$mdInkRipple"],e.module("material.core").factory("$mdButtonInkRipple",t)}(),function(){function t(t){return{attach:function(n,r,i){return t.attach(n,r,e.extend({center:!0,dimBackground:!1,fitRipple:!0},i))}}}t.$inject=["$mdInkRipple"],e.module("material.core").factory("$mdCheckboxInkRipple",t)}(),function(){function t(t){return{attach:function(n,r,i){return t.attach(n,r,e.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},i))}}}t.$inject=["$mdInkRipple"],e.module("material.core").factory("$mdListInkRipple",t)}(),function(){function t(t,n){return{controller:e.noop,link:function(e,r,i){i.hasOwnProperty("mdInkRippleCheckbox")?n.attach(e,r):t.attach(e,r)}}}function n(t,n,r,i,o,a,s){this.$window=i,this.$timeout=o,this.$mdUtil=a,this.$mdColorUtil=s,this.$scope=t,this.$element=n,this.options=r,this.mousedown=!1,this.ripples=[],this.timeout=null,this.lastRipple=null,a.valueOnUse(this,"container",this.createContainer),this.$element.addClass("md-ink-ripple"),(n.controller("mdInkRipple")||{}).createRipple=e.bind(this,this.createRipple),(n.controller("mdInkRipple")||{}).setColor=e.bind(this,this.color),this.bindEvents()}function r(t,n){(t.mousedown||t.lastRipple)&&(t.mousedown=!1,t.$mdUtil.nextTick(e.bind(t,n),!1))}function i(){return{controller:e.noop}}n.$inject=["$scope","$element","rippleOptions","$window","$timeout","$mdUtil","$mdColorUtil"],t.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],e.module("material.core").provider("$mdInkRipple",(function(){var t=!1;return{disableInkRipple:function(){t=!0},$get:["$injector",function(r){return{attach:function(i,o,a){return t||o.controller("mdNoInk")?e.noop:r.instantiate(n,{$scope:i,$element:o,rippleOptions:a})}}}]}})).directive("mdInkRipple",t).directive("mdNoInk",i).directive("mdNoBar",i).directive("mdNoStretch",i),n.prototype.color=function(t){var n,r;return e.isDefined(t)&&(this._color=this._parseColor(t)),this._color||this._parseColor(this.inkRipple())||this._parseColor((r=(n=this.options&&this.options.colorElement?this.options.colorElement:[]).length?n[0]:this.$element[0])?this.$window.getComputedStyle(r).color:"rgb(0,0,0)")},n.prototype.calculateColor=function(){return this.color()},n.prototype._parseColor=function(t,e){e=e||1;var n=this.$mdColorUtil;if(t)return 0===t.indexOf("rgba")?t.replace(/\d?\.?\d*\s*\)\s*$/,(.1*e).toString()+")"):0===t.indexOf("rgb")?n.rgbToRgba(t):0===t.indexOf("#")?n.hexToRgba(t):void 0},n.prototype.bindEvents=function(){this.$element.on("mousedown",e.bind(this,this.handleMousedown)),this.$element.on("mouseup touchend",e.bind(this,this.handleMouseup)),this.$element.on("mouseleave",e.bind(this,this.handleMouseup)),this.$element.on("touchmove",e.bind(this,this.handleTouchmove))},n.prototype.handleMousedown=function(t){if(!this.mousedown)if(t.hasOwnProperty("originalEvent")&&(t=t.originalEvent),this.mousedown=!0,this.options.center)this.createRipple(this.container.prop("clientWidth")/2,this.container.prop("clientWidth")/2);else if(t.srcElement!==this.$element[0]){var e=this.$element[0].getBoundingClientRect();this.createRipple(t.clientX-e.left,t.clientY-e.top)}else this.createRipple(t.offsetX,t.offsetY)},n.prototype.handleMouseup=function(){this.$timeout((function(){r(this,this.clearRipples)}).bind(this))},n.prototype.handleTouchmove=function(){r(this,this.deleteRipples)},n.prototype.deleteRipples=function(){for(var t=0;t<this.ripples.length;t++)this.ripples[t].remove()},n.prototype.clearRipples=function(){for(var t=0;t<this.ripples.length;t++)this.fadeInComplete(this.ripples[t])},n.prototype.createContainer=function(){var t=e.element('<div class="md-ripple-container"></div>');return this.$element.append(t),t},n.prototype.clearTimeout=function(){this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=null)},n.prototype.isRippleAllowed=function(){var t=this.$element[0];do{if(!t.tagName||"BODY"===t.tagName)break;if(t&&e.isFunction(t.hasAttribute)){if(t.hasAttribute("disabled"))return!1;if("false"===this.inkRipple()||"0"===this.inkRipple())return!1}}while(t=t.parentNode);return!0},n.prototype.inkRipple=function(){return this.$element.attr("md-ink-ripple")},n.prototype.createRipple=function(t,n){if(this.isRippleAllowed()){var r=this,i=r.$mdColorUtil,o=e.element('<div class="md-ripple"></div>'),a=this.$element.prop("clientWidth"),s=this.$element.prop("clientHeight"),c=2*Math.max(Math.abs(a-t),t),u=2*Math.max(Math.abs(s-n),n),l=function(t,e,n){return t?Math.max(e,n):Math.sqrt(Math.pow(e,2)+Math.pow(n,2))}(this.options.fitRipple,c,u),d=this.calculateColor();o.css({left:t+"px",top:n+"px",background:"black",width:l+"px",height:l+"px",backgroundColor:i.rgbaToRgb(d),borderColor:i.rgbaToRgb(d)}),this.lastRipple=o,this.clearTimeout(),this.timeout=this.$timeout((function(){r.clearTimeout(),r.mousedown||r.fadeInComplete(o)}),157.5,!1),this.options.dimBackground&&this.container.css({backgroundColor:d}),this.container.append(o),this.ripples.push(o),o.addClass("md-ripple-placed"),this.$mdUtil.nextTick((function(){o.addClass("md-ripple-scaled md-ripple-active"),r.$timeout((function(){r.clearRipples()}),450,!1)}),!1)}},n.prototype.fadeInComplete=function(t){this.lastRipple===t&&(this.timeout||this.mousedown)||this.removeRipple(t)},n.prototype.removeRipple=function(t){var e=this;this.ripples.indexOf(t)<0||(this.ripples.splice(this.ripples.indexOf(t),1),t.removeClass("md-ripple-active"),t.addClass("md-ripple-remove"),0===this.ripples.length&&this.container.css({backgroundColor:""}),this.$timeout((function(){e.fadeOutComplete(t)}),450,!1))},n.prototype.fadeOutComplete=function(t){t.remove(),this.lastRipple=null}}(),function(){function t(t){return{attach:function(n,r,i){return t.attach(n,r,e.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},i))}}}t.$inject=["$mdInkRipple"],e.module("material.core").factory("$mdTabInkRipple",t)}(),e.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100",contrastStrongLightColors:"400 500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A700",contrastStrongLightColors:"600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#ffffff",A200:"#000000",A400:"#303030",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A200 A400 A700"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200",contrastStrongLightColors:"400 500 700"}}),function(t){function e(t){var e=!!document.querySelector("[md-themes-disabled]");t.disableTheming(e)}e.$inject=["$mdThemingProvider"],b.$inject=["$mdTheming","$interpolate","$parse","$mdUtil","$q","$log"],_.$inject=["$mdTheming"],y.$inject=["$mdColorPalette","$$mdMetaProvider"],E.$inject=["$injector","$mdTheming"],t.module("material.core.theming",["material.core.theming.palette","material.core.meta"]).directive("mdTheme",b).directive("mdThemable",_).directive("mdThemesDisabled",(function(){return v.disableTheming=!0,{restrict:"A",priority:"900"}})).provider("$mdTheming",y).config(e).run(E);var r,i={},o={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.38)",4:"rgba(0,0,0,0.12)"},a={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.5)",4:"rgba(255,255,255,0.12)"},s="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",c="",u=C("rgba(0,0,0,0.87)"),l=C("rgba(255,255,255,0.87)"),d=C("rgb(255,255,255)"),f=["primary","accent","warn","background"],h="primary",p={accent:{default:"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{default:"50","hue-1":"A100","hue-2":"100","hue-3":"300"}},m={background:{default:"A400","hue-1":"800","hue-2":"900","hue-3":"A200"}};f.forEach((function(t){var e={default:"500","hue-1":"300","hue-2":"800","hue-3":"A100"};p[t]||(p[t]=e),m[t]||(m[t]=e)}));var g=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"],v={disableTheming:!1,generateOnDemand:!1,registeredStyles:[],nonce:null};function y(e,i){E.$inject=["$rootScope","$mdUtil","$q","$log"];var u,l={},d=!1,h="default";t.extend(r={},e);var y=function(e){var n=(e=t.isObject(e)?e:{}).hue||"800",o=r[e.palette]||r[l[e.theme||"default"].colors[e.palette||"primary"].name],a=t.isObject(o[n])?o[n].hex:o[n];return"#"!==a.substr(0,1)&&(a="#"+a),function(t){var e=i.setMeta("theme-color",t),n=i.setMeta("msapplication-navbutton-color",t);return function(){e(),n()}}(a)};return u={definePalette:function(t,e){return r[t]=b(t,e=e||{}),u},extendPalette:function(e,n){return b(e,t.extend({},r[e]||{},n))},theme:_,configuration:function(){return t.extend({},v,{defaultTheme:h,alwaysWatchTheme:d,registeredStyles:[].concat(v.registeredStyles)})},disableTheming:function(e){v.disableTheming=t.isUndefined(e)||!!e},registerStyles:function(t){v.registeredStyles.push(t)},setNonce:function(t){v.nonce=t},generateThemesOnDemand:function(t){v.generateOnDemand=t},setDefaultTheme:function(t){h=t},alwaysWatchTheme:function(t){d=t},enableBrowserColor:y,$get:E,_LIGHT_DEFAULT_HUES:p,_DARK_DEFAULT_HUES:m,_PALETTES:r,_THEMES:l,_parseRules:w,_rgba:k};function b(t,e){var n=g.filter((function(t){return!e[t]}));if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",t));return e}function _(e,n){if(l[e])return l[e];var r="string"==typeof(n=n||"default")?l[n]:n,i=new S(e);return r&&t.forEach(r.colors,(function(e,n){i.colors[n]={name:e.name,hues:t.extend({},e.hues)}})),l[e]=i,i}function S(e){var n=this;function r(e){if((e=0===arguments.length||!!e)!==n.isDark){n.isDark=e,n.foregroundPalette=n.isDark?a:o,n.foregroundShadow=n.isDark?s:c;var r=n.isDark?p:m;return t.forEach(n.isDark?m:p,(function(t,e){var i=n.colors[e],o=r[e];if(i)for(var a in i.hues)i.hues[a]===o[a]&&(i.hues[a]=t[a])})),n}}n.name=e,n.colors={},n.dark=r,r(!1),f.forEach((function(e){var r=(n.isDark?m:p)[e];n[e+"Palette"]=function(i,o){var a=n.colors[e]={name:i,hues:t.extend({},r,o)};return Object.keys(a.hues).forEach((function(t){if(!r[t])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",t).replace("%2",n.name).replace("%3",i).replace("%4",Object.keys(r).join(", ")))})),Object.keys(a.hues).map((function(t){return a.hues[t]})).forEach((function(t){if(-1==g.indexOf(t))throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",t).replace("%2",n.name).replace("%3",e).replace("%4",i).replace("%5",g.join(", ")))})),n},n[e+"Color"]=function(){var t=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+e+"Color() has been deprecated. Use $mdThemingProviderTheme."+e+"Palette() instead."),n[e+"Palette"].apply(n,t)}}))}function E(e,i,o,a){var s=function(t,r){r===n&&(r=t,t=n),t===n&&(t=e),s.inherit(r,r)};return Object.defineProperty(s,"THEMES",{get:function(){return t.extend({},l)}}),Object.defineProperty(s,"PALETTES",{get:function(){return t.extend({},r)}}),Object.defineProperty(s,"ALWAYS_WATCH",{get:function(){return d}}),s.inherit=function(t,e){var r=e.controller("mdTheme")||t.data("$mdThemeController"),o=t.scope();if(f(r&&r.$mdTheme||("default"===h?"":h)),r){var s=d||r.$shouldWatch||i.parseAttributeBoolean(t.attr("md-theme-watch"));if(s||r.isAsyncTheme){var u=function(){l&&(l(),l=n)},l=r.registerChanges((function(t){f(t),s||u()}));o?o.$on("$destroy",u):t.on("$destroy",u)}}function f(e){if(e){c(e)||a.warn("Attempted to use unregistered theme '"+e+"'. Register it with $mdThemingProvider.theme().");var n=t.data("$mdThemeName");n&&t.removeClass("md-"+n+"-theme"),t.addClass("md-"+e+"-theme"),t.data("$mdThemeName",e),r&&t.data("$mdThemeController",r)}}},s.registered=c,s.defaultTheme=function(){return h},s.generateTheme=function(t){x(l[t],t,v.nonce)},s.defineTheme=function(t,e){e=e||{};var n=_(t);return e.primary&&n.primaryPalette(e.primary,e.primaryHues),e.accent&&n.accentPalette(e.accent,e.accentHues),e.warn&&n.warnPalette(e.warn,e.warnHues),e.background&&n.backgroundPalette(e.background,e.backgroundHues),e.dark&&n.dark(),this.generateTheme(t),o.resolve(t)},s.setBrowserColor=y,s;function c(t){return t===n||""===t||s.THEMES[t]!==n}}}function b(e,n,r,i,o,a){return{priority:101,link:{pre:function(s,c,u){var l=[],d=n.startSymbol(),f=n.endSymbol(),h=u.mdTheme.trim(),p=h.substr(0,d.length)===d&&h.lastIndexOf(f)===h.length-f.length,m="::"===u.mdTheme.split(d).join("").split(f).join("").trim().substr(0,"::".length),g=function(){var t=n(u.mdTheme)(s);return r(t)(s)||t},v={isAsyncTheme:t.isFunction(g())||t.isFunction(g().then),registerChanges:function(e,n){return n&&(e=t.bind(n,e)),l.push(e),function(){var t=l.indexOf(e);t>-1&&l.splice(t,1)}},$setTheme:function(t){e.registered(t)||a.warn("attempted to use unregistered theme '"+t+"'"),v.$mdTheme=t;for(var n=l.length;n--;)l[n](t)},$shouldWatch:i.parseAttributeBoolean(c.attr("md-theme-watch"))||e.ALWAYS_WATCH||p&&!m};c.data("$mdThemeController",v);var y=function(e){if("string"==typeof e)return v.$setTheme(e);o.when(t.isFunction(e)?e():e).then((function(t){v.$setTheme(t)}))};y(g());var b=s.$watch(g,(function(t){t&&(y(t),v.$shouldWatch||b())}))}}}}function _(t){return t}function w(e,n,i){!function(t,e){if(!r[(t.colors[e]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",t.name).replace("%2",e).replace("%3",Object.keys(r).join(", ")))}(e,n),i=i.replace(/THEME_NAME/g,e.name);var o=new RegExp("\\.md-"+e.name+"-theme","g");i=i.replace(/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue-[0-3]|shadow|default)-?(\d\.?\d*)?(contrast)?\s*\}\}'?"?/g,(function(t,n,i,o,a){return"foreground"===n?"shadow"==i?e.foregroundShadow:e.foregroundPalette[i]||e.foregroundPalette[1]:(0!==i.indexOf("hue")&&"default"!==i||(i=e.colors[n].hues[i]),k((r[e.colors[n].name][i]||"")[a?"contrast":"value"],o))}));var a=new RegExp("('|\")?{{\\s*([a-zA-Z]+)-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),s=[];return t.forEach(["default","hue-1","hue-2","hue-3"],(function(t){var n=i.replace(a,(function(n,i,o,a,s){var c=e.colors[o];return k(r[c.name][c.hues[t]]["color"===a?"value":"contrast"],s)}));"default"!==t&&(n=n.replace(o,".md-"+e.name+"-theme.md-"+t)),"default"==e.name&&(n=n.replace(/((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)\.md-default-theme((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)/g,(function(t,e,n){return t+", "+e+n}))),s.push(n)})),s}var S={};function E(e,n){var o=document.head,a=o?o.firstElementChild:null,s=!v.disableTheming&&e.has("$MD_THEME_CSS")?e.get("$MD_THEME_CSS"):"";if(s+=v.registeredStyles.join(""),a&&0!==s.length){t.forEach(r,(function(e,n){var r=e.contrastDefaultColor,i=e.contrastLightColors||[],o=e.contrastStrongLightColors||[],a=e.contrastDarkColors||[];"string"==typeof i&&(i=i.split(" ")),"string"==typeof o&&(o=o.split(" ")),"string"==typeof a&&(a=a.split(" ")),delete e.contrastDefaultColor,delete e.contrastLightColors,delete e.contrastStrongLightColors,delete e.contrastDarkColors,t.forEach(e,(function(n,s){if(!t.isObject(n)){var c=C(n);if(!c)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",n).replace("%2",e.name).replace("%3",s));e[s]={hex:e[s],value:c,contrast:"light"===r?a.indexOf(s)>-1?u:o.indexOf(s)>-1?d:l:i.indexOf(s)>-1?o.indexOf(s)>-1?d:l:u}}}))}));var c=s.split(/\}(?!(\}|'|"|;))/).filter((function(t){return t&&t.trim().length})).map((function(t){return t.trim()+"}"}));f.forEach((function(t){S[t]=""})),c.forEach((function(t){for(var e,n=0;e=f[n];n++)if(t.indexOf(".md-"+e)>-1)return S[e]+=t;for(n=0;e=f[n];n++)if(t.indexOf(e)>-1)return S[e]+=t;return S[h]+=t})),v.generateOnDemand||t.forEach(n.THEMES,(function(t){i[t.name]||"default"!==n.defaultTheme()&&"default"===t.name||x(t,t.name,v.nonce)}))}}function x(t,e,n){var r=document.head,o=r?r.firstElementChild:null;i[e]||(f.forEach((function(e){for(var i=w(t,e,S[e]);i.length;){var a=i.shift();if(a){var s=document.createElement("style");s.setAttribute("md-theme-style",""),n&&s.setAttribute("nonce",n),s.appendChild(document.createTextNode(a)),r.insertBefore(s,o)}}})),i[t.name]=!0)}function C(e){if(t.isArray(e)&&3==e.length)return e;if(/^rgb/.test(e))return e.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map((function(t,e){return 3==e?parseFloat(t,10):parseInt(t,10)}));if("#"==e.charAt(0)&&(e=e.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(e)){var n=e.length/3,r=e.substr(0,n),i=e.substr(n,n),o=e.substr(2*n);return 1===n&&(r+=r,i+=i,o+=o),[parseInt(r,16),parseInt(i,16),parseInt(o,16)]}}function k(e,n){return e?(4==e.length&&(e=t.copy(e),n?e.pop():n=e.pop()),n&&("number"==typeof n||"string"==typeof n&&n.length)?"rgba("+e.join(",")+","+n+")":"rgb("+e.join(",")+")"):"rgb('0,0,0')"}}(t.angular),e.module("material.components.autocomplete",["material.core","material.components.icon","material.components.virtualRepeat"]),function(){c.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q","$log","$mdLiveAnnouncer"],e.module("material.components.autocomplete").controller("MdAutocompleteCtrl",c);var t=48,r=5,i=8,o=2,a="standard",s="virtual";function c(c,u,l,d,f,h,p,m,g,v,y,b){var _,w,S=this,E=c.itemsExpr.split(/ in /i),x=E[1],C=null,k={},T=!1,P=[],I=!1,A=0,O=null,$=null,M=l.debounce((function(){S.hidden||j()})),D=s;S.documentElement=e.element(document.documentElement),_=function(t,n){!t&&n?(j(),rt(!0,R.Count|R.Selected),C&&(l.disableScrollAround(C.ul),O=function(t){function e(t){t.preventDefault()}return t.on("wheel",e),t.on("touchmove",e),function(){t.off("wheel",e),t.off("touchmove",e)}}(e.element(C.wrap)),S.documentElement.on("click",B))):t&&!n&&(S.documentElement.off("click",B),l.enableScrolling(),O&&(O(),O=null))},w=!0,Object.defineProperty(S,"hidden",{get:function(){return w},set:function(t){var e=w;w=t,_(t,e)}}),S.scope=c,S.parent=c.$parent,S.itemName=E[0],S.matches=[],S.loading=!1,S.hidden=!0,S.index=null,S.id=l.nextUid(),S.isDisabled=null,S.isRequired=null,S.isReadonly=null,S.hasNotFound=!1,S.selectedMessage=c.selectedMessage||"selected",S.keydown=function(t){switch(t.keyCode){case d.KEY_CODE.DOWN_ARROW:if(S.loading||X())return;t.stopPropagation(),t.preventDefault(),S.index=Math.min(S.index+1,S.matches.length-1),it(),rt(!1,R.Selected);break;case d.KEY_CODE.UP_ARROW:if(S.loading||X())return;t.stopPropagation(),t.preventDefault(),S.index=S.index<0?S.matches.length-1:Math.max(0,S.index-1),it(),rt(!1,R.Selected);break;case d.KEY_CODE.TAB:if(V(),S.hidden||S.loading||S.index<0||S.matches.length<1)return;tt(S.index);break;case d.KEY_CODE.ENTER:if(S.hidden||S.loading||S.index<0||S.matches.length<1)return;if(X())return;t.stopImmediatePropagation(),t.preventDefault(),tt(S.index);break;case d.KEY_CODE.ESCAPE:if(t.preventDefault(),!(Q("blur")||!S.hidden||S.loading||Q("clear")&&c.searchText))return;t.stopPropagation(),et(),c.searchText&&Q("clear")&&nt(),S.hidden=!0,Q("blur")&&(T=!1,I=!1,C.input.blur())}},S.blur=function(t){I=!1,T||(S.hidden=G(),ut("ngBlur",{$event:t}))},S.focus=function(t){I=!0,K()&&J()&&st(),S.hidden=G(),ut("ngFocus",{$event:t})},S.clear=function(t){t&&t.stopPropagation(),et(),nt()},S.select=tt,S.listEnter=function(){T=!0},S.listLeave=V,S.mouseUp=function(){C.input.focus()},S.getCurrentDisplayValue=Z,S.registerSelectedItemWatcher=function(t){-1===P.indexOf(t)&&P.push(t)},S.unregisterSelectedItemWatcher=function(t){var e=P.indexOf(t);-1!==e&&P.splice(e,1)},S.notFoundVisible=at,S.loadingIsVisible=function(){return S.loading&&!X()},S.positionDropdown=j;var N,R={Count:1,Selected:2};return l.initOptionalProperties(c,g,{searchText:"",selectedItem:null,clearButton:!1,disableVirtualRepeat:!1}),f(u),N=parseInt(c.delay,10)||0,g.$observe("disabled",(function(t){S.isDisabled=l.parseAttributeBoolean(t,!1)})),g.$observe("required",(function(t){S.isRequired=l.parseAttributeBoolean(t,!1)})),g.$observe("readonly",(function(t){S.isReadonly=l.parseAttributeBoolean(t,!1)})),c.$watch("searchText",N?l.debounce(H,N):H),c.$watch("selectedItem",(function(t,n){L(),t?q(t).then((function(e){c.searchText=e,function(t,e){P.forEach((function(n){n(t,e)}))}(t,n)})):n&&c.searchText&&q(n).then((function(t){e.isString(c.searchText)&&t.toString().toLowerCase()===c.searchText.toLowerCase()&&(c.searchText="")})),t!==n&&e.isFunction(c.itemChange)&&c.itemChange(z(c.selectedItem))})),e.element(h).on("resize",M),c.$on("$destroy",(function(){S.hidden||l.enableScrolling(),e.element(h).off("resize",M),C&&e.forEach(["ul","scroller","scrollContainer","input"],(function(t){C.$[t].remove()}))})),void l.nextTick((function(){var t;t=function(){var t,n;for(t=u;t.length&&(n=t.attr("md-autocomplete-snap"),!e.isDefined(n));t=t.parent());if(t.length)return{snap:t[0],wrap:"width"===n.toLowerCase()?t[0]:u.find("md-autocomplete-wrap")[0]};var r=u.find("md-autocomplete-wrap")[0];return{snap:r,wrap:r}}(),(C={main:u[0],scrollContainer:u[0].querySelector(".md-virtual-repeat-container, .md-standard-list-container"),scroller:u[0].querySelector(".md-virtual-repeat-scroller, .md-standard-list-scroller"),ul:u.find("ul")[0],input:u.find("input")[0],wrap:t.wrap,snap:t.snap,root:document.body}).li=C.ul.getElementsByTagName("li"),C.$=function(t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e.element(t[r]));return n}(C),D=C.scrollContainer.classList.contains("md-standard-list-container")?a:s,$=C.$.input.controller("ngModel"),C.$.root.length&&(f(C.$.scrollContainer),C.$.scrollContainer.detach(),C.$.root.append(C.$.scrollContainer),p.pin&&p.pin(C.$.scrollContainer,m)),c.autofocus&&u.on("focus",F),c.inputAriaDescribedBy&&C.input.setAttribute("aria-describedby",c.inputAriaDescribedBy),c.floatingLabel||(c.inputAriaLabel?C.input.setAttribute("aria-label",c.inputAriaLabel):c.inputAriaLabelledBy?C.input.setAttribute("aria-labelledby",c.inputAriaLabelledBy):c.placeholder&&C.input.setAttribute("aria-label",c.placeholder))}));function L(){c.requireMatch&&$&&$.$setValidity("md-require-match",!!c.selectedItem||!c.searchText)}function j(){if(!C)return l.nextTick(j,!1,c);var e,n=(c.dropdownItems||r)*t,a=C.wrap.getBoundingClientRect(),s=C.snap.getBoundingClientRect(),d=C.root.getBoundingClientRect(),f=s.bottom-d.top,h=d.bottom-s.top,p=a.left-d.left,m=a.width,v=function(){var t=0,e=u.find("md-input-container");if(e.length){var n=e.find("input");t=e.prop("offsetHeight"),t-=n.prop("offsetTop"),t-=n.prop("offsetHeight"),t+=e.prop("offsetTop")}return t}(),y=c.dropdownPosition,b=d.bottom-s.bottom-i+l.getViewportTop(),_=s.top-i;y||(y=b>n?"bottom":_>n?"top":_>b?"top":"bottom"),g.mdFloatingLabel&&(p+=o,m-=2*o),e={left:p+"px",minWidth:m+"px",maxWidth:Math.max(a.right-d.left,d.right-a.left)-i+"px"},"top"===y?(e.top="auto",e.bottom=h+"px",e.maxHeight=Math.min(n,_)+"px"):(b=d.bottom-a.bottom-i+l.getViewportTop(),e.top=f-v+"px",e.bottom="auto",e.maxHeight=Math.min(n,b)+"px"),C.$.scrollContainer.css(e),l.nextTick((function(){var t=C.scrollContainer.getBoundingClientRect(),e={};t.right>d.right&&(e.left=a.right-t.width+"px"),C.$.scrollContainer.css(e)}),!1,c)}function F(){C.input.focus()}function B(t){S.hidden=!0}function V(){I||S.hidden||C.input.focus(),T=!1,S.hidden=G()}function H(t,n){S.index=c.autoselect?0:-1,t!==n&&(L(),q(c.selectedItem).then((function(r){t!==r&&(c.selectedItem=null,t!==n&&e.isFunction(c.textChange)&&c.textChange(),J()?st():(S.matches=[],W(!1),rt(!0,R.Count)))})))}function U(){return e.isNumber(c.minLength)?c.minLength:1}function q(t){return v.when(function(t){return t&&c.itemText?c.itemText(z(t)):null}(t)||t).then((function(t){return t&&!e.isString(t)&&y.warn("md-autocomplete: Could not resolve display value to a string. Please check the `md-item-text` attribute."),t}))}function z(t){if(!t)return n;var e={};return S.itemName&&(e[S.itemName]=t),e}function W(t){S.loading!==t&&(S.loading=t),S.hidden=G()}function G(){return!(!S.isReadonly&&K()&&(J()&&Y()||at()))}function K(){return!(S.loading&&!Y()||X()||!I)}function Q(t){return!c.escapeOptions||-1!==c.escapeOptions.toLowerCase().indexOf(t)}function Y(){return!!S.matches.length}function X(){return!!S.scope.selectedItem}function Z(){return q(S.matches[S.index])}function J(){return(c.searchText||"").length>=U()}function tt(t){l.nextTick((function(){q(S.matches[t]).then((function(t){var e=C.$.input.controller("ngModel");b.announce(t+" "+S.selectedMessage,"assertive"),e.$setViewValue(t),e.$render()})).finally((function(){c.selectedItem=S.matches[t],W(!1)}))}),!1)}function et(){S.index=0,S.matches=[]}function nt(){W(!0),c.searchText="";var t=document.createEvent("CustomEvent");t.initCustomEvent("change",!0,!0,{value:""}),C.input.dispatchEvent(t),C.input.blur(),c.searchText="",C.input.focus()}function rt(t,e){var n=t?"polite":"assertive",r=[];e&R.Selected&&-1!==S.index&&r.push(Z()),e&R.Count&&r.push(v.resolve(function(){switch(S.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+S.matches.length+" matches available."}}())),v.all(r).then((function(t){b.announce(t.join(" "),n)}))}function it(){var t,e,n,r,i;C.li[0]&&(D===a?(e=C.scrollContainer.offsetHeight,r=(n=(t=C.li[S.index]||C.li[0])&&t.offsetTop||0)+t.clientHeight,n<(i=C.scrollContainer.scrollTop)?ot(n):r>i+e&&ot(r-e)):function(){var t=C.li[0].offsetHeight,e=t*S.index,n=e+t,r=C.scroller.clientHeight,i=C.scroller.scrollTop;e<i?ot(e):n>i+r&&ot(n-r)}())}function ot(t){D===a?C.scrollContainer.scrollTop=t:C.$.scrollContainer.controller("mdVirtualRepeatContainer").scrollTo(t)}function at(){var t=(S.scope.searchText||"").length;return S.hasNotFound&&!Y()&&(!S.loading||0!==A)&&t>=U()&&(I||T)&&!X()}function st(){var t=c.searchText||"",n=t.toLowerCase();!c.noCache&&k[n]?ct(k[n]):function(t){var n=c.$parent.$eval(x),r=t.toLowerCase(),i=e.isArray(n),o=!!n.then;function a(e){k[r]=e,(t||"")===(c.searchText||"")&&ct(e)}i?a(n):o&&function(t){t&&(t=v.when(t),A++,W(!0),l.nextTick((function(){t.then(a).finally((function(){0==--A&&W(!1)}))}),!0,c))}(n)}(t),S.hidden=G()}function ct(t){var e,n,r;S.matches=t,S.hidden=G(),S.loading&&W(!1),c.selectOnMatch&&(e=c.searchText,r=(n=S.matches)[0],1===n.length&&q(r).then((function(t){var n=e===t;c.matchInsensitive&&!n&&(n=e.toLowerCase()===t.toLowerCase()),n&&tt(0)}))),j(),rt(!0,R.Count)}function ut(t,e){g[t]&&c.$parent.$eval(g[t],e||{})}}}(),function(){function t(t){var n="virtual",r=["standard",n];function i(t){return t?(t=t.toLowerCase(),r.indexOf(t)>-1?t:n):n}return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",inputAriaDescribedBy:"@?inputAriaDescribedby",inputAriaLabelledBy:"@?inputAriaLabelledby",inputAriaLabel:"@?inputAriaLabel",noCache:"=?mdNoCache",requireMatch:"=?mdRequireMatch",selectOnMatch:"=?mdSelectOnMatch",matchInsensitive:"=?mdMatchCaseInsensitive",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",menuContainerClass:"@?mdMenuContainerClass",inputClass:"@?mdInputClass",inputId:"@?mdInputId",escapeOptions:"@?mdEscapeOptions",dropdownItems:"=?mdDropdownItems",dropdownPosition:"@?mdDropdownPosition",clearButton:"=?mdClearButton",selectedMessage:"@?mdSelectedMessage",mdMode:"=?mdMode"},compile:function(t,n){var r=t.find("input");return["md-select-on-focus","md-no-asterisk","ng-trim","ng-pattern"].forEach((function(t){var e=n[n.$normalize(t)];null!==e&&r.attr(t,e)})),function(t,n,r,o){o.hasNotFound=!!n.attr("md-has-not-found"),e.isDefined(r.mdClearButton)||t.floatingLabel||(t.clearButton=!0),t.mdMode=i(r.mdMode),n.on("click",(function(t){t.stopPropagation()}))}},template:function(e,r){var o,a,s=(a=(o=e.find("md-not-found").detach()).length?o.html():"")?'<li ng-if="$mdAutocompleteCtrl.notFoundVisible()"                         md-autocomplete-parent-scope>'+a+"</li>":"",c=function(){var t=e.find("md-item-template").detach(),n=t.length?t.html():e.html();return t.length||e.empty(),"<md-autocomplete-parent-scope md-autocomplete-replace>"+n+"</md-autocomplete-parent-scope>"}(),u=e.html(),l=r.tabindex;return s&&e.attr("md-has-not-found",!0),e.attr("tabindex","-1"),"        <md-autocomplete-wrap            ng-class=\"{ 'md-whiteframe-z1': !floatingLabel,                         'md-menu-showing': !$mdAutocompleteCtrl.hidden,                         'md-show-clear-button': !!clearButton }\">          "+(r.mdFloatingLabel?'            <md-input-container ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                '+(null!=l?'tabindex="'+l+'"':"")+'                id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                name="{{inputName}}"                ng-class="::inputClass"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-readonly="$mdAutocompleteCtrl.isReadonly"                ng-minlength="inputMinlength"                ng-maxlength="inputMaxlength"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-model-options="{ allowInvalid: true }"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur($event)"                ng-focus="$mdAutocompleteCtrl.focus($event)"                aria-label="{{floatingLabel}}"                aria-autocomplete="list"                role="combobox"                aria-haspopup="true"                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                ng-attr-aria-activedescendant="{{$mdAutocompleteCtrl.index >= 0 ? \'selected_option\' : undefined}}">              <div md-autocomplete-parent-scope md-autocomplete-replace>'+u+"</div>            </md-input-container>":'            <input type="search"              '+(null!=l?'tabindex="'+l+'"':"")+'              id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"              name="{{inputName}}"              ng-class="::inputClass"              ng-if="!floatingLabel"              autocomplete="off"              ng-required="$mdAutocompleteCtrl.isRequired"              ng-disabled="$mdAutocompleteCtrl.isDisabled"              ng-readonly="$mdAutocompleteCtrl.isReadonly"              ng-minlength="inputMinlength"              ng-maxlength="inputMaxlength"              ng-model="$mdAutocompleteCtrl.scope.searchText"              ng-keydown="$mdAutocompleteCtrl.keydown($event)"              ng-blur="$mdAutocompleteCtrl.blur($event)"              ng-focus="$mdAutocompleteCtrl.focus($event)"              placeholder="{{placeholder}}"              aria-label="{{placeholder}}"              aria-autocomplete="list"              role="combobox"              aria-haspopup="true"              aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"              aria-owns="ul-{{$mdAutocompleteCtrl.id}}"              ng-attr-aria-activedescendant="{{$mdAutocompleteCtrl.index >= 0 ? \'selected_option\' : undefined}}">')+'          <button type="button" aria-label="Clear Input" tabindex="-1" ng-if="clearButton && $mdAutocompleteCtrl.scope.searchText" ng-click="$mdAutocompleteCtrl.clear($event)"><md-icon md-svg-src="'+t.mdClose+'"></md-icon></button>          <md-progress-linear              class="'+(r.mdFloatingLabel?"md-inline":"")+'"              ng-if="$mdAutocompleteCtrl.loadingIsVisible()"              md-mode="indeterminate"></md-progress-linear>          '+function(t,e){return t=t?" "+t:"",d(e)?'            <div                 ng-hide="$mdAutocompleteCtrl.hidden"                class="md-standard-list-container md-autocomplete-suggestions-container md-whiteframe-z1'+t+'"                ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"                role="presentation">              <div class="md-standard-list-scroller" role="presentation">':'          <md-virtual-repeat-container              md-auto-shrink              md-auto-shrink-min="1"              ng-hide="$mdAutocompleteCtrl.hidden"              class="md-virtual-repeat-container md-autocomplete-suggestions-container md-whiteframe-z1'+t+'"              ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"              role="presentation">'}(r.mdMenuContainerClass,r.mdMode)+'            <ul class="md-autocomplete-suggestions"                ng-class="::menuClass"                id="ul-{{$mdAutocompleteCtrl.id}}"                ng-mouseenter="$mdAutocompleteCtrl.listEnter()"                ng-mouseleave="$mdAutocompleteCtrl.listLeave()"                ng-mouseup="$mdAutocompleteCtrl.mouseUp()"                role="listbox">              <li '+(d(r.mdMode)?"ng-repeat":"md-virtual-repeat")+' ="item in $mdAutocompleteCtrl.matches"                  ng-class="{ selected: $index === $mdAutocompleteCtrl.index }"                  ng-attr-id="{{$index === $mdAutocompleteCtrl.index ? \'selected_option\' : undefined}}"                  ng-click="$mdAutocompleteCtrl.select($index)"                  role="option"                  aria-setsize="{{$mdAutocompleteCtrl.matches.length}}"                  aria-posinset="{{$index+1}}"                  aria-selected="{{$index === $mdAutocompleteCtrl.index ? true : false}}"                   md-extra-name="$mdAutocompleteCtrl.itemName">                  '+c+"                  </li>"+s+"            </ul>          "+function(t){return d(t)?"   </div>              </div>            </div>":"</md-virtual-repeat-container>"}(r.mdMode)+"        </md-autocomplete-wrap>";function d(t){return i(t)!==n}}}}t.$inject=["$$mdSvgRegistry"],e.module("material.components.autocomplete").directive("mdAutocomplete",t)}(),function(){function t(t,e){return{restrict:"AE",compile:function(t,n,r){return function(t,n,i){var o,a,s=t.$mdAutocompleteCtrl,c=s.parent.$new(),u=s.itemName;function l(n,r){c[r]=t[n],t.$watch(n,(function(t){e.nextTick((function(){c[r]=t}))}))}l("$index","$index"),l("item",u),o=!1,a=!1,t.$watch((function(){a||o||(o=!0,t.$$postDigest((function(){a||c.$digest(),o=a=!1})))})),c.$watch((function(){a=!0})),r(c,(function(t){n.after(t)}))}},terminal:!0,transclude:"element"}}t.$inject=["$compile","$mdUtil"],e.module("material.components.autocomplete").directive("mdAutocompleteParentScope",t)}(),function(){function t(t,e,n){this.$scope=t,this.$element=e,this.$attrs=n,this.regex=null}t.$inject=["$scope","$element","$attrs"],e.module("material.components.autocomplete").controller("MdHighlightCtrl",t),t.prototype.init=function(t,e){this.flags=this.$attrs.mdHighlightFlags||"",this.unregisterFn=this.$scope.$watch((function(n){return{term:t(n),contentText:e(n)}}).bind(this),this.onRender.bind(this),!0),this.$element.on("$destroy",this.unregisterFn)},t.prototype.onRender=function(t,e){var n=t.contentText;null!==this.regex&&t.term===e.term||(this.regex=this.createRegex(t.term,this.flags)),t.term?this.applyRegex(n):this.$element.text(n)},t.prototype.applyRegex=function(t){var n=this.resolveTokens(t);this.$element.empty(),n.forEach((function(t){if(t.isMatch){var n=e.element('<span class="highlight">').text(t.text);this.$element.append(n)}else this.$element.append(document.createTextNode(t))}).bind(this))},t.prototype.resolveTokens=function(t){var e=[],n=0;return t.replace(this.regex,(function(t,i){r(n,i),e.push({text:t,isMatch:!0}),n=i+t.length})),r(n),e;function r(n,r){var i=t.slice(n,r);i&&e.push(i)}},t.prototype.createRegex=function(t,e){var n="",r="",i=this.sanitizeRegex(t);return e.indexOf("^")>=0&&(n="^"),e.indexOf("$")>=0&&(r="$"),new RegExp(n+i+r,e.replace(/[$^]/g,""))},t.prototype.sanitizeRegex=function(t){return t&&t.toString().replace(/[\\^$*+?.()|{}[\]]/g,"\\$&")}}(),function(){function t(t,e){return{terminal:!0,controller:"MdHighlightCtrl",compile:function(n,r){var i=e(r.mdHighlightText),o=t(n.html());return function(t,e,n,r){r.init(i,o)}}}}t.$inject=["$interpolate","$parse"],e.module("material.components.autocomplete").directive("mdHighlightText",t)}(),e.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$mdUtil","$animate","$rootElement","$window","$log","$$rAF","$document",function(t,n,r,i,o,a,s,c){return{restrict:"E",link:function(u,l,d){var f;function h(){var t=parseInt(f.height,10)+Math.abs(parseInt(f.top,10));l.css("height",t+"px")}r.pin&&r.pin(l,i),s((function(){if("fixed"===(f=o.getComputedStyle(c[0].body)).position){var r=n.debounce((function(){f=o.getComputedStyle(c[0].body),h()}),60,null,!1);h(),e.element(o).on("resize",r),u.$on("$destroy",(function(){e.element(o).off("resize",r)}))}var i=l.parent();i.length&&("BODY"===i[0].nodeName&&l.css("position","fixed"),"static"===o.getComputedStyle(i[0]).position&&a.warn("<md-backdrop> may not work properly in a scrolled, static-positioned parent container."),t.inherit(l,i))}))}}}]),function(){function t(t){return{restrict:"E",link:function(e,n){n.addClass("_md"),e.$on("$destroy",(function(){t.destroy()}))}}}function n(t){i.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture","$log"];var n=.5,r=80;return t("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:i});function i(t,i,o,a,s,c,u,l){var d;return{themable:!0,onShow:function(f,h,p,m){return(h=o.extractElementByName(h,"md-bottom-sheet")).attr("tabindex","-1"),h.hasClass("ng-cloak")&&l.warn("$mdBottomSheet: using `<md-bottom-sheet ng-cloak>` will affect the bottom-sheet opening animations.",h[0]),p.isLockedOpen?(p.clickOutsideToClose=!1,p.escapeToClose=!1):p.cleanupGestures=function(t,e){var a=u.register(e,"drag",{horizontal:!1});return e.on("$md.dragstart",c).on("$md.drag",l).on("$md.dragend",d),function(){a(),e.off("$md.dragstart",c),e.off("$md.drag",l),e.off("$md.dragend",d)};function c(){t.css(i.CSS.TRANSITION_DURATION,"0ms")}function l(e){var n=e.pointer.distanceY;n<5&&(n=Math.max(-r,n/2)),t.css(i.CSS.TRANSFORM,"translate3d(0,"+(r+n)+"px,0)")}function d(e){if(e.pointer.distanceY>0&&(e.pointer.distanceY>20||Math.abs(e.pointer.velocityY)>n)){var r=t.prop("offsetHeight")-e.pointer.distanceY,a=Math.min(r/e.pointer.velocityY*.75,500);t.css(i.CSS.TRANSITION_DURATION,a+"ms"),o.nextTick(s.cancel,!0)}else t.css(i.CSS.TRANSITION_DURATION,""),t.css(i.CSS.TRANSFORM,"")}}(h,p.parent),p.disableBackdrop||((d=o.createBackdrop(f,"md-bottom-sheet-backdrop md-opaque"))[0].tabIndex=-1,p.clickOutsideToClose&&d.on("click",(function(){o.nextTick(s.cancel,!0)})),a.inherit(d,p.parent),t.enter(d,p.parent,null)),a.inherit(h,p.parent),p.disableParentScroll&&(p.restoreScroll=o.disableScrollAround(h,p.parent)),t.enter(h,p.parent,d).then((function(){var t=o.findFocusTarget(h)||e.element(h[0].querySelector("button")||h[0].querySelector("a")||h[0].querySelector(o.prefixer("ng-click",!0)))||d;p.escapeToClose&&(p.rootElementKeyupCallback=function(t){t.keyCode===i.KEY_CODE.ESCAPE&&o.nextTick(s.cancel,!0)},c.on("keyup",p.rootElementKeyupCallback),t&&t.focus())}))},onRemove:function(e,n,r){return r.disableBackdrop||t.leave(d),t.leave(n).then((function(){r.disableParentScroll&&(r.restoreScroll(),delete r.restoreScroll),r.cleanupGestures&&r.cleanupGestures()}))},disableBackdrop:!1,escapeToClose:!0,clickOutsideToClose:!0,disableParentScroll:!0,isLockedOpen:!1}}}t.$inject=["$mdBottomSheet"],n.$inject=["$$interimElementProvider"],e.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",t).provider("$mdBottomSheet",n)}(),function(){function t(t){return{restrict:"E",link:function(e,n){t(n)}}}function n(t,n,r,i){return{restrict:"EA",replace:!0,transclude:!0,template:function(t,e){return o(e)?'<a class="md-button" ng-transclude></a>':'<button class="md-button" type="'+(void 0===e.type?"button":e.type)+'" ng-transclude></button>'},link:function(a,s,c){n(s),t.attach(a,s),r.expectWithoutText(s,"aria-label"),o(c)&&e.isDefined(c.ngDisabled)&&!s.hasClass("_md-nav-button")&&a.$watch(c.ngDisabled,(function(t){s.attr("tabindex",t?-1:0)})),s.on("click",(function(t){!0===c.disabled&&(t.preventDefault(),t.stopImmediatePropagation())})),s.hasClass("md-no-focus")||(s.on("focus",(function(){i.isUserInvoked()&&"keyboard"!==i.getLastInteractionType()||s.addClass("md-focused")})),s.on("blur",(function(){s.removeClass("md-focused")})))}};function o(t){return e.isDefined(t.href)||e.isDefined(t.ngHref)||e.isDefined(t.ngLink)||e.isDefined(t.uiSref)}}n.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$mdInteraction"],t.$inject=["$mdTheming"],e.module("material.components.button",["material.core"]).directive("mdButton",n).directive("a",t)}(),function(){function t(t){return{restrict:"E",link:function(e,n,r){n.addClass("_md"),t(n)}}}t.$inject=["$mdTheming"],e.module("material.components.card",["material.core"]).directive("mdCard",t)}(),function(){function t(t,n,r,i,o,a){return t=t[0],{restrict:"E",transclude:!0,require:["^?mdInputContainer","?ngModel","?^form"],priority:r.BEFORE_NG_ARIA,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:function(s,c){return c.$set("tabindex",c.tabindex||"0"),c.$set("type","checkbox"),c.$set("role",c.type),{pre:function(t,e){e.on("click",(function(t){this.hasAttribute("disabled")&&t.stopImmediatePropagation()}))},post:function(s,c,u,l){var d,f,h=l[0],p=l[1]||o.fakeNgModel(),m=l[2];if(h){var g=h.isErrorGetter||function(){return p.$invalid&&(p.$touched||m&&m.$submitted)};h.input=c,s.$watch(g,h.setInvalid)}function v(t){c[0].hasAttribute("disabled")||s.skipToggle||s.$apply((function(){p.$setViewValue(u.ngChecked&&u.ngClick?u.checked:!p.$viewValue,t&&t.type),p.$render()}))}function y(t){(d=!1!==t)&&c.attr("aria-checked","mixed"),c.toggleClass("md-indeterminate",d)}i(c),c.children().on("focus",(function(){c.focus()})),o.parseAttributeBoolean(u.mdIndeterminate)&&(y(),s.$watch(u.mdIndeterminate,y)),u.ngChecked&&s.$watch(s.$eval.bind(s,u.ngChecked),(function(t){p.$setViewValue(t),p.$render()})),f={true:"-1",false:u.tabindex},u.ngDisabled&&s.$watch(u.ngDisabled,(function(t){f[t]&&c.attr("tabindex",f[t])})),n.expectWithText(c,"aria-label"),t.link.pre(s,{on:e.noop,0:{}},u,[p]),c.on("click",v).on("keypress",(function(t){var e,n,i=t.which||t.keyCode;switch(t.preventDefault(),i){case r.KEY_CODE.SPACE:c.addClass("md-focused"),v(t);break;case r.KEY_CODE.ENTER:(n=o.getClosest(t.target,"form"))&&(e=n.querySelector('button[type="submit"]:enabled, input[type="submit"]:enabled'))&&e.click()}})).on("focus",(function(){"keyboard"===a.getLastInteractionType()&&c.addClass("md-focused")})).on("blur",(function(){c.removeClass("md-focused")})),p.$render=function(){c.toggleClass("md-checked",!!p.$viewValue&&!d)}}}}}}t.$inject=["inputDirective","$mdAria","$mdConstant","$mdTheming","$mdUtil","$mdInteraction"],e.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",t)}(),e.module("material.components.chips",["material.core","material.components.autocomplete"]),function(){function r(t,e,r,i,o){this.$scope=t,this.$element=e,this.$mdConstant=r,this.$timeout=i,this.$mdUtil=o,this.isEditing=!1,this.parentController=n,this.enableChipEdit=!1}r.$inject=["$scope","$element","$mdConstant","$timeout","$mdUtil"],e.module("material.components.chips").controller("MdChipCtrl",r),r.prototype.init=function(t){this.parentController=t,this.enableChipEdit=this.parentController.enableChipEdit,this.enableChipEdit&&(this.$element.on("keydown",this.chipKeyDown.bind(this)),this.$element.on("dblclick",this.chipMouseDoubleClick.bind(this)),this.getChipContent().addClass("_md-chip-content-edit-is-enabled"))},r.prototype.getChipContent=function(){var t=this.$element[0].getElementsByClassName("md-chip-content");return e.element(t[0])},r.prototype.getContentElement=function(){var t=e.element(this.getChipContent().children()[0]);return t&&0!==t.length||(t=e.element(this.getChipContent().contents()[0])),t},r.prototype.getChipIndex=function(){return parseInt(this.$element.attr("index"))},r.prototype.goOutOfEditMode=function(){if(this.isEditing){this.isEditing=!1,this.$element.removeClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="false";var t=this.getChipIndex(),e=this.getContentElement().text();e?(this.parentController.updateChipContents(t,e),this.$mdUtil.nextTick((function(){this.parentController.selectedChip===t&&this.parentController.focusChip(t)}).bind(this))):this.parentController.removeChipAndFocusInput(t)}},r.prototype.selectNodeContents=function(e){var n,r;document.body.createTextRange?((n=document.body.createTextRange()).moveToElementText(e),n.select()):t.getSelection&&(r=t.getSelection(),(n=document.createRange()).selectNodeContents(e),r.removeAllRanges(),r.addRange(n))},r.prototype.goInEditMode=function(){this.isEditing=!0,this.$element.addClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="true",this.getChipContent().on("blur",(function(){this.goOutOfEditMode()}).bind(this)),this.selectNodeContents(this.getChipContent()[0])},r.prototype.chipKeyDown=function(t){this.isEditing||t.keyCode!==this.$mdConstant.KEY_CODE.ENTER&&t.keyCode!==this.$mdConstant.KEY_CODE.SPACE?this.isEditing&&t.keyCode===this.$mdConstant.KEY_CODE.ENTER&&(t.preventDefault(),this.goOutOfEditMode()):(t.preventDefault(),this.goInEditMode())},r.prototype.chipMouseDoubleClick=function(){this.enableChipEdit&&!this.isEditing&&this.goInEditMode()}}(),function(){function t(t,n,r,i){return{restrict:"E",require:["^?mdChips","mdChip"],link:function(n,r,o,a){var s=a.shift(),c=a.shift(),u=e.element(r[0].querySelector(".md-chip-content"));t(r),s&&(c.init(s),u.on("blur",(function(){s.resetSelectedChip(),s.$scope.$applyAsync()}))),i((function(){s&&s.shouldFocusLastChip&&s.focusLastChipThenInput()}))},controller:"MdChipCtrl"}}t.$inject=["$mdTheming","$mdUtil","$compile","$timeout"],e.module("material.components.chips").directive("mdChip",t)}(),function(){function t(t){return{restrict:"A",require:"^mdChips",scope:!1,link:function(e,n,r,i){n.on("click",(function(t){e.$apply((function(){i.removeChip(e.$$replacedScope.$index)}))})),t((function(){n.attr({tabindex:"-1","aria-hidden":"true"}),n.find("button").attr("tabindex","-1")}))}}}t.$inject=["$timeout"],e.module("material.components.chips").directive("mdChipRemove",t)}(),function(){function t(t){return{restrict:"EA",terminal:!0,link:function(e,n,r){var i=e.$parent.$mdChipsCtrl,o=i.parent.$new(!1,i.parent);o.$$replacedScope=e,o.$chip=e.$chip,o.$index=e.$index,o.$mdChipsCtrl=i;var a=i.$scope.$eval(r.mdChipTransclude);n.html(a),t(n.contents())(o)},scope:!1}}t.$inject=["$compile"],e.module("material.components.chips").directive("mdChipTransclude",t)}(),function(){n.$inject=["$scope","$attrs","$mdConstant","$log","$element","$timeout","$mdUtil","$mdLiveAnnouncer","$exceptionHandler"];var t=300;function n(e,n,r,i,o,a,s,c,u){this.$timeout=a,this.$mdConstant=r,this.$scope=e,this.parent=e.$parent,this.$mdUtil=s,this.$log=i,this.$mdLiveAnnouncer=c,this.$exceptionHandler=u,this.$element=o,this.$attrs=n,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.autocompleteCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.enableChipEdit=s.parseAttributeBoolean(n.mdEnableChipEdit),this.addOnBlur=s.parseAttributeBoolean(n.mdAddOnBlur),this.inputAriaLabel="Chips input.",this.containerHint="Chips container. Use arrow keys to select chips.",this.containerEmptyHint="Chips container. Enter the text area, then type text, and press enter to add a chip.",this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useTransformChip=!1,this.useOnAdd=!1,this.useOnRemove=!1,this.wrapperId="",this.contentIds=[],this.ariaTabIndex=null,this.chipAppendDelay=t,this.deRegister=[],this.addedMessage="added",this.removedMessage="removed",this.init()}e.module("material.components.chips").controller("MdChipsCtrl",n),n.prototype.init=function(){var e=this;this.wrapperId="_md-chips-wrapper-"+this.$mdUtil.nextUid(),this.$element.attr("ng-model")||this.setupStaticChips(),this.deRegister.push(this.$scope.$watchCollection("$mdChipsCtrl.items",(function(){e.setupInputAria(),e.setupWrapperAria()}))),this.deRegister.push(this.$attrs.$observe("mdChipAppendDelay",(function(n){e.chipAppendDelay=parseInt(n)||t})))},n.prototype.$onDestroy=function(){for(var t;t=this.deRegister.pop();)t.call(this)},n.prototype.setupInputAria=function(){var t=this.$element.find("input");t&&(t.attr("role","textbox"),t.attr("aria-multiline",!0),this.inputAriaDescribedBy&&t.attr("aria-describedby",this.inputAriaDescribedBy),this.inputAriaLabelledBy?(t.attr("aria-labelledby",this.inputAriaLabelledBy),t.removeAttr("aria-label")):t.attr("aria-label",this.inputAriaLabel))},n.prototype.setupWrapperAria=function(){var t=this,e=this.$element.find("md-chips-wrap");this.items&&this.items.length?(e.attr("role","listbox"),this.contentIds=this.items.map((function(){return t.wrapperId+"-chip-"+t.$mdUtil.nextUid()})),e.attr("aria-owns",this.contentIds.join(" ")),e.attr("aria-label",this.containerHint)):(e.removeAttr("role"),e.removeAttr("aria-owns"),e.attr("aria-label",this.containerEmptyHint))},n.prototype.setupStaticChips=function(){var t,e,n=this,r=this.$element.find("md-chips-wrap");this.$timeout((function(){for(r.attr("role","list"),e=r[0].children,t=0;t<e.length;t++)e[t].setAttribute("role","listitem"),e[t].setAttribute("aria-setsize",e.length);n.inputAriaDescribedBy&&r.attr("aria-describedby",n.inputAriaDescribedBy),n.inputAriaLabelledBy?(r.attr("aria-labelledby",n.inputAriaLabelledBy),r.removeAttr("aria-label")):r.attr("aria-label",n.inputAriaLabel)}),10)},n.prototype.inputKeydown=function(t){var e=this.getChipBuffer();if(!(this.autocompleteCtrl&&t.isDefaultPrevented&&t.isDefaultPrevented())){if(t.keyCode===this.$mdConstant.KEY_CODE.BACKSPACE){if(0!==this.getCursorPosition(t.target))return;return t.preventDefault(),t.stopPropagation(),void(this.items.length&&this.selectAndFocusChipSafe(this.items.length-1))}if((!this.separatorKeys||this.separatorKeys.length<1)&&(this.separatorKeys=[this.$mdConstant.KEY_CODE.ENTER]),-1!==this.separatorKeys.indexOf(t.keyCode)){if(this.autocompleteCtrl&&this.requireMatch||!e)return;if(t.preventDefault(),this.hasMaxChipsReached())return;return this.appendChip(e.trim()),this.resetChipBuffer(),!1}}},n.prototype.getCursorPosition=function(t){try{if(t.selectionStart===t.selectionEnd)return t.selectionStart}catch(e){if(!t.value)return 0}},n.prototype.updateChipContents=function(t,e){t>=0&&t<this.items.length&&(this.items[t]=e,this.updateNgModel(!0))},n.prototype.isEditingChip=function(){return!!this.$element[0].querySelector("._md-chip-editing")},n.prototype._isChipObject=function(t){return e.isObject(t)},n.prototype.isRemovable=function(){return!!this.ngModelCtrl&&(this.readonly?this.removable:!e.isDefined(this.removable)||this.removable)},n.prototype.chipKeydown=function(t){if(!this.getChipBuffer()&&!this.isEditingChip())switch(t.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;if(t.preventDefault(),!this.isRemovable())return;this.removeAndSelectAdjacentChip(this.selectedChip,t);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:t.preventDefault(),(this.selectedChip<0||this.readonly&&0===this.selectedChip)&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:t.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;t.preventDefault(),this.onFocus()}},n.prototype.getPlaceholder=function(){return this.items&&this.items.length&&(""===this.secondaryPlaceholder||this.secondaryPlaceholder)?this.secondaryPlaceholder:this.placeholder},n.prototype.removeAndSelectAdjacentChip=function(t,e){var n=this,r=n.getAdjacentChipIndex(t);this.$element[0].querySelector("md-chips-wrap"),this.$element[0].querySelector('md-chip[index="'+t+'"]'),n.removeChip(t,e),n.$timeout((function(){n.$timeout((function(){n.selectAndFocusChipSafe(r)}))}))},n.prototype.resetSelectedChip=function(){this.selectedChip=-1,this.ariaTabIndex=null},n.prototype.getAdjacentChipIndex=function(t){var e=this.items.length-1;return 0===e?-1:t===e?t-1:t},n.prototype.appendChip=function(t){if(this.shouldFocusLastChip=!this.addOnBlur,this.useTransformChip&&this.transformChip){var n=this.transformChip({$chip:t});e.isDefined(n)&&(t=n)}if(!(e.isObject(t)&&this.items.some((function(n){return e.equals(t,n)}))||null==t||this.items.indexOf(t)+1)){var r=this.items.push(t)-1;this.updateNgModel();var i=e.isObject(t)?"":t;this.$mdLiveAnnouncer.announce(i+" "+this.addedMessage,"assertive"),this.useOnAdd&&this.onAdd&&this.onAdd({$chip:t,$index:r})}},n.prototype.useTransformChipExpression=function(){this.useTransformChip=!0},n.prototype.useOnAddExpression=function(){this.useOnAdd=!0},n.prototype.useOnRemoveExpression=function(){this.useOnRemove=!0},n.prototype.useOnSelectExpression=function(){this.useOnSelect=!0},n.prototype.getChipBuffer=function(){var t=this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer;return e.isString(t)?t:""},n.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},n.prototype.hasMaxChipsReached=function(){return e.isString(this.maxChips)&&(this.maxChips=parseInt(this.maxChips,10)||0),this.maxChips>0&&this.items.length>=this.maxChips},n.prototype.validateModel=function(){this.ngModelCtrl.$setValidity("md-max-chips",!this.hasMaxChipsReached()),this.ngModelCtrl.$validate()},n.prototype.updateNgModel=function(t){t||this.validateModel(),e.forEach(this.ngModelCtrl.$viewChangeListeners,(function(t){try{t()}catch(e){this.$exceptionHandler(e)}}))},n.prototype.removeChip=function(t,n){var r=this.items.splice(t,1);this.updateNgModel(),this.ngModelCtrl.$setDirty();var i=e.isObject(r[0])?"":r[0];this.$mdLiveAnnouncer.announce(i+" "+this.removedMessage,"assertive"),r&&r.length&&this.useOnRemove&&this.onRemove&&this.onRemove({$chip:r[0],$index:t,$event:n})},n.prototype.removeChipAndFocusInput=function(t,e){this.removeChip(t,e),this.autocompleteCtrl?(this.autocompleteCtrl.hidden=!0,this.$mdUtil.nextTick(this.onFocus.bind(this))):this.onFocus()},n.prototype.selectAndFocusChipSafe=function(t){if(!this.items.length||-1===t)return this.focusInput();if(t>=this.items.length){if(!this.readonly)return this.onFocus();t=0}t=Math.max(t,0),t=Math.min(t,this.items.length-1),this.selectChip(t),this.focusChip(t)},n.prototype.focusLastChipThenInput=function(){var t=this;t.shouldFocusLastChip=!1,t.focusChip(this.items.length-1),t.$timeout((function(){t.focusInput()}),t.chipAppendDelay)},n.prototype.focusInput=function(){this.selectChip(-1),this.onFocus()},n.prototype.selectChip=function(t){t>=-1&&t<=this.items.length?(this.selectedChip=t,this.useOnSelect&&this.onSelect&&this.onSelect({$chip:this.items[t]})):this.$log.warn("Selected Chip index out of bounds; ignoring.")},n.prototype.selectAndFocusChip=function(t){this.selectChip(t),-1!==t&&this.focusChip(t)},n.prototype.focusChip=function(t){var e=this.$element[0].querySelector('md-chip[index="'+t+'"] .md-chip-content');this.ariaTabIndex=t,e.focus()},n.prototype.configureNgModel=function(t){this.ngModelCtrl=t;var e=this;t.$isEmpty=function(t){return!t||0===t.length},t.$render=function(){e.items=e.ngModelCtrl.$viewValue}},n.prototype.onFocus=function(){var t=this.$element[0].querySelector("input");t&&t.focus(),this.resetSelectedChip()},n.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.setupInputAria(),this.resetSelectedChip()},n.prototype.onInputBlur=function(){this.inputHasFocus=!1,this.shouldAddOnBlur()&&(this.appendChip(this.getChipBuffer().trim()),this.resetChipBuffer())},n.prototype.configureInput=function(t){var e=t.controller("ngModel"),n=this;e&&(this.deRegister.push(this.$scope.$watch((function(){return e.$touched}),(function(t){t&&n.ngModelCtrl.$setTouched()}))),this.deRegister.push(this.$scope.$watch((function(){return e.$dirty}),(function(t){t&&n.ngModelCtrl.$setDirty()}))))},n.prototype.configureUserInput=function(t){this.userInputElement=t;var n=t.controller("ngModel");n!==this.ngModelCtrl&&(this.userInputNgModelCtrl=n);var r=this.$scope,i=this,o=function(t,n){r.$evalAsync(e.bind(i,n,t))};t.attr({tabindex:0}).on("keydown",(function(t){o(t,i.inputKeydown)})).on("focus",(function(t){o(t,i.onInputFocus)})).on("blur",(function(t){o(t,i.onInputBlur)}))},n.prototype.configureAutocomplete=function(t){t&&(this.autocompleteCtrl=t,this.$element.attr("container-empty-hint")||(this.containerEmptyHint="Chips container with autocompletion. Enter the text area, type text to search, and then use the up and down arrow keys to select an option. Press enter to add the selected option as a chip.",this.setupWrapperAria()),t.registerSelectedItemWatcher(e.bind(this,(function(t){if(t){if(this.hasMaxChipsReached())return;this.appendChip(t),this.resetChipBuffer()}}))),this.$element.find("input").on("focus",e.bind(this,this.onInputFocus)).on("blur",e.bind(this,this.onInputBlur)))},n.prototype.shouldAddOnBlur=function(){this.validateModel();var t=this.getChipBuffer().trim(),e=this.ngModelCtrl.$isEmpty(this.ngModelCtrl.$modelValue)||this.ngModelCtrl.$valid;return this.userInputNgModelCtrl&&(e=e&&this.userInputNgModelCtrl.$valid),this.addOnBlur&&!this.requireMatch&&t&&e&&!(this.autocompleteCtrl&&!this.autocompleteCtrl.hidden)},n.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0},n.prototype.contentIdFor=function(t){return this.contentIds[t]}}(),function(){o.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout","$$mdSvgRegistry"],e.module("material.components.chips").directive("mdChips",o);var t='      <md-chips-wrap          id="{{$mdChipsCtrl.wrapperId}}"          tabindex="{{$mdChipsCtrl.readonly ? 0 : -1}}"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus(),                       \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly,                      \'md-removable\': $mdChipsCtrl.isRemovable() }"          class="md-chips">        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"             ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index, \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly}">          <div class="md-chip-content"              tabindex="{{$mdChipsCtrl.ariaTabIndex === $index ? 0 : -1}}"              id="{{$mdChipsCtrl.contentIdFor($index)}}"              role="option"              aria-selected="{{$mdChipsCtrl.selectedChip === $index}}"              aria-setsize="{{$mdChipsCtrl.items.length}}"              aria-posinset="{{$index+1}}"              ng-click="!$mdChipsCtrl.readonly && $mdChipsCtrl.focusChip($index)"              aria-label="{{$mdChipsCtrl._isChipObject($chip) ? \'\' : $chip + \'. \'}}{{$mdChipsCtrl.isRemovable() ? \'\' + $mdChipsCtrl.deleteHint : \'\'}}"               ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div ng-if="$mdChipsCtrl.isRemovable()"               class="md-chip-remove-container"               tabindex="-1"               md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div class="md-chip-input-container" ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl">          <div md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',n='        <input            class="md-input"            tabindex="0"            aria-label="{{$mdChipsCtrl.inputAriaLabel}}"            placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',r="      <span>{{$chip}}</span>",i='      <button          class="md-chip-remove"          ng-if="$mdChipsCtrl.isRemovable()"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index, $event)"          type="button"          tabindex="-1"          aria-label="{{$mdChipsCtrl.deleteButtonLabel}}{{$mdChipsCtrl._isChipObject($chip) ? \'\' : \' \' + $chip}}">        <md-icon md-svg-src="{{$mdChipsCtrl.mdCloseIcon}}" aria-hidden="true"></md-icon>      </button>';function o(e,o,a,s,c,u){var l={chips:o.processTemplate(t),input:o.processTemplate(n),default:o.processTemplate(r),remove:o.processTemplate(i)};return{template:function(t,e){return e.$mdUserTemplate=t.clone(),l.chips},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:function(t,n){var r=n.$mdUserTemplate;n.$mdUserTemplate=null;var i=m("md-chips>md-chip-template"),d=m(o.prefixer().buildList("md-chip-remove").map((function(t){return"md-chips>*["+t+"]"})).join(","))||l.remove,f=i||l.default,h=m("md-chips>md-autocomplete")||m("md-chips>input")||l.input,p=r.find("md-chip");function m(t){if(n.ngModel){var e=r[0].querySelector(t);return e&&e.outerHTML}}return(r[0].querySelector("md-chip-template>*[md-chip-remove]")&&s.warn("invalid placement of md-chip-remove within md-chip-template."),function(t,r,s,m){o.initOptionalProperties(t,n),e(r);var g=m[0];if(i&&(g.enableChipEdit=!1),g.chipContentsTemplate=f,g.chipRemoveTemplate=d,g.chipInputTemplate=h,g.mdCloseIcon=u.mdClose,r.attr({tabindex:-1}).on("focus",(function(){g.onFocus()})).on("click",(function(){g.readonly||-1!==g.selectedChip||g.onFocus()})),n.ngModel&&(g.configureNgModel(r.controller("ngModel")),s.mdTransformChip&&g.useTransformChipExpression(),s.mdOnAppend&&g.useOnAppendExpression(),s.mdOnAdd&&g.useOnAddExpression(),s.mdOnRemove&&g.useOnRemoveExpression(),s.mdOnSelect&&g.useOnSelectExpression(),h!==l.input&&t.$watch("$mdChipsCtrl.readonly",(function(t){t||o.nextTick((function(){if(0===h.indexOf("<md-autocomplete")){var t=r.find("md-autocomplete");g.configureAutocomplete(t.controller("mdAutocomplete"))}g.configureUserInput(r.find("input"))}))})),o.nextTick((function(){var t=r.find("input");t&&(g.configureInput(t),t.toggleClass("md-input",!0))}))),p.length>0){var v=a(p.clone())(t.$parent);c((function(){r.find("md-chips-wrap").prepend(v)}))}})},scope:{readonly:"=?readonly",removable:"=?mdRemovable",placeholder:"@?",secondaryPlaceholder:"@?",maxChips:"@?mdMaxChips",transformChip:"&mdTransformChip",onAppend:"&?mdOnAppend",onAdd:"&?mdOnAdd",onRemove:"&?mdOnRemove",addedMessage:"@?mdAddedMessage",removedMessage:"@?mdRemovedMessage",onSelect:"&?mdOnSelect",inputAriaDescribedBy:"@?inputAriaDescribedby",inputAriaLabelledBy:"@?inputAriaLabelledby",inputAriaLabel:"@?",containerHint:"@?",containerEmptyHint:"@?",deleteHint:"@?",deleteButtonLabel:"@?",separatorKeys:"=?mdSeparatorKeys",requireMatch:"=?mdRequireMatch",chipAppendDelayString:"@?mdChipAppendDelay",ngChange:"&?"}}}}(),function(){function t(t,e,n){this.$element=e,this.$attrs=t,this.$timeout=n,this.selectedItem=null,this.searchText="",this.deRegister=[],this.init()}t.$inject=["$attrs","$element","$timeout"],e.module("material.components.chips").controller("MdContactChipsCtrl",t),t.prototype.init=function(){var t=this,e=this.deRegister,n=this.$element;this.$timeout((function(){e.push(n.find("md-chips").scope().$watchCollection("$mdChipsCtrl.items",(function(){t.setupChipsAria(),t.setupAutocompleteAria()})))}))},t.prototype.setupChipsAria=function(){var t=this.$element.find("md-chips"),e=t.controller("mdChips");this.removedMessage&&(e.removedMessage=this.removedMessage),this.containerHint&&(e.containerHint=this.containerHint),this.containerEmptyHint&&(t.attr("container-empty-hint",this.containerEmptyHint),e.containerEmptyHint=this.containerEmptyHint),this.deleteHint&&(e.deleteHint=this.deleteHint),this.inputAriaLabel&&(e.inputAriaLabel=this.inputAriaLabel)},t.prototype.setupAutocompleteAria=function(){var t=this.$element.find("md-chips-wrap").find("md-autocomplete").find("input");this.inputAriaDescribedBy&&t.attr("aria-describedby",this.inputAriaDescribedBy),this.inputAriaLabelledBy&&(t.removeAttr("aria-label"),t.attr("aria-labelledby",this.inputAriaLabelledBy))},t.prototype.queryContact=function(t){return this.contactQuery({$query:t})},t.prototype.inputKeydown=function(t){if(this.separatorKeys&&!(this.separatorKeys.indexOf(t.keyCode)<0)){t.stopPropagation(),t.preventDefault();var n=e.element(t.target).controller("mdAutocomplete");n.select(n.index)}},t.prototype.itemName=function(t){return t[this.contactName]},t.prototype.$onDestroy=function(){for(var t;t=this.deRegister.pop();)t.call(this)}}(),function(){n.$inject=["$mdTheming","$mdUtil"],e.module("material.components.chips").directive("mdContactChips",n);var t='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          ng-change="$mdContactChipsCtrl.ngChange($mdContactChipsCtrl.contacts)"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-chip-append-delay="{{$mdContactChipsCtrl.chipAppendDelay}}"          md-separator-keys="$mdContactChipsCtrl.separatorKeys"          md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.itemName(item)"              md-no-cache="true"              md-min-length="$mdContactChipsCtrl.minLength"              md-autoselect              ng-keydown="$mdContactChipsCtrl.inputKeydown($event)"              placeholder="{{$mdContactChipsCtrl.contacts.length === 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}"                  ng-if="item[$mdContactChipsCtrl.contactImage]" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText"                    md-highlight-flags="{{$mdContactChipsCtrl.highlightFlags}}">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}"                  ng-if="$chip[$mdContactChipsCtrl.contactImage]" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>';function n(e,n){return{template:function(e,n){return t},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:function(t,r){return function(t,i,o,a){var s=a;n.initOptionalProperties(t,r),e(i),i.attr("tabindex","-1"),o.$observe("mdChipAppendDelay",(function(t){s.chipAppendDelay=t}))}},scope:{contactQuery:"&mdContacts",placeholder:"@?",secondaryPlaceholder:"@?",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",ngChange:"&?",requireMatch:"=?mdRequireMatch",minLength:"=?mdMinLength",highlightFlags:"@?mdHighlightFlags",chipAppendDelay:"@?mdChipAppendDelay",separatorKeys:"=?mdSeparatorKeys",removedMessage:"@?mdRemovedMessage",inputAriaDescribedBy:"@?inputAriaDescribedby",inputAriaLabelledBy:"@?inputAriaLabelledby",inputAriaLabel:"@?",containerHint:"@?",containerEmptyHint:"@?",deleteHint:"@?"}}}}(),function(){i.$inject=["$mdColors","$mdUtil","$log","$parse"],r.$inject=["$mdTheming","$mdUtil","$log"];var t=/^{((\s|,)*?["'a-zA-Z-]+?\s*?:\s*?('|")[a-zA-Z0-9-.]*('|"))+\s*}$/,n=null;function r(t,r,i){return n=n||Object.keys(t.PALETTES),{applyThemeColors:function(t,n){try{n&&t.css((s={},c=(r=n).hasOwnProperty("color"),e.forEach(r,(function(t,e){var n=a(t),r=e.indexOf("background")>-1;s[e]=o(n),r&&!c&&(s.color=o(n,!0))})),s))}catch(u){i.error(u.message)}var r,s,c},getThemeColor:function(t){return o(a(t))},hasTheme:function(n){return e.isDefined(t.THEMES[n.split("-")[0]])}};function o(e,n){var i=t.PALETTES[e.palette][e.hue];return r.supplant("rgba({0}, {1}, {2}, {3})",[(i=(n=n||!1)?i.contrast:i.value)[0],i[1],i[2],i[3]||e.opacity])}function a(n){var r=n.split("-"),i=e.isDefined(t.THEMES[r[0]])?r.splice(0,1)[0]:t.defaultTheme();return{theme:i,palette:s(r,i),hue:c(r,i),opacity:r[2]||1}}function s(e,i){var o=e.length>1&&-1!==n.indexOf(e[1]),a=e[0].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(o&&(a=e[0]+"-"+e.splice(1,1)),-1===n.indexOf(a)){var s=t.THEMES[i].colors[a];if(!s)throw new Error(r.supplant("mdColors: couldn't find '{palette}' in the palettes.",{palette:a}));a=s.name}return a}function c(e,n){var i=t.THEMES[n].colors;if("hue"===e[1]){var o=parseInt(e.splice(2,1)[0],10);if(o<1||o>3)throw new Error(r.supplant("mdColors: 'hue-{hueNumber}' is not a valid hue, can be only 'hue-1', 'hue-2' and 'hue-3'",{hueNumber:o}));if(e[1]="hue-"+o,!(e[0]in i))throw new Error(r.supplant("mdColors: 'hue-x' can only be used with [{availableThemes}], but was used with '{usedTheme}'",{availableThemes:Object.keys(i).join(", "),usedTheme:e[0]}));return i[e[0]].hues[e[1]]}return e[1]||i[e[0]in i?e[0]:"primary"].hues.default}}function i(n,r,i,o){return{restrict:"A",require:["^?mdTheme"],compile:function(a,s){var c=function(){var n=s.mdColors,i=n.indexOf("::")>-1,o=!!i||t.test(s.mdColors);s.mdColors=n.replace("::","");var a=e.isDefined(s.mdColorsWatch);return!i&&!o&&(!a||r.parseAttributeBoolean(s.mdColorsWatch))}();return function(t,r,a,s){var u=s[0],l={},d=function(e){"string"!=typeof e&&(e=""),a.mdColors||(a.mdColors="{}");var r=o(a.mdColors)(t);return u&&Object.keys(r).forEach((function(t){var i=r[t];n.hasTheme(i)||(r[t]=(e||u.$mdTheme)+"-"+i)})),f(r),r},f=function(t){if(!e.equals(t,l)){var n=Object.keys(l);l.background&&!n.color&&n.push("color"),n.forEach((function(t){r.css(t,"")}))}l=t},h=e.noop;u&&(h=u.registerChanges((function(t){n.applyThemeColors(r,d(t))}))),t.$on("$destroy",(function(){h()}));try{c?t.$watch(d,e.bind(this,n.applyThemeColors,r),!0):n.applyThemeColors(r,d())}catch(p){i.error(p.message)}}}}}e.module("material.components.colors",["material.core"]).directive("mdColors",i).service("$mdColors",r)}(),function(){function t(t){return{restrict:"E",controller:["$scope","$element",function(t,e){this.$scope=t,this.$element=e}],link:function(n,r){var i;r.addClass("_md"),t(r),n.$broadcast("$mdContentLoaded",r),e.element(i=r[0]).on("$md.pressdown",(function(t){"t"===t.pointer.type&&(t.$materialScrollFixed||(t.$materialScrollFixed=!0,0===i.scrollTop?i.scrollTop=1:i.scrollHeight===i.scrollTop+i.offsetHeight&&(i.scrollTop-=1)))}))}}}t.$inject=["$mdTheming"],e.module("material.components.content",["material.core"]).directive("mdContent",t)}(),e.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"]),function(){i.$inject=["$element","$scope","$$mdDateUtil","$mdUtil","$mdConstant","$mdTheming","$$rAF","$attrs","$mdDateLocale"],e.module("material.components.datepicker").directive("mdCalendar",(function(){return{template:function(t,e){return'<div ng-switch="calendarCtrl.currentView" '+(e.hasOwnProperty("ngIf")?"":'ng-if="calendarCtrl.isInitialized"')+'><md-calendar-year ng-switch-when="year"></md-calendar-year><md-calendar-month ng-switch-default></md-calendar-month></div>'},scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter",_mode:"@mdMode",_currentView:"@mdCurrentView"},require:["ngModel","mdCalendar"],controller:i,controllerAs:"calendarCtrl",bindToController:!0,link:function(t,e,n,r){r[1].configureNgModel(r[0])}}}));var t=340,n=0,r={day:"month",month:"year"};function i(t,r,i,o,a,s,c,u,l){s(t),this.$element=t,this.$scope=r,this.dateUtil=i,this.$mdUtil=o,this.keyCode=a.KEY_CODE,this.$$rAF=c,this.$mdDateLocale=l,this.today=this.dateUtil.createDateAtMidnight(),this.ngModelCtrl=null,this.SELECTED_DATE_CLASS="md-calendar-selected-date",this.TODAY_CLASS="md-calendar-date-today",this.FOCUSED_DATE_CLASS="md-focus",this.id=n++,this.displayDate=null,this.selectedDate=null,this.firstRenderableDate=null,this.lastRenderableDate=null,this.isInitialized=!1,this.width=0,this.scrollbarWidth=0,u.tabindex||t.attr("tabindex","-1");var d,f=e.bind(this,this.handleKeyEvent);(d=t.parent().hasClass("md-datepicker-calendar")?e.element(document.body):t).on("keydown",f),r.$on("$destroy",(function(){d.off("keydown",f)})),1===e.version.major&&e.version.minor<=4&&this.$onInit()}i.prototype.$onInit=function(){this._mode&&r.hasOwnProperty(this._mode)?(this.currentView=r[this._mode],this.mode=this._mode):(this.currentView=this._currentView||"month",this.mode=null);var t=this.$mdDateLocale;this.firstRenderableDate=this.minDate&&this.minDate>t.firstRenderableDate?this.minDate:t.firstRenderableDate,this.lastRenderableDate=this.maxDate&&this.maxDate<t.lastRenderableDate?this.maxDate:t.lastRenderableDate},i.prototype.configureNgModel=function(t){var e=this;e.ngModelCtrl=t,e.$mdUtil.nextTick((function(){e.isInitialized=!0})),t.$render=function(){var t=this.$viewValue;e.$scope.$broadcast("md-calendar-parent-changed",t),e.selectedDate||(e.selectedDate=t),e.displayDate||(e.displayDate=e.selectedDate||e.today)}},i.prototype.setNgModelValue=function(t){var e=this.dateUtil.createDateAtMidnight(t);return this.focus(e),this.$scope.$emit("md-calendar-change",e),this.ngModelCtrl.$setViewValue(e),this.ngModelCtrl.$render(),e},i.prototype.setCurrentView=function(t,n){var r=this;r.$mdUtil.nextTick((function(){r.currentView=t,n&&(r.displayDate=e.isDate(n)?n:new Date(n))}))},i.prototype.focus=function(t){if(this.dateUtil.isValidDate(t)){var e=this.$element[0].querySelector("."+this.FOCUSED_DATE_CLASS);e&&e.classList.remove(this.FOCUSED_DATE_CLASS);var n=this.getDateId(t,this.currentView),r=document.getElementById(n);r&&(r.classList.add(this.FOCUSED_DATE_CLASS),r.focus(),this.displayDate=t)}else{var i=this.$element[0].querySelector("[ng-switch]");i&&i.focus()}},i.prototype.changeSelectedDate=function(t){var e=this.SELECTED_DATE_CLASS,n=this.$element[0].querySelector("."+e);if(n&&(n.classList.remove(e),n.setAttribute("aria-selected","false")),t){var r=document.getElementById(this.getDateId(t,this.currentView));r&&(r.classList.add(e),r.setAttribute("aria-selected","true"))}this.selectedDate=t},i.prototype.getActionFromKeyEvent=function(t){var e=this.keyCode;switch(t.which){case e.ENTER:return"select";case e.RIGHT_ARROW:return"move-right";case e.LEFT_ARROW:return"move-left";case e.DOWN_ARROW:return t.metaKey?"move-page-down":"move-row-down";case e.UP_ARROW:return t.metaKey?"move-page-up":"move-row-up";case e.PAGE_DOWN:return"move-page-down";case e.PAGE_UP:return"move-page-up";case e.HOME:return"start";case e.END:return"end";default:return null}},i.prototype.handleKeyEvent=function(t){var e=this;this.$scope.$apply((function(){if(t.which==e.keyCode.ESCAPE||t.which==e.keyCode.TAB)return e.$scope.$emit("md-calendar-close"),void(t.which==e.keyCode.TAB&&t.preventDefault());var n=e.getActionFromKeyEvent(t);n&&(t.preventDefault(),t.stopPropagation(),e.$scope.$broadcast("md-calendar-parent-action",n))}))},i.prototype.hideVerticalScrollbar=function(e){var n=this,r=e.$element[0],i=r.querySelector(".md-calendar-scroll-mask");function o(){var r=n.width||t,o=n.scrollbarWidth,a=e.calendarScroller;i.style.width=r+"px",a.style.width=r+o+"px",a.style.paddingRight=o+"px"}n.width>0?o():n.$$rAF((function(){var t=e.calendarScroller;n.scrollbarWidth=t.offsetWidth-t.clientWidth,n.width=r.querySelector("table").offsetWidth,o()}))},i.prototype.getDateId=function(t,e){if(!e)throw new Error("A namespace for the date id has to be specified.");return["md",this.id,e,t.getFullYear(),t.getMonth(),t.getDate()].join("-")},i.prototype.updateVirtualRepeat=function(){var t=this.$scope,e=t.$on("$md-resize-enable",(function(){t.$$phase||t.$apply(),e()}))}}(),function(){r.$inject=["$element","$scope","$animate","$q","$$mdDateUtil","$mdDateLocale"],e.module("material.components.datepicker").directive("mdCalendarMonth",(function(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="'+(n-t)+'"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-month-body role="rowgroup" md-virtual-repeat="i in monthCtrl.items" md-month-offset="$index" class="md-calendar-month" md-start-index="monthCtrl.getSelectedMonthIndex()" md-item-size="'+t+'"><tr aria-hidden="true" md-force-height="\''+t+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarMonth"],controller:r,controllerAs:"monthCtrl",bindToController:!0,link:function(t,e,n,r){r[1].initialize(r[0])}}}));var t=265,n=45;function r(t,e,n,r,i,o){this.$element=t,this.$scope=e,this.$animate=n,this.$q=r,this.dateUtil=i,this.dateLocale=o,this.calendarScroller=t[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1;var a=this;this.cellClickHandler=function(){var t=i.getTimestampFromNode(this);a.$scope.$apply((function(){a.calendarCtrl.setNgModelValue(t)}))},this.headerClickHandler=function(){a.calendarCtrl.setCurrentView("year",i.getTimestampFromNode(this))}}r.prototype.initialize=function(t){this.items={length:this.dateUtil.getMonthDistance(t.firstRenderableDate,t.lastRenderableDate)+2},this.calendarCtrl=t,this.attachScopeListeners(),t.updateVirtualRepeat(),t.ngModelCtrl&&t.ngModelCtrl.$render()},r.prototype.getSelectedMonthIndex=function(){var t=this.calendarCtrl;return this.dateUtil.getMonthDistance(t.firstRenderableDate,t.displayDate||t.selectedDate||t.today)},r.prototype.changeDisplayDate=function(t){if(!this.isInitialized)return this.buildWeekHeader(),this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(!this.dateUtil.isValidDate(t)||this.isMonthTransitionInProgress)return this.$q.when();this.isMonthTransitionInProgress=!0;var e=this.animateDateChange(t);this.calendarCtrl.displayDate=t;var n=this;return e.then((function(){n.isMonthTransitionInProgress=!1})),e},r.prototype.animateDateChange=function(e){if(this.dateUtil.isValidDate(e)){var n=this.dateUtil.getMonthDistance(this.calendarCtrl.firstRenderableDate,e);this.calendarScroller.scrollTop=n*t}return this.$q.when()},r.prototype.buildWeekHeader=function(){for(var t=this.dateLocale.firstDayOfWeek,e=this.dateLocale.shortDays,n=document.createElement("tr"),r=0;r<7;r++){var i=document.createElement("th");i.textContent=e[(r+t)%7],n.appendChild(i)}this.$element.find("thead").append(n)},r.prototype.attachScopeListeners=function(){var t=this;t.$scope.$on("md-calendar-parent-changed",(function(e,n){t.calendarCtrl.changeSelectedDate(n),t.changeDisplayDate(n)})),t.$scope.$on("md-calendar-parent-action",e.bind(this,this.handleKeyEvent))},r.prototype.handleKeyEvent=function(t,e){var n=this.calendarCtrl,r=n.displayDate;if("select"===e)n.setNgModelValue(r);else{var i=null,o=this.dateUtil;switch(e){case"move-right":i=o.incrementDays(r,1);break;case"move-left":i=o.incrementDays(r,-1);break;case"move-page-down":i=o.incrementMonths(r,1);break;case"move-page-up":i=o.incrementMonths(r,-1);break;case"move-row-down":i=o.incrementDays(r,7);break;case"move-row-up":i=o.incrementDays(r,-7);break;case"start":i=o.getFirstDateOfMonth(r);break;case"end":i=o.getLastDateOfMonth(r)}i&&(i=this.dateUtil.clampDate(i,n.minDate,n.maxDate),this.changeDisplayDate(i).then((function(){n.focus(i)})))}}}(),function(){function t(t,r){var i=t('<md-icon md-svg-src="'+r.mdTabsArrow+'"></md-icon>')({})[0];return{require:["^^mdCalendar","^^mdCalendarMonth","mdCalendarMonthBody"],scope:{offset:"=mdMonthOffset"},controller:n,controllerAs:"mdMonthBodyCtrl",bindToController:!0,link:function(t,n,r,o){var a=o[1],s=o[2];s.calendarCtrl=o[0],s.monthCtrl=a,s.arrowIcon=i.cloneNode(!0),t.$watch((function(){return s.offset}),(function(t){e.isNumber(t)&&s.generateContent()}))}}}function n(t,e,n){this.$element=t,this.dateUtil=e,this.dateLocale=n,this.monthCtrl=null,this.calendarCtrl=null,this.offset=null,this.focusAfterAppend=null}t.$inject=["$compile","$$mdSvgRegistry"],n.$inject=["$element","$$mdDateUtil","$mdDateLocale"],e.module("material.components.datepicker").directive("mdCalendarMonthBody",t),n.prototype.generateContent=function(){var t=this.dateUtil.incrementMonths(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForMonth(t)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},n.prototype.buildDateCell=function(t){var e=this.monthCtrl,n=this.calendarCtrl,r=document.createElement("td");if(r.tabIndex=-1,r.classList.add("md-calendar-date"),r.setAttribute("role","gridcell"),t){r.setAttribute("tabindex","-1"),r.setAttribute("aria-label",this.dateLocale.longDateFormatter(t)),r.id=n.getDateId(t,"month"),r.setAttribute("data-timestamp",t.getTime()),this.dateUtil.isSameDay(t,n.today)&&r.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameDay(t,n.selectedDate)&&(r.classList.add(n.SELECTED_DATE_CLASS),r.setAttribute("aria-selected","true"));var i=this.dateLocale.dates[t.getDate()];if(this.isDateEnabled(t)){var o=document.createElement("span");o.classList.add("md-calendar-date-selection-indicator"),o.textContent=i,r.appendChild(o),r.addEventListener("click",e.cellClickHandler),n.displayDate&&this.dateUtil.isSameDay(t,n.displayDate)&&(this.focusAfterAppend=r)}else r.classList.add("md-calendar-date-disabled"),r.textContent=i}return r},n.prototype.isDateEnabled=function(t){return this.dateUtil.isDateWithinRange(t,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!e.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(t))},n.prototype.buildDateRow=function(t){var e=document.createElement("tr");return e.setAttribute("role","row"),e.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(t)),e},n.prototype.buildCalendarForMonth=function(t){var e=this.dateUtil.isValidDate(t)?t:new Date,n=this.dateUtil.getFirstDateOfMonth(e),r=this.getLocaleDay_(n),i=this.dateUtil.getNumberOfDaysInMonth(e),o=document.createDocumentFragment(),a=1,s=this.buildDateRow(a);o.appendChild(s);var c=this.offset===this.monthCtrl.items.length-1,u=0,l=document.createElement("td"),d=document.createElement("span"),f=this.calendarCtrl;if(d.textContent=this.dateLocale.monthHeaderFormatter(e),l.appendChild(d),l.classList.add("md-calendar-month-label"),f.maxDate&&n>f.maxDate?l.classList.add("md-calendar-month-label-disabled"):f.mode||(l.addEventListener("click",this.monthCtrl.headerClickHandler),l.setAttribute("data-timestamp",n.getTime()),l.setAttribute("aria-label",this.dateLocale.monthFormatter(e)),l.classList.add("md-calendar-label-clickable"),l.appendChild(this.arrowIcon.cloneNode(!0))),r<=2){l.setAttribute("colspan","7");var h=this.buildDateRow();if(h.appendChild(l),o.insertBefore(h,s),c)return o}else u=3,l.setAttribute("colspan","3"),s.appendChild(l);for(var p=u;p<r;p++)s.appendChild(this.buildDateCell());for(var m=r,g=n,v=1;v<=i;v++){if(7===m){if(c)return o;m=0,a++,s=this.buildDateRow(a),o.appendChild(s)}g.setDate(v);var y=this.buildDateCell(g);s.appendChild(y),m++}for(;s.childNodes.length<7;)s.appendChild(this.buildDateCell());for(;o.childNodes.length<6;){for(var b=this.buildDateRow(),_=0;_<7;_++)b.appendChild(this.buildDateCell());o.appendChild(b)}return o},n.prototype.getLocaleDay_=function(t){return(t.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}}(),function(){n.$inject=["$element","$scope","$animate","$q","$$mdDateUtil","$mdUtil"],e.module("material.components.datepicker").directive("mdCalendarYear",(function(){return{template:'<div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-year-body role="rowgroup" md-virtual-repeat="i in yearCtrl.items" md-year-offset="$index" class="md-calendar-year" md-start-index="yearCtrl.getFocusedYearIndex()" md-item-size="'+t+'"><tr aria-hidden="true" md-force-height="\''+t+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarYear"],controller:n,controllerAs:"yearCtrl",bindToController:!0,link:function(t,e,n,r){r[1].initialize(r[0])}}}));var t=88;function n(t,e,n,r,i,o){this.$element=t,this.$scope=e,this.$animate=n,this.$q=r,this.dateUtil=i,this.calendarScroller=t[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1,this.$mdUtil=o;var a=this;this.cellClickHandler=function(){a.onTimestampSelected(i.getTimestampFromNode(this))}}n.prototype.initialize=function(t){this.items={length:this.dateUtil.getYearDistance(t.firstRenderableDate,t.lastRenderableDate)+1},this.calendarCtrl=t,this.attachScopeListeners(),t.updateVirtualRepeat(),t.ngModelCtrl&&t.ngModelCtrl.$render()},n.prototype.getFocusedYearIndex=function(){var t=this.calendarCtrl;return this.dateUtil.getYearDistance(t.firstRenderableDate,t.displayDate||t.selectedDate||t.today)},n.prototype.changeDate=function(t){if(!this.isInitialized)return this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(this.dateUtil.isValidDate(t)&&!this.isMonthTransitionInProgress){var e=this,n=this.animateDateChange(t);return e.isMonthTransitionInProgress=!0,e.calendarCtrl.displayDate=t,n.then((function(){e.isMonthTransitionInProgress=!1}))}},n.prototype.animateDateChange=function(e){if(this.dateUtil.isValidDate(e)){var n=this.dateUtil.getYearDistance(this.calendarCtrl.firstRenderableDate,e);this.calendarScroller.scrollTop=n*t}return this.$q.when()},n.prototype.handleKeyEvent=function(t,e){var n=this,r=n.calendarCtrl,i=r.displayDate;if("select"===e)n.changeDate(i).then((function(){n.onTimestampSelected(i)}));else{var o=null,a=n.dateUtil;switch(e){case"move-right":o=a.incrementMonths(i,1);break;case"move-left":o=a.incrementMonths(i,-1);break;case"move-row-down":o=a.incrementMonths(i,6);break;case"move-row-up":o=a.incrementMonths(i,-6)}if(o){var s=r.minDate?a.getFirstDateOfMonth(r.minDate):null,c=r.maxDate?a.getFirstDateOfMonth(r.maxDate):null;o=a.getFirstDateOfMonth(n.dateUtil.clampDate(o,s,c)),n.changeDate(o).then((function(){r.focus(o)}))}}},n.prototype.attachScopeListeners=function(){var t=this;t.$scope.$on("md-calendar-parent-changed",(function(e,n){t.calendarCtrl.changeSelectedDate(n?t.dateUtil.getFirstDateOfMonth(n):n),t.changeDate(n)})),t.$scope.$on("md-calendar-parent-action",e.bind(t,t.handleKeyEvent))},n.prototype.onTimestampSelected=function(t){var e=this.calendarCtrl;e.mode?this.$mdUtil.nextTick((function(){e.setNgModelValue(t)})):e.setCurrentView("month",t)}}(),function(){function t(t,e,n){this.$element=t,this.dateUtil=e,this.dateLocale=n,this.calendarCtrl=null,this.yearCtrl=null,this.offset=null,this.focusAfterAppend=null}t.$inject=["$element","$$mdDateUtil","$mdDateLocale"],e.module("material.components.datepicker").directive("mdCalendarYearBody",(function(){return{require:["^^mdCalendar","^^mdCalendarYear","mdCalendarYearBody"],scope:{offset:"=mdYearOffset"},controller:t,controllerAs:"mdYearBodyCtrl",bindToController:!0,link:function(t,n,r,i){var o=i[1],a=i[2];a.calendarCtrl=i[0],a.yearCtrl=o,t.$watch((function(){return a.offset}),(function(t){e.isNumber(t)&&a.generateContent()}))}}})),t.prototype.generateContent=function(){var t=this.dateUtil.incrementYears(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForYear(t)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},t.prototype.buildMonthCell=function(t,n){var r=this.calendarCtrl,i=this.yearCtrl,o=this.buildBlankCell(),a=new Date(t,n,1);o.setAttribute("aria-label",this.dateLocale.monthFormatter(a)),o.id=r.getDateId(a,"year"),o.setAttribute("data-timestamp",String(a.getTime())),this.dateUtil.isSameMonthAndYear(a,r.today)&&o.classList.add(r.TODAY_CLASS),this.dateUtil.isValidDate(r.selectedDate)&&this.dateUtil.isSameMonthAndYear(a,r.selectedDate)&&(o.classList.add(r.SELECTED_DATE_CLASS),o.setAttribute("aria-selected","true"));var s=this.dateLocale.shortMonths[n];if(!this.dateUtil.isMonthWithinRange(a,r.minDate,r.maxDate)||e.isFunction(this.calendarCtrl.dateFilter)&&!this.calendarCtrl.dateFilter(a))o.classList.add("md-calendar-date-disabled"),o.textContent=s;else{var c=document.createElement("span");c.classList.add("md-calendar-date-selection-indicator"),c.textContent=s,o.appendChild(c),o.addEventListener("click",i.cellClickHandler),r.displayDate&&this.dateUtil.isSameMonthAndYear(a,r.displayDate)&&(this.focusAfterAppend=o)}return o},t.prototype.buildBlankCell=function(){var t=document.createElement("td");return t.tabIndex=-1,t.classList.add("md-calendar-date"),t.setAttribute("role","gridcell"),t.setAttribute("tabindex","-1"),t},t.prototype.buildCalendarForYear=function(t){var e,n=t.getFullYear(),r=document.createDocumentFragment(),i=document.createElement("tr"),o=document.createElement("td");for(o.className="md-calendar-month-label",o.textContent=n,i.appendChild(o),e=0;e<6;e++)i.appendChild(this.buildMonthCell(n,e));r.appendChild(i);var a=document.createElement("tr");for(a.appendChild(this.buildBlankCell()),e=6;e<12;e++)a.appendChild(this.buildMonthCell(n,e));return r.appendChild(a),r}}(),e.module("material.components.datepicker").config(["$provide",function(t){function e(){this.months=null,this.shortMonths=null,this.days=null,this.shortDays=null,this.dates=null,this.firstDayOfWeek=0,this.formatDate=null,this.parseDate=null,this.monthHeaderFormatter=null,this.weekNumberFormatter=null,this.longDateFormatter=null,this.isDateComplete=null,this.msgCalendar="",this.msgOpenCalendar=""}(e.prototype.$get=function(t,e){for(var n=t.DATETIME_FORMATS.SHORTDAY.map((function(t){return t.substring(0,1)})),r=Array(32),i=1;i<=31;i++)r[i]=i;var o=new Date(1880,0,1),a=new Date(o.getFullYear()+250,0,1),s={months:this.months||t.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||t.DATETIME_FORMATS.SHORTMONTH,days:this.days||t.DATETIME_FORMATS.DAY,shortDays:this.shortDays||n,dates:this.dates||r,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||function(t,n){if(!t)return"";var r=t.toLocaleTimeString(),i=t;return 0!==t.getHours()||-1===r.indexOf("11:")&&-1===r.indexOf("23:")||(i=new Date(t.getFullYear(),t.getMonth(),t.getDate(),1,0,0)),e("date")(i,"M/d/yyyy",n)},parseDate:this.parseDate||function(t){return new Date(t)},isDateComplete:this.isDateComplete||function(t){return t=t.trim(),/^(([a-zA-Z]{3,}|[0-9]{1,4})([ .,]+|[/-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/.test(t)},monthHeaderFormatter:this.monthHeaderFormatter||function(t){return s.shortMonths[t.getMonth()]+" "+t.getFullYear()},monthFormatter:this.monthFormatter||function(t){return s.months[t.getMonth()]+" "+t.getFullYear()},weekNumberFormatter:this.weekNumberFormatter||function(t){return"Week "+t},longDateFormatter:this.longDateFormatter||function(t){return[s.days[t.getDay()],s.months[t.getMonth()],s.dates[t.getDate()],t.getFullYear()].join(" ")},msgCalendar:this.msgCalendar||"Calendar",msgOpenCalendar:this.msgOpenCalendar||"Open calendar",firstRenderableDate:this.firstRenderableDate||o,lastRenderableDate:this.lastRenderableDate||a};return s}).$inject=["$locale","$filter"],t.provider("$mdDateLocale",new e)}]),e.module("material.components.datepicker").factory("$$mdDateUtil",(function(){return{getFirstDateOfMonth:t,getNumberOfDaysInMonth:n,getDateInNextMonth:r,getDateInPreviousMonth:i,isInNextMonth:function(t,e){return o(r(t),e)},isInPreviousMonth:function(t,e){return o(e,i(t))},getDateMidpoint:function(t,e){return u((t.getTime()+e.getTime())/2)},isSameMonthAndYear:o,getWeekOfMonth:function(e){var n=t(e);return Math.floor((n.getDay()+e.getDate()-1)/7)},incrementDays:function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e)},incrementMonths:a,getLastDateOfMonth:function(t){return new Date(t.getFullYear(),t.getMonth(),n(t))},isSameDay:function(t,e){return t.getDate()==e.getDate()&&o(t,e)},getMonthDistance:function(t,e){return 12*(e.getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth())},isValidDate:s,setDateTimeToMidnight:c,createDateAtMidnight:u,isDateWithinRange:function(t,e,n){var r=u(t),i=s(e)?u(e):null,o=s(n)?u(n):null;return(!i||i<=r)&&(!o||o>=r)},incrementYears:function(t,e){return a(t,12*e)},getYearDistance:function(t,e){return e.getFullYear()-t.getFullYear()},clampDate:function(t,e,n){var r=t;return e&&t<e&&(r=new Date(e.getTime())),n&&t>n&&(r=new Date(n.getTime())),r},getTimestampFromNode:function(t){if(t&&t.hasAttribute("data-timestamp"))return Number(t.getAttribute("data-timestamp"))},isMonthWithinRange:function(t,e,n){var r=t.getMonth(),i=t.getFullYear();return(!e||e.getFullYear()<i||e.getMonth()<=r)&&(!n||n.getFullYear()>i||n.getMonth()>=r)}};function t(t){return new Date(t.getFullYear(),t.getMonth(),1)}function n(t){return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()}function r(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function i(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function o(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()}function a(t,e){var r=new Date(t.getFullYear(),t.getMonth()+e,1),i=n(r);return i<t.getDate()?r.setDate(i):r.setDate(t.getDate()),r}function s(t){return t&&t.getTime&&!isNaN(t.getTime())}function c(t){s(t)&&t.setHours(0,0,0,0)}function u(t){var n;return c(n=e.isUndefined(t)?new Date:new Date(t)),n}})),function(){function r(t,n,r,i){return{template:function(e,n){var r=n.mdHideIcons,i=n.ariaLabel||n.mdPlaceholder,o="all"===r||"calendar"===r?"":'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" aria-label="md-calendar" md-svg-src="'+t.mdCalendar+'"></md-icon></md-button>',a="";return"all"!==r&&"triangle"!==r&&(a='<md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.locale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button>',e.addClass(s)),o+'<div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input '+(i?'aria-label="'+i+'" ':"")+'class="md-datepicker-input" aria-haspopup="dialog" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"> '+a+'</div><div class="md-datepicker-calendar-pane md-whiteframe-z1" id="{{::ctrl.calendarPaneId}}"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.locale.msgCalendar}}" md-current-view="{{::ctrl.currentView}}" md-mode="{{::ctrl.mode}}" md-min-date="ctrl.minDate" md-max-date="ctrl.maxDate" md-date-filter="ctrl.dateFilter" ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>'},require:["ngModel","mdDatepicker","?^mdInputContainer","?^form"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",currentView:"@mdCurrentView",mode:"@mdMode",dateFilter:"=mdDateFilter",isOpen:"=?mdIsOpen",debounceInterval:"=mdDebounceInterval",dateLocale:"=mdDateLocale"},controller:u,controllerAs:"ctrl",bindToController:!0,link:function(t,s,c,u){var l=u[0],d=u[1],f=u[2],h=u[3],p=n.parseAttributeBoolean(c.mdNoAsterisk);if(d.configureNgModel(l,f,i),f){var m=s[0].querySelector(".md-errors-spacer");m&&s.after(e.element("<div>").append(m)),f.setHasPlaceholder(c.mdPlaceholder),f.input=s,f.element.addClass(o).toggleClass(a,"calendar"!==c.mdHideIcons&&"all"!==c.mdHideIcons),f.label?p||c.$observe("required",(function(t){f.label.toggleClass("md-required",!!t)})):r.expect(s,"aria-label",c.mdPlaceholder),t.$watch(f.isErrorGetter||function(){return l.$invalid&&(l.$touched||h&&h.$submitted)},f.setInvalid)}else if(h)var g=t.$watch((function(){return h.$submitted}),(function(t){t&&(d.updateErrorState(),g())}))}}}u.$inject=["$scope","$element","$attrs","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF","$filter","$timeout"],r.$inject=["$$mdSvgRegistry","$mdUtil","$mdAria","inputDirective"],e.module("material.components.datepicker").directive("mdDatepicker",r);var i="md-datepicker-open",o="_md-datepicker-floating-label",a="_md-datepicker-has-calendar-icon",s="_md-datepicker-has-triangle-icon",c=/ipad|iphone|ipod|android/i;function u(r,i,o,a,s,u,l,d,f,h,p,m){this.$window=a,this.dateUtil=f,this.$mdConstant=s,this.$mdUtil=l,this.$$rAF=h,this.$mdDateLocale=d,this.$timeout=m,this.documentElement=e.element(document.documentElement),this.ngModelCtrl=null,this.inputElement=i[0].querySelector("input"),this.ngInputElement=e.element(this.inputElement),this.inputContainer=i[0].querySelector(".md-datepicker-input-container"),this.calendarPane=i[0].querySelector(".md-datepicker-calendar-pane"),this.calendarButton=i[0].querySelector(".md-datepicker-button"),this.inputMask=e.element(i[0].querySelector(".md-datepicker-input-mask-opaque")),this.$element=i,this.$attrs=o,this.$scope=r,this.date=null,this.isFocused=!1,this.isDisabled=n,this.setDisabled(i[0].disabled||e.isString(o.disabled)),this.isCalendarOpen=!1,this.openOnFocus=o.hasOwnProperty("mdOpenOnFocus"),this.mdInputContainer=null,this.calendarPaneOpenedFrom=null,this.calendarPaneId="md-date-pane-"+l.nextUid(),this.bodyClickHandler=e.bind(this,this.handleBodyClick),this.windowEventName=c.test(navigator.userAgent||navigator.vendor||t.opera)?"orientationchange":"resize",this.windowEventHandler=l.debounce(e.bind(this,this.closeCalendarPane),100),this.windowBlurHandler=e.bind(this,this.handleWindowBlur),this.ngDateFilter=p("date"),this.leftMargin=20,this.topMargin=null,o.tabindex?(this.ngInputElement.attr("tabindex",o.tabindex),o.$set("tabindex",null)):o.$set("tabindex","-1"),o.$set("aria-owns",this.calendarPaneId),u(i),u(e.element(this.calendarPane));var g=this;r.$on("$destroy",(function(){g.detachCalendarPane()})),o.mdIsOpen&&r.$watch("ctrl.isOpen",(function(t){t?g.openCalendarPane({target:g.inputElement}):g.closeCalendarPane()})),1===e.version.major&&e.version.minor<=4&&this.$onInit()}u.prototype.$onInit=function(){this.locale=this.dateLocale?e.extend({},this.$mdDateLocale,this.dateLocale):this.$mdDateLocale,this.installPropertyInterceptors(),this.attachChangeListeners(),this.attachInteractionListeners()},u.prototype.configureNgModel=function(t,n,r){this.ngModelCtrl=t,this.mdInputContainer=n,this.$attrs.$set("type","date"),r[0].link.pre(this.$scope,{on:e.noop,val:e.noop,0:{}},this.$attrs,[t]);var i=this;i.ngModelCtrl.$formatters.push((function(t){var n=e.isDefined(t)?t:null;if(!(t instanceof Date)&&(n=Date.parse(t),!isNaN(n)&&e.isNumber(n)&&(t=new Date(n)),t&&!(t instanceof Date)))throw Error("The ng-model for md-datepicker must be a Date instance or a value that can be parsed into a date. Currently the model is of type: "+typeof t);return i.onExternalChange(t),t})),t.$viewChangeListeners.unshift(e.bind(this,this.updateErrorState));var o=i.$mdUtil.getModelOption(t,"updateOn");o&&this.ngInputElement.on(o,e.bind(this.$element,this.$element.triggerHandler,o))},u.prototype.attachChangeListeners=function(){var t=this;t.$scope.$on("md-calendar-change",(function(e,n){t.setModelValue(n),t.onExternalChange(n),t.closeCalendarPane()})),t.ngInputElement.on("input",e.bind(t,t.resizeInputElement));var n=e.isDefined(this.debounceInterval)?this.debounceInterval:500;t.ngInputElement.on("input",t.$mdUtil.debounce(t.handleInputEvent,n,t))},u.prototype.attachInteractionListeners=function(){var t=this,n=this.$scope,r=this.$mdConstant.KEY_CODE;t.ngInputElement.on("keydown",(function(e){e.altKey&&e.keyCode===r.DOWN_ARROW&&(t.openCalendarPane(e),n.$digest())})),t.openOnFocus&&(t.ngInputElement.on("focus",e.bind(t,t.openCalendarPane)),t.ngInputElement.on("click",(function(t){t.stopPropagation()})),t.ngInputElement.on("pointerdown",(function(t){t.target&&t.target.setPointerCapture&&t.target.setPointerCapture(t.pointerId)})),e.element(t.$window).on("blur",t.windowBlurHandler),n.$on("$destroy",(function(){e.element(t.$window).off("blur",t.windowBlurHandler)}))),n.$on("md-calendar-close",(function(){t.closeCalendarPane()}))},u.prototype.installPropertyInterceptors=function(){var t=this;if(this.$attrs.ngDisabled){var e=this.$scope.$parent;e&&e.$watch(this.$attrs.ngDisabled,(function(e){t.setDisabled(e)}))}Object.defineProperty(this,"placeholder",{get:function(){return t.inputElement.placeholder},set:function(e){t.inputElement.placeholder=e||""}})},u.prototype.setDisabled=function(t){this.isDisabled=t,this.inputElement.disabled=t,this.calendarButton&&(this.calendarButton.disabled=t)},u.prototype.updateErrorState=function(t){var n=t||this.date;if(this.clearErrorState(),this.dateUtil.isValidDate(n)){if(n=this.dateUtil.createDateAtMidnight(n),this.dateUtil.isValidDate(this.minDate)){var r=this.dateUtil.createDateAtMidnight(this.minDate);this.ngModelCtrl.$setValidity("mindate",n>=r)}if(this.dateUtil.isValidDate(this.maxDate)){var i=this.dateUtil.createDateAtMidnight(this.maxDate);this.ngModelCtrl.$setValidity("maxdate",n<=i)}e.isFunction(this.dateFilter)&&this.ngModelCtrl.$setValidity("filtered",this.dateFilter(n))}else this.ngModelCtrl.$setValidity("valid",null==n);var o=this.inputElement.value,a=this.locale.parseDate(o);!this.isInputValid(o,a)&&this.ngModelCtrl.$valid&&this.ngModelCtrl.$setValidity("valid",null==n),e.element(this.inputContainer).toggleClass("md-datepicker-invalid",!this.ngModelCtrl.$valid)},u.prototype.isInputValid=function(t,e){return""===t||this.dateUtil.isValidDate(e)&&this.locale.isDateComplete(t)&&this.isDateEnabled(e)},u.prototype.clearErrorState=function(){this.inputContainer.classList.remove("md-datepicker-invalid"),["mindate","maxdate","filtered","valid"].forEach((function(t){this.ngModelCtrl.$setValidity(t,!0)}),this)},u.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+3},u.prototype.handleInputEvent=function(){var t=this.inputElement.value,e=t?this.locale.parseDate(t):null;this.dateUtil.setDateTimeToMidnight(e),this.isInputValid(t,e)&&(this.setModelValue(e),this.date=e),this.updateErrorState(e)},u.prototype.isDateEnabled=function(t){return this.dateUtil.isDateWithinRange(t,this.minDate,this.maxDate)&&(!e.isFunction(this.dateFilter)||this.dateFilter(t))},u.prototype.attachCalendarPane=function(){var t=this.calendarPane,n=document.body;t.style.transform="",this.$element.addClass(i),this.mdInputContainer&&this.mdInputContainer.element.addClass(i),e.element(n).addClass("md-datepicker-is-showing");var r=this.inputContainer.getBoundingClientRect(),o=n.getBoundingClientRect();(!this.topMargin||this.topMargin<0)&&(this.topMargin=(this.inputMask.parent().prop("clientHeight")-this.ngInputElement.prop("clientHeight"))/2);var a=r.top-o.top-this.topMargin,s=r.left-o.left-this.leftMargin,c=o.top<0&&0==document.body.scrollTop?-o.top:document.body.scrollTop,u=o.left<0&&0==document.body.scrollLeft?-o.left:document.body.scrollLeft,l=c+this.$window.innerHeight,d=u+this.$window.innerWidth;this.inputMask.css({position:"absolute",left:this.leftMargin+"px",top:this.topMargin+"px",width:r.width-1+"px",height:r.height-2+"px"}),s+360>d&&(d-360>0?s=d-360:(s=u,t.style.transform="scale("+this.$window.innerWidth/360+")"),t.classList.add("md-datepicker-pos-adjusted")),a+368>l&&l-368>c&&(a=l-368,t.classList.add("md-datepicker-pos-adjusted")),t.style.left=s+"px",t.style.top=a+"px",document.body.appendChild(t),this.$$rAF((function(){t.classList.add("md-pane-open")}))},u.prototype.detachCalendarPane=function(){this.$element.removeClass(i),this.mdInputContainer&&this.mdInputContainer.element.removeClass(i),e.element(document.body).removeClass("md-datepicker-is-showing"),this.calendarPane.classList.remove("md-pane-open"),this.calendarPane.classList.remove("md-datepicker-pos-adjusted"),this.isCalendarOpen&&this.$mdUtil.enableScrolling(),this.calendarPane.parentNode&&this.calendarPane.parentNode.removeChild(this.calendarPane)},u.prototype.openCalendarPane=function(e){if(!this.isCalendarOpen&&!this.isDisabled&&!this.inputFocusedOnWindowBlur){this.isCalendarOpen=this.isOpen=!0,this.calendarPaneOpenedFrom=e.target,this.$mdUtil.disableScrollAround(this.calendarPane),this.attachCalendarPane(),this.focusCalendar(),this.evalAttr("ngFocus");var n=this;this.$mdUtil.nextTick((function(){n.documentElement.on("click touchstart",n.bodyClickHandler)}),!1),t.addEventListener(this.windowEventName,this.windowEventHandler)}},u.prototype.closeCalendarPane=function(){if(this.isCalendarOpen){var e=this;e.detachCalendarPane(),e.ngModelCtrl.$setTouched(),e.evalAttr("ngBlur"),e.documentElement.off("click touchstart",e.bodyClickHandler),t.removeEventListener(e.windowEventName,e.windowEventHandler),e.calendarPaneOpenedFrom.focus(),e.calendarPaneOpenedFrom=null,e.openOnFocus?e.$timeout(n):n()}function n(){e.isCalendarOpen=e.isOpen=!1}},u.prototype.getCalendarCtrl=function(){return e.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")},u.prototype.focusCalendar=function(){var t=this;this.$mdUtil.nextTick((function(){t.getCalendarCtrl().focus()}),!1)},u.prototype.setFocused=function(t){t||this.ngModelCtrl.$setTouched(),this.openOnFocus||this.evalAttr(t?"ngFocus":"ngBlur"),this.isFocused=t},u.prototype.handleBodyClick=function(t){this.isCalendarOpen&&(this.$mdUtil.getClosest(t.target,"md-calendar")||this.closeCalendarPane(),this.$scope.$digest())},u.prototype.handleWindowBlur=function(){this.inputFocusedOnWindowBlur=document.activeElement===this.inputElement},u.prototype.evalAttr=function(t){this.$attrs[t]&&this.$scope.$parent.$eval(this.$attrs[t])},u.prototype.setModelValue=function(t){var e=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.ngModelCtrl.$setViewValue(this.ngDateFilter(t,"yyyy-MM-dd",e))},u.prototype.onExternalChange=function(t){var e=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.date=t,this.inputElement.value=this.locale.formatDate(t,e),this.mdInputContainer&&this.mdInputContainer.setHasValue(!!t),this.resizeInputElement(),this.updateErrorState()}}(),function(){function t(t,n,r){return{restrict:"E",link:function(i,o){o.addClass("_md"),n(o),t((function(){var t,n=o[0].querySelector("md-dialog-content");function a(){o.toggleClass("md-content-overflow",n.scrollHeight>n.clientHeight)}n&&(t=n.getElementsByTagName("img"),a(),e.element(t).on("load",a)),i.$on("$destroy",(function(){r.destroy(o)}))}))}}}function r(t){var r,i;return(a.$inject=["$mdDialog","$mdConstant"],s.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement","$log","$injector","$mdTheming","$interpolate","$mdInteraction"],t("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","closeTo","openFrom","parent","fullscreen","multiple"],options:s}).addPreset("alert",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","theme","css"],options:o}).addPreset("confirm",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","cancel","theme","css"],options:o}).addPreset("prompt",{methods:["title","htmlContent","textContent","initialValue","content","placeholder","ariaLabel","ok","cancel","theme","css","required"],options:o}));function o(){return{template:['<md-dialog md-theme="{{ dialog.theme || dialog.defaultTheme }}" aria-label="{{ dialog.ariaLabel }}" ng-class="dialog.css">','  <md-dialog-content class="md-dialog-content" role="document" tabIndex="-1">','    <h2 class="md-title">{{ dialog.title }}</h2>','    <div ng-if="::dialog.mdHtmlContent" class="md-dialog-content-body" ','        ng-bind-html="::dialog.mdHtmlContent"></div>','    <div ng-if="::!dialog.mdHtmlContent" class="md-dialog-content-body">',"      <p>{{::dialog.mdTextContent}}</p>","    </div>",'    <md-input-container md-no-float ng-if="::dialog.$type == \'prompt\'" class="md-prompt-input-container">','      <input ng-keypress="dialog.keypress($event)" md-autofocus ng-model="dialog.result"              placeholder="{{::dialog.placeholder}}" ng-required="dialog.required">',"    </md-input-container>","  </md-dialog-content>","  <md-dialog-actions>",'    <md-button ng-if="dialog.$type === \'confirm\' || dialog.$type === \'prompt\'"               ng-click="dialog.abort()" class="md-primary md-cancel-button">',"      {{ dialog.cancel }}","    </md-button>",'    <md-button ng-click="dialog.hide()" class="md-primary md-confirm-button" md-autofocus="dialog.$type===\'alert\'"               ng-disabled="dialog.required && !dialog.result">',"      {{ dialog.ok }}","    </md-button>","  </md-dialog-actions>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:a,controllerAs:"dialog",bindToController:!0}}function a(t,n){this.$onInit=function(){var r="prompt"==this.$type;r&&this.initialValue&&(this.result=this.initialValue),this.hide=function(){t.hide(!r||this.result)},this.abort=function(){t.cancel()},this.keypress=function(i){var o=r&&this.required&&!e.isDefined(this.result);i.keyCode!==n.KEY_CODE.ENTER||o||t.hide(this.result)}}}function s(t,o,a,s,c,u,l,d,f,h,p,m,g){return{hasBackdrop:!0,isolateScope:!0,onCompiling:function(t){t.defaultTheme=p.defaultTheme(),function(t){var n;t.targetEvent&&t.targetEvent.target&&(n=e.element(t.targetEvent.target));var r=n&&n.controller("mdTheme");if(t.hasTheme=!!r,t.hasTheme){t.themeWatch=r.$shouldWatch;var i=t.theme||r.$mdTheme;i&&(t.scope.theme=i);var o=r.registerChanges((function(e){t.scope.theme=e,t.themeWatch||o()}))}}(t)},onShow:function(h,p,m,b){e.element(u[0].body).addClass("md-dialog-is-showing");var _=p.find("md-dialog");return _.hasClass("ng-cloak")&&f.warn("$mdDialog: using `<md-dialog ng-cloak>` will affect the dialog opening animations.",p[0]),function(t){function r(t,r){var i=e.element(t||{});if(i&&i.length){var o=e.isFunction(i[0].getBoundingClientRect);return e.extend(r||{},{element:o?i:n,bounds:o?i[0].getBoundingClientRect():e.extend({},{top:0,left:0,height:0,width:0},i[0]),focus:e.bind(i,i.focus)})}}function i(t,n){return e.isString(t)&&(t=u[0].querySelector(t)),e.element(t||n)}t.origin=e.extend({element:null,bounds:null,focus:e.noop},t.origin||{}),t.parent=i(t.parent,d),t.closeTo=r(i(t.closeTo)),t.openFrom=r(i(t.openFrom)),t.targetEvent&&(t.origin=r(t.targetEvent.target,t.origin),t.originInteraction=g.getLastInteractionType())}(m),function(t,e){var n="alert"===e.$type?"alertdialog":"dialog",s=t.find("md-dialog-content"),c=t.attr("id"),u="dialogContent_"+(c||a.nextUid());t.attr({role:n,tabIndex:"-1"}),0===s.length&&(s=t,c&&(u=c)),s.attr("id",u),t.attr("aria-describedby",u),e.ariaLabel?o.expect(t,"aria-label",e.ariaLabel):o.expectAsync(t,"aria-label",(function(){if(e.title)return e.title;var t=s.text().split(/\s+/);return t.length>3&&(t=t.slice(0,3).concat("...")),t.join(" ")})),(r=document.createElement("div")).classList.add("md-dialog-focus-trap"),r.tabIndex=0,i=r.cloneNode(!1);var l=function(){t.focus()};r.addEventListener("focus",l),i.addEventListener("focus",l),t[0].parentNode.insertBefore(r,t[0]),t.after(i)}(_,m),function(t,e,n){n.disableParentScroll&&(n.restoreScroll=a.disableScrollAround(e,n.parent)),n.hasBackdrop&&(n.backdrop=a.createBackdrop(t,"md-dialog-backdrop md-opaque"),c.enter(n.backdrop,n.parent)),n.hideBackdrop=function(t){n.backdrop&&(t?n.backdrop.remove():c.leave(n.backdrop)),n.disableParentScroll&&(n.restoreScroll&&n.restoreScroll(),delete n.restoreScroll),n.hideBackdrop=null}}(h,p,m),function(n,r){var i=e.element(l),o=a.debounce((function(){v(n,r)}),60),c=[],u=function(){a.nextTick("alert"==r.$type?t.hide:t.cancel,!0)};if(r.escapeToClose){var d=r.parent,f=function(t){t.keyCode===s.KEY_CODE.ESCAPE&&(t.stopImmediatePropagation(),t.preventDefault(),u())};n.on("keydown",f),d.on("keydown",f),c.push((function(){n.off("keydown",f),d.off("keydown",f)}))}if(i.on("resize",o),c.push((function(){i.off("resize",o)})),r.clickOutsideToClose){var h,p=n,m=function(t){h=t.target},g=function(t){h===p[0]&&t.target===p[0]&&(t.stopPropagation(),t.preventDefault(),u())};p.on("mousedown",m),p.on("mouseup",g),c.push((function(){p.off("mousedown",m),p.off("mouseup",g)}))}r.deactivateListeners=function(){c.forEach((function(t){t()})),r.deactivateListeners=null}}(p,m),function(t,e){e.parent.append(t),e.reverseContainerStretch=v(t,e);var n=t.find("md-dialog"),r=a.dom.animator,i=r.calculateZoomToOrigin,o={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},s=r.toTransformCss(i(n,e.openFrom||e.origin)),c=r.toTransformCss("");return n.toggleClass("md-dialog-fullscreen",!!e.fullscreen),r.translate3d(n,s,c,o).then((function(t){return e.reverseAnimate=function(){return delete e.reverseAnimate,e.closeTo?(o={transitionInClass:"md-transition-out",transitionOutClass:"md-transition-in"},s=c,c=r.toTransformCss(i(n,e.closeTo)),r.translate3d(n,s,c,o)):t(c=r.toTransformCss(i(n,e.origin)))},e.clearAnimate=function(){return delete e.clearAnimate,n.removeClass([o.transitionOutClass,o.transitionInClass].join(" ")),r.translate3d(n,c,r.toTransformCss(""),{})},!0}))}(p,m).then((function(){!function(t,e){var n=!0;function r(t){for(var e=function(t){for(var e=[];t.parentNode;){if(t===document.body)return e;for(var n=t.parentNode.children,r=0;r<n.length;r++)t===n[r]||y(n[r],["SCRIPT","STYLE"])||n[r].hasAttribute("aria-live")||e.push(n[r]);t=t.parentNode}return e}(t),r=0;r<e.length;r++)e[r].setAttribute("aria-hidden",n)}r(t[0]),e.unlockScreenReader=function(){n=!1,r(t[0]),e.unlockScreenReader=null}}(p,m),p[0].querySelector(".md-actions")&&f.warn("Using a class of md-actions is deprecated, please use <md-dialog-actions>."),m.focusOnOpen&&(a.findFocusTarget(p)||p[0].querySelector(".dialog-close, md-dialog-actions button:last-child")||_).focus()}))},onShowing:function(t,e,n,r){if(r){var i=r.htmlContent||n.htmlContent||"",o=r.textContent||n.textContent||r.content||n.content||"";if(i&&!h.has("$sanitize"))throw Error("The ngSanitize module must be loaded in order to use htmlContent.");if(i&&o)throw Error("md-dialog cannot have both `htmlContent` and `textContent`");r.mdHtmlContent=i,r.mdTextContent=o}},onRemove:function(t,n,o){return o.deactivateListeners(),o.unlockScreenReader(),o.hideBackdrop(o.$destroy),r&&r.parentNode&&r.parentNode.removeChild(r),i&&i.parentNode&&i.parentNode.removeChild(i),o.$destroy?a():function(t,e){return e.reverseAnimate().then((function(){e.contentElement&&e.clearAnimate()}))}(0,o).then(a);function a(){e.element(u[0].body).removeClass("md-dialog-is-showing"),o.contentElement&&o.reverseContainerStretch(),o.cleanupElement(),o.$destroy||"keyboard"!==o.originInteraction||o.origin.focus()}},clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,closeTo:null,openFrom:null,focusOnOpen:!0,disableParentScroll:!0,autoWrap:!0,fullscreen:!1,transformTemplate:function(t,e){var n=m.startSymbol(),r=m.endSymbol();return'<div class="md-dialog-container" tabindex="-1" '+(e.hasTheme?'md-theme="'+n+(e.themeWatch?"":"::")+"theme"+r+'"':"")+">"+function(t){return e.autoWrap&&!/<\/md-dialog>/g.test(t)?"<md-dialog>"+(t||"")+"</md-dialog>":t||""}(t)+"</div>"}};function v(t,e){var n="fixed"==l.getComputedStyle(u[0].body).position,r=e.backdrop?l.getComputedStyle(e.backdrop[0]):null,i=r?Math.min(u[0].body.clientHeight,Math.ceil(Math.abs(parseInt(r.height,10)))):0,o={top:t.css("top"),height:t.css("height")},a=Math.abs(e.parent[0].getBoundingClientRect().top);return t.css({top:(n?a:0)+"px",height:i?i+"px":"100%"}),function(){t.css(o)}}function y(t,e){if(-1!==e.indexOf(t.nodeName))return!0}}}t.$inject=["$$rAF","$mdTheming","$mdDialog"],r.$inject=["$$interimElementProvider"],e.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",t).provider("$mdDialog",r)}(),function(){function t(t){return{restrict:"E",link:t}}t.$inject=["$mdTheming"],e.module("material.components.divider",["material.core"]).directive("mdDivider",t)}(),function(){function t(t){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(e,n){var r=e.children();t.prefixer().hasAttribute(r,"ng-repeat")?r.addClass("md-fab-action-item"):r.wrap('<div class="md-fab-action-item">')}}}t.$inject=["$mdUtil"],e.module("material.components.fabActions",["material.core"]).directive("mdFabActions",t)}(),function(){function t(t,n,r,i,o,a){var s,c=this,u=0;function l(t){"click"==t.type&&function(t){i.getClosest(t.target,"md-fab-trigger")&&c.toggle(),i.getClosest(t.target,"md-fab-actions")&&c.close()}(t),"focusout"!=t.type||s||(s=a((function(){c.close()}),100,!1)),"focusin"==t.type&&s&&(a.cancel(s),s=null)}function d(){c.currentActionIndex=-1}function f(){n[0].scrollHeight>0?r.addClass(n,"_md-animations-ready").then((function(){n.removeClass("md-animations-waiting")})):u<10&&(a(f,100),u+=1)}function h(){n.off("keydown",m),e.element(document).off("click touchend",p)}function p(t){if(t.target){var e=i.getClosest(t.target,"md-fab-trigger"),n=i.getClosest(t.target,"md-fab-actions");e||n||c.close()}}function m(t){switch(t.which){case o.KEY_CODE.ESCAPE:return c.close(),t.preventDefault(),!1;case o.KEY_CODE.LEFT_ARROW:return function(t){"left"===c.direction?v(t):g(t)}(t),!1;case o.KEY_CODE.UP_ARROW:return function(t){"down"===c.direction?g(t):v(t)}(t),!1;case o.KEY_CODE.RIGHT_ARROW:return function(t){"left"===c.direction?g(t):v(t)}(t),!1;case o.KEY_CODE.DOWN_ARROW:return function(t){"up"===c.direction?g(t):v(t)}(t),!1}}function g(t){y(t,-1)}function v(t){y(t,1)}function y(t,n){var r=function(){var t=b()[0].querySelectorAll(".md-fab-action-item");return e.forEach(t,(function(t){e.element(e.element(t).children()[0]).attr("tabindex",-1)})),t}();c.currentActionIndex=c.currentActionIndex+n,c.currentActionIndex=Math.min(r.length-1,c.currentActionIndex),c.currentActionIndex=Math.max(0,c.currentActionIndex);var i=e.element(r[c.currentActionIndex]).children()[0];e.element(i).attr("tabindex",0),i.focus(),t.preventDefault(),t.stopImmediatePropagation()}function b(){return n.find("md-fab-actions")}c.open=function(){t.$evalAsync("vm.isOpen = true")},c.close=function(){t.$evalAsync("vm.isOpen = false"),n.find("md-fab-trigger")[0].focus()},c.toggle=function(){t.$evalAsync("vm.isOpen = !vm.isOpen")},c.$onInit=function(){var o,a,s;c.direction=c.direction||"down",c.isOpen=c.isOpen||!1,d(),n.addClass("md-animations-waiting"),e.forEach(o=["click","focusin","focusout"],(function(t){n.on(t,l)})),t.$on("$destroy",(function(){e.forEach(o,(function(t){n.off(t,l)})),h()})),t.$watch("vm.direction",(function(t,e){r.removeClass(n,"md-"+e),r.addClass(n,"md-"+t),d()})),t.$watch("vm.isOpen",(function(t){d(),a&&s||(a=n.find("md-fab-trigger"),s=b()),t?(n.on("keydown",m),i.nextTick((function(){e.element(document).on("click touchend",p)}))):h();var o=t?"md-is-open":"",c=t?"":"md-is-open";a.attr("aria-haspopup",!0),a.attr("aria-expanded",t),s.attr("aria-hidden",!t),r.setClass(n,o,c)})),f()},1===e.version.major&&e.version.minor<=4&&this.$onInit()}t.$inject=["$scope","$element","$animate","$mdUtil","$mdConstant","$timeout"],e.module("material.components.fabShared",["material.core"]).controller("MdFabController",t)}(),function(){r.$inject=["$timeout"],i.$inject=["$timeout"];var n=300;function r(r){function i(t){r(t,n,!1)}function o(n){if(!n.hasClass("md-animations-waiting")||n.hasClass("_md-animations-ready")){var r=n[0],i=n.controller("mdFabSpeedDial"),o=r.querySelectorAll(".md-fab-action-item"),a=r.querySelector("md-fab-trigger"),s=r.querySelector("._md-css-variables"),c=parseInt(t.getComputedStyle(s).zIndex);e.forEach(o,(function(t,e){var n=t.style;n.transform=n.webkitTransform="",n.transitionDelay="",n.opacity=1,n.zIndex=o.length-e+c})),a.style.zIndex=c+o.length+1,i.isOpen||e.forEach(o,(function(t,e){var n,r,o=t.style,s=(a.clientHeight-t.clientHeight)/2,c=(a.clientWidth-t.clientWidth)/2;switch(i.direction){case"up":n=t.scrollHeight*(e+1)+s,r="Y";break;case"down":n=-(t.scrollHeight*(e+1)+s),r="Y";break;case"left":n=t.scrollWidth*(e+1)+c,r="X";break;case"right":n=-(t.scrollWidth*(e+1)+c),r="X"}o.transform=o.webkitTransform="translate"+r+"("+n+"px)"}))}}return{addClass:function(t,e,n){t.hasClass("md-fling")?(o(t),i(n)):n()},removeClass:function(t,e,n){o(t),i(n)}}}function i(r){function i(t){r(t,n,!1)}var o=65;function a(n){var r=n[0],i=n.controller("mdFabSpeedDial"),a=r.querySelectorAll(".md-fab-action-item"),s=r.querySelector("._md-css-variables"),c=parseInt(t.getComputedStyle(s).zIndex);e.forEach(a,(function(t,e){var n=t.style,r=e*o;n.opacity=i.isOpen?1:0,n.transform=n.webkitTransform=i.isOpen?"scale(1)":"scale(0)",n.transitionDelay=(i.isOpen?r:a.length-r)+"ms",n.zIndex=a.length-e+c}))}return{addClass:function(t,e,n){a(t),i(n)},removeClass:function(t,e,n){a(t),i(n)}}}e.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabSpeedDial",(function(){return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:function(t,e){e.prepend('<div class="_md-css-variables"></div>')}}})).animation(".md-fling",r).animation(".md-scale",i).service("mdFabSpeedDialFlingAnimation",r).service("mdFabSpeedDialScaleAnimation",i)}(),function(){function n(){function n(n,r,i){if(r){var o=n[0],a=n.controller("mdFabToolbar"),s=o.querySelector(".md-fab-toolbar-background"),c=o.querySelector("md-fab-trigger button"),u=o.querySelector("md-toolbar"),l=o.querySelector("md-fab-trigger button md-icon"),d=n.find("md-fab-actions").children();if(c&&s){var f=t.getComputedStyle(c).getPropertyValue("background-color"),h=o.offsetWidth,p=h/c.offsetWidth*2;s.style.backgroundColor=f,s.style.borderRadius=h+"px",a.isOpen?(u.style.pointerEvents="inherit",s.style.width=c.offsetWidth+"px",s.style.height=c.offsetHeight+"px",s.style.transform="scale("+p+")",s.style.transitionDelay="0ms",l&&(l.style.transitionDelay=".3s"),e.forEach(d,(function(t,e){t.style.transitionDelay=25*(d.length-e)+"ms"}))):(u.style.pointerEvents="none",s.style.transform="scale(1)",s.style.top="0",n.hasClass("md-right")&&(s.style.left="0",s.style.right=null),n.hasClass("md-left")&&(s.style.right="0",s.style.left=null),s.style.transitionDelay="200ms",l&&(l.style.transitionDelay="0ms"),e.forEach(d,(function(t,e){t.style.transitionDelay=200+25*e+"ms"})))}}}return{addClass:function(t,e,r){n(t,e),r()},removeClass:function(t,e,r){n(t,e),r()}}}e.module("material.components.fabToolbar",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabToolbar",(function(){return{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:function(t,e,n){e.addClass("md-fab-toolbar"),e.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}}})).animation(".md-fab-toolbar",n).service("mdFabToolbarAnimation",n)}(),function(){function t(t,r,i,o,a){return{restrict:"E",controller:n,scope:{mdOnLayout:"&"},link:function(n,s,c,u){s.addClass("_md"),s.attr("role","list"),u.layoutDelegate=function(t){var r,a=[].filter.call(s.children(),(function(t){return"MD-GRID-TILE"==t.tagName&&!t.$$mdDestroyed})),u={tileSpans:(r=a,[].map.call(r,(function(t){var n=e.element(t).controller("mdGridTile");return{row:parseInt(o.getResponsiveAttribute(n.$attrs,"md-rowspan"),10)||1,col:parseInt(o.getResponsiveAttribute(n.$attrs,"md-colspan"),10)||1}}))),colCount:S(),rowMode:x(),rowHeight:E(),gutter:C(o.getResponsiveAttribute(c,"md-gutter")||1)};if(t||!e.equals(u,l)){var d=i(u.colCount,u.tileSpans,a).map((function(t,n){return{grid:{element:s,style:w(u.colCount,n,u.gutter,u.rowMode,u.rowHeight)},tiles:t.map((function(t,r){return{element:e.element(a[r]),style:_(t.position,t.spans,u.colCount,n,u.gutter,u.rowMode,u.rowHeight)}}))}})).reflow().performance();n.mdOnLayout({$event:{performance:d}}),l=u}};var l,d=e.bind(u,u.invalidateLayout),f=function(){for(var t in r.MEDIA)o(t),o.getQuery(r.MEDIA[t]).addListener(d);return o.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],c,h)}();function h(t){null==t?u.invalidateLayout():o(t)&&u.invalidateLayout()}n.$on("$destroy",(function(){for(var t in u.layoutDelegate=e.noop,f(),r.MEDIA)o.getQuery(r.MEDIA[t]).removeListener(d)}));var p=t.startSymbol(),m=t.endSymbol();function g(t){return p+t+m}var v=t(g("share")+"% - ("+g("gutter")+" * "+g("gutterShare")+")"),y=t("calc(("+g("unit")+" + "+g("gutter")+") * "+g("offset")+")"),b=t("calc(("+g("unit")+") * "+g("span")+" + ("+g("span")+" - 1) * "+g("gutter")+")");function _(t,e,n,r,i,o,s){var u=1/n*100,l=(n-1)/n,d=v({share:u,gutterShare:l,gutter:i}),f=a.isRtl(c)?{right:y({unit:d,offset:t.col,gutter:i}),width:b({unit:d,span:e.col,gutter:i}),paddingTop:"",marginTop:"",top:"",height:""}:{left:y({unit:d,offset:t.col,gutter:i}),width:b({unit:d,span:e.col,gutter:i}),paddingTop:"",marginTop:"",top:"",height:""};switch(o){case"fixed":f.top=y({unit:s,offset:t.row,gutter:i}),f.height=b({unit:s,span:e.row,gutter:i});break;case"ratio":var h=u/s,p=v({share:h,gutterShare:l,gutter:i});f.paddingTop=b({unit:p,span:e.row,gutter:i}),f.marginTop=y({unit:p,offset:t.row,gutter:i});break;case"fit":p=v({share:h=1/r*100,gutterShare:(r-1)/r,gutter:i}),f.top=y({unit:p,offset:t.row,gutter:i}),f.height=b({unit:p,span:e.row,gutter:i})}return f}function w(t,e,n,r,i){var o={};switch(r){case"fixed":o.height=b({unit:i,span:e,gutter:n}),o.paddingBottom="";break;case"ratio":var a=v({share:1/t*100*(1/i),gutterShare:1===t?0:(t-1)/t,gutter:n});o.height="",o.paddingBottom=b({unit:a,span:e,gutter:n})}return o}function S(){var t=parseInt(o.getResponsiveAttribute(c,"md-cols"),10);if(isNaN(t))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return t}function E(){var t=o.getResponsiveAttribute(c,"md-row-height");if(!t)throw"md-grid-list: md-row-height attribute was not found";switch(x()){case"fixed":return C(t);case"ratio":var e=t.split(":");return parseFloat(e[0])/parseFloat(e[1]);case"fit":return 0}}function x(){var t=o.getResponsiveAttribute(c,"md-row-height");if(!t)throw"md-grid-list: md-row-height attribute was not found";return"fit"==t?"fit":-1!==t.indexOf(":")?"ratio":"fixed"}function C(t){return/\D$/.test(t)?t:t+"px"}}}}function n(t){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=t.nextTick,this.layoutDelegate=e.noop}function r(t){var n=i;return r.animateWith=function(t){n=e.isFunction(t)?t:i},r;function r(e,r){var i,o,a,s,c,u;return s=t.time((function(){o=function(t,e){var n=0,r=0,i=function(){for(var e=[],n=0;n<t;n++)e.push(0);return e}();return{positioning:e.map((function(t,e){return{spans:t,position:o(t,e)}})),rowCount:r+Math.max.apply(Math,i)};function o(e,o){if(e.col>t)throw"md-grid-list: Tile at position "+o+" has a colspan ("+e.col+") that exceeds the column count ("+t+")";for(var u=0,l=0;l-u<e.col;)n>=t?a():-1!==(u=i.indexOf(0,n))&&-1!==(l=c(u+1))?n=l+1:(u=l=0,a());return s(u,e.col,e.row),n=u+e.col,{col:u,row:r}}function a(){n=0,r++,s(0,t,-1)}function s(t,e,n){for(var r=t;r<t+e;r++)i[r]=Math.max(i[r]+n,0)}function c(t){var e;for(e=t;e<i.length;e++)if(0!==i[e])return e;if(e===i.length)return e}}(e,r)})),i={layoutInfo:function(){return o},map:function(e){return c=t.time((function(){var t=i.layoutInfo();a=e(t.positioning,t.rowCount)})),i},reflow:function(e){return u=t.time((function(){(e||n)(a.grid,a.tiles)})),i},performance:function(){return{tileCount:r.length,layoutTime:s,mapTime:c,reflowTime:u,totalTime:s+c+u}}}}function i(t,e){t.element.css(t.style),e.forEach((function(t){t.element.css(t.style)}))}}function i(t){return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(t){this.$attrs=t}],link:function(n,r,i,o){r.attr("role","listitem");var a=t.watchResponsiveAttributes(["md-colspan","md-rowspan"],i,e.bind(o,o.invalidateLayout));o.invalidateTiles(),n.$on("$destroy",(function(){r[0].$$mdDestroyed=!0,a(),o.invalidateLayout()})),e.isDefined(n.$parent.$index)&&n.$watch((function(){return n.$parent.$index}),(function(t,e){t!==e&&o.invalidateTiles()}))}}}function o(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}n.$inject=["$mdUtil"],r.$inject=["$mdUtil"],t.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia","$mdUtil"],i.$inject=["$mdMedia"],e.module("material.components.gridList",["material.core"]).directive("mdGridList",t).directive("mdGridTile",i).directive("mdGridTileFooter",o).directive("mdGridTileHeader",o).factory("$mdGridLayout",r),n.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(e.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}}}(),e.module("material.components.icon",["material.core"]),e.module("material.components.icon").directive("mdIcon",["$mdIcon","$mdTheming","$mdAria","$sce",function(t,e,n,r){return{restrict:"E",link:function(r,i,o){e(i);var a=o.mdFontIcon,s=t.fontSet(o.mdFontSet);o.mdSvgIcon||o.mdSvgSrc||(o.mdFontIcon&&i.addClass("md-font "+o.mdFontIcon),i.addClass(s)),o.$observe("mdFontIcon",l),o.$observe("mdFontSet",l),i[0].getAttribute(o.$attr.mdSvgSrc);var c,u=o.$normalize(o.$attr.mdSvgIcon||o.$attr.mdSvgSrc||"");function l(){if(!o.mdSvgIcon&&!o.mdSvgSrc){o.mdFontIcon&&(i.removeClass(a),i.addClass(o.mdFontIcon),a=o.mdFontIcon);var e=t.fontSet(o.mdFontSet);s!==e&&(i.removeClass(s),i.addClass(e),s=e)}}o.role||(n.expect(i,"role","img"),o.role="img"),"img"!==o.role||o.ariaHidden||n.hasAriaLabel(i)||(o.alt?n.expect(i,"aria-label",o.alt):n.parentHasAriaLabel(i,2)?n.expect(i,"aria-hidden","true"):(c=o.mdFontIcon||o.mdSvgIcon||i.text())?n.expect(i,"aria-label",c):n.expect(i,"aria-hidden","true")),u&&o.$observe(u,(function(e){i.empty(),e&&t(e).then((function(t){i.empty(),i.append(t)}))}))}}}]),function(){a.$inject=["config","$templateRequest","$q","$log","$mdUtil","$sce"],e.module("material.components.icon").constant("$$mdSvgRegistry",{mdTabsArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwb2x5Z29uIHBvaW50cz0iMTUuNCw3LjQgMTQsNiA4LDEyIDE0LDE4IDE1LjQsMTYuNiAxMC44LDEyICIvPjwvZz48L3N2Zz4=",mdClose:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xOSA2LjQxbC0xLjQxLTEuNDEtNS41OSA1LjU5LTUuNTktNS41OS0xLjQxIDEuNDEgNS41OSA1LjU5LTUuNTkgNS41OSAxLjQxIDEuNDEgNS41OS01LjU5IDUuNTkgNS41OSAxLjQxLTEuNDEtNS41OS01LjU5eiIvPjwvZz48L3N2Zz4=",mdCancel:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xMiAyYy01LjUzIDAtMTAgNC40Ny0xMCAxMHM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTAtNC40Ny0xMC0xMC0xMHptNSAxMy41OWwtMS40MSAxLjQxLTMuNTktMy41OS0zLjU5IDMuNTktMS40MS0xLjQxIDMuNTktMy41OS0zLjU5LTMuNTkgMS40MS0xLjQxIDMuNTkgMy41OSAzLjU5LTMuNTkgMS40MSAxLjQxLTMuNTkgMy41OSAzLjU5IDMuNTl6Ii8+PC9nPjwvc3ZnPg==",mdMenu:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0zLDZIMjFWOEgzVjZNMywxMUgyMVYxM0gzVjExTTMsMTZIMjFWMThIM1YxNloiIC8+PC9zdmc+",mdToggleArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiPjxwYXRoIGQ9Ik0yNCAxNmwtMTIgMTIgMi44MyAyLjgzIDkuMTctOS4xNyA5LjE3IDkuMTcgMi44My0yLjgzeiIvPjxwYXRoIGQ9Ik0wIDBoNDh2NDhoLTQ4eiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==",mdCalendar:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgM2gtMVYxaC0ydjJIOFYxSDZ2Mkg1Yy0xLjExIDAtMS45OS45LTEuOTkgMkwzIDE5YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY4aDE0djExek03IDEwaDV2NUg3eiIvPjwvc3ZnPg==",mdChecked:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiLz48L2c+PC9zdmc+"}).provider("$mdIcon",i);var r={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};function i(){}function o(t,e){this.url=t,this.viewBoxSize=e||r.defaultViewBoxSize}function a(r,i,o,a,s,c){var u={},l={},d=/[-\w@:%+.~#?&//=]{2,}\.[a-z]{2,4}\b(\/[-\w@:%+.~#?&//=]*)?/i,f=/^data:image\/svg\+xml[\s*;\w\-=]*?(base64)?,(.*)$/i;return _.prototype={clone:function(){return this.element.cloneNode(!0)},prepare:function(){var t=this.config?this.config.viewBoxSize:r.defaultViewBoxSize;e.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+t+" "+t,focusable:!1},(function(t,e){this.element.setAttribute(e,t)}),this)}},h.fontSet=function(t){if(e.isUndefined(t)||!t||!t.length)return r.defaultFontSet;var n=t;return e.forEach(r.fontSets,(function(e){e.alias===t&&(n=e.fontSet||n)})),n},h;function h(t){return e.isString(t=t||"")||(t=c.getTrustedUrl(t)),u[t]?o.when(p(u[t])):d.test(t)||f.test(t)?b(t).then(g(t)):(-1===t.indexOf(":")&&(t="$default:"+t),(r[t]?v:y)(t).then(g(t)))}function p(t){var r,i,o,a,c=t.clone(),u=s.nextUid(),l=["clip-path","color-profile","cursor","fill","filter","href","marker-start","marker-mid","marker-end","mask","stroke","style","vector-effect"],d=c.innerHTML===n;if(!isFinite(Number(u)))throw new Error("Unsafe and unexpected non-number result from $mdUtil.nextUid().");return r="_cache"+u,c.id&&(c.id+=r),e.forEach(c.querySelectorAll("[id]"),(function(t){for(i="",o=0;o<l.length;o++)i+="["+l[o]+'="url(#'+t.id+')"]',o+1<l.length&&(i+=", ");e.forEach(c.querySelectorAll(i),(function(e){m(t,e,d,u)})),e.forEach(c.querySelectorAll("style"),(function(e){m(t,e,d,u)})),e.forEach(c.querySelectorAll("[*|href]:not([href])"),(function(e){(a=e.getAttribute("xlink:href"))&&(a=a.replace("#"+t.id,"#"+t.id+r),e.setAttribute("xlink:href",a))})),t.id+=r})),c}function m(t,n,r,i){var o,a;if(!isFinite(Number(i)))throw new Error("Unsafe and unexpected non-number result for newUid.");a="_cache"+i,r?(o=(o=s.getOuterHTML(n)).replace("url(#"+t.id+")","url(#"+t.id+a+")"),n.textContent=e.element(o)[0].innerHTML):n.outerHTML=n.outerHTML.replace("url(#"+t.id+")","url(#"+t.id+a+")")}function g(t){return function(n){var i;return u[t]=e.isDefined((i=n).element)&&e.isDefined(i.config)?n:new _(n,r[t]),p(u[t])}}function v(t){var e=r[t];return b(e.url).then((function(t){return new _(t,e)}))}function y(t){var e=t.substring(0,t.lastIndexOf(":"))||"$default",n=r[e];return n?b(n.url).then((function(e){var r=t.slice(t.lastIndexOf(":")+1),o=e.querySelector("#"+r);return o?new _(o,n):i(t)})):i(t);function i(t){var e="icon "+t+" not found";return a.warn(e),o.reject(e||t)}}function b(n){return f.test(n)?function(n){var r=f.exec(n),i=/base64/i.test(n)?t.atob(r[2]):r[2];return o.when(e.element(i)[0])}(n):function(t){return o((function(n,r){i(t,!0).then((function(r){l[t]||(l[t]=e.element("<div>").append(r)[0].querySelector("svg")),n(l[t])}),(function(t){var n=e.isString(t)?t:t.message||t.data||t.statusText;a.warn(n),r(t)}))}))}(n)}function _(t,n){if(t&&"symbol"===t.tagName.toLowerCase()){var r=t.getAttribute("viewBox");t=t.innerHTML?e.element('<svg xmlns="http://www.w3.org/2000/svg">').html(t.innerHTML)[0]:e.element('<svg xmlns="http://www.w3.org/2000/svg">').append(s.getInnerHTML(t))[0],r&&t.setAttribute("viewBox",r)}t&&"svg"!==t.tagName.toLowerCase()&&(t=e.element('<svg xmlns="http://www.w3.org/2000/svg">').append(t.cloneNode(!0))[0]),t.getAttribute("xmlns")||t.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=t,this.config=n,this.prepare()}}i.prototype={icon:function(t,e,n){return-1==t.indexOf(":")&&(t="$default:"+t),r[t]=new o(e,n),this},iconSet:function(t,e,n){return r[t]=new o(e,n),this},defaultIconSet:function(t,e){return r.$default||(r.$default=new o(t,e)),r.$default.viewBoxSize=e||r.defaultViewBoxSize,this},defaultViewBoxSize:function(t){return r.defaultViewBoxSize=t,this},fontSet:function(t,e){return r.fontSets.push({alias:t,fontSet:e||t}),this},defaultFontSet:function(t){return r.defaultFontSet=t||"",this},defaultIconSize:function(t){return r.defaultIconSize=t,this},$get:["$templateRequest","$q","$log","$mdUtil","$sce",function(t,e,n,i,o){return a(r,t,e,n,i,o)}]}}(),function(){i.$inject=["$mdTheming","$parse","$$rAF"],o.$inject=["$mdUtil","$window","$mdAria","$timeout","$mdGesture"],a.$inject=["$animate","$mdUtil"],s.$inject=["$compile"],h.$inject=["$mdUtil"],c.$inject=["$document","$timeout"],p.$inject=["$$AnimateRunner","$animateCss","$mdUtil"],m.$inject=["$$AnimateRunner","$animateCss","$mdUtil"],g.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"];var r=e.module("material.components.input",["material.core"]).directive("mdInputContainer",i).directive("label",(function(){return{restrict:"E",require:"^?mdInputContainer",link:function(t,e,n,r){!r||n.mdNoFloat||e.hasClass("md-container-ignore")||(r.label=e,t.$on("$destroy",(function(){r.label=null})))}}})).directive("input",o).directive("textarea",o).directive("mdMaxlength",a).directive("placeholder",s).directive("ngMessages",(function(){return{restrict:"EA",link:function(t,e,n,r){r&&(e.toggleClass("md-input-messages-animation",!0),e.toggleClass("md-auto-hide",!0),("false"==n.mdAutoHide||function(t){return f.some((function(e){return t[e]}))}(n))&&e.toggleClass("md-auto-hide",!1))},require:"^^?mdInputContainer"}})).directive("ngMessage",h).directive("ngMessageExp",h).directive("mdSelectOnFocus",c).animation(".md-input-invalid",p).animation(".md-input-messages-animation",m).animation(".md-input-message-animation",g);function i(t,e,n){a.$inject=["$scope","$element","$attrs","$animate"];var r=["INPUT","TEXTAREA","SELECT","MD-SELECT"],i=r.reduce((function(t,e){return t.concat(["md-icon ~ "+e,".md-icon ~ "+e])}),[]).join(","),o=r.reduce((function(t,e){return t.concat([e+" ~ md-icon",e+" ~ .md-icon"])}),[]).join(",");return{restrict:"E",compile:function(e){var r=e[0].querySelector(i),a=e[0].querySelector(o);return function(e,i){t(i),(r||a)&&n((function(){var t=i[0].querySelector("md-icon")||i[0].querySelector(".md-icon");r&&t&&i.addClass("md-icon-left"),a&&t&&i.addClass("md-icon-right")}))}},controller:a};function a(t,n,r,i){var o=this;o.isErrorGetter=r.mdIsError&&e(r.mdIsError),o.delegateClick=function(){o.input.focus()},o.element=n,o.setFocused=function(t){n.toggleClass("md-input-focused",!!t)},o.setHasValue=function(t){n.toggleClass("md-input-has-value",!!t)},o.setHasPlaceholder=function(t){n.toggleClass("md-input-has-placeholder",!!t)},o.setInvalid=function(t){t?i.addClass(n,"md-input-invalid"):i.removeClass(n,"md-input-invalid")},t.$watch((function(){return o.label&&o.input}),(function(t){t&&!o.label.attr("for")&&o.label.attr("for",o.input.attr("id"))}))}}function o(t,n,r,i,o){return{restrict:"E",require:["^?mdInputContainer","?ngModel","?^form"],link:function(a,s,c,u){var l=u[0],d=!!u[1],f=u[1]||t.fakeNgModel(),h=u[2],p=e.isDefined(c.readonly),m=t.parseAttributeBoolean(c.mdNoAsterisk),g=s[0].tagName.toLowerCase();if(l)if("hidden"!==c.type){if(l.input){if(l.input[0].contains(s[0]))return;throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!")}l.input=s,l.label&&c.$observe("required",(function(t){l.label.toggleClass("md-required",t&&!m)}));var v=e.element('<div class="md-errors-spacer">');s.after(v);var y=e.isString(c.placeholder)?c.placeholder.trim():"";l.label||y.length||r.expect(s,"aria-label"),s.addClass("md-input"),s.attr("id")||s.attr("id","input_"+t.nextUid()),"input"===g&&"number"===c.type&&c.min&&c.max&&!c.step?s.attr("step","any"):"textarea"===g&&function(){var r=!c.hasOwnProperty("mdNoAutogrow");if(function(){if(!c.hasOwnProperty("mdNoResize")){var t=e.element('<div class="md-resize-handle"></div>'),n=!1,r=0,i=l.element,u=o.register(t,"drag",{horizontal:!1});s.wrap('<div class="md-resize-wrapper">').after(t),t.on("mousedown",d),i.on("$md.dragstart",f).on("$md.drag",h).on("$md.dragend",p),a.$on("$destroy",(function(){t.off("mousedown",d).remove(),i.off("$md.dragstart",f).off("$md.drag",h).off("$md.dragend",p),u(),t=null,i=null,u=null}))}function d(t){t.preventDefault(),n=!0,r=parseFloat(s.css("height"))||s.prop("offsetHeight")}function f(t){n&&(t.preventDefault(),w(),i.addClass("md-input-resized"))}function h(t){n&&s.css("height",r+t.pointer.distanceY+"px")}function p(t){n&&(n=!1,i.removeClass("md-input-resized"))}}(),r){var u,h=c.hasOwnProperty("rows")?parseInt(c.rows):NaN,p=c.hasOwnProperty("maxRows")?parseInt(c.maxRows):NaN,m=a.$on("md-resize-textarea",b),g=null,v=s[0];if(i((function(){t.nextTick(b)}),10,!1),s.on("input",b),d&&f.$formatters.push(_),h||s.attr("rows",1),e.element(n).on("resize",b),a.$on("$destroy",w),c.hasOwnProperty("mdDetectHidden")){var y=(u=!1,function(){var t=0===v.offsetHeight;!1===t&&!0===u&&b(),u=t});a.$watch((function(){return t.nextTick(y,!1),!0}))}}function b(){s.attr("rows",1).css("height","auto").addClass("md-no-flex");var t,e=(t=v.offsetHeight)+Math.max(v.scrollHeight-t,0);if(!g){var n=s[0].style.padding||"";g=s.css("padding",0).prop("offsetHeight"),s[0].style.padding=n}if(h&&g&&(e=Math.max(e,g*h)),p&&g){var r=g*p;r<e?(s.attr("md-no-autogrow",""),e=r):s.removeAttr("md-no-autogrow")}g&&s.attr("rows",Math.round(e/g)),s.css("height",e+"px").removeClass("md-no-flex")}function _(e){return t.nextTick(b),e}function w(){if(r&&(r=!1,e.element(n).off("resize",b),m&&m(),s.attr("md-no-autogrow","").off("input",b),d)){var t=f.$formatters.indexOf(_);t>-1&&f.$formatters.splice(t,1)}}}(),d||_(),a.$watch(l.isErrorGetter||function(){return f.$invalid&&(f.$touched||h&&h.$submitted)},l.setInvalid),c.ngValue&&c.$observe("value",_),f.$parsers.push(b),f.$formatters.push(b),s.on("input",_),p||s.on("focus",(function(e){t.nextTick((function(){l.setFocused(!0)}))})).on("blur",(function(e){t.nextTick((function(){l.setFocused(!1),_()}))})),a.$on("$destroy",(function(){l.setFocused(!1),l.setHasValue(!1),l.input=null}))}else s.attr("aria-hidden","true");function b(t){return l.setHasValue(!f.$isEmpty(t)),t}function _(){l.setHasValue(s.val().length>0||(s[0].validity||{}).badInput)}}}}function a(t,r){return{restrict:"A",require:["ngModel","^mdInputContainer"],link:function(i,o,a,s){var c=parseInt(a.mdMaxlength);isNaN(c)&&(c=-1);var u,l,d=s[0],f=s[1],h=!e.isDefined(a.ngTrim)||r.parseAttributeBoolean(a.ngTrim),p="password"===a.type;function m(t){return(t=h&&!p&&e.isString(t)?t.trim():t)!==n&&null!==t||(t=""),String(t).length}function g(){u&&u.parent()&&u.text(m(o.val())+" / "+c)}i.$watch(a.mdMaxlength,(function(t){c=t})),d.$validators["md-maxlength"]=function(t,r){if(!e.isNumber(c)||c<0)return!0;g();var i=o.val()||r;return i!==n&&null!==i||(i=""),i=h&&!p&&e.isString(i)?i.trim():i,String(i).length<=c},d.$isEmpty=function(t){return 0===m(t)},r.nextTick((function(){l=e.element(f.element[0].querySelector(".md-errors-spacer")),u=e.element('<div class="md-char-counter">'),l.append(u),a.$observe("ngTrim",(function(t){h=!e.isDefined(t)||r.parseAttributeBoolean(t)})),i.$watch(a.mdMaxlength,(function(n){e.isNumber(n)&&n>0?(u.parent().length||t.enter(u,l),g()):t.leave(u)}))}))}}}function s(t){return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:{pre:function(n,r,i,o){if(o){var a=o.element.find("label"),s=o.element.attr("md-no-float");if(a&&a.length||""===s||n.$eval(s))o.setHasPlaceholder(!0);else if("MD-SELECT"!==r[0].nodeName){var c=e.element('<label ng-click="delegateClick()" tabindex="-1" aria-hidden="true">'+i.placeholder+"</label>");i.$set("placeholder",null),o.element.addClass("md-icon-float").prepend(c),t(c)(n)}}}}}}function c(t,e){return{restrict:"A",link:function(n,r,i){if("INPUT"===r[0].nodeName||"TEXTAREA"===r[0].nodeName){var o=!1;r.on("focus",a).on("mouseup",s),n.$on("$destroy",(function(){r.off("focus",a).off("mouseup",s)}))}function a(){o=!0,e((function(){t[0].activeElement===r[0]&&r[0].select(),o=!1}),1,!1)}function s(t){o&&t.preventDefault()}}}}t._mdMocksIncluded&&r.service("$$mdInput",(function(){return{messages:{getElement:w}}})).service("mdInputInvalidAnimation",p).service("mdInputMessagesAnimation",m).service("mdInputMessageAnimation",g);var u,l,d,f=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"];function h(t){return{restrict:"EA",compile:function(e){if(n(e))r(e);else if(function(){for(var t=e[0];t=t.parentNode;)if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE)return!0;return!1}())return function(t,i){n(i)&&r(e)};function n(e){return!!t.getClosest(e,"md-input-container")}function r(t){t.toggleClass("md-input-message-animation",!0)}},priority:100}}function p(t,e,n){return S(t,e,n),{addClass:function(t,e,n){v(t,n)}}}function m(t,e,n){return S(t,e,n),{enter:function(t,e){v(t,e)},leave:function(t,e){y(t,e)},addClass:function(t,e,n){"ng-hide"==e?y(t,n):n()},removeClass:function(t,e,n){"ng-hide"==e?v(t,n):n()}}}function g(t,e,n,r){return S(t,e,n),{enter:function(t,e){b(t).start().done(e)},leave:function(t,e){_(t).start().done(e)}}}function v(t,n){var r,i=[],o=w(t),a=o.children();0!=o.length&&0!=a.length?(e.forEach(a,(function(t){r=b(e.element(t)),i.push(r.start())})),u.all(i,n)):n()}function y(t,n){var r,i=[],o=w(t),a=o.children();0!=o.length&&0!=a.length?(e.forEach(a,(function(t){r=_(e.element(t)),i.push(r.start())})),u.all(i,n)):n()}function b(e){var n=parseInt(t.getComputedStyle(e[0]).height),r=parseInt(t.getComputedStyle(e[0]).marginTop),i=w(e),o=function(t){return t.controller("mdInputContainer").element}(e);return r>-n||i.hasClass("md-auto-hide")&&!o.hasClass("md-input-invalid")?l(e,{}):l(e,{event:"enter",structural:!0,from:{opacity:0,"margin-top":-n+"px"},to:{opacity:1,"margin-top":"0"},duration:.3})}function _(e){var n=e[0].offsetHeight,r=t.getComputedStyle(e[0]);return 0===parseInt(r.opacity)?l(e,{}):l(e,{event:"leave",structural:!0,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-n+"px"},duration:.3})}function w(t){return t.hasClass("md-input-messages-animation")?t:t.hasClass("md-input-message-animation")?e.element(d.getClosest(t,(function(t){return t.classList.contains("md-input-messages-animation")}))):e.element(t[0].querySelector(".md-input-messages-animation"))}function S(t,e,n){u=t,l=e,d=n}}(),function(){function t(t){return{restrict:"E",compile:function(e){return e[0].setAttribute("role","list"),t}}}function n(t,n,r,i){var o=["md-checkbox","md-switch","md-menu"];return{restrict:"E",controller:"MdListController",compile:function(a,s){var c,u,l,d=a[0].querySelectorAll(".md-secondary"),f=a;if(a[0].setAttribute("role","listitem"),s.ngClick||s.ngDblclick||s.ngHref||s.href||s.uiSref||s.ngAttrUiSref)m("button");else if(!a.hasClass("md-no-proxy")){for(var h,p=0;h=o[p];++p)if(u=a[0].querySelector(h)){c=!0;break}c?m("div"):a.addClass("md-no-proxy")}function m(n){if("div"==n)(f=e.element('<div class="md-no-style md-list-item-inner">')).append(a.contents()),a.addClass("md-proxy-focus");else{f=e.element('<div class="md-button md-no-style">   <div class="md-list-item-inner"></div></div>');var r=e.element('<md-button class="md-no-style"></md-button>');g(a[0],r[0]),r.attr("aria-label")||r.attr("aria-label",t.getText(a)),a.hasClass("md-no-focus")&&r.addClass("md-no-focus"),f.prepend(r),f.children().eq(1).append(a.contents()),a.addClass("_md-button-wrap")}a[0].setAttribute("tabindex","-1"),a.append(f)}function g(t,n,i){var o=r.prefixer(["ng-if","ng-click","ng-dblclick","aria-label","ng-disabled","ui-sref","href","ng-href","rel","target","ng-attr-ui-sref","ui-sref-opts","download"]);i&&(o=o.concat(r.prefixer(i))),e.forEach(o,(function(e){t.hasAttribute(e)&&(n.setAttribute(e,t.getAttribute(e)),t.removeAttribute(e))}))}function v(t){for(var e=t.attributes,n=0;n<e.length;n++)if("ngClick"===s.$normalize(e[n].name))return!0;return!1}return l=e.element('<div class="md-secondary-container">'),e.forEach(d,(function(n){!function(n,r){if(n&&"MD-BUTTON"!=(c=n.nodeName.toUpperCase())&&"BUTTON"!=c&&n.hasAttribute("ng-click")){t.expect(n,"aria-label");var i=e.element('<md-button class="md-secondary md-icon-button">');g(n,i[0],["ng-if","ng-hide","ng-show"]),n.setAttribute("tabindex","-1"),i.append(n),n=i[0]}var c;n&&(!v(n)||!s.ngClick&&-1!=o.indexOf(n.nodeName.toLowerCase()))&&e.element(n).removeClass("md-secondary"),a.addClass("md-with-secondary"),r.append(n)}(n,l)})),f.append(l),function(){for(var t,e,n=["md-switch","md-checkbox"],r=0;e=n[r];++r)if((t=a.find(e)[0])&&!t.hasAttribute("aria-label")){var i=a.find("p")[0];if(!i)return;t.setAttribute("aria-label","Toggle "+i.textContent)}}(),c&&"MD-MENU"===u.nodeName&&function(){var t=e.element(u),n="left";(t.parent().hasClass("md-secondary-container")||u.parentNode.firstElementChild!==u)&&(n="right"),t.attr("md-position-mode")||t.attr("md-position-mode",n+" target");var r=t.children().eq(0);v(r[0])||r.attr("ng-click","$mdMenu.open($event)"),r.attr("aria-label")||r.attr("aria-label","Open List Menu")}(),function(t,a,s,c){a.addClass("_md");var u=[],l=a[0].firstElementChild,d=a.hasClass("_md-button-wrap")?l.firstElementChild:l,f=d&&v(d),h=a.hasClass("md-no-proxy");l&&l.children&&!f&&!h&&e.forEach(o,(function(t){e.forEach(l.querySelectorAll(t+":not(.md-secondary)"),(function(t){u.push(t)}))})),(1==u.length||f)&&(a.addClass("md-clickable"),f||c.attachRipple(t,e.element(a[0].querySelector(".md-no-style")))),u.length&&e.forEach(u,(function(n){n=e.element(n),t.mouseActive=!1,n.on("mousedown",(function(){t.mouseActive=!0,i((function(){t.mouseActive=!1}),100)})).on("focus",(function(){!1===t.mouseActive&&a.addClass("md-focused"),n.on("blur",(function t(){a.removeClass("md-focused"),n.off("blur",t)}))}))}));var p=function(t){"INPUT"==t.target.nodeName||"TEXTAREA"==t.target.nodeName||t.target.isContentEditable||(t.which||t.keyCode)==n.KEY_CODE.SPACE&&d&&(d.click(),t.preventDefault(),t.stopPropagation())};f||u.length||d&&d.addEventListener("keypress",p),a.off("click"),a.off("keypress"),1==u.length&&d&&a.children().eq(0).on("click",(function(t){(function(t){var e=["md-slider"];if(!t.path)return-1!==e.indexOf(t.target.tagName.toLowerCase());for(var n=t.path.indexOf(a.children()[0]),r=0;r<n;r++)if(-1!==e.indexOf(t.path[r].tagName.toLowerCase()))return!0})(t)||!r.getClosest(t.target,"BUTTON")&&d.contains(t.target)&&e.forEach(u,(function(n){t.target===n||n.contains(t.target)||("MD-MENU"===n.nodeName&&(n=n.children[0]),e.element(n).triggerHandler("click"))}))})),t.$on("$destroy",(function(){d&&d.removeEventListener("keypress",p)}))}}}}function r(t,e,n){this.attachRipple=function(t,e){n.attach(t,e,{})}}r.$inject=["$scope","$element","$mdListInkRipple"],t.$inject=["$mdTheming"],n.$inject=["$mdAria","$mdConstant","$mdUtil","$timeout"],e.module("material.components.list",["material.core"]).controller("MdListController",r).directive("mdList",t).directive("mdListItem",n)}(),e.module("material.components.menu",["material.core","material.components.backdrop"]),function(){function t(t,r,i,o,a,s,c,u,l){var d,f,h=a.prefixer(),p=this;this.nestLevel=parseInt(r.mdNestLevel,10)||0,this.init=function(n,r){r=r||{},d=n,(f=i[0].querySelector(h.buildSelector(["ng-click","ng-mouseenter"]))).setAttribute("aria-expanded","false"),this.isInMenuBar=r.isInMenuBar,this.nestedMenus=a.nodesToArray(d[0].querySelectorAll(".md-nested-menu")),d.on("$mdInterimElementRemove",(function(){p.isOpen=!1,a.nextTick((function(){p.onIsOpenChanged(p.isOpen)}))})),a.nextTick((function(){p.onIsOpenChanged(p.isOpen)}));var s="menu_container_"+a.nextUid();d.attr("id",s),e.element(f).attr({"aria-owns":s,"aria-haspopup":"true"}),o.$on("$destroy",e.bind(this,(function(){this.disableHoverListener(),t.destroy()}))),d.on("$destroy",(function(){t.destroy()}))};var m,g,v=[];this.enableHoverListener=function(){v.push(c.$on("$mdMenuOpen",(function(t,e){d[0].contains(e[0])&&(p.currentlyOpenMenu=e.controller("mdMenu"),p.isAlreadyOpening=!1,p.currentlyOpenMenu.registerContainerProxy(p.triggerContainerProxy.bind(p)))}))),v.push(c.$on("$mdMenuClose",(function(t,e){d[0].contains(e[0])&&(p.currentlyOpenMenu=n)}))),(g=e.element(a.nodesToArray(d[0].children[0].children))).on("mouseenter",p.handleMenuItemHover),g.on("mouseleave",p.handleMenuItemMouseLeave)},this.disableHoverListener=function(){for(;v.length;)v.shift()();g&&g.off("mouseenter",p.handleMenuItemHover),g&&g.off("mouseleave",p.handleMenuItemMouseLeave)},this.handleMenuItemHover=function(t){if(!p.isAlreadyOpening){var n=t.target.querySelector("md-menu")||a.getClosest(t.target,"MD-MENU");m=s((function(){n&&(n=e.element(n).controller("mdMenu")),p.currentlyOpenMenu&&p.currentlyOpenMenu!=n?(p.currentlyOpenMenu.close(!0,{closeTo:p.nestLevel+1}),p.isAlreadyOpening=!!n,n&&n.open()):n&&!n.isOpen&&n.open&&(p.isAlreadyOpening=!!n,n&&n.open())}),n?100:250);var r=t.currentTarget.querySelector(".md-button:not([disabled])");r&&r.focus()}},this.handleMenuItemMouseLeave=function(){m&&(s.cancel(m),m=n)},this.open=function(e){e&&e.stopPropagation(),e&&e.preventDefault(),p.isOpen||(p.enableHoverListener(),p.isOpen=!0,a.nextTick((function(){p.onIsOpenChanged(p.isOpen)})),(f=f||(e?e.target:i[0])).setAttribute("aria-expanded","true"),o.$emit("$mdMenuOpen",i),t.show({scope:o,mdMenuCtrl:p,nestLevel:p.nestLevel,element:d,target:f,preserveElement:!0,parent:"body"}).finally((function(){f.setAttribute("aria-expanded","false"),p.disableHoverListener()})))},this.onIsOpenChanged=function(t){t?(d.attr("aria-hidden","false"),i[0].classList.add("md-open"),e.forEach(p.nestedMenus,(function(t){t.classList.remove("md-open")}))):(d.attr("aria-hidden","true"),i[0].classList.remove("md-open")),o.$mdMenuIsOpen=p.isOpen},this.focusMenuContainer=function(){var t=d[0].querySelector(h.buildSelector(["md-menu-focus-target","md-autofocus"]));t||(t=d[0].querySelector(".md-button:not([disabled])")),t.focus()},this.registerContainerProxy=function(t){this.containerProxy=t},this.triggerContainerProxy=function(t){this.containerProxy&&this.containerProxy(t)},this.destroy=function(){return p.isOpen?t.destroy():u.when(!1)},this.close=function(n,r){if(p.isOpen){p.isOpen=!1,a.nextTick((function(){p.onIsOpenChanged(p.isOpen)}));var s=e.extend({},r,{skipFocus:n});if(o.$emit("$mdMenuClose",i,s),t.hide(null,r),!n){var c=p.restoreFocusTo||i.find("button")[0];c instanceof e.element&&(c=c[0]),c&&c.focus()}}},this.positionMode=function(){var t=(r.mdPositionMode||"target").split(" ");return 1===t.length&&t.push(t[0]),{left:t[0],top:t[1]}},this.offsets=function(){var t=(r.mdOffset||"0 0").split(" ").map(parseFloat);if(2===t.length)return{left:t[0],top:t[1]};if(1===t.length)return{top:t[0],left:t[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")},o.$mdMenu={open:this.open,close:this.close},o.$mdOpenMenu=e.bind(this,(function(){return l.warn("mdMenu: The $mdOpenMenu method is deprecated. Please use `$mdMenu.open`."),this.open.apply(this,arguments)}))}t.$inject=["$mdMenu","$attrs","$element","$scope","$mdUtil","$timeout","$rootScope","$q","$log"],e.module("material.components.menu").controller("mdMenuCtrl",t)}(),function(){function t(t){return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:function(r){r.addClass("md-menu");var i=r.children()[0],o=t.prefixer();if(o.hasAttribute(i,"ng-click")||(i=i.querySelector(o.buildSelector(["ng-click","ng-mouseenter"]))||i),i&&("MD-BUTTON"===i.nodeName||"BUTTON"===i.nodeName)&&!i.hasAttribute("type")&&i.setAttribute("type","button"),!i)throw Error("Invalid HTML for md-menu: Expected the menu to have a trigger element.");if(2!==r.children().length)throw Error("Invalid HTML for md-menu: Expected two children elements. The second element must have a `md-menu-content` element.");i&&i.setAttribute("aria-haspopup","true");var a=r[0].querySelectorAll("md-menu"),s=parseInt(r[0].getAttribute("md-nest-level"),10)||0;return a&&e.forEach(t.nodesToArray(a),(function(t){t.hasAttribute("md-position-mode")||t.setAttribute("md-position-mode","cascade"),t.classList.add("_md-nested-menu"),t.setAttribute("md-nest-level",s+1)})),n}};function n(t,n,r,i){var o=i[0],a=!!i[1],s=e.element('<div class="_md md-open-menu-container md-whiteframe-z2"></div>'),c=n.children()[1];n.addClass("_md"),c.hasAttribute("role")||c.setAttribute("role","menu"),s.append(c),n.on("$destroy",(function(){s.remove()})),n.append(s),s[0].style.display="none",o.init(s,{isInMenuBar:a})}}t.$inject=["$mdUtil"],e.module("material.components.menu").directive("mdMenu",t)}(),function(){function t(t){i.$inject=["$mdUtil","$mdTheming","$mdConstant","$document","$window","$q","$$rAF","$animateCss","$animate","$log"];var r=8;return t("$mdMenu").setDefaults({methods:["target"],options:i});function i(t,i,a,s,c,u,l,d,f,h){var p=t.prefixer(),m=t.dom.animator;return{parent:"body",onShow:function(n,r,o){return function(){if(!o.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");e.extend(o,{alreadyOpen:!1,isRemoved:!1,target:e.element(o.target),parent:e.element(o.parent),menuContentEl:e.element(r[0].querySelector("md-menu-content"))})}(),o.menuContentEl[0]?i.inherit(o.menuContentEl,o.target):h.warn("$mdMenu: Menu elements should always contain a `md-menu-content` element,otherwise interactivity features will not work properly.",r),o.cleanupResizing=(v=r,b=o,_=l.throttle((function(){if(!o.isRemoved){var t=y(v,b);v.css(m.toCss(t))}})),c.addEventListener("resize",_),c.addEventListener("orientationchange",_),function(){c.removeEventListener("resize",_),c.removeEventListener("orientationchange",_)}),o.hideBackdrop=function(n,r,i){return i.nestLevel?e.noop:(i.disableParentScroll&&!t.getClosest(i.target,"MD-DIALOG")?i.restoreScroll=t.disableScrollAround(i.element,i.parent):i.disableParentScroll=!1,i.hasBackdrop&&(i.backdrop=t.createBackdrop(n,"md-menu-backdrop md-click-catcher"),f.enter(i.backdrop,s[0].body)),function(){i.backdrop&&i.backdrop.remove(),i.disableParentScroll&&i.restoreScroll()})}(n,0,o),(o.parent.append(r),r[0].style.display="",u((function(t){var e=y(r,o);r.removeClass("md-leave"),d(r,{addClass:"md-active",from:m.toCss(e),to:m.toCss({transform:""})}).start().then(t)}))).then((function(i){return o.alreadyOpen=!0,o.cleanupInteraction=function(){if(!o.menuContentEl[0])return e.noop;o.menuContentEl.on("keydown",u),o.menuContentEl[0].addEventListener("click",l,!0);var r=o.menuContentEl[0].querySelector(p.buildSelector(["md-menu-focus-target","md-autofocus"]));if(!r)for(var i=o.menuContentEl[0].children.length,s=0;s<i;s++){var c=o.menuContentEl[0].children[s];if(r=c.querySelector(".md-button:not([disabled])"))break;if(c.firstElementChild&&!c.firstElementChild.disabled){r=c.firstElementChild;break}}return r&&r.focus(),function(){o.menuContentEl.off("keydown",u),o.menuContentEl[0].removeEventListener("click",l,!0)};function u(e){var n;switch(e.keyCode){case a.KEY_CODE.ESCAPE:o.mdMenuCtrl.close(!1,{closeAll:!0}),n=!0;break;case a.KEY_CODE.TAB:o.mdMenuCtrl.close(!1,{closeAll:!0}),n=!1;break;case a.KEY_CODE.UP_ARROW:g(e,o.menuContentEl,0,-1)||o.nestLevel||o.mdMenuCtrl.triggerContainerProxy(e),n=!0;break;case a.KEY_CODE.DOWN_ARROW:g(e,o.menuContentEl,0,1)||o.nestLevel||o.mdMenuCtrl.triggerContainerProxy(e),n=!0;break;case a.KEY_CODE.LEFT_ARROW:o.nestLevel?o.mdMenuCtrl.close():o.mdMenuCtrl.triggerContainerProxy(e),n=!0;break;case a.KEY_CODE.RIGHT_ARROW:var r=t.getClosest(e.target,"MD-MENU");r&&r!=o.parent[0]?e.target.click():o.mdMenuCtrl.triggerContainerProxy(e),n=!0}n&&(e.preventDefault(),e.stopImmediatePropagation())}function l(e){var r=e.target;do{if(r==o.menuContentEl[0])return;if((a(r,["ng-click","ng-href","ui-sref"])||"BUTTON"==r.nodeName||"MD-BUTTON"==r.nodeName)&&!a(r,["md-prevent-menu-close"])){var i=t.getClosest(r,"MD-MENU");r.hasAttribute("disabled")||i&&i!=o.parent[0]||n.$apply((function(){o.mdMenuCtrl.close(!0,{closeAll:!0})}));break}}while(r=r.parentNode);function a(t,e){if(!t)return!1;for(var n,r=0;n=e[r];++r)if(p.hasAttribute(t,n))return!0;return!1}}}(),o.cleanupBackdrop=o.backdrop?(o.backdrop.on("click",w),function(){o.backdrop.off("click",w)}):e.noop,r.addClass("md-clickable"),i}));var v,b,_;function w(t){t.preventDefault(),t.stopPropagation(),n.$apply((function(){o.mdMenuCtrl.close(!0,{closeAll:!0})}))}},onRemove:function(t,e,n){return n.cleanupInteraction(),n.cleanupBackdrop(),n.cleanupResizing(),n.hideBackdrop(),e.removeClass("md-clickable"),!0===n.$destroy?r():d(e,{addClass:"md-leave"}).start().then(r);function r(){e.removeClass("md-active"),function(t,e){e.preserveElement?o(t).style.display="none":o(t).parentNode===o(e.parent)&&o(e.parent).removeChild(o(t))}(e,n),n.alreadyOpen=!1}},hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,multiple:!0,themable:!0};function g(e,n,r,i){for(var o,a=t.getClosest(e.target,"MD-MENU-ITEM"),s=t.nodesToArray(n[0].children),c=s.indexOf(a)+i;c>=0&&c<s.length&&!(o=v(s[c].querySelector(".md-button")));c+=i);return o}function v(t){if(t&&-1!=t.getAttribute("tabindex"))return t.focus(),s[0].activeElement==t}function y(e,i){var o,a=e[0],u=e[0].firstElementChild,l=u.getBoundingClientRect(),d=s[0].body.getBoundingClientRect(),f=c.getComputedStyle(u),h=i.target[0].querySelector(p.buildSelector("md-menu-origin"))||i.target[0],m=h.getBoundingClientRect(),g={left:d.left+r,top:Math.max(d.top,0)+r,bottom:Math.max(d.bottom,Math.max(d.top,0)+d.height)-r,right:d.right-r},v={top:0,left:0,right:0,bottom:0},y={top:0,left:0,right:0,bottom:0},b=i.mdMenuCtrl.positionMode();"target"!==b.top&&"target"!==b.left&&"target-right"!==b.left||(o=function(){for(var t=0;t<u.children.length;++t)if("none"!=c.getComputedStyle(u.children[t]).display)return u.children[t]}())&&(v=(o=(o=o.firstElementChild||o).querySelector(p.buildSelector("md-menu-align-target"))||o).getBoundingClientRect(),y={top:parseFloat(a.style.top||0),left:parseFloat(a.style.left||0)});var _={},w="top ";switch(b.top){case"target":_.top=y.top+m.top-v.top;break;case"cascade":_.top=m.top-parseFloat(f.paddingTop)-h.style.top;break;case"bottom":_.top=m.top+m.height;break;default:throw new Error('Invalid target mode "'+b.top+'" specified for md-menu on Y axis.')}var S=t.isRtl(e);switch(b.left){case"target":_.left=y.left+m.left-v.left,w+=S?"right":"left";break;case"target-left":_.left=m.left,w+="left";break;case"target-right":_.left=m.right-l.width+(l.right-v.right),w+="right";break;case"cascade":var E=S?m.left-l.width<g.left:m.right+l.width<g.right;_.left=E?m.right-h.style.left:m.left-h.style.left-l.width,w+=E?"left":"right";break;case"right":S?(_.left=m.right-m.width,w+="left"):(_.left=m.right-l.width,w+="right");break;case"left":S?(_.left=m.right-l.width,w+="right"):(_.left=m.left,w+="left");break;default:throw new Error('Invalid target mode "'+b.left+'" specified for md-menu on X axis.')}var x,C=i.mdMenuCtrl.offsets();_.top+=C.top,_.left+=C.left,(x=_).top=Math.max(Math.min(x.top,g.bottom-a.offsetHeight),g.top),x.left=Math.max(Math.min(x.left,g.right-a.offsetWidth),g.left);var k=Math.round(100*Math.min(m.width/a.offsetWidth,1))/100,T=Math.round(100*Math.min(m.height/a.offsetHeight,1))/100;return{top:Math.round(_.top),left:Math.round(_.left),transform:i.alreadyOpen?n:t.supplant("scale({0},{1})",[k,T]),transformOrigin:w}}}function o(t){return t instanceof e.element&&(t=t[0]),t}}t.$inject=["$$interimElementProvider"],e.module("material.components.menu").provider("$mdMenu",t)}(),e.module("material.components.menuBar",["material.core","material.components.icon","material.components.menu"]),function(){r.$inject=["$scope","$rootScope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"],e.module("material.components.menuBar").controller("MenuBarController",r);var t=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];function r(n,r,i,o,a,s,c,u){this.$element=i,this.$attrs=o,this.$mdConstant=a,this.$mdUtil=c,this.$document=s,this.$scope=n,this.$rootScope=r,this.$timeout=u;var l=this;e.forEach(t,(function(t){l[t]=e.bind(l,l[t])}))}r.prototype.init=function(){var t=this.$element,e=this.$mdUtil,r=this.$scope,i=this,o=[];t.on("keydown",this.handleKeyDown),this.parentToolbar=e.getClosest(t,"MD-TOOLBAR"),o.push(this.$rootScope.$on("$mdMenuOpen",(function(e,n){-1!=i.getMenus().indexOf(n[0])&&(t[0].classList.add("md-open"),n[0].classList.add("md-open"),i.currentlyOpenMenu=n.controller("mdMenu"),i.currentlyOpenMenu.registerContainerProxy(i.handleKeyDown),i.enableOpenOnHover())}))),o.push(this.$rootScope.$on("$mdMenuClose",(function(r,o,a){var s=i.getMenus();if(-1!=s.indexOf(o[0])&&(t[0].classList.remove("md-open"),o[0].classList.remove("md-open")),t[0].contains(o[0])){for(var c=o[0];c&&-1==s.indexOf(c);)c=e.getClosest(c,"MD-MENU",!0);c&&(a.skipFocus||c.querySelector("button:not([disabled])").focus(),i.currentlyOpenMenu=n,i.disableOpenOnHover(),i.setKeyboardMode(!0))}}))),r.$on("$destroy",(function(){for(i.disableOpenOnHover();o.length;)o.shift()()})),this.setKeyboardMode(!0)},r.prototype.setKeyboardMode=function(t){t?this.$element[0].classList.add("md-keyboard-mode"):this.$element[0].classList.remove("md-keyboard-mode")},r.prototype.enableOpenOnHover=function(){if(!this.openOnHoverEnabled){var t=this;t.openOnHoverEnabled=!0,t.parentToolbar&&(t.parentToolbar.classList.add("md-has-open-menu"),t.$mdUtil.nextTick((function(){e.element(t.parentToolbar).on("click",t.handleParentClick)}),!1)),e.element(t.getMenus()).on("mouseenter",t.handleMenuHover)}},r.prototype.handleMenuHover=function(t){this.setKeyboardMode(!1),this.openOnHoverEnabled&&this.scheduleOpenHoveredMenu(t)},r.prototype.disableOpenOnHover=function(){this.openOnHoverEnabled&&(this.openOnHoverEnabled=!1,this.parentToolbar&&(this.parentToolbar.classList.remove("md-has-open-menu"),e.element(this.parentToolbar).off("click",this.handleParentClick)),e.element(this.getMenus()).off("mouseenter",this.handleMenuHover))},r.prototype.scheduleOpenHoveredMenu=function(t){var n=e.element(t.currentTarget).controller("mdMenu");this.setKeyboardMode(!1),this.scheduleOpenMenu(n)},r.prototype.scheduleOpenMenu=function(t){var e=this,r=this.$timeout;t!=e.currentlyOpenMenu&&(r.cancel(e.pendingMenuOpen),e.pendingMenuOpen=r((function(){e.pendingMenuOpen=n,e.currentlyOpenMenu&&e.currentlyOpenMenu.close(!0,{closeAll:!0}),t.open()}),200,!1))},r.prototype.handleKeyDown=function(t){var n,r,i,o=this.$mdConstant.KEY_CODE,a=this.currentlyOpenMenu,s=a&&a.isOpen;switch(this.setKeyboardMode(!0),t.keyCode){case o.DOWN_ARROW:a?a.focusMenuContainer():this.openFocusedMenu(),n=!0;break;case o.UP_ARROW:a&&a.close(),n=!0;break;case o.LEFT_ARROW:r=this.focusMenu(-1),s&&(i=e.element(r).controller("mdMenu"),this.scheduleOpenMenu(i)),n=!0;break;case o.RIGHT_ARROW:r=this.focusMenu(1),s&&(i=e.element(r).controller("mdMenu"),this.scheduleOpenMenu(i)),n=!0}n&&(t&&t.preventDefault&&t.preventDefault(),t&&t.stopImmediatePropagation&&t.stopImmediatePropagation())},r.prototype.focusMenu=function(t){var e=this.getMenus(),n=this.getFocusedMenuIndex();-1==n&&(n=this.getOpenMenuIndex());var r=!1;if(-1==n?(n=0,r=!0):(t<0&&n>0||t>0&&n<e.length-t)&&(n+=t,r=!0),r)return e[n].querySelector("button").focus(),e[n]},r.prototype.openFocusedMenu=function(){var t=this.getFocusedMenu();t&&e.element(t).controller("mdMenu").open()},r.prototype.getMenus=function(){return this.$mdUtil.nodesToArray(this.$element[0].children).filter((function(t){return"MD-MENU"==t.nodeName}))},r.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]},r.prototype.getFocusedMenuIndex=function(){var t=this.$mdUtil.getClosest(this.$document[0].activeElement,"MD-MENU");return t?this.getMenus().indexOf(t):-1},r.prototype.getOpenMenuIndex=function(){for(var t=this.getMenus(),e=0;e<t.length;++e)if(t[e].classList.contains("md-open"))return e;return-1},r.prototype.handleParentClick=function(t){var n=this.querySelector("md-menu.md-open");n&&!n.contains(t.target)&&e.element(n).controller("mdMenu").close(!0,{closeAll:!0})}}(),function(){function t(t,n){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function(r,i){return i.ariaRole||r[0].setAttribute("role","menubar"),e.forEach(r[0].children,(function(n){if("MD-MENU"==n.nodeName){n.hasAttribute("md-position-mode")||(n.setAttribute("md-position-mode","left bottom"),n.querySelector("button, a, md-button").setAttribute("role","menuitem"));var r=t.nodesToArray(n.querySelectorAll("md-menu-content"));e.forEach(r,(function(t){t.classList.add("md-menu-bar-menu"),t.classList.add("md-dense"),t.hasAttribute("width")||t.setAttribute("width",5)}))}})),r.find("md-menu-item").addClass("md-in-menu-bar"),function(t,e,r,i){e.addClass("_md"),n(t,e),i.init()}}}}t.$inject=["$mdUtil","$mdTheming"],e.module("material.components.menuBar").directive("mdMenuBar",t)}(),e.module("material.components.menuBar").directive("mdMenuDivider",(function(){return{restrict:"E",compile:function(t,e){e.role||t[0].setAttribute("role","separator")}}})),function(){function t(t,e,n){this.$element=e,this.$attrs=n,this.$scope=t}t.$inject=["$scope","$element","$attrs"],e.module("material.components.menuBar").controller("MenuItemController",t),t.prototype.init=function(t){var e=this.$element,n=this.$attrs;this.ngModel=t,"checkbox"!=n.type&&"radio"!=n.type||(this.mode=n.type,this.iconEl=e[0].children[0],this.buttonEl=e[0].children[1],t&&this.initClickListeners())},t.prototype.clearNgAria=function(){var t=this.$element[0];e.forEach(["role","tabindex","aria-invalid","aria-checked"],(function(e){t.removeAttribute(e)}))},t.prototype.initClickListeners=function(){var t=this,n=this.ngModel,r=this.$scope,i=this.$attrs,o=this.mode;this.handleClick=e.bind(this,this.handleClick);var a=this.iconEl,s=e.element(this.buttonEl),c=this.handleClick;function u(t){t?s.off("click",c):s.on("click",c)}i.$observe("disabled",u),u(i.disabled),n.$render=function(){t.clearNgAria(),function(){if("radio"==o){var t=i.ngValue?r.$eval(i.ngValue):i.value;return n.$modelValue==t}return n.$modelValue}()?(a.style.display="",s.attr("aria-checked","true")):(a.style.display="none",s.attr("aria-checked","false"))},r.$$postDigest(n.$render)},t.prototype.handleClick=function(t){var e,n=this.mode,r=this.ngModel,i=this.$attrs;"checkbox"==n?e=!r.$modelValue:"radio"==n&&(e=i.ngValue?this.$scope.$eval(i.ngValue):i.value),r.$setViewValue(e),r.$render()}}(),function(){function t(t,n,r){return{controller:"MenuItemController",require:["mdMenuItem","?ngModel"],priority:n.BEFORE_NG_ARIA,compile:function(n,i){var o,a=i.type;if("checkbox"!==a&&"radio"!==a||!n.hasClass("md-in-menu-bar"))l("role","menuitem",n[0].querySelector("md-button, button, a"));else{var s=n[0].textContent,c=e.element('<md-button type="button"></md-button>'),u='<md-icon md-svg-src="'+r.mdChecked+'"></md-icon>';c.html(s),c.attr("tabindex","0"),e.isDefined(i.mdPreventMenuClose)&&c.attr("md-prevent-menu-close",i.mdPreventMenuClose),n.html(""),n.append(e.element(u)),n.append(c),n.addClass("md-indent").removeClass("md-in-menu-bar"),l("role","checkbox"===a?"menuitemcheckbox":"menuitemradio",c),o=t.prefixer("ng-disabled"),e.forEach(o,(function(t){if(n[0].hasAttribute(t)){var e=n[0].getAttribute(t);c[0].setAttribute(t,e),n[0].removeAttribute(t)}}))}return function(t,e,n,r){r[0].init(r[1])};function l(t,r,i){(i=i||n)instanceof e.element&&(i=i[0]),i.hasAttribute(t)||i.setAttribute(t,r)}}}}t.$inject=["$mdUtil","$mdConstant","$$mdSvgRegistry"],e.module("material.components.menuBar").directive("mdMenuItem",t)}(),function(){function t(t,n){return{restrict:"E",transclude:!0,controller:r,controllerAs:"ctrl",bindToController:!0,scope:{mdSelectedNavItem:"=?",mdNoInkBar:"=?",navBarAriaLabel:"@?"},template:'<div class="md-nav-bar"><nav role="navigation"><ul class="_md-nav-bar-list" ng-transclude role="tablist" ng-focus="ctrl.onFocus()" aria-label="{{ctrl.navBarAriaLabel}}"></ul></nav><md-nav-ink-bar ng-hide="ctrl.mdNoInkBar"></md-nav-ink-bar></div>',link:function(r,i,o,a){n(i),a.navBarAriaLabel||t.expectAsync(i,"aria-label",e.noop)}}}function r(t,e,n,r){this._$timeout=n,this._$scope=e,this._$mdConstant=r,this._navBarEl=t[0];var i=this,o=this._$scope.$watch((function(){return i._navBarEl.querySelectorAll("._md-nav-button").length}),(function(t){t>0&&(i._initTabs(),o())}))}function i(t,r,i,a){return{restrict:"E",require:["mdNavItem","^mdNavBar"],controller:o,bindToController:!0,controllerAs:"ctrl",replace:!0,transclude:!0,template:function(t,e){var r,i,o=e.mdNavClick,a=e.mdNavHref,s=e.mdNavSref,c=e.srefOpts;if((o?1:0)+(a?1:0)+(s?1:0)>1)throw Error("Please do not specify more than one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.");if(o!==n&&null!==o)r='ng-click="ctrl.mdNavClick()"';else if(a!==n&&null!==a)r='ng-href="{{ctrl.mdNavHref}}"';else{if(s===n||null===s)throw Error("Please specify at least one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.");r='ui-sref="{{ctrl.mdNavSref}}"'}return r&&(i='<md-button class="_md-nav-button md-accent" ng-class="ctrl.getNgClassMap()" ng-blur="ctrl.setFocused(false)" ng-disabled="ctrl.disabled" tabindex="-1" role="tab" ng-attr-aria-label="{{ctrl.navItemAriaLabel ? ctrl.navItemAriaLabel : undefined}}" aria-selected="{{ctrl.isSelected()}}" '+(c?'ui-sref-opts="{{ctrl.srefOpts}}" ':"")+r+'><span ng-transclude class="_md-nav-button-text"></span></md-button>'),'<li class="md-nav-item" role="presentation">'+(i||"")+"</li>"},scope:{mdNavClick:"&?",mdNavHref:"@?",mdNavSref:"@?",srefOpts:"=?",name:"@",navItemAriaLabel:"@?"},link:function(n,o,s,c){var u,l,d,f;r((function(){if(l=c[0],d=c[1],f=e.element(o[0].querySelector("._md-nav-button")),l.name||(l.name=e.element(o[0].querySelector("._md-nav-button-text")).text().trim()),f.on("keydown",(function(t){d.onKeydown(t)})),f.on("focus",(function(){d.getFocusedTab()||d.onFocus()})),f.on("click",(function(){d.mdSelectedNavItem=l.name,n.$apply()})),l.disabled=i.parseAttributeBoolean(s.disabled,!1),"MutationObserver"in a){var r=o[0],h=new MutationObserver((function(t){i.nextTick((function(){l.disabled=i.parseAttributeBoolean(s[t[0].attributeName],!1)}))}));h.observe(r,{attributes:!0,attributeFilter:["disabled"]}),u=h.disconnect.bind(h)}else s.$observe("disabled",(function(t){l.disabled=i.parseAttributeBoolean(t,!1)}));l.navItemAriaLabel||t.expectWithText(f,"aria-label")})),n.$on("destroy",(function(){f.off("keydown"),f.off("focus"),f.off("click"),u()}))}}}function o(t){this._$element=t,this._selected=!1,this._focused=!1}t.$inject=["$mdAria","$mdTheming"],r.$inject=["$element","$scope","$timeout","$mdConstant"],i.$inject=["$mdAria","$$rAF","$mdUtil","$window"],o.$inject=["$element"],e.module("material.components.navBar",["material.core"]).controller("MdNavBarController",r).directive("mdNavBar",t).controller("MdNavItemController",o).directive("mdNavItem",i),r.prototype._initTabs=function(){this._inkbar=e.element(this._navBarEl.querySelector("md-nav-ink-bar"));var t=this;this._$timeout((function(){t._updateTabs(t.mdSelectedNavItem,n)})),this._$scope.$watch("ctrl.mdSelectedNavItem",(function(e,n){t._$timeout((function(){t._updateTabs(e,n)}))}))},r.prototype._updateTabs=function(t,e){var n=this,r=this._getTabs(),i=t===e;if(r){var o=-1,a=-1,s=this._getTabByName(t),c=this._getTabByName(e);c&&(c.setSelected(!1),o=r.indexOf(c)),s&&(s.setSelected(!0),a=r.indexOf(s)),this._$timeout((function(){n._updateInkBarStyles(s,a,o),s&&c&&!i&&n._moveFocus(c,s)}))}},r.prototype._updateInkBarStyles=function(t,e,n){if(this._inkbar.toggleClass("_md-left",e<n).toggleClass("_md-right",e>n),this._inkbar.css({display:e<0?"none":""}),t){var r=t.getButtonEl();this._inkbar.css({left:r.offsetLeft+"px",width:r.offsetWidth+"px"})}},r.prototype._getTabs=function(){var t=Array.prototype.slice.call(this._navBarEl.querySelectorAll(".md-nav-item")).map((function(t){return e.element(t).controller("mdNavItem")}));return t.indexOf(n)?t:null},r.prototype._getTabByName=function(t){return this._findTab((function(e){return e.getName()===t}))},r.prototype._getSelectedTab=function(){return this._findTab((function(t){return t.isSelected()}))},r.prototype.getFocusedTab=function(){return this._findTab((function(t){return t.hasFocus()}))},r.prototype._findTab=function(t,e){var r=this._getTabs();e!==n&&null!==e||(e=0);for(var i=e;i<r.length;i++)if(t(r[i]))return r[i];return null},r.prototype._findTabReverse=function(t,e){var r=this._getTabs();e!==n&&null!==e||(e=r.length-1);for(var i=e;i>=0;i--)if(t(r[i]))return r[i];return null},r.prototype.onFocus=function(){var t=this._getSelectedTab();t&&t.setFocused(!0)},r.prototype._moveFocus=function(t,e){t.setFocused(!1),e.setFocused(!0)},r.prototype._focusFirstTab=function(){if(this._getTabs()){var t=this._findTab((function(t){return t._isEnabled()}));t&&this._moveFocus(this.getFocusedTab(),t)}},r.prototype._focusLastTab=function(){if(this._getTabs()){var t=this._findTabReverse((function(t){return t._isEnabled()}));t&&this._moveFocus(this.getFocusedTab(),t)}},r.prototype._focusNextTab=function(t){if(this._getTabs()){var e=this._findTab((function(t){return t._isEnabled()}),t+1);e?this._moveFocus(this.getFocusedTab(),e):this._focusFirstTab()}},r.prototype._focusPreviousTab=function(t){if(this._getTabs()){var e=this._findTabReverse((function(t){return t._isEnabled()}),t-1);e?this._moveFocus(this.getFocusedTab(),e):this._focusLastTab()}},r.prototype.onKeydown=function(t){var e=this._$mdConstant.KEY_CODE,n=this._getTabs(),r=this.getFocusedTab();if(r&&n){var i=n.indexOf(r);switch(t.keyCode){case e.UP_ARROW:case e.LEFT_ARROW:t.preventDefault(),this._focusPreviousTab(i);break;case e.DOWN_ARROW:case e.RIGHT_ARROW:t.preventDefault(),this._focusNextTab(i);break;case e.SPACE:case e.ENTER:this._$timeout((function(){r.getButtonEl().click()}));break;case e.HOME:t.preventDefault(),this._focusFirstTab();break;case e.END:t.preventDefault(),this._focusLastTab()}}},o.prototype.getNgClassMap=function(){return{"md-active":this._selected,"md-primary":this._selected,"md-unselected":!this._selected,"md-focused":this._focused}},o.prototype.getName=function(){return this.name},o.prototype.getButtonEl=function(){return this._$element[0].querySelector("._md-nav-button")},o.prototype.setSelected=function(t){this._selected=t,t?this.getButtonEl().setAttribute("tabindex","0"):this.getButtonEl().setAttribute("tabindex","-1")},o.prototype.isSelected=function(){return this._selected},o.prototype.setFocused=function(t){this._focused=t,t&&this.getButtonEl().focus()},o.prototype.hasFocus=function(){return this._focused},o.prototype._isEnabled=function(){return!this._$element.attr("disabled")}}(),function(){c.$inject=["presets","$rootElement","$rootScope","$injector","$window"],e.module("material.components.panel",["material.core","material.components.backdrop"]).provider("$mdPanel",(function(){return{definePreset:o,getAllPresets:a,clearPresets:s,$get:["$rootElement","$rootScope","$injector","$window",function(t,e,n,r){return new c(i,t,e,n,r)}]}}));var t=80,r=e.element('<div class="_md-panel-focus-trap" tabindex="0"></div>'),i={};function o(t,e){if(!t||!e)throw new Error("mdPanelProvider: The panel preset definition is malformed. The name and preset object are required.");if(i.hasOwnProperty(t))throw new Error("mdPanelProvider: The panel preset you have requested has already been defined.");delete e.id,delete e.position,delete e.animation,i[t]=e}function a(){return e.copy(i)}function s(){i={}}function c(n,r,i,o,a){this._defaultConfigOptions={bindToController:!0,clickOutsideToClose:!1,disableParentScroll:!1,escapeToClose:!1,focusOnOpen:!0,fullscreen:!1,hasBackdrop:!1,propagateContainerEvents:!1,transformTemplate:e.bind(this,this._wrapTemplate),trapFocus:!1,zIndex:t},this._config={},this._presets=n,this._$rootElement=r,this._$rootScope=i,this._$injector=o,this._$window=a,this._$mdUtil=this._$injector.get("$mdUtil"),this._trackedPanels={},this._groups=Object.create(null),this.animation=d.animation,this.xPosition=l.xPosition,this.yPosition=l.yPosition,this.interceptorTypes=u.interceptorTypes,this.closeReasons=u.closeReasons,this.absPosition=l.absPosition}function u(t,e){this._$q=e.get("$q"),this._$mdCompiler=e.get("$mdCompiler"),this._$mdConstant=e.get("$mdConstant"),this._$mdUtil=e.get("$mdUtil"),this._$mdTheming=e.get("$mdTheming"),this._$rootScope=e.get("$rootScope"),this._$animate=e.get("$animate"),this._$mdPanel=e.get("$mdPanel"),this._$log=e.get("$log"),this._$window=e.get("$window"),this._$$rAF=e.get("$$rAF"),this.id=t.id,this.config=t,this.isAttached=!1,this._removeListeners=[],this._restoreScroll=null,this._interceptors=Object.create(null),this._compilerCleanup=null,this._restoreCache={styles:"",classes:""}}function l(t){this._$window=t.get("$window"),this._isRTL=t.get("$mdUtil").isRtl(),this._$mdConstant=t.get("$mdConstant"),this._absolute=!1,this._top="",this._bottom="",this._left="",this._right="",this._translateX=[],this._translateY=[],this._positions=[]}function d(t){this._$mdUtil=t.get("$mdUtil"),this._animationClass=""}function f(t){var n=e.isString(t)?document.querySelector(t):t;return e.element(n)}function h(t){return e.isNumber(t)?t+"px":t}c.prototype.create=function(t,n){if("string"==typeof t?t=this._getPresetByName(t):"object"!=typeof t||!e.isUndefined(n)&&n||(n=t,t={}),t=t||{},e.isDefined((n=n||{}).id)&&this._trackedPanels[n.id]){var r=this._trackedPanels[n.id];return e.extend(r.config,n),r}this._config=e.extend({id:n.id||"panel_"+this._$mdUtil.nextUid(),scope:this._$rootScope.$new(!0),attachTo:this._$rootElement},this._defaultConfigOptions,n,t);var i=new u(this._config,this._$injector);return this._trackedPanels[this._config.id]=i,this._config.groupName&&(e.isString(this._config.groupName)&&(this._config.groupName=[this._config.groupName]),e.forEach(this._config.groupName,(function(t){i.addToGroup(t)}))),this._config.scope.$on("$destroy",e.bind(i,i.detach)),i},c.prototype.open=function(t,e){var n=this.create(t,e);return n.open().then((function(){return n}))},c.prototype._getPresetByName=function(t){if(!this._presets[t])throw new Error("mdPanel: The panel preset configuration that you requested does not exist. Use the $mdPanelProvider to create a preset before requesting one.");return this._presets[t]},c.prototype.newPanelPosition=function(){return new l(this._$injector)},c.prototype.newPanelAnimation=function(){return new d(this._$injector)},c.prototype.newPanelGroup=function(t,e){return this._groups[t]||(this._groups[t]={panels:[],openPanels:[],maxOpen:(e=e||{}).maxOpen>0?e.maxOpen:1/0}),this._groups[t]},c.prototype.setGroupMaxOpen=function(t,e){if(!this._groups[t])throw new Error("mdPanel: Group does not exist yet. Call newPanelGroup().");this._groups[t].maxOpen=e},c.prototype._openCountExceedsMaxOpen=function(t){if(this._groups[t]){var e=this._groups[t];return e.maxOpen>0&&e.openPanels.length>e.maxOpen}return!1},c.prototype._closeFirstOpenedPanel=function(t){this._groups[t].openPanels[0].close()},c.prototype._wrapTemplate=function(t){return'<div class="md-panel-outer-wrapper">  <div class="md-panel _md-panel-offscreen">'+(t||"")+"</div></div>"},c.prototype._wrapContentElement=function(t){var n=e.element('<div class="md-panel-outer-wrapper">');return t.addClass("md-panel _md-panel-offscreen"),n.append(t),n},u.interceptorTypes={CLOSE:"onClose"},u.prototype.open=function(){var t=this;return this._$q((function(n,r){var i=t._done(n,t),o=t._simpleBind(t.show,t);t.attach().then(o).then((function(){t.config.groupName&&e.forEach(t.config.groupName,(function(e){t._$mdPanel._openCountExceedsMaxOpen(e)&&t._$mdPanel._closeFirstOpenedPanel(e)}))})).then(i).catch(r)}))},u.prototype.close=function(t){var n=this;return this._$q((function(r,i){n._callInterceptors(u.interceptorTypes.CLOSE).then((function(){var o=n._done(r,n),a=n._simpleBind(n.detach,n),s=n.config.onCloseSuccess||e.noop;s=e.bind(n,s,n,t),n.hide().then(a).then(o).then(s).catch(i)}),i)}))},u.prototype.attach=function(){if(this.isAttached&&this.panelEl)return this._$q.when(this);var t=this;return this._$q((function(n,r){var i=t._done(n,t),o=t.config.onDomAdded||e.noop;t._$q.all([t._createBackdrop(),t._createPanel().then((function(e){return t.isAttached=!0,t._addEventListeners(),e})).catch(r)]).then(o).then(i).catch(r)}))},u.prototype.detach=function(){if(!this.isAttached)return this._$q.when(this);var t=this,n=t.config.onDomRemoved||e.noop;return this._restoreScroll&&(this._restoreScroll(),this._restoreScroll=null),this._$q((function(e,r){var i=t._done(e,t);t._$q.all([(t._removeEventListeners(),t._topFocusTrap&&t._topFocusTrap.parentNode&&t._topFocusTrap.parentNode.removeChild(t._topFocusTrap),t._bottomFocusTrap&&t._bottomFocusTrap.parentNode&&t._bottomFocusTrap.parentNode.removeChild(t._bottomFocusTrap),t._restoreCache.classes&&(t.panelEl[0].className=t._restoreCache.classes),t.panelEl[0].style.cssText=t._restoreCache.styles||"",t._compilerCleanup(),t.panelContainer.remove(),t.isAttached=!1,t._$q.when(t)),!t._backdropRef||t._backdropRef.detach()]).then(n).then(i).catch(r)}))},u.prototype.destroy=function(){var t=this;this.config.groupName&&e.forEach(this.config.groupName,(function(e){t.removeFromGroup(e)})),this.config.scope.$destroy(),this.config.locals=null,this.config.onDomAdded=null,this.config.onDomRemoved=null,this.config.onRemoving=null,this.config.onOpenComplete=null,this._interceptors=null},u.prototype.show=function(){if(!this.panelContainer)return this._$q((function(t,e){e("mdPanel: Panel does not exist yet. Call open() or attach().")}));if(!this.panelContainer.hasClass("_md-panel-hidden"))return this._$q.when(this);var t=this;return this._$q((function(n,r){var i=t._done(n,t),o=t.config.onOpenComplete||e.noop;t._$q.all([t._backdropRef?t._backdropRef.show():t,(t.panelContainer.removeClass("_md-panel-hidden"),t._animateOpen()).then((function(){t._focusOnOpen()}),r)]).then(o).then((function(){t.config.groupName&&e.forEach(t.config.groupName,(function(e){t._$mdPanel._groups[e].openPanels.push(t)}))})).then(i).catch(r)}))},u.prototype.hide=function(){if(!this.panelContainer)return this._$q((function(t,e){e("mdPanel: Panel does not exist yet. Call open() or attach().")}));if(this.panelContainer.hasClass("_md-panel-hidden"))return this._$q.when(this);var t=this;return this._$q((function(n,r){var i=t._done(n,t),o=t.config.onRemoving||e.noop;t._$q.all([t._backdropRef?t._backdropRef.hide():t,t._animateClose().then(o).then((function(){t.panelContainer.addClass("_md-panel-hidden")})).then((function(){var n;t.config.groupName&&e.forEach(t.config.groupName,(function(e){(n=(e=t._$mdPanel._groups[e]).openPanels.indexOf(t))>-1&&e.openPanels.splice(n,1)}))})).then((function(){var e=t.config.origin;e&&f(e).focus()})).catch(r)]).then(i,r)}))},u.prototype.addClass=function(t,e){if(this._$log.warn("mdPanel: The addClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");e||this.panelContainer.hasClass(t)?e&&!this.panelEl.hasClass(t)&&this.panelEl.addClass(t):this.panelContainer.addClass(t)},u.prototype.removeClass=function(t,e){if(this._$log.warn("mdPanel: The removeClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");!e&&this.panelContainer.hasClass(t)?this.panelContainer.removeClass(t):e&&this.panelEl.hasClass(t)&&this.panelEl.removeClass(t)},u.prototype.toggleClass=function(t,e){if(this._$log.warn("mdPanel: The toggleClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");e?this.panelEl.toggleClass(t):this.panelContainer.toggleClass(t)},u.prototype._compile=function(){var t=this;return t._$mdCompiler.compile(t.config).then((function(n){var r=t.config;if(r.contentElement){var i=n.element;t._restoreCache.styles=i[0].style.cssText,t._restoreCache.classes=i[0].className,t.panelContainer=t._$mdPanel._wrapContentElement(i),t.panelEl=i}else t.panelContainer=n.link(r.scope),t.panelEl=e.element(t.panelContainer[0].querySelector(".md-panel"));return t._compilerCleanup=n.cleanup,f(t.config.attachTo).append(t.panelContainer),t}))},u.prototype._createPanel=function(){var t=this;return this._$q((function(e,n){t.config.locals||(t.config.locals={}),t.config.locals.mdPanelRef=t,t._compile().then((function(){t.config.disableParentScroll&&(t._restoreScroll=t._$mdUtil.disableScrollAround(null,t.panelContainer,{disableScrollMask:!0})),t.config.panelClass&&t.panelEl.addClass(t.config.panelClass),t.config.propagateContainerEvents&&(t.panelContainer.css("pointer-events","none"),t.panelEl.css("pointer-events","all")),t._$animate.pin&&t._$animate.pin(t.panelContainer,f(t.config.attachTo)),t._configureTrapFocus(),t._addStyles().then((function(){e(t)}),n)}),n)}))},u.prototype._addStyles=function(){var t=this;return this._$q((function(e){t.panelContainer.css("z-index",t.config.zIndex),t.panelEl.css("z-index",t.config.zIndex+1);var n=function(){t._setTheming(),t.panelEl.removeClass("_md-panel-offscreen"),t.panelContainer.addClass("_md-panel-hidden"),e(t)};if(t.config.fullscreen)return t.panelEl.addClass("_md-panel-fullscreen"),void n();t.config.position?t._$rootScope.$$postDigest((function(){t._updatePosition(!0),t._setTheming(),e(t)})):n()}))},u.prototype._setTheming=function(){this._$mdTheming(this.panelEl),this._$mdTheming(this.panelContainer)},u.prototype.updatePosition=function(t){if(!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");this.config.position=t,this._updatePosition()},u.prototype._updatePosition=function(t){var e=this.config.position;e&&(e._setPanelPosition(this.panelEl),t&&(this.panelEl.removeClass("_md-panel-offscreen"),this.panelContainer.addClass("_md-panel-hidden")),this.panelEl.css(l.absPosition.TOP,e.getTop()),this.panelEl.css(l.absPosition.BOTTOM,e.getBottom()),this.panelEl.css(l.absPosition.LEFT,e.getLeft()),this.panelEl.css(l.absPosition.RIGHT,e.getRight()))},u.prototype._focusOnOpen=function(){if(this.config.focusOnOpen){var t=this;this._$rootScope.$$postDigest((function(){(t._$mdUtil.findFocusTarget(t.panelEl)||t.panelEl).focus()}))}},u.prototype._createBackdrop=function(){if(this.config.hasBackdrop){if(!this._backdropRef){var t=this._$mdPanel.newPanelAnimation().openFrom(this.config.attachTo).withAnimation({open:"_md-opaque-enter",close:"_md-opaque-leave"});this.config.animation&&t.duration(this.config.animation._rawDuration),this._backdropRef=this._$mdPanel.create({animation:t,attachTo:this.config.attachTo,focusOnOpen:!1,panelClass:"_md-panel-backdrop",zIndex:this.config.zIndex-1})}if(!this._backdropRef.isAttached)return this._backdropRef.attach()}},u.prototype._addEventListeners=function(){this._configureEscapeToClose(),this._configureClickOutsideToClose(),this._configureScrollListener()},u.prototype._removeEventListeners=function(){this._removeListeners&&this._removeListeners.forEach((function(t){t()})),this._removeListeners=[]},u.prototype._configureEscapeToClose=function(){if(this.config.escapeToClose){var t=f(this.config.attachTo),e=this,n=function(t){t.keyCode===e._$mdConstant.KEY_CODE.ESCAPE&&(t.stopPropagation(),t.preventDefault(),e.close(u.closeReasons.ESCAPE))};this.panelContainer.on("keydown",n),t.on("keydown",n),this._removeListeners.push((function(){e.panelContainer.off("keydown",n),t.off("keydown",n)}))}},u.prototype._configureClickOutsideToClose=function(){if(this.config.clickOutsideToClose){var t,n=this.config.propagateContainerEvents?e.element(document.body):this.panelContainer,r=function(e){t=e.target},i=this,o=function(e){i.config.propagateContainerEvents?t===i.panelEl[0]||i.panelEl[0].contains(t)||i.close():t===n[0]&&e.target===n[0]&&(e.stopPropagation(),e.preventDefault(),i.close(u.closeReasons.CLICK_OUTSIDE))};n.on("mousedown",r),n.on("mouseup",o),this._removeListeners.push((function(){n.off("mousedown",r),n.off("mouseup",o)}))}},u.prototype._configureScrollListener=function(){if(!this.config.disableParentScroll){var t=e.bind(this,this._updatePosition),n=this._$$rAF.throttle(t),r=this,i=function(){n()};this._$window.addEventListener("scroll",i,!0),this._removeListeners.push((function(){r._$window.removeEventListener("scroll",i,!0)}))}},u.prototype._configureTrapFocus=function(){if(this.panelEl.attr("tabIndex","-1"),this.config.trapFocus){var t=this.panelEl;this._topFocusTrap=r.clone()[0],this._bottomFocusTrap=r.clone()[0];var e=function(){t.focus()};this._topFocusTrap.addEventListener("focus",e),this._bottomFocusTrap.addEventListener("focus",e),this._removeListeners.push(this._simpleBind((function(){this._topFocusTrap.removeEventListener("focus",e),this._bottomFocusTrap.removeEventListener("focus",e)}),this)),t[0].parentNode.insertBefore(this._topFocusTrap,t[0]),t.after(this._bottomFocusTrap)}},u.prototype.updateAnimation=function(t){this.config.animation=t,this._backdropRef&&this._backdropRef.config.animation.duration(t._rawDuration)},u.prototype._animateOpen=function(){this.panelContainer.addClass("md-panel-is-showing");var t=this.config.animation;if(!t)return this.panelContainer.addClass("_md-panel-shown"),this._$q.when(this);var e=this;return this._$q((function(n){var r=e._done(n,e);t.animateOpen(e.panelEl).then(r,(function(){e._$log.warn("mdPanel: MdPanel Animations failed. Showing panel without animating."),r()}))}))},u.prototype._animateClose=function(){var t=this.config.animation;if(!t)return this.panelContainer.removeClass("md-panel-is-showing"),this.panelContainer.removeClass("_md-panel-shown"),this._$q.when(this);var e=this;return this._$q((function(n){var r=function(){e.panelContainer.removeClass("md-panel-is-showing"),n(e)};t.animateClose(e.panelEl).then(r,(function(){e._$log.warn("mdPanel: MdPanel Animations failed. Hiding panel without animating."),r()}))}))},u.prototype.registerInterceptor=function(t,n){var r=null;if(e.isString(t)?e.isFunction(n)||(r="Interceptor callback must be a function, instead got "+typeof n):r="Interceptor type must be a string, instead got "+typeof t,r)throw new Error("MdPanel: "+r);var i=this._interceptors[t]=this._interceptors[t]||[];return-1===i.indexOf(n)&&i.push(n),this},u.prototype.removeInterceptor=function(t,e){var n=this._interceptors[t]?this._interceptors[t].indexOf(e):-1;return n>-1&&this._interceptors[t].splice(n,1),this},u.prototype.removeAllInterceptors=function(t){return t?this._interceptors[t]=[]:this._interceptors=Object.create(null),this},u.prototype._callInterceptors=function(t){var n=this,r=n._$q;return(n._interceptors&&n._interceptors[t]||[]).reduceRight((function(t,i){var o=i&&e.isFunction(i.then)?i:null;return t.then((function(){if(!o)try{o=i(n)}catch(t){o=r.reject(t)}return o}))}),r.resolve(n))},u.prototype._simpleBind=function(t,e){return function(n){return t.apply(e,n)}},u.prototype._done=function(t,e){return function(){t(e)}},u.prototype.addToGroup=function(t){this._$mdPanel._groups[t]||this._$mdPanel.newPanelGroup(t);var e=this._$mdPanel._groups[t];e.panels.indexOf(this)<0&&e.panels.push(this)},u.prototype.removeFromGroup=function(t){if(!this._$mdPanel._groups[t])throw new Error("mdPanel: The group "+t+" does not exist.");var e=this._$mdPanel._groups[t],n=e.panels.indexOf(this);n>-1&&e.panels.splice(n,1)},u.closeReasons={CLICK_OUTSIDE:"clickOutsideToClose",ESCAPE:"escapeToClose"},l.xPosition={CENTER:"center",ALIGN_START:"align-start",ALIGN_END:"align-end",OFFSET_START:"offset-start",OFFSET_END:"offset-end"},l.yPosition={CENTER:"center",ALIGN_TOPS:"align-tops",ALIGN_BOTTOMS:"align-bottoms",ABOVE:"above",BELOW:"below"},l.absPosition={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},l.viewportMargin=8,l.prototype.absolute=function(){return this._absolute=!0,this},l.prototype._setPosition=function(t,n){if(t===l.absPosition.RIGHT||t===l.absPosition.LEFT)this._left=this._right="";else{if(t!==l.absPosition.BOTTOM&&t!==l.absPosition.TOP){var r=Object.keys(l.absPosition).join().toLowerCase();throw new Error("mdPanel: Position must be one of "+r+".")}this._top=this._bottom=""}return this["_"+t]=e.isString(n)?n:"0",this},l.prototype.top=function(t){return this._setPosition(l.absPosition.TOP,t)},l.prototype.bottom=function(t){return this._setPosition(l.absPosition.BOTTOM,t)},l.prototype.start=function(t){return this._setPosition(this._isRTL?l.absPosition.RIGHT:l.absPosition.LEFT,t)},l.prototype.end=function(t){return this._setPosition(this._isRTL?l.absPosition.LEFT:l.absPosition.RIGHT,t)},l.prototype.left=function(t){return this._setPosition(l.absPosition.LEFT,t)},l.prototype.right=function(t){return this._setPosition(l.absPosition.RIGHT,t)},l.prototype.centerHorizontally=function(){return this._left="50%",this._right="",this._translateX=["-50%"],this},l.prototype.centerVertically=function(){return this._top="50%",this._bottom="",this._translateY=["-50%"],this},l.prototype.center=function(){return this.centerHorizontally().centerVertically()},l.prototype.relativeTo=function(t){return this._absolute=!1,this._relativeToEl=f(t),this},l.prototype.addPanelPosition=function(t,e){if(!this._relativeToEl)throw new Error("mdPanel: addPanelPosition can only be used with relative positioning. Set relativeTo first.");return this._validateXPosition(t),this._validateYPosition(e),this._positions.push({x:t,y:e}),this},l.prototype._validateYPosition=function(t){if(null!=t){for(var e,n=Object.keys(l.yPosition),r=[],i=0;e=n[i];i++){var o=l.yPosition[e];if(r.push(o),o===t)return}throw new Error("mdPanel: Panel y position only accepts the following values:\n"+r.join(" | "))}},l.prototype._validateXPosition=function(t){if(null!=t){for(var e,n=Object.keys(l.xPosition),r=[],i=0;e=n[i];i++){var o=l.xPosition[e];if(r.push(o),o===t)return}throw new Error("mdPanel: Panel x Position only accepts the following values:\n"+r.join(" | "))}},l.prototype.withOffsetX=function(t){return this._translateX.push(h(t)),this},l.prototype.withOffsetY=function(t){return this._translateY.push(h(t)),this},l.prototype.getTop=function(){return this._top},l.prototype.getBottom=function(){return this._bottom},l.prototype.getLeft=function(){return this._left},l.prototype.getRight=function(){return this._right},l.prototype.getTransform=function(){return(this._reduceTranslateValues("translateX",this._translateX)+" "+this._reduceTranslateValues("translateY",this._translateY)).trim()},l.prototype._setTransform=function(t){return t.css(this._$mdConstant.CSS.TRANSFORM,this.getTransform())},l.prototype._isOnscreen=function(t){var e=parseInt(this.getLeft()),n=parseInt(this.getTop());if(this._translateX.length||this._translateY.length){var r=function(t,e){var n=getComputedStyle(t[0]||t)[e],r=n.indexOf("("),i=n.lastIndexOf(")"),o={x:0,y:0};if(r>-1&&i>-1){var a=n.substring(r+1,i).split(", ").slice(-2);o.x=parseInt(a[0]),o.y=parseInt(a[1])}return o}(t,this._$mdConstant.CSS.TRANSFORM);e+=r.x,n+=r.y}return e>=0&&n>=0&&n+t[0].offsetHeight<=this._$window.innerHeight&&e+t[0].offsetWidth<=this._$window.innerWidth},l.prototype.getActualPosition=function(){return this._actualPosition},l.prototype._reduceTranslateValues=function(t,n){return n.map((function(n){var r=e.isFunction(n)?h(n(this)):n;return t+"("+r+")"}),this).join(" ")},l.prototype._setPanelPosition=function(t){if(t.removeClass("_md-panel-position-adjusted"),this._absolute)this._setTransform(t);else{if(this._actualPosition)return this._calculatePanelPosition(t,this._actualPosition),this._setTransform(t),void this._constrainToViewport(t);for(var e=0;e<this._positions.length;e++)if(this._actualPosition=this._positions[e],this._calculatePanelPosition(t,this._actualPosition),this._setTransform(t),this._isOnscreen(t))return;this._constrainToViewport(t)}},l.prototype._constrainToViewport=function(t){var e=l.viewportMargin,n=this._top,r=this._left;if(this.getTop()){var i=parseInt(this.getTop()),o=t[0].offsetHeight+i,a=this._$window.innerHeight;i<e?this._top=e+"px":o>a&&(this._top=i-(o-a+e)+"px")}if(this.getLeft()){var s=parseInt(this.getLeft()),c=t[0].offsetWidth+s,u=this._$window.innerWidth;s<e?this._left=e+"px":c>u&&(this._left=s-(c-u+e)+"px")}t.toggleClass("_md-panel-position-adjusted",this._top!==n||this._left!==r)},l.prototype._reverseXPosition=function(t){return t===l.xPosition.CENTER?t:t.indexOf("start")>-1?t.replace("start","end"):t.replace("end","start")},l.prototype._bidi=function(t){return this._isRTL?this._reverseXPosition(t):t},l.prototype._calculatePanelPosition=function(t,e){var n=t[0].getBoundingClientRect(),r=Math.max(n.width,t[0].clientWidth),i=Math.max(n.height,t[0].clientHeight),o=this._relativeToEl[0].getBoundingClientRect(),a=o.left,s=o.right,c=o.width;switch(this._bidi(e.x)){case l.xPosition.OFFSET_START:this._left=a-r+"px";break;case l.xPosition.ALIGN_END:this._left=s-r+"px";break;case l.xPosition.CENTER:this._left=a+.5*c-.5*r+"px";break;case l.xPosition.ALIGN_START:this._left=a+"px";break;case l.xPosition.OFFSET_END:this._left=s+"px"}var u=o.top,d=o.bottom,f=o.height;switch(e.y){case l.yPosition.ABOVE:this._top=u-i+"px";break;case l.yPosition.ALIGN_BOTTOMS:this._top=d-i+"px";break;case l.yPosition.CENTER:this._top=u+.5*f-.5*i+"px";break;case l.yPosition.ALIGN_TOPS:this._top=u+"px";break;case l.yPosition.BELOW:this._top=d+"px"}},d.animation={SLIDE:"md-panel-animate-slide",SCALE:"md-panel-animate-scale",FADE:"md-panel-animate-fade"},d.prototype.openFrom=function(t){return this._openFrom=this._getPanelAnimationTarget(t=t.target?t.target:t),this._closeTo||(this._closeTo=this._openFrom),this},d.prototype.closeTo=function(t){return this._closeTo=this._getPanelAnimationTarget(t),this},d.prototype.duration=function(t){return t&&(e.isNumber(t)?this._openDuration=this._closeDuration=n(t):e.isObject(t)&&(this._openDuration=n(t.open),this._closeDuration=n(t.close))),this._rawDuration=t,this;function n(t){if(e.isNumber(t))return t/1e3}},d.prototype._getPanelAnimationTarget=function(t){return e.isDefined(t.top)||e.isDefined(t.left)?{element:n,bounds:{top:t.top||0,left:t.left||0}}:this._getBoundingClientRect(f(t))},d.prototype.withAnimation=function(t){return this._animationClass=t,this},d.prototype.animateOpen=function(t){var n=this._$mdUtil.dom.animator;this._fixBounds(t);var r={},i=t[0].style.transform||"",o=n.toTransformCss(i),a=n.toTransformCss(i);switch(this._animationClass){case d.animation.SLIDE:t.css("opacity","1"),r={transitionInClass:"_md-panel-animate-enter"};var s=n.calculateSlideToOrigin(t,this._openFrom)||"";o=n.toTransformCss(s+" "+i);break;case d.animation.SCALE:r={transitionInClass:"_md-panel-animate-enter"};var c=n.calculateZoomToOrigin(t,this._openFrom)||"";o=n.toTransformCss(i+" "+c);break;case d.animation.FADE:r={transitionInClass:"_md-panel-animate-enter"};break;default:r=e.isString(this._animationClass)?{transitionInClass:this._animationClass}:{transitionInClass:this._animationClass.open,transitionOutClass:this._animationClass.close}}return r.duration=this._openDuration,n.translate3d(t,o,a,r)},d.prototype.animateClose=function(t){var n=this._$mdUtil.dom.animator,r={},i=t[0].style.transform||"",o=n.toTransformCss(i),a=n.toTransformCss(i);switch(this._animationClass){case d.animation.SLIDE:t.css("opacity","1"),r={transitionInClass:"_md-panel-animate-leave"};var s=n.calculateSlideToOrigin(t,this._closeTo)||"";a=n.toTransformCss(s+" "+i);break;case d.animation.SCALE:r={transitionInClass:"_md-panel-animate-scale-out _md-panel-animate-leave"};var c=n.calculateZoomToOrigin(t,this._closeTo)||"";a=n.toTransformCss(i+" "+c);break;case d.animation.FADE:r={transitionInClass:"_md-panel-animate-fade-out _md-panel-animate-leave"};break;default:r=e.isString(this._animationClass)?{transitionOutClass:this._animationClass}:{transitionInClass:this._animationClass.close,transitionOutClass:this._animationClass.open}}return r.duration=this._closeDuration,n.translate3d(t,o,a,r)},d.prototype._fixBounds=function(t){var e=t[0].offsetWidth,n=t[0].offsetHeight;this._openFrom&&null==this._openFrom.bounds.height&&(this._openFrom.bounds.height=n),this._openFrom&&null==this._openFrom.bounds.width&&(this._openFrom.bounds.width=e),this._closeTo&&null==this._closeTo.bounds.height&&(this._closeTo.bounds.height=n),this._closeTo&&null==this._closeTo.bounds.width&&(this._closeTo.bounds.width=e)},d.prototype._getBoundingClientRect=function(t){if(t instanceof e.element)return{element:t,bounds:t[0].getBoundingClientRect()}}}(),e.module("material.components.progressCircular",["material.core"]),function(){function t(t,n,r,i,o,a){var s=t.requestAnimationFrame||t.webkitRequestAnimationFrame||e.noop,c=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame||e.noop,u="determinate",l="indeterminate",d="_md-progress-circular-disabled",f="md-mode-indeterminate";return{restrict:"E",scope:{value:"@",mdDiameter:"@",mdMode:"@"},template:'<svg xmlns="http://www.w3.org/2000/svg"><path fill="none"/></svg>',compile:function(t,n){if(t.attr({"aria-valuemin":0,"aria-valuemax":100,role:"progressbar"}),e.isUndefined(n.mdMode)){var r=n.hasOwnProperty("value")?u:l;n.$set("mdMode",r)}else n.$set("mdMode",n.mdMode.trim());return h}};function h(a,h,b){var _,w,S=h[0],E=e.element(S.querySelector("svg")),x=e.element(S.querySelector("path")),C=n.startIndeterminate,k=n.endIndeterminate,T=0,P=0;function I(e,r,o,c,u,l){var d=++P,f=i.now(),h=r-e,p=v(a.mdDiameter),g=y(p),b=o||n.easeFn,w=c||n.duration,S=-90*(u||0),E=l||100;function C(t){x.attr("stroke-dashoffset",m(p,g,t,E)),x.attr("transform","rotate("+S+" "+p/2+" "+p/2+")")}r===e?C(r):_=s((function n(){var r=t.Math.max(0,t.Math.min(i.now()-f,w));C(b(r,e,h,w)),d===P&&r<w&&(_=s(n))}))}function A(){I(C,k,n.easeFnIndeterminate,n.durationIndeterminate,T,75),T=++T%4}function O(){w||(w=o(A,n.durationIndeterminate,0,!1),A(),h.addClass(f).removeAttr("aria-valuenow"))}function $(){w&&(o.cancel(w),w=null,h.removeClass(f))}r(h),h.toggleClass(d,b.hasOwnProperty("disabled")),a.mdMode===l&&O(),a.$on("$destroy",(function(){$(),_&&c(_)})),a.$watchGroup(["value","mdMode",function(){var t=S.disabled;return!0===t||!1===t?t:e.isDefined(h.attr("disabled"))}],(function(e,n){var r=e[1],i=e[2],o=0,s=0;if(i!==n[2]&&h.toggleClass(d,!!i),i)$();else if(r!==u&&r!==l&&b.$set("mdMode",r=l),r===l)n[1]===u&&(s=y(o=v(a.mdDiameter)),x.attr("d",p(o,s,!0)),x.attr("stroke-dasharray",(o-s)*t.Math.PI*.75)),O();else{var c=g(e[0]),f=g(n[0]);$(),n[1]===l&&(s=y(o=v(a.mdDiameter)),x.attr("d",p(o,s,!1)),x.attr("stroke-dasharray",(o-s)*t.Math.PI)),h.attr("aria-valuenow",c),I(f,c)}})),a.$watch("mdDiameter",(function(e){var n=v(e),r=y(n),i=g(a.value),o=n/2+"px",s={width:n+"px",height:n+"px"};E[0].setAttribute("viewBox","0 0 "+n+" "+n),E.css(s).css("transform-origin",o+" "+o+" "+o),h.css(s),x.attr("stroke-width",r),x.attr("stroke-linecap","square"),a.mdMode==l?(x.attr("d",p(n,r,!0)),x.attr("stroke-dasharray",(n-r)*t.Math.PI*.75),x.attr("stroke-dashoffset",m(n,r,1,75))):(x.attr("d",p(n,r,!1)),x.attr("stroke-dasharray",(n-r)*t.Math.PI),x.attr("stroke-dashoffset",m(n,r,0,100)),I(i,i))}))}function p(t,e,n){var r=t/2,i=e/2,o=r+","+i,a=r-i;return"M"+o+"A"+a+","+a+" 0 1 1 "+i+","+r+(n?"":"A"+a+","+a+" 0 0 1 "+o)}function m(e,n,r,i){return(e-n)*t.Math.PI*(3*(i||100)/100-r/100)}function g(e){return t.Math.max(0,t.Math.min(e||0,100))}function v(t){var e=n.progressSize;if(t){var r=parseFloat(t);return t.lastIndexOf("%")===t.length-1&&(r=r/100*e),r}return e}function y(t){return n.strokeWidth/100*t}}t.$inject=["$window","$mdProgressCircular","$mdTheming","$mdUtil","$interval","$log"],e.module("material.components.progressCircular").directive("mdProgressCircular",t)}(),e.module("material.components.progressCircular").provider("$mdProgressCircular",(function(){var t={progressSize:50,strokeWidth:10,duration:100,easeFn:n,durationIndeterminate:1333,startIndeterminate:1,endIndeterminate:149,easeFnIndeterminate:r,easingPresets:{linearEase:n,materialEase:r}};return{configure:function(n){return t=e.extend(t,n||{})},$get:function(){return t}};function n(t,e,n,r){return n*t/r+e}function r(t,e,n,r){var i=(t/=r)*t,o=i*t;return e+n*(6*o*i+-15*i*i+10*o)}})),function(){function t(t,n,r){var i="determinate",o="indeterminate",a="buffer",s="query",c="_md-progress-linear-disabled";return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:function(t,e,n){return t.attr("aria-valuemin",0),t.attr("aria-valuemax",100),t.attr("role","progressbar"),u}};function u(r,u,d){var f;t(u);var h=d.hasOwnProperty("disabled"),p=n.dom.animator.toCss,m=e.element(u[0].querySelector(".md-bar1")),g=e.element(u[0].querySelector(".md-bar2")),v=e.element(u[0].querySelector(".md-container"));function y(){var t=(d.mdMode||"").trim();if(t)switch(t){case i:case o:case a:case s:break;default:t=o}return t}function b(t,r){if(!h&&y()){var i=n.supplant("translateX({0}%) scale({1},1)",[(r-100)/2,r/100]),o=p({transform:i});e.element(t).css(o)}}u.attr("md-mode",y()).toggleClass(c,h),function(){if(e.isUndefined(d.mdMode)){var t=e.isDefined(d.value)?i:o;u.attr("md-mode",t),d.mdMode=t}}(),d.$observe("value",(function(t){var e=l(t);u.attr("aria-valuenow",e),y()!=s&&b(g,e)})),d.$observe("mdBufferValue",(function(t){b(m,l(t))})),d.$observe("disabled",(function(t){h=!0===t||!1===t?!!t:e.isDefined(t),u.toggleClass(c,h),v.toggleClass(f,!h)})),d.$observe("mdMode",(function(t){switch(f&&v.removeClass(f),t){case s:case a:case i:case o:v.addClass(f="md-mode-"+t);break;default:v.addClass(f="md-mode-"+o)}}))}function l(t){return Math.max(0,Math.min(t||0,100))}}t.$inject=["$mdTheming","$mdUtil","$log"],e.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",t)}(),function(){function t(t,n,r,i){return o.prototype={init:function(t){this._ngModelCtrl=t,this._ngModelCtrl.$render=e.bind(this,this.render)},add:function(t){this._radioButtonRenderFns.push(t)},remove:function(t){var e=this._radioButtonRenderFns.indexOf(t);-1!==e&&this._radioButtonRenderFns.splice(e,1)},render:function(){this._radioButtonRenderFns.forEach((function(t){t()}))},setViewValue:function(t,e){this._ngModelCtrl.$setViewValue(t,e),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return a(this.$element,1)},selectPrevious:function(){return a(this.$element,-1)},setActiveDescendant:function(t){this.$element.attr("aria-activedescendant",t)},isDisabled:function(){return this.$element[0].hasAttribute("disabled")}},{restrict:"E",controller:["$element",o],require:["mdRadioGroup","?ngModel"],link:{pre:function(o,a,s,c){a.addClass("_md"),r(a);var u=c[0],l=c[1]||t.fakeNgModel();function d(){a.hasClass("md-focused")||a.addClass("md-focused")}u.init(l),o.mouseActive=!1,a.attr({role:"radiogroup",tabIndex:a.attr("tabindex")||"0"}).on("keydown",(function(r){var i=r.which||r.keyCode;if(i==n.KEY_CODE.ENTER||r.currentTarget==r.target)switch(i){case n.KEY_CODE.LEFT_ARROW:case n.KEY_CODE.UP_ARROW:r.preventDefault(),u.selectPrevious(),d();break;case n.KEY_CODE.RIGHT_ARROW:case n.KEY_CODE.DOWN_ARROW:r.preventDefault(),u.selectNext(),d();break;case n.KEY_CODE.ENTER:var o=e.element(t.getClosest(a[0],"form"));o.length>0&&o.triggerHandler("submit")}})).on("mousedown",(function(t){o.mouseActive=!0,i((function(){o.mouseActive=!1}),100)})).on("focus",(function(){!1===o.mouseActive&&u.$element.addClass("md-focused")})).on("blur",(function(){u.$element.removeClass("md-focused")}))}}};function o(t){this._radioButtonRenderFns=[],this.$element=t}function a(n,r){var i=t.iterator(n[0].querySelectorAll("md-radio-button"),!0);if(i.count()){var o=n[0].querySelector("md-radio-button.md-checked"),a=i[r<0?"previous":"next"](o,(function(t){return!e.element(t).attr("disabled")}))||i.first();e.element(a).triggerHandler("click")}}}function n(t,e,n){var r="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:function(i,o,a,s){var c;function u(){if(!s)throw"RadioButton: No RadioGroupController could be found.";s.add(d),a.$observe("value",d),o.on("click",l).on("$destroy",(function(){s.remove(d)}))}function l(t){o[0].hasAttribute("disabled")||s.isDisabled()||i.$apply((function(){s.setViewValue(a.value,t&&t.type)}))}function d(){var t=s.getViewValue()==a.value;t!==c&&("md-radio-group"!==o[0].parentNode.nodeName.toLowerCase()&&o.parent().toggleClass(r,t),t&&s.setActiveDescendant(o.attr("id")),c=t,o.attr("aria-checked",t).toggleClass(r,t))}n(o),function(n,r){n.attr({id:a.id||"radio_"+e.nextUid(),role:"radio","aria-checked":"false"}),t.expectWithText(n,"aria-label")}(o),a.ngValue?e.nextTick(u,!1):u()}}}t.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],n.$inject=["$mdAria","$mdUtil","$mdTheming"],e.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",t).directive("mdRadioButton",n)}(),function(){a.$inject=["$mdSelect","$mdUtil","$mdConstant","$mdTheming","$mdAria","$parse","$sce","$injector"],s.$inject=["$parse","$mdUtil","$mdConstant","$mdTheming"],c.$inject=["$mdButtonInkRipple","$mdUtil","$mdTheming"],u.$inject=["$$interimElementProvider"];var r=8,i=0,o=e.element('<div class="md-container"><div class="md-icon"></div></div>');function a(t,r,i,o,a,s,c,u){return{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:function(u,d){var f=e.element("<md-select-value><span></span></md-select-value>");f.append('<span class="md-select-icon" aria-hidden="true"></span>'),f.addClass("md-select-value"),f[0].hasAttribute("id")||f.attr("id","select_value_label_"+r.nextUid());var h=u.find("md-content");if(h.length||u.append(e.element("<md-content>").append(u.contents())),h.attr("role","presentation"),d.mdOnOpen&&(u.find("md-content").prepend(e.element('<div> <md-progress-circular md-mode="indeterminate" ng-if="$$loadingAsyncDone === false" md-diameter="25px"></md-progress-circular></div>')),u.find("md-option").attr("ng-show","$$loadingAsyncDone")),d.name){var p=e.element('<select class="md-visually-hidden"></select>');p.attr({name:d.name,"aria-hidden":"true",tabindex:"-1"});var m=u.find("md-option");e.forEach(m,(function(t){var n=e.element("<option>"+t.innerHTML+"</option>");t.hasAttribute("ng-value")?n.attr("ng-value",t.getAttribute("ng-value")):t.hasAttribute("value")&&n.attr("value",t.getAttribute("value")),p.append(n)})),p.append('<option ng-value="'+d.ngModel+'" selected></option>'),u.parent().append(p)}var g=r.parseAttributeBoolean(d.multiple),v='<div class="md-select-menu-container" aria-hidden="true" role="presentation"><md-select-menu role="presentation" {0}>{1}</md-select-menu></div>';return v=r.supplant(v,[g?"multiple":"",u.html()]),u.empty().append(f),u.append(v),d.tabindex||d.$set("tabindex",0),function(u,d,f,h){var p,m,v,y,b,_=!0,w=h[0],S=h[1],E=h[2],x=h[3],C=d.find("md-select-value"),k=e.isDefined(f.readonly),T=r.parseAttributeBoolean(f.mdNoAsterisk);if(T&&d.addClass("md-no-asterisk"),w){var P=w.isErrorGetter||function(){return E.$invalid&&(E.$touched||x&&x.$submitted)};if(w.input&&d.find("md-select-header").find("input")[0]!==w.input[0])throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");w.input=d,w.label||a.expect(d,"aria-label",d.attr("placeholder")),u.$watch(P,w.setInvalid)}!function(){if(v=e.element(d[0].querySelector(".md-select-menu-container")),y=u,f.mdContainerClass){var t=v[0].getAttribute("class")+" "+f.mdContainerClass;v[0].setAttribute("class",t)}(b=v.find("md-select-menu").controller("mdSelectMenu")).init(E,f.ngModel),d.on("$destroy",(function(){v.remove()}))}(),o(d);var I,A=E.$render;function O(){v&&(b=b||v.find("md-select-menu").controller("mdSelectMenu"),S.setLabelText(b.selectedLabels()))}function $(){if(m){var t=b.selectedLabels({mode:"aria"});d.attr("aria-label",t.length?m+": "+t:m)}}E.$render=function(){A(),O(),$(),N()},f.$observe("placeholder",E.$render),w&&w.label&&f.$observe("required",(function(t){w.label.toggleClass("md-required",t&&!T)})),S.setLabelText=function(t){S.setIsPlaceholder(!t);var e=!1;if(f.mdSelectedText&&f.mdSelectedHtml)throw Error("md-select cannot have both `md-selected-text` and `md-selected-html`");f.mdSelectedText||f.mdSelectedHtml?(t=s(f.mdSelectedText||f.mdSelectedHtml)(u),e=!0):t||(t=f.placeholder||(w&&w.label?w.label.text():"")||"",e=!0);var n=C.children().eq(0);f.mdSelectedHtml?n.html(c.getTrustedHtml(t)):e?n.text(t):n.html(t)},S.setIsPlaceholder=function(t){t?(C.addClass("md-select-placeholder"),w&&w.label&&w.label.addClass("md-placeholder")):(C.removeClass("md-select-placeholder"),w&&w.label&&w.label.removeClass("md-placeholder"))},k||(d.on("focus",(function(t){w&&w.setFocused(!0)})),d.on("blur",(function(t){_&&(_=!1,y._mdSelectIsOpen&&t.stopImmediatePropagation()),w&&w.setFocused(!1),N()}))),S.triggerClose=function(){s(f.mdOnClose)(u)},u.$$postDigest((function(){var t;!(t=d.attr("aria-label")||d.attr("placeholder"))&&w&&w.label&&(t=w.label.text()),m=t,a.expect(d,"aria-label",t),O(),$()})),u.$watch((function(){return b.selectedLabels()}),O),f.$observe("ngMultiple",(function(t){I&&I();var e=s(t);I=u.$watch((function(){return e(u)}),(function(t,e){t===n&&e===n||(t?d.attr("multiple","multiple"):d.removeAttr("multiple"),d.attr("aria-multiselectable",t?"true":"false"),v&&(b.setMultiple(t),A=E.$render,E.$render=function(){A(),O(),$(),N()},E.$render()))}))})),f.$observe("disabled",(function(t){e.isString(t)&&(t=!0),p!==n&&p===t||(p=t,t?d.attr({"aria-disabled":"true"}).removeAttr("tabindex").off("click",L).off("keydown",R):d.attr({tabindex:f.tabindex,"aria-disabled":"false"}).on("click",L).on("keydown",R))})),f.hasOwnProperty("disabled")||f.hasOwnProperty("ngDisabled")||(d.attr({"aria-disabled":"false"}),d.on("click",L),d.on("keydown",R));var M={role:"listbox","aria-expanded":"false","aria-multiselectable":g&&!f.ngMultiple?"true":"false"};d[0].hasAttribute("id")||(M.id="select_"+r.nextUid());var D="select_container_"+r.nextUid();function N(){r.nextTick((function(){w&&w.setHasValue(b.selectedLabels().length>0||(d[0].validity||{}).badInput)}))}function R(t){if(i.isNavigationKey(t))t.preventDefault(),L();else if(l(t,i)){t.preventDefault();var n=b.optNodeForKeyboardSearch(t);if(!n||n.hasAttribute("disabled"))return;var r=e.element(n).controller("mdOption");b.isMultiple||b.deselect(Object.keys(b.selected)[0]),b.select(r.hashKey,r.value),b.refreshViewValue()}}function L(){y._mdSelectIsOpen=!0,d.attr("aria-expanded","true"),t.show({scope:y,preserveScope:!0,skipCompile:!0,element:v,target:d[0],selectCtrl:S,preserveElement:!0,hasBackdrop:!0,loadingAsync:!!f.mdOnOpen&&(u.$eval(f.mdOnOpen)||!0)}).finally((function(){y._mdSelectIsOpen=!1,d.attr("aria-expanded","false"),E.$setTouched()}))}v.attr("id",D),d.find("md-select-menu").length||(M["aria-owns"]=D),d.attr(M),u.$on("$destroy",(function(){t.destroy().finally((function(){w&&(w.setFocused(!1),w.setHasValue(!1),w.input=null),E.$setTouched()}))}))}},controller:function(){}}}function s(t,r,o,a){return s.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu"],scope:!1,controller:s,link:{pre:function(t,n,i,o){var s=o[0];function c(n){var i=r.getClosest(n.target,"md-option"),o=i&&e.element(i).data("$mdOptionController");if(i&&o){if(i.hasAttribute("disabled"))return n.stopImmediatePropagation(),!1;var a=s.hashGetter(o.value),c=e.isDefined(s.selected[a]);t.$apply((function(){s.isMultiple?c?s.deselect(a):s.select(a,o.value):c||(s.deselect(Object.keys(s.selected)[0]),s.select(a,o.value)),s.refreshViewValue()}))}}n.addClass("_md"),a(n),n.on("click",c),n.on("keypress",(function(t){13!=t.keyCode&&32!=t.keyCode||c(t)}))}}};function s(o,a,s){var c,u=this;u.isMultiple=e.isDefined(a.multiple),u.selected={},u.options={},o.$watchCollection((function(){return u.options}),(function(){u.ngModel.$render()})),u.setMultiple=function(t){var n=u.ngModel;if(c=c||n.$isEmpty,u.isMultiple=t,u.isMultiple){var i=!1,a=function(t){i?p():r.nextTick((function(){p(),i=!0}))};n.$validators["md-multiple"]=s,n.$render=a,o.$watchCollection(u.modelBinding,(function(t){s(t)&&a()})),n.$isEmpty=function(t){return!t||0===t.length}}else delete n.$validators["md-multiple"],n.$render=m;function s(t,n){return e.isArray(t||n||[])}};var l,d,f,h="";function p(){var t=u.ngModel.$modelValue||u.ngModel.$viewValue||[];if(e.isArray(t)){var n=Object.keys(u.selected),r=t.map(u.hashGetter);n.filter((function(t){return-1===r.indexOf(t)})).forEach(u.deselect),r.forEach((function(e,n){u.select(e,t[n])}))}}function m(){var t=u.ngModel.$viewValue||u.ngModel.$modelValue;Object.keys(u.selected).forEach(u.deselect),u.select(u.hashGetter(t),t)}u.optNodeForKeyboardSearch=function(t){l&&clearTimeout(l),l=setTimeout((function(){l=n,h="",f=n,d=n}),300),h+=t.key;var r=new RegExp("^"+h,"i");d||(d=s.find("md-option"),f=new Array(d.length),e.forEach(d,(function(t,e){f[e]=t.textContent.trim()})));for(var i=0;i<f.length;++i)if(r.test(f[i]))return d[i]},u.init=function(n,a){u.ngModel=n,u.modelBinding=a,u.ngModel.$isEmpty=function(t){return!u.options[u.hashGetter(t)]};var s=r.getModelOption(n,"trackBy");if(s){var c={},l=t(s);u.hashGetter=function(t,e){return c.$value=t,l(e||o,c)}}else u.hashGetter=function(t){return e.isObject(t)?"object_"+(t.$$mdSelectId||(t.$$mdSelectId=++i)):t};u.setMultiple(u.isMultiple)},u.selectedLabels=function(t){var e,n=(t=t||{}).mode||"html",i=r.nodesToArray(s[0].querySelectorAll("md-option[selected]"));return i.length?("html"==n?e=function(t){if(t.hasAttribute("md-option-empty"))return"";var e=t.innerHTML,n=t.querySelector(".md-ripple-container");n&&(e=e.replace(n.outerHTML,""));var r=t.querySelector(".md-container");return r&&(e=e.replace(r.outerHTML,"")),e}:"aria"==n&&(e=function(t){return t.hasAttribute("aria-label")?t.getAttribute("aria-label"):t.textContent}),r.uniq(i.map(e)).join(", ")):""},u.select=function(t,e){var n=u.options[t];n&&n.setSelected(!0),u.selected[t]=e},u.deselect=function(t){var e=u.options[t];e&&e.setSelected(!1),delete u.selected[t]},u.addOption=function(t,n){if(e.isDefined(u.options[t]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+n.value+'" found.');u.options[t]=n,e.isDefined(u.selected[t])&&(u.select(t,n.value),e.isDefined(u.ngModel.$$rawModelValue)&&u.hashGetter(u.ngModel.$$rawModelValue)===t&&u.ngModel.$validate(),u.refreshViewValue())},u.removeOption=function(t){delete u.options[t]},u.refreshViewValue=function(){var t,n=[];for(var i in u.selected)(t=u.options[i])?n.push(t.value):n.push(u.selected[i]);var o=r.getModelOption(u.ngModel,"trackBy"),a=u.isMultiple?n:n[0],s=u.ngModel.$modelValue;(o?e.equals(s,a):s+""===a)||(u.ngModel.$setViewValue(a),u.ngModel.$render())}}}function c(t,n,r){return a.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:a,compile:function(t,n){return t.append(e.element('<div class="md-text">').append(t.contents())),t.attr("tabindex",n.tabindex||"0"),function(t){return t.value||t.ngValue}(n)||t.attr("md-option-empty",""),i}};function i(i,a,s,c){var u,l=c[0],d=c[1];function f(t,e,n){if(d.hashGetter){var r=d.hashGetter(e,i),o=d.hashGetter(t,i);l.hashKey=o,l.value=t,d.removeOption(r,l),d.addOption(o,l)}else n||i.$$postDigest((function(){f(t,e,!0)}))}r(a),d.isMultiple&&(a.addClass("md-checkbox-enabled"),a.prepend(o.clone())),e.isDefined(s.ngValue)?i.$watch(s.ngValue,f):e.isDefined(s.value)?f(s.value):i.$watch((function(){return a.text().trim()}),f),s.$observe("disabled",(function(t){a.attr("tabindex",t?"-1":"0")})),i.$$postDigest((function(){s.$observe("selected",(function(t){e.isDefined(t)&&("string"==typeof t&&(t=!0),t?(d.isMultiple||d.deselect(Object.keys(d.selected)[0]),d.select(l.hashKey,l.value)):d.deselect(l.hashKey),d.refreshViewValue())}))})),t.attach(i,a),u={role:"option","aria-selected":"false"},a[0].hasAttribute("id")||(u.id="select_option_"+n.nextUid()),a.attr(u),i.$on("$destroy",(function(){d.removeOption(l.hashKey,l)}))}function a(t){this.selected=!1,this.setSelected=function(e){e&&!this.selected?t.attr({selected:"selected","aria-selected":"true"}):!e&&this.selected&&(t.removeAttr("selected"),t.attr("aria-selected","false")),this.selected=e}}}function u(i){return o.$inject=["$mdSelect","$mdConstant","$mdUtil","$window","$q","$$rAF","$animateCss","$animate","$document"],i("$mdSelect").setDefaults({methods:["target"],options:o});function o(i,o,s,c,u,d,f,h,p){var m=s.dom.animator,g=o.KEY_CODE;return{parent:"body",themable:!0,onShow:function(t,r,a){return a.loadingAsync&&!a.isRemoved&&(t.$$loadingAsyncDone=!1,u.when(a.loadingAsync).then((function(){t.$$loadingAsyncDone=!0,delete a.loadingAsync})).then((function(){d(y)}))),function(t,n){var i=r.find("md-select-menu");if(!n.target)throw new Error(s.supplant("$mdSelect.show() expected a target element in options.target but got '{0}'!",[n.target]));e.extend(n,{isRemoved:!1,target:e.element(n.target),parent:e.element(n.parent),selectEl:i,contentEl:r.find("md-content"),optionNodes:i[0].getElementsByTagName("md-option")})}(0,a),a.hideBackdrop=function(t,e,n){return n.disableParentScroll&&!s.getClosest(n.target,"MD-DIALOG")?n.restoreScroll=s.disableScrollAround(n.element,n.parent):n.disableParentScroll=!1,n.hasBackdrop&&(n.backdrop=s.createBackdrop(t,"md-select-backdrop md-click-catcher"),h.enter(n.backdrop,p[0].body,null,{duration:0})),function(){n.backdrop&&n.backdrop.remove(),n.disableParentScroll&&n.restoreScroll(),delete n.restoreScroll}}(t,0,a),function(t,e,n){return n.parent!==e.parent()&&e.parent().attr("aria-owns",e.attr("id")),e.parent().find("md-select-value").attr("aria-hidden","true"),n.parent.append(e),u((function(t,n){try{f(e,{removeClass:"md-leave",duration:0}).start().then(y).then(t)}catch(r){n(r)}}))}(0,r,a).then((function(t){return r.attr("aria-hidden","false"),a.alreadyOpen=!0,a.cleanupInteraction=function(){if(!a.isRemoved){var t=a.selectEl,e=t.controller("mdSelectMenu")||{};return r.addClass("md-clickable"),a.backdrop&&a.backdrop.on("click",c),t.on("keydown",u),t.on("click",f),function(){a.backdrop&&a.backdrop.off("click",c),t.off("keydown",u),t.off("click",f),r.removeClass("md-clickable"),a.isRemoved=!0}}function c(t){t.preventDefault(),t.stopPropagation(),a.restoreFocus=!1,s.nextTick(i.hide,!0)}function u(e){switch(e.preventDefault(),e.stopPropagation(),e.keyCode){case g.UP_ARROW:return void d("prev");case g.DOWN_ARROW:return void d("next");case g.SPACE:case g.ENTER:var n=s.getClosest(e.target,"md-option");n&&(t.triggerHandler({type:"click",target:n}),e.preventDefault()),f(e);break;case g.TAB:case g.ESCAPE:e.stopPropagation(),e.preventDefault(),a.restoreFocus=!0,s.nextTick(i.hide,!0);break;default:if(l(e,o)){var r=t.controller("mdSelectMenu").optNodeForKeyboardSearch(e);a.focusedNode=r||a.focusedNode,r&&r.focus()}}}function d(t){var e,r=s.nodesToArray(a.optionNodes),i=r.indexOf(a.focusedNode);do{-1===i?i=0:"next"===t&&i<r.length-1?i++:"prev"===t&&i>0&&i--,(e=r[i]).hasAttribute("disabled")&&(e=n)}while(!e&&i<r.length-1&&i>0);e&&e.focus(),a.focusedNode=e}function f(n){if(!(n&&"click"==n.type&&n.currentTarget!=t[0]||function(){var t=!1;if(n&&n.currentTarget.children.length>0){var e=n.currentTarget.children[0];e.scrollHeight>e.clientHeight&&e.children.length>0&&n.pageX-n.currentTarget.getBoundingClientRect().left>e.querySelector("md-option").offsetWidth&&(t=!0)}return t}())){var r=s.getClosest(n.target,"md-option");r&&r.hasAttribute&&!r.hasAttribute("disabled")&&(n.preventDefault(),n.stopPropagation(),e.isMultiple||(a.restoreFocus=!0,s.nextTick((function(){i.hide(e.ngModel.$viewValue)}),!0)))}}}(),a.cleanupResizing=function(){var t,n,i=(t=r,n=a,function(){if(!n.isRemoved){var e=v(0,t,n),r=e.container,i=e.dropDown;r.element.css(m.toCss(r.styles)),i.element.css(m.toCss(i.styles))}}),o=e.element(c);return o.on("resize",i),o.on("orientationchange",i),function(){o.off("resize",i),o.off("orientationchange",i)}}(),b(a.focusedNode),t}),a.hideBackdrop);function y(){return u((function(t){if(a.isRemoved)return u.reject(!1);var e=v(0,r,a);e.container.element.css(m.toCss(e.container.styles)),e.dropDown.element.css(m.toCss(e.dropDown.styles)),d((function(){r.addClass("md-active"),e.dropDown.element.css(m.toCss({transform:""})),b(a.focusedNode),t()}))}))}function b(t){t&&!t.hasAttribute("disabled")&&t.focus()}},onRemove:function(t,e,n){var r=null,i=t.$on("$destroy",(function(){r.end()}));return(n=n||{}).cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),!0===n.$destroy?o():(r=f(e,{addClass:"md-leave"})).start().then(o);function o(){i(),e.removeClass("md-active").attr("aria-hidden","true").css({display:"none",top:"",right:"",bottom:"",left:"","font-size":"","min-width":""}),e.parent().find("md-select-value").removeAttr("aria-hidden"),function(t){var e=t.selectCtrl;if(e){var n=t.selectEl.controller("mdSelectMenu");e.setLabelText(n?n.selectedLabels():""),e.triggerClose()}}(n),!n.$destroy&&n.restoreFocus&&n.target.focus()}},hasBackdrop:!0,disableParentScroll:!0};function v(n,i,o){var u,l,d=i[0],f=o.target[0].children[0],h=o.selectEl[0],m=o.contentEl[0],g=p[0].body.getBoundingClientRect(),v=f.getBoundingClientRect(),y={left:g.left+r,top:r,bottom:g.height-r,right:g.width-r-(s.floatingScrollbars()?16:0)},b=v.top-y.top,_=y.bottom-(v.top+v.height),w=g.width-2*r,S=h.querySelector("md-option[selected]"),E=h.getElementsByTagName("md-option"),x=h.getElementsByTagName("md-optgroup"),C=function(t,e){var n=!1;try{var r=t[0].style.display;t[0].style.display="block",n=e.scrollHeight>e.offsetHeight,t[0].style.display=r}finally{}return n}(i,m);u=(l=o.loadingAsync)&&e.isFunction(l.then)?m.firstElementChild||m:S||(x.length?x[0]:E.length?E[0]:m.firstElementChild||m),m.offsetWidth>w?m.style["max-width"]=w+"px":m.style.maxWidth=null,C&&h.classList.add("md-overflow");var k=u;"MD-OPTGROUP"===(k.tagName||"").toUpperCase()&&(u=k=E[0]||m.firstElementChild||m),o.focusedNode=k,d.style.display="block";var T,P,I,A,O,$,M=h.getBoundingClientRect(),D=(T=u)?{left:T.offsetLeft,top:T.offsetTop,width:T.offsetWidth,height:T.offsetHeight}:{left:0,top:0,width:0,height:0};if(u){var N=c.getComputedStyle(u);D.paddingLeft=parseInt(N.paddingLeft,10)||0,D.paddingRight=parseInt(N.paddingRight,10)||0}if(C){var R=m.offsetHeight/2;m.scrollTop=D.top+D.height/2-R,b<R?m.scrollTop=Math.min(D.top,m.scrollTop+R-b):_<R&&(m.scrollTop=Math.max(D.top+D.height-M.height,m.scrollTop-R+_))}P=v.left+D.left-D.paddingLeft+2,I=Math.floor(v.top+v.height/2-D.height/2-D.top+m.scrollTop)+2,A=D.left+v.width/2+"px "+(D.top+D.height/2-m.scrollTop)+"px 0px",O=Math.min(v.width+D.paddingLeft+D.paddingRight,w),$=t.getComputedStyle(f)["font-size"];var L=d.getBoundingClientRect(),j=Math.round(100*Math.min(v.width/M.width,1))/100,F=Math.round(100*Math.min(v.height/M.height,1))/100;return{container:{element:e.element(d),styles:{left:Math.floor(a(y.left,P,y.right-L.width)),top:Math.floor(a(y.top,I,y.bottom-L.height)),"min-width":O,"font-size":$}},dropDown:{element:e.element(h),styles:{transformOrigin:A,transform:o.alreadyOpen?"":s.supplant("scale({0},{1})",[j,F])}}}}}function a(t,e,n){return Math.max(t,Math.min(e,n))}}function l(t,e){var n=String.fromCharCode(t.keyCode);return n&&n.length&&!(t.keyCode<=31)&&!e.isMetaKey(t)&&!e.isFnLockKey(t)&&!e.hasModifierKey(t)}e.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",a).directive("mdSelectMenu",s).directive("mdOption",c).directive("mdOptgroup",(function(){return{restrict:"E",compile:function(t,n){var r;t.parent().find("md-select-header").length||((r=t.find("label")).length||(r=e.element("<label>"),t.prepend(r)),r.addClass("md-container-ignore"),r.attr("aria-hidden","true"),n.label&&r.text(n.label))}}})).directive("mdSelectHeader",(function(){return{restrict:"E"}})).provider("$mdSelect",u)}(),function(){function t(t,e){return["$mdUtil","$window",function(n,r){return{restrict:"A",multiElement:!0,link:function(i,o,a){var s=i.$on("$md-resize-enable",(function(){s();var c=o[0],u=c.nodeType===r.Node.ELEMENT_NODE?r.getComputedStyle(c):{};i.$watch(a[t],(function(t){!!t===e&&(n.nextTick((function(){i.$broadcast("$md-resize")})),n.dom.animator.waitTransitionEnd(o,{cachedTransitionStyles:u}).then((function(){i.$broadcast("$md-resize")})))}))}))}}}]}e.module("material.components.showHide",["material.core"]).directive("ngShow",t("ngShow",!0)).directive("ngHide",t("ngHide",!1))}(),function(){function t(t,r,i,o){var a="SideNav '{0}' is not available! Did you use md-component-id='{0}'?",s={find:function(e,i){var s=t.get(e);return s||i?s:(o.error(r.supplant(a,[e||""])),n)},waitFor:c};return function(t,n){if(e.isUndefined(t))return s;var o=!0===n,u=s.find(t,o);return!u&&o?s.waitFor(t):!u&&e.isUndefined(n)?function(t,n){var o=function(){return!1},s=function(){return i.when(r.supplant(a,[n||""]))};return e.extend({isLockedOpen:o,isOpen:o,toggle:s,open:s,close:s,onClose:e.noop,then:function(t){return c(n).then(t||e.noop)}},t)}(s,t):u};function c(e){return t.when(e).catch(o.error)}}function r(t,r,i,o,a,s,c,u,l,d,f,h,p){return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(t){return t.addClass("md-closed").attr("tabIndex","-1"),m}};function m(c,m,g,v){var y,b,_,w,S,E=null,x=null,C=d.when(!0),k=u(g.mdIsLockedOpen),T=e.element(h);function P(t){return t.keyCode===i.KEY_CODE.ESCAPE?I(t):d.when(!0)}function I(t){return t.preventDefault(),v.close()}g.mdDisableScrollTarget&&((E=f[0].querySelector(g.mdDisableScrollTarget))?E=e.element(E):l.warn(r.supplant('mdSidenav: couldn\'t find element matching selector "{selector}". Falling back to parent.',{selector:g.mdDisableScrollTarget}))),E||(E=m.parent()),g.hasOwnProperty("mdDisableBackdrop")||(b=r.createBackdrop(c,"md-sidenav-backdrop md-opaque ng-enter")),g.hasOwnProperty("mdDisableCloseEvents")&&(_=!0),m.addClass("_md"),o(m),b&&o.inherit(b,m),m.on("$destroy",(function(){b&&b.remove(),v.destroy()})),c.$on("$destroy",(function(){b&&b.remove()})),c.$watch((function(){return k(c.$parent,{$media:function(e){return l.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),t(e)},$mdMedia:t})}),(function(t,e){c.isLockedOpen=t,t===e?m.toggleClass("md-locked-open",!!t):s[t?"addClass":"removeClass"](m,"md-locked-open"),b&&b.toggleClass("md-locked-open",!!t)})),c.$watch("isOpen",(function(t){var i,o=r.findFocusTarget(m)||r.findFocusTarget(m,"[md-sidenav-focus]")||m,u=m.parent();return _||(u[t?"on":"off"]("keydown",P),b&&b[t?"on":"off"]("click",I)),i=function(t,e){var n=m[0],r=t[0].scrollTop;if(e&&r){S={top:n.style.top,bottom:n.style.bottom,height:n.style.height};var i={top:r+"px",bottom:"auto",height:t[0].clientHeight+"px"};m.css(i),b.css(i)}if(!e&&S)return function(){n.style.top=S.top,n.style.bottom=S.bottom,n.style.height=S.height,b[0].style.top=null,b[0].style.bottom=null,b[0].style.height=null,S=null}}(u,t),t&&(x=f[0].activeElement,w=a.getLastInteractionType()),t&&!y?(y=E.css("overflow"),E.css("overflow","hidden")):e.isDefined(y)&&(E.css("overflow",y),y=n),C=d.all([t&&b?s.enter(b,u):b?s.leave(b):d.when(!0),s[t?"removeClass":"addClass"](m,"md-closed")]).then((function(){c.isOpen&&(p((function(){T.triggerHandler("resize")})),o&&o.focus()),i&&i()}))})),v.$toggleOpen=function(t){return c.isOpen===t?d.when(!0):(c.isOpen&&v.onCloseCb&&v.onCloseCb(),d((function(e){c.isOpen=t,r.nextTick((function(){C.then((function(t){!c.isOpen&&x&&"keyboard"===w&&(x.focus(),x=null),e(t)}))}))})))}}}function i(t,e,n,r,i){var o=this;o.isOpen=function(){return!!t.isOpen},o.isLockedOpen=function(){return!!t.isLockedOpen},o.onClose=function(t){return o.onCloseCb=t,o},o.open=function(){return o.$toggleOpen(!0)},o.close=function(){return o.$toggleOpen(!1)},o.toggle=function(){return o.$toggleOpen(!t.isOpen)},o.$toggleOpen=function(e){return r.when(t.isOpen=e)};var a=e.mdComponentId,s=a&&a.indexOf(i.startSymbol())>-1,c=s?i(a)(t.$parent):a;o.destroy=n.register(o,c),s&&e.$observe("mdComponentId",(function(t){t&&t!==o.$$mdHandle&&(o.destroy(),o.destroy=n.register(o,t))}))}t.$inject=["$mdComponentRegistry","$mdUtil","$q","$log"],r.$inject=["$mdMedia","$mdUtil","$mdConstant","$mdTheming","$mdInteraction","$animate","$compile","$parse","$log","$q","$document","$window","$$rAF"],i.$inject=["$scope","$attrs","$mdComponentRegistry","$q","$interpolate"],e.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",t).directive("mdSidenav",r).directive("mdSidenavFocus",(function(){return{restrict:"A",require:"^mdSidenav",link:function(t,e,n,r){}}})).controller("$mdSidenavController",i)}(),function(){i.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log","$timeout"],e.module("material.components.slider",["material.core"]).directive("mdSlider",i).directive("mdSliderContainer",(function(){return{controller:function(){},compile:function(t){var r=t.find("md-slider");if(r)return r.attr("md-vertical")!==n&&t.attr("md-vertical",""),r.attr("flex")||r.attr("flex",""),function(t,n,r,i){function o(t){n.children().attr("disabled",t),n.find("input").attr("disabled",t)}n.addClass("_md");var a,s=e.noop;r.disabled?o(!0):r.ngDisabled&&(s=t.$watch(r.ngDisabled,(function(t){o(t)}))),t.$on("$destroy",(function(){s()})),i.fitInputWidthToTextLength=function(t){var e=n[0].querySelector("md-input-container");if(e){var r=getComputedStyle(e),i=parseInt(r.minWidth),o=parseInt(r.paddingLeft)+parseInt(r.paddingRight);a=a||parseInt(r.maxWidth);var s=Math.max(a,i+o+i/2*t);e.style.maxWidth=s+"px"}}}}}}));var t=10,r=4;function i(n,i,o,a,s,c,u,l,d,f){return{scope:{},require:["?ngModel","?^mdSliderContainer"],template:'<div class="md-slider-wrapper"><div class="md-slider-content"><div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div></div></div>',compile:function(t,n){var r=e.element(t[0].getElementsByClassName("md-slider-wrapper"));return r.attr("tabindex",n.tabindex||0),(n.disabled||n.ngDisabled)&&r.attr("tabindex",-1),r.attr("role","slider"),o.expect(t,"aria-label"),h}};function h(o,h,p,m){c(h);var g=m[0]||{$setViewValue:function(t){this.$viewValue=t,this.$viewChangeListeners.forEach((function(t){t()}))},$parsers:[],$formatters:[],$viewChangeListeners:[]},v=m[1],y=(e.element(a.getClosest(h,"_md-slider-container",!0)),p.ngDisabled?e.bind(null,l(p.ngDisabled),o.$parent):function(){return h[0].hasAttribute("disabled")}),b=e.element(h[0].querySelector(".md-thumb")),_=e.element(h[0].querySelector(".md-thumb-text")),w=b.parent(),S=e.element(h[0].querySelector(".md-track-container")),E=e.element(h[0].querySelector(".md-track-fill")),x=e.element(h[0].querySelector(".md-track-ticks")),C=e.element(h[0].getElementsByClassName("md-slider-wrapper")),k=(e.element(h[0].getElementsByClassName("md-slider-content")),a.throttle(U,5e3)),T=e.isDefined(p.mdVertical),P=e.isDefined(p.mdDiscrete),I=e.isDefined(p.mdInvert);function A(){U(),G()}e.isDefined(p.min)?p.$observe("min",j):j(0),e.isDefined(p.max)?p.$observe("max",F):F(100),e.isDefined(p.step)?p.$observe("step",B):B(1),e.isDefined(p.round)?p.$observe("round",V):V(3),p.ngDisabled&&o.$parent.$watch(p.ngDisabled,(function(){h.attr("aria-disabled",!!y())})),u.register(C,"drag",{horizontal:!T}),o.mouseActive=!1,C.on("keydown",(function(e){if(!y()){var n,i=s.KEY_CODE;switch(e.keyCode){case i.DOWN_ARROW:case i.LEFT_ARROW:e.preventDefault(),n=-M;break;case i.UP_ARROW:case i.RIGHT_ARROW:e.preventDefault(),n=M;break;case i.PAGE_DOWN:e.preventDefault(),n=-M*t;break;case i.PAGE_UP:e.preventDefault(),n=M*t;break;case i.HOME:e.preventDefault(),e.stopPropagation(),z(O);break;case i.END:e.preventDefault(),e.stopPropagation(),z($)}n&&(n=I?-n:n,(e.metaKey||e.ctrlKey||e.altKey)&&(n*=r),e.preventDefault(),e.stopPropagation(),z(g.$viewValue+n))}})).on("mousedown",(function(){(function(){if(P&&!y()&&!e.isUndefined(M)){if(M<=0){var t="Slider step value must be greater than zero when in discrete mode";throw d.error(t),new Error(t)}var n=Math.floor(($-O)/M);N||(N=e.element("<canvas>").css("position","absolute"),x.append(N),R=N[0].getContext("2d"));var r,o=q();!o||o.height||o.width||(U(),o=H),N[0].width=o.width,N[0].height=o.height;for(var a=0;a<=n;a++){var s=i.getComputedStyle(x[0]);R.fillStyle=s.color||"black",r=Math.floor((T?o.height:o.width)*(a/n)),R.fillRect(T?0:r-1,T?r-1:0,T?o.width:2,T?2:o.height)}}})(),o.mouseActive=!0,C.removeClass("md-focused"),f((function(){o.mouseActive=!1}),100)})).on("focus",(function(){!1===o.mouseActive&&C.addClass("md-focused")})).on("blur",(function(){C.removeClass("md-focused"),h.removeClass("md-active"),function(){if(N&&R){var t=q();R.clearRect(0,0,t.width,t.height)}}()})).on("$md.pressdown",(function(t){if(!y()){h.addClass("md-active"),h[0].focus(),U();var e=K(Q(tt(J(T?t.pointer.y:t.pointer.x))));o.$apply((function(){W(e),Y(et(e))}))}})).on("$md.pressup",(function(t){if(!y()){h.removeClass("md-dragging");var e=K(Q(tt(J(T?t.pointer.y:t.pointer.x))));o.$apply((function(){W(e),G()}))}})).on("$md.dragstart",(function(t){y()||(X=!0,t.stopPropagation(),h.addClass("md-dragging"),Z(t))})).on("$md.drag",(function(t){X&&(t.stopPropagation(),Z(t))})).on("$md.dragend",(function(t){X&&(t.stopPropagation(),X=!1)})),setTimeout(A,0);var O,$,M,D,N,R,L=n.throttle(A);function j(t){O=parseFloat(t),g.$viewValue=K(g.$modelValue,O,$),C.attr("aria-valuemin",t),A()}function F(t){$=parseFloat(t),g.$viewValue=K(g.$modelValue,O,$),C.attr("aria-valuemax",t),A()}function B(t){M=parseFloat(t)}function V(t){D=K(parseInt(t),0,6)}e.element(i).on("resize",L),o.$on("$destroy",(function(){e.element(i).off("resize",L)})),g.$render=G,g.$viewChangeListeners.push(G),g.$formatters.push(K),g.$formatters.push(Q);var H={};function U(){H=S[0].getBoundingClientRect()}function q(){return k(),H}function z(t){o.$evalAsync((function(){W(t)}))}function W(t){g.$setViewValue(K(Q(t)))}function G(){isNaN(g.$viewValue)&&(g.$viewValue=g.$modelValue),g.$viewValue=K(g.$viewValue);var t=et(g.$viewValue);o.modelValue=g.$viewValue,C.attr("aria-valuenow",g.$viewValue),Y(t),_.text(g.$viewValue)}function K(t,n,r){if(e.isNumber(t))return n=e.isNumber(n)?n:O,r=e.isNumber(r)?r:$,Math.max(n,Math.min(r,t))}function Q(t){if(e.isNumber(t)){var n=Math.round((t-O)/M)*M+O;return n=Math.round(n*Math.pow(10,D))/Math.pow(10,D),v&&v.fitInputWidthToTextLength&&a.debounce((function(){v.fitInputWidthToTextLength(n.toString().length)}),100)(),n}}function Y(t){var e=100*(t=Math.max(0,Math.min(t||0,1)))+"%",n=I?100*(1-t)+"%":e;T?w.css("bottom",e):a.bidiProperty(w,"left","right",e),E.css(T?"height":"width",n),h.toggleClass(I?"md-max":"md-min",0===t),h.toggleClass(I?"md-min":"md-max",1===t)}U();var X=!1;function Z(t){var e,n;P?(n=K(Q(tt(J(e=T?t.pointer.y:t.pointer.x)))),Y(J(e)),_.text(n)):function(t){o.$evalAsync((function(){W(tt(J(t)))}))}(T?t.pointer.y:t.pointer.x)}function J(t){var e=(t-(T?H.top:H.left))/(T?H.height:H.width);return!T&&a.isRtl(p)&&(e=1-e),Math.max(0,Math.min(1,T?1-e:e))}function tt(t){return O+(I?1-t:t)*($-O)}function et(t){var e=(t-O)/($-O);return I?1-e:e}}}}(),function(){function t(t,e,r,i){var o=r.checkStickySupport();return function(a,s,c){var u=s.controller("mdContent");if(u)if(o)s.css({position:o,top:0,"z-index":2});else{var l=u.$element.data("$$sticky");l||(l=function(i){var o,a=i.$element,s=e.throttle(c);return function(t){var n,i,o=200;function a(){+r.now()-i>o?(n=!1,t.triggerHandler("$scrollend")):(t.triggerHandler("$scroll"),e.throttle(a))}t.on("scroll touchmove",(function(){n||(n=!0,e.throttle(a),t.triggerHandler("$scrollstart")),t.triggerHandler("$scroll"),i=+r.now()}))}(a),a.on("$scrollstart",s),a.on("$scroll",(function t(){var e=a.prop("scrollTop"),n=e>(t.prevScrollTop||0);if(t.prevScrollTop=e,0!==e){if(n){if(o.next&&o.next.top<=e)return void l(o.next);if(o.current&&o.next&&o.next.top-e<=o.next.height)return void f(o.current,e+(o.next.top-o.next.height-e))}if(!n){if(o.current&&o.prev&&e<o.current.top)return void l(o.prev);if(o.next&&o.current&&e>=o.next.top-o.current.height)return void f(o.current,e+(o.next.top-e-o.current.height))}o.current&&f(o.current,e)}else l(null)})),o={prev:null,current:null,next:null,items:[],add:function(t,e){e.addClass("md-sticky-clone");var n={element:t,clone:e};return o.items.push(n),r.nextTick((function(){a.prepend(n.clone)})),s(),function(){o.items.forEach((function(e,n){e.element[0]===t[0]&&(o.items.splice(n,1),e.clone.remove())})),s()}},refreshElements:c};function c(){var t;o.items.forEach(u),o.items=o.items.sort((function(t,e){return t.top<e.top?-1:1}));for(var e=a.prop("scrollTop"),n=o.items.length-1;n>=0;n--)if(e>o.items[n].top){t=o.items[n];break}l(t)}function u(t){var e=t.element[0];for(t.top=0,t.left=0,t.right=0;e&&e!==a[0];)t.top+=e.offsetTop,t.left+=e.offsetLeft,e.offsetParent&&(t.right+=e.offsetParent.offsetWidth-e.offsetWidth-e.offsetLeft),e=e.offsetParent;t.height=t.element.prop("offsetHeight");var i=r.floatingScrollbars()?"0":n;r.bidi(t.clone,"margin-left",t.left,i),r.bidi(t.clone,"margin-right",i,t.right)}function l(t){if(o.current!==t){o.current&&(f(o.current,null),d(o.current,null)),t&&d(t,"active"),o.current=t;var e=o.items.indexOf(t);o.next=o.items[e+1],o.prev=o.items[e-1],d(o.next,"next"),d(o.prev,"prev")}}function d(t,e){t&&t.state!==e&&(t.state&&(t.clone.attr("sticky-prev-state",t.state),t.element.attr("sticky-prev-state",t.state)),t.clone.attr("sticky-state",e),t.element.attr("sticky-state",e),t.state=e)}function f(e,i){e&&(null===i||i===n?e.translateY&&(e.translateY=null,e.clone.css(t.CSS.TRANSFORM,"")):(e.translateY=i,r.bidi(e.clone,t.CSS.TRANSFORM,"translate3d("+e.left+"px,"+i+"px,0)","translateY("+i+"px)")))}}(u),u.$element.data("$$sticky",l));var d=c||i(s.clone())(a),f=l.add(s,d);a.$on("$destroy",f)}}}t.$inject=["$mdConstant","$$rAF","$mdUtil","$compile"],e.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",t)}(),function(){function t(t,n,r,i,o){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="md-subheader _md">  <div class="md-subheader-inner">    <div class="md-subheader-content"></div>  </div></div>',link:function(a,s,c,u,l){r(s),s.addClass("_md"),i.prefixer().removeAttribute(s,"ng-repeat");var d=s[0].outerHTML;function f(t){return e.element(t[0].querySelector(".md-subheader-content"))}c.$set("role","heading"),o.expect(s,"aria-level","2"),l(a,(function(t){f(s).append(t)})),s.hasClass("md-no-sticky")||l(a,(function(e){var r=n('<div class="md-subheader-wrapper" aria-hidden="true">'+d+"</div>")(a);i.nextTick((function(){f(r).append(e)})),t(a,s,r)}))}}}t.$inject=["$mdSticky","$compile","$mdTheming","$mdUtil","$mdAria"],e.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",t)}(),function(){function t(t){r.$inject=["$parse"];var e="md"+t,n="$md."+t.toLowerCase();return r;function r(t){return{restrict:"A",link:function(r,i,o){var a=t(o[e]);i.on(n,(function(t){var e=t.currentTarget;r.$applyAsync((function(){a(r,{$event:t,$target:{current:e}})}))}))}}}}e.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",t("SwipeLeft")).directive("mdSwipeRight",t("SwipeRight")).directive("mdSwipeUp",t("SwipeUp")).directive("mdSwipeDown",t("SwipeDown"))}(),function(){function t(t,n,r,i,o,a,s){var c=t[0];return{restrict:"E",priority:r.BEFORE_NG_ARIA,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:["^?mdInputContainer","?ngModel","?^form"],compile:function(t,u){var l=c.compile(t,u).post;return t.addClass("md-dragging"),function(t,c,u,d){var f=d[1]||n.fakeNgModel(),h=null;null!=u.disabled?h=function(){return!0}:u.ngDisabled&&(h=i(u.ngDisabled));var p,m=e.element(c[0].querySelector(".md-thumb-container")),g=e.element(c[0].querySelector(".md-container")),v=e.element(c[0].querySelector(".md-label"));o((function(){c.removeClass("md-dragging")})),l(t,c,u,d),h&&t.$watch(h,(function(t){c.attr("tabindex",t?-1:0)})),u.$observe("mdInvert",(function(t){var e=n.parseAttributeBoolean(t);c.prepend(e?v:g),c.toggleClass("md-inverted",e)})),a.register(g,"drag"),g.on("$md.dragstart",(function(e){h&&h(t)||(e.stopPropagation(),c.addClass("md-dragging"),p={width:m.prop("offsetWidth")})})).on("$md.drag",(function(t){if(p){t.stopPropagation(),t.srcEvent&&t.srcEvent.preventDefault();var e=t.pointer.distanceX/p.width,n=f.$viewValue?1+e:e;n=Math.max(0,Math.min(1,n)),m.css(r.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),p.translate=n}})).on("$md.dragend",(function(e){var n;p&&(e.stopPropagation(),c.removeClass("md-dragging"),m.css(r.CSS.TRANSFORM,""),(f.$viewValue?p.translate<.5:p.translate>.5)&&(n=!f.$viewValue,t.$apply((function(){f.$setViewValue(n),f.$render()}))),p=null,t.skipToggle=!0,s((function(){t.skipToggle=!1}),1))}))}}}}t.$inject=["mdCheckboxDirective","$mdUtil","$mdConstant","$parse","$$rAF","$mdGesture","$timeout"],e.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",t)}(),e.module("material.components.tabs",["material.core","material.components.icon"]),e.module("material.components.tabs").service("MdTabsPaginationService",(function(){return{decreasePageOffset:function(e,n){var r,i,o=e.canvas,a=t(e);for(r=0;r<a.length;r++)if(a[r]>=n){i=a[r];break}return Math.max(0,i-o.clientWidth)},increasePageOffset:function(n,r){var i,o,a=n.canvas,s=e(n)-a.clientWidth,c=t(n);for(i=0;c[i]<=r+a.clientWidth;i++)o=c[i];return Math.min(s,o)},getTabOffsets:t,getTotalTabsWidth:e};function t(t){var e,n,r=0,i=[];for(e=0;e<t.tabs.length;e++)n=t.tabs[e],i.push(r),r+=n.offsetWidth;return i}function e(t){var e,n=0;for(e=0;e<t.tabs.length;e++)n+=t.tabs[e].offsetWidth;return n}})),e.module("material.components.tabs").directive("mdTab",(function(){return{require:"^?mdTabs",terminal:!0,compile:function(r,i){var o=n(r,"md-tab-label"),a=n(r,"md-tab-body");if(0===o.length&&(o=e.element("<md-tab-label></md-tab-label>"),i.label?o.text(i.label):o.append(r.contents()),0===a.length)){var s=r.contents().detach();(a=e.element("<md-tab-body></md-tab-body>")).append(s)}return r.append(o),a.html()&&r.append(a),t},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect",tabClass:"@mdTabClass"}};function t(t,r,i,o){if(o){var a=o.getTabElementIndex(r),s=n(r,"md-tab-body").remove(),c=n(r,"md-tab-label").remove(),u=o.insertTab({scope:t,parent:t.$parent,index:a,element:r,template:s.html(),label:c.html()},a);t.select=t.select||e.noop,t.deselect=t.deselect||e.noop,t.$watch("active",(function(t){t&&o.select(u.getIndex(),!0)})),t.$watch("disabled",(function(){o.refreshIndex()})),t.$watch((function(){return o.getTabElementIndex(r)}),(function(t){u.index=t,o.updateTabOrder()})),t.$on("$destroy",(function(){o.removeTab(u)}))}}function n(t,n){for(var r=t[0].children,i=0,o=r.length;i<o;i++){var a=r[i];if(a.tagName===n.toUpperCase())return e.element(a)}return e.element()}})),e.module("material.components.tabs").directive("mdTabItem",(function(){return{require:"^?mdTabs",link:function(t,e,n,r){r&&r.attachRipple(t,e)}}})),e.module("material.components.tabs").directive("mdTabLabel",(function(){return{terminal:!0}})),function(){function t(t){return{restrict:"A",compile:function(e,n){var r=t(n.mdTabScroll,null,!0);return function(t,e){e.on("wheel",(function(e){t.$apply((function(){r(t,{$event:e})}))}))}}}}t.$inject=["$parse"],e.module("material.components.tabs").directive("mdTabScroll",t)}(),function(){function t(t,r,i,o,a,s,c,u,l,d,f,h,p){var m=this,g=!1,v=[],y=!1,b=!1;function _(t,e){var n=u.$normalize("md-"+t);function r(e){m[t]="false"!==e}e&&L(t,e),u.hasOwnProperty(n)&&r(u[n]),u.$observe(n,r)}function w(){y=!0,e.element(i).off("resize",O)}function S(){var t=D();e.element(t.wrapper).toggleClass("md-stretch-tabs",function(){switch(m.stretchTabs){case"always":return!0;case"never":return!1;default:return!m.shouldPaginate&&i.matchMedia("(max-width: 600px)").matches}}()),W()}function E(){m.shouldCenterTabs=N()}function x(t,n){if(t!==n){var r=D();e.forEach(r.tabs,(function(e){e.style.maxWidth=t+"px"})),e.forEach(r.dummies,(function(e){e.style.maxWidth=t+"px"})),s.nextTick(m.updateInkBarStyles)}}function C(t,e){t!==e&&(m.maxTabWidth=B(),m.shouldCenterTabs=N(),s.nextTick((function(){m.maxTabWidth=B(),U(m.selectedIndex)})))}function k(t){r[t?"removeClass":"addClass"]("md-no-tab-content")}function T(n){var r=(m.shouldCenterTabs||K()?"":"-")+n+"px";r=r.replace("--",""),e.element(D().paging).css(o.CSS.TRANSFORM,"translate("+r+", 0)"),t.$broadcast("$mdTabsPaginationChanged")}function P(t,e){t!==e&&D().tabs[t]&&(U(),H())}function I(e,n){e!==n&&(m.selectedIndex=R(e),m.lastSelectedIndex=n,m.updateInkBarStyles(),z(),U(e),t.$broadcast("$mdTabsChanged"),m.tabs[n]&&m.tabs[n].scope.deselect(),m.tabs[e]&&m.tabs[e].scope.select())}function A(t,e){g||(m.focusIndex=m.selectedIndex=t),e&&m.noSelectClick||s.nextTick((function(){m.tabs[t].element.triggerHandler("click")}),!1)}function O(){m.lastSelectedIndex=m.selectedIndex,m.offsetLeft=G(m.offsetLeft),s.nextTick((function(){m.updateInkBarStyles(),j()}))}function $(t){e.element(D().inkBar).toggleClass("ng-hide",t)}function M(t){r.toggleClass("md-dynamic-height",t)}function D(){var t={},e=r[0];return t.wrapper=e.querySelector("md-tabs-wrapper"),t.canvas=t.wrapper.querySelector("md-tabs-canvas"),t.paging=t.canvas.querySelector("md-pagination-wrapper"),t.inkBar=t.paging.querySelector("md-ink-bar"),t.nextButton=e.querySelector("md-next-button"),t.prevButton=e.querySelector("md-prev-button"),t.contents=e.querySelectorAll("md-tabs-content-wrapper > md-tab-content"),t.tabs=t.paging.querySelectorAll("md-tab-item"),t.dummies=t.canvas.querySelectorAll("md-dummy-tab"),t}function N(){return m.centerTabs&&!m.shouldPaginate}function R(t){if(-1===t)return-1;var e,n,r=Math.max(m.tabs.length-t,t);for(e=0;e<=r;e++){if((n=m.tabs[t+e])&&!0!==n.scope.disabled)return n.getIndex();if((n=m.tabs[t-e])&&!0!==n.scope.disabled)return n.getIndex()}return t}function L(t,e,n){Object.defineProperty(m,t,{get:function(){return n},set:function(t){var r=n;n=t,e&&e(t,r)}})}function j(){m.maxTabWidth=B(),m.shouldPaginate=function(){var t;if(m.noPagination||!b)return!1;var i=r.prop("clientWidth");return e.forEach(D().tabs,(function(t){i-=t.offsetWidth})),t=i<0,s.msie&&(D().paging.style.width=t?"999999px":n),t}()}function F(t){var n=0;return e.forEach(t,(function(t){n+=Math.max(t.offsetWidth,t.getBoundingClientRect().width)})),Math.ceil(n)}function B(){var t=D();return Math.max(0,Math.min(t.canvas.clientWidth-1,264))}function V(t,e){var n,r=e?"focusIndex":"selectedIndex",i=m[r];for(n=i+t;m.tabs[n]&&m.tabs[n].scope.disabled;n+=t);m.tabs[n=(i+t+m.tabs.length)%m.tabs.length]&&(m[r]=n)}function H(){m.styleTabItemFocus="keyboard"===f.getLastInteractionType();var t=D().tabs[m.focusIndex];t&&t.focus()}function U(t){var n=D();if(e.isNumber(t)||(t=m.focusIndex),n.tabs[t]&&!m.shouldCenterTabs){var r=n.tabs[t],i=r.offsetLeft,o=r.offsetWidth+i;if(0!==t)if(K()){var a=F(Array.prototype.slice.call(n.tabs,0,t)),s=F(Array.prototype.slice.call(n.tabs,0,t+1));m.offsetLeft=Math.min(m.offsetLeft,G(a)),m.offsetLeft=Math.max(m.offsetLeft,G(s-n.canvas.clientWidth))}else m.offsetLeft=Math.max(m.offsetLeft,G(o-n.canvas.clientWidth+32)),m.offsetLeft=Math.min(m.offsetLeft,G(i));else m.offsetLeft=0}}function q(){m.selectedIndex=R(m.selectedIndex),m.focusIndex=R(m.focusIndex)}function z(){if(!m.dynamicHeight)return r.css("height","");if(!m.tabs.length)return v.push(z);var t=D(),e=t.contents[m.selectedIndex],i=t.wrapper.offsetHeight,o=(e?e.offsetHeight:0)+i,a=r.prop("clientHeight");if(a!==o){"bottom"===r.attr("md-align-tabs")&&(a-=i,o-=i,r.attr("md-border-bottom")!==n&&++a),g=!0;var u={height:a+"px"},l={height:o+"px"};r.css(u),c(r,{from:u,to:l,easing:"cubic-bezier(0.35, 0, 0.25, 1)",duration:.5}).start().done((function(){r.css({transition:"none",height:""}),s.nextTick((function(){r.css("transition","")})),g=!1}))}}function W(n,i){if(!m.noInkBar){var o=D();if(o.tabs[m.selectedIndex])if(m.tabs.length)if(r.prop("offsetParent")){var a=o.paging.offsetWidth,c=o.tabs[m.selectedIndex],u=c.offsetLeft,l=a-u-c.offsetWidth;if(m.shouldCenterTabs){var d=F(o.tabs);a>d&&n!==a&&i!==d&&h(W,0,!0,a,d)}!function(){var t=D(),n=m.selectedIndex,r=m.lastSelectedIndex,i=e.element(t.inkBar);e.isNumber(r)&&i.toggleClass("md-left",n<r).toggleClass("md-right",n>r)}(),e.element(o.inkBar).css({left:u+"px",right:l+"px"})}else!function e(){e.watcher||(e.watcher=t.$watch((function(){s.nextTick((function(){e.watcher&&r.prop("offsetParent")&&(e.watcher(),e.watcher=null,O())}),!1)})))}();else v.push(m.updateInkBarStyles);else e.element(o.inkBar).css({left:"auto",right:"auto"})}}function G(t){var e=D();if(!e.tabs.length||!m.shouldPaginate)return 0;var n=e.tabs[e.tabs.length-1],r=n.offsetLeft+n.offsetWidth;return K()?(t=Math.min(e.paging.offsetWidth-e.canvas.clientWidth,t),t=Math.max(0,t)):(t=Math.max(0,t),t=Math.min(r-e.canvas.clientWidth,t)),t}function K(){return s.isRtl(u)}m.$onInit=function(){var n,o,a,c,f;o=S,a=u.$normalize("md-"+(n="stretchTabs")),o&&L(n,o),u.$observe(a,(function(t){m[n]=t})),L("focusIndex",P,m.selectedIndex||0),L("offsetLeft",T,0),L("hasContent",k,!1),L("maxTabWidth",x,B()),L("shouldPaginate",C,!1),_("noInkBar",$),_("dynamicHeight",M),_("noPagination"),_("swipeContent"),_("noDisconnect"),_("autoselect"),_("noSelectClick"),_("centerTabs",E),_("enableDisconnect"),m.scope=t,m.parent=t.$parent,m.tabs=[],m.lastSelectedIndex=null,m.hasFocus=!1,m.styleTabItemFocus=!1,m.shouldCenterTabs=N(),m.tabContentPrefix="tab-content-",m.navigationHint="Use the left and right arrow keys to navigate between tabs",m.selectedIndex=m.selectedIndex||0,c=u.$mdTabsTemplate,(f=e.element(r[0].querySelector("md-tab-data"))).html(c),l(f.contents())(m.parent),delete u.$mdTabsTemplate,t.$watch("$mdTabsCtrl.selectedIndex",I),e.element(i).on("resize",O),t.$on("$destroy",w),d(r),s.nextTick((function(){z(),U(),W(),m.tabs[m.selectedIndex]&&m.tabs[m.selectedIndex].scope.select(),b=!0,j()}))},m.updatePagination=s.debounce(j,100),m.redirectFocus=H,m.attachRipple=function(t,n){var r=D(),i={colorElement:e.element(r.inkBar)};a.attach(t,n,i)},m.insertTab=function(t,n){var i=b,o={getIndex:function(){return m.tabs.indexOf(a)},isActive:function(){return this.getIndex()===m.selectedIndex},isLeft:function(){return this.getIndex()<m.selectedIndex},isRight:function(){return this.getIndex()>m.selectedIndex},shouldRender:function(){return!m.noDisconnect||this.isActive()},hasFocus:function(){return m.styleTabItemFocus&&m.hasFocus&&this.getIndex()===m.focusIndex},id:s.nextUid(),hasContent:!(!t.template||!t.template.trim())},a=e.extend(o,t);return e.isDefined(n)?m.tabs.splice(n,0,a):m.tabs.push(a),v.forEach((function(t){s.nextTick(t)})),v=[],function(){var t,e=!1;for(t=0;t<m.tabs.length;t++)if(m.tabs[t].hasContent){e=!0;break}m.hasContent=e}(),s.nextTick((function(){j(),function(t){if(t.hasContent){var n=r[0].querySelectorAll('[md-tab-id="'+t.id+'"]');e.element(n).attr("aria-controls",m.tabContentPrefix+t.id)}}(a),i&&m.autoselect&&s.nextTick((function(){s.nextTick((function(){A(m.tabs.indexOf(a))}))}))})),a},m.removeTab=function(t){if(!y){var e=m.selectedIndex,n=m.tabs.splice(t.getIndex(),1)[0];q(),m.selectedIndex===e&&(n.scope.deselect(),m.tabs[m.selectedIndex]&&m.tabs[m.selectedIndex].scope.select()),s.nextTick((function(){j(),m.offsetLeft=G(m.offsetLeft)}))}},m.select=A,m.scroll=function(t){m.shouldPaginate&&(t.preventDefault(),t.deltaY?m.offsetLeft=G(m.offsetLeft+t.deltaY):t.deltaX&&(m.offsetLeft=G(m.offsetLeft+t.deltaX)))},m.nextPage=function(){if(m.canPageForward()){var t=p.increasePageOffset(D(),m.offsetLeft);m.offsetLeft=G(t)}},m.previousPage=function(){if(m.canPageBack()){var t=p.decreasePageOffset(D(),m.offsetLeft);m.offsetLeft=G(t)}},m.keydown=function(t){switch(t.keyCode){case o.KEY_CODE.LEFT_ARROW:t.preventDefault(),V(-1,!0);break;case o.KEY_CODE.RIGHT_ARROW:t.preventDefault(),V(1,!0);break;case o.KEY_CODE.SPACE:case o.KEY_CODE.ENTER:t.preventDefault(),g||A(m.focusIndex);break;case o.KEY_CODE.TAB:m.focusIndex!==m.selectedIndex&&(m.focusIndex=m.selectedIndex)}},m.canPageForward=function(){var t=D(),e=t.tabs[t.tabs.length-1];return K()?m.offsetLeft<t.paging.offsetWidth-t.canvas.offsetWidth:e&&e.offsetLeft+e.offsetWidth>t.canvas.clientWidth+m.offsetLeft},m.canPageBack=function(){return m.offsetLeft>0},m.refreshIndex=q,m.incrementIndex=V,m.getTabElementIndex=function(t){var e=r[0].getElementsByTagName("md-tab");return Array.prototype.indexOf.call(e,t[0])},m.updateInkBarStyles=s.debounce(W,100),m.updateTabOrder=s.debounce((function(){var t=m.tabs[m.selectedIndex],e=m.tabs[m.focusIndex];m.tabs=m.tabs.sort((function(t,e){return t.index-e.index})),m.selectedIndex=m.tabs.indexOf(t),m.focusIndex=m.tabs.indexOf(e)}),100),m.getFocusedTabId=function(){var t=m.tabs[m.focusIndex];return t&&t.id?"tab-item-"+t.id:null},1===e.version.major&&e.version.minor<=4&&this.$onInit()}t.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animateCss","$attrs","$compile","$mdTheming","$mdInteraction","$timeout","MdTabsPaginationService"],e.module("material.components.tabs").controller("MdTabsController",t)}(),function(){function t(t){return{scope:{navigationHint:"@?mdNavigationHint",selectedIndex:"=?mdSelected"},template:function(e,n){return n.$mdTabsTemplate=e.html(),'<md-tabs-wrapper> <md-tab-data></md-tab-data> <md-prev-button tabindex="-1" role="button" aria-label="Previous Page" aria-disabled="{{!$mdTabsCtrl.canPageBack()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.previousPage()"> <md-icon md-svg-src="'+t.mdTabsArrow+'"></md-icon> </md-prev-button> <md-next-button tabindex="-1" role="button" aria-label="Next Page" aria-disabled="{{!$mdTabsCtrl.canPageForward()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.nextPage()"> <md-icon md-svg-src="'+t.mdTabsArrow+'"></md-icon> </md-next-button> <md-tabs-canvas tabindex="{{ $mdTabsCtrl.hasFocus ? -1 : 0 }}" ng-focus="$mdTabsCtrl.redirectFocus()" ng-class="{ \'md-paginated\': $mdTabsCtrl.shouldPaginate, \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" ng-keydown="$mdTabsCtrl.keydown($event)"> <md-pagination-wrapper ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" md-tab-scroll="$mdTabsCtrl.scroll($event)" role="tablist" aria-label="{{::$mdTabsCtrl.navigationHint}}"><md-tab-item tabindex="{{ tab.isActive() ? 0 : -1 }}" class="md-tab {{::tab.scope.tabClass}}" ng-repeat="tab in $mdTabsCtrl.tabs" role="tab" id="tab-item-{{::tab.id}}" md-tab-id="{{::tab.id}}" aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-click="$mdTabsCtrl.select(tab.getIndex())" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-class="{ \'md-active\':    tab.isActive(), \'md-focused\':   tab.hasFocus(), \'md-disabled\':  tab.scope.disabled }" ng-disabled="tab.scope.disabled" md-swipe-left="$mdTabsCtrl.nextPage()" md-swipe-right="$mdTabsCtrl.previousPage()" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-tab-item> <md-ink-bar></md-ink-bar> </md-pagination-wrapper> <md-tabs-dummy-wrapper aria-hidden="true" class="md-visually-hidden md-dummy-wrapper"> <md-dummy-tab class="md-tab" tabindex="-1" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-repeat="tab in $mdTabsCtrl.tabs" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-dummy-tab> </md-tabs-dummy-wrapper> </md-tabs-canvas> </md-tabs-wrapper> <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0" class="_md"> <md-tab-content id="{{:: $mdTabsCtrl.tabContentPrefix + tab.id}}" class="_md" role="tabpanel" aria-labelledby="tab-item-{{::tab.id}}" md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)" md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)" ng-if="tab.hasContent" ng-repeat="(index, tab) in $mdTabsCtrl.tabs" ng-class="{ \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null, \'md-active\':        tab.isActive(), \'md-left\':          tab.isLeft(), \'md-right\':         tab.isRight(), \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight }"> <div md-tabs-template="::tab.template" md-connected-if="tab.isActive()" md-scope="::tab.parent" ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"></div> </md-tab-content> </md-tabs-content-wrapper>'},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}t.$inject=["$$mdSvgRegistry"],e.module("material.components.tabs").directive("mdTabs",t)}(),function(){function t(t,e){return{require:"^?mdTabs",link:function(n,r,i,o){if(o){var a,s,c=function(){o.updatePagination(),o.updateInkBarStyles()};if("MutationObserver"in e)(a=new MutationObserver(c)).observe(r[0],{childList:!0,subtree:!0,characterData:!0}),s=a.disconnect.bind(a);else{var u=t.debounce(c,15,null,!1);r.on("DOMSubtreeModified",u),s=r.off.bind(r,"DOMSubtreeModified",u)}n.$on("$destroy",(function(){s()}))}}}}t.$inject=["$mdUtil","$window"],e.module("material.components.tabs").directive("mdTabsDummyWrapper",t)}(),function(){function t(t,e){return{restrict:"A",link:function(n,r,i,o){if(o){var a=o.enableDisconnect?n.compileScope.$new():n.compileScope;return r.html(n.template),t(r.contents())(a),e.nextTick((function(){n.$watch("connected",(function(t){!1===t?o.enableDisconnect&&e.disconnectScope(a):s()})),n.$on("$destroy",s)}))}function s(){o.enableDisconnect&&e.reconnectScope(a)}},scope:{template:"=mdTabsTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}t.$inject=["$compile","$mdUtil"],e.module("material.components.tabs").directive("mdTabsTemplate",t)}(),function(){function t(t){return{restrict:"E",link:function(e,n){n.addClass("_md"),e.$on("$destroy",(function(){t.destroy()}))}}}function r(t){a.$inject=["$mdToast","$scope","$log"],s.$inject=["$animate","$mdToast","$mdUtil","$mdMedia","$document"];var r,i="ok";function o(t){r=t}return t("$mdToast").setDefaults({methods:["position","hideDelay","capsule","parent","position","toastClass"],options:s}).addPreset("simple",{argOption:"textContent",methods:["textContent","content","action","actionKey","actionHint","highlightAction","highlightClass","theme","parent","dismissHint"],options:["$mdToast","$mdTheming",function(t,e){return{template:'<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">  <div class="md-toast-content" aria-live="polite" aria-relevant="all">    <span class="md-toast-text">      {{ toast.content }}    </span>    <span class="md-visually-hidden">{{ toast.dismissHint }}</span>    <span class="md-visually-hidden" ng-if="toast.action && toast.actionKey">      {{ toast.actionHint }}    </span>    <md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()"                ng-class="highlightClasses">      {{ toast.action }}    </md-button>  </div></md-toast>',controller:a,theme:e.defaultTheme(),controllerAs:"toast",bindToController:!0}}]}).addMethod("updateTextContent",o).addMethod("updateContent",o);function a(t,e,n){this.$onInit=function(){var o=this;o.highlightAction&&(e.highlightClasses=["md-highlight",o.highlightClass]),o.action&&!o.actionKey&&n.warn("Toasts with actions should define an actionKey for accessibility.","Details: https://material.angularjs.org/latest/api/service/$mdToast#mdtoast-simple"),o.actionKey&&!o.actionHint&&(o.actionHint='Press Control-"'+o.actionKey+'" to '),o.dismissHint||(o.dismissHint="Press Escape to dismiss."),e.$watch((function(){return r}),(function(){o.content=r})),this.resolve=function(){t.hide(i)}}}function s(t,o,a,s,c){var u="$md.swipeleft $md.swiperight $md.swipeup $md.swipedown";return{onShow:function(e,l,d){r=d.textContent||d.content;var f,h,p=!s("gt-sm");return l=a.extractElementByName(l,"md-toast",!0),d.element=l,d.onSwipe=function(t,e){var n=t.type.replace("$md.",""),r=n.replace("swipe","");"down"===r&&-1!==d.position.indexOf("top")&&!p||"up"===r&&(-1!==d.position.indexOf("bottom")||p)||("left"!==r&&"right"!==r||!p)&&(l.addClass("md-"+n),a.nextTick(o.cancel))},d.openClass=(f=d.position,s("gt-xs")?"md-toast-open-"+(f.indexOf("top")>-1?"top":"bottom"):"md-toast-open-bottom"),l.addClass(d.toastClass),d.parent.addClass(d.openClass),a.hasComputedStyle(d.parent,"position","static")&&d.parent.css("position","relative"),h=e.toast&&e.toast.actionKey?e.toast.actionKey:n,c.on("keydown",(function(t){"Escape"===t.key&&o.hide(!1),h&&t.key===h&&t.ctrlKey&&o.hide(i)})),l.on(u,d.onSwipe),l.addClass(p?"md-bottom":d.position.split(" ").map((function(t){return"md-"+t})).join(" ")),d.parent&&d.parent.addClass("md-toast-animating"),t.enter(l,d.parent).then((function(){d.parent&&d.parent.removeClass("md-toast-animating")}))},onRemove:function(e,n,r){return e.toast&&e.toast.actionKey&&c.off("keydown"),n.off(u,r.onSwipe),r.parent&&r.parent.addClass("md-toast-animating"),r.openClass&&r.parent.removeClass(r.openClass),(!0===r.$destroy?n.remove():t.leave(n)).then((function(){r.parent&&r.parent.removeClass("md-toast-animating"),a.hasComputedStyle(r.parent,"position","static")&&r.parent.css("position","")}))},toastClass:"",position:"bottom left",themable:!0,hideDelay:3e3,autoWrap:!0,transformTemplate:function(t,n){if(n.autoWrap&&t&&!/md-toast-content/g.test(t)){var r=document.createElement("md-template");r.innerHTML=t;for(var i=0;i<r.children.length;i++)if("MD-TOAST"===r.children[i].nodeName){var o=e.element('<div class="md-toast-content">');o.append(e.element(r.children[i].childNodes)),r.children[i].appendChild(o[0])}return r.innerHTML}return t||""}}}}t.$inject=["$mdToast"],r.$inject=["$$interimElementProvider"],e.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",t).provider("$mdToast",r)}(),function(){function t(t,n,r,i,o){var a=e.bind(null,r.supplant,"translate3d(0,{0}px,0)");return{template:"",restrict:"E",link:function(s,c,u){c.addClass("_md"),i(c),r.nextTick((function(){c.addClass("_md-toolbar-transitions")}),!1),e.isDefined(u.mdScrollShrink)&&function(){var i,l,d=e.noop,f=0,h=0,p=u.mdShrinkSpeedFactor||.5,m=t.throttle(y),g=r.debounce(_,5e3);function v(t,e){e&&c.parent()[0]===e.parent()[0]&&(l&&l.off("scroll",m),l=e,d=b())}function y(t){var e=t?t.target.scrollTop:h;g(),f=Math.min(i/p,Math.max(0,f+e-h)),c.css(n.CSS.TRANSFORM,a([-f*p])),l.css(n.CSS.TRANSFORM,a([(i-f)*p])),h=e,r.nextTick((function(){var t=c.hasClass("md-whiteframe-z1");t&&!f?o.removeClass(c,"md-whiteframe-z1"):!t&&f&&o.addClass(c,"md-whiteframe-z1")}))}function b(){return l?(l.on("scroll",m),l.attr("scroll-shrink","true"),r.nextTick(_,!1),function(){l.off("scroll",m),l.attr("scroll-shrink","false"),_()}):e.noop}function _(){var t=-(i=c.prop("offsetHeight"))*p+"px";l.css({"margin-top":t,"margin-bottom":t}),y()}s.$on("$mdContentLoaded",v),u.$observe("mdScrollShrink",(function(t){var e=c.parent().find("md-content");!l&&e.length&&v(0,e),!1===(t=s.$eval(t))?d():d=b()})),u.ngShow&&s.$watch(u.ngShow,_),u.ngHide&&s.$watch(u.ngHide,_),s.$on("$destroy",d)}()}}}t.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"],e.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",t)}(),function(){function n(t,n,r,i,o,a,s,c){var u="blur touchcancel mouseleave",l=100,d=0,f="bottom",h={top:{x:s.xPosition.CENTER,y:s.yPosition.ABOVE},right:{x:s.xPosition.OFFSET_END,y:s.yPosition.CENTER},bottom:{x:s.xPosition.CENTER,y:s.yPosition.BELOW},left:{x:s.xPosition.OFFSET_START,y:s.yPosition.CENTER}};return{restrict:"E",priority:210,scope:{mdZIndex:"=?mdZIndex",mdDelay:"=?mdDelay",mdVisible:"=?mdVisible",mdAutohide:"=?mdAutohide",mdDirection:"@?mdDirection"},link:function(p,m,g){var v,y,b,_,w,S="md-tooltip-"+a.nextUid(),E=a.getParentWithPointerEvents(m),x=r.throttle(I),C=!1,k=null;function T(){p.mdZIndex=p.mdZIndex||l,p.mdDelay=p.mdDelay||d,h[p.mdDirection]||(p.mdDirection=f)}function P(t){var e=t||o(m.text().trim())(p.$parent);(!E.attr("aria-label")&&!E.attr("aria-labelledby")||E.attr("md-labeled-by-tooltip"))&&(E.attr("aria-label",e),E.attr("md-labeled-by-tooltip")||E.attr("md-labeled-by-tooltip",S))}function I(){T(),_&&_.panelEl&&_.panelEl.removeClass(v),v="md-origin-"+p.mdDirection,y=h[p.mdDirection],b=s.newPanelPosition().relativeTo(E).addPanelPosition(y.x,y.y),_&&_.panelEl&&(_.panelEl.addClass(v),_.updatePosition(b))}function A(e){A.queued&&A.value===!!e||!A.queued&&p.mdVisible===!!e||(A.value=!!e,A.queued||(e?(A.queued=!0,w=t((function(){p.mdVisible=A.value,A.queued=!1,w=null,p.visibleWatcher||O(p.mdVisible)}),p.mdDelay)):a.nextTick((function(){p.mdVisible=!1,p.visibleWatcher||O(!1)}))))}function O(t){t?function(){if(!m[0].textContent.trim())throw new Error("Text for the tooltip has not been provided. Please include text within the mdTooltip element.");if(!_){var t=e.element(document.body),n=s.newPanelAnimation().openFrom(E).closeTo(E).withAnimation({open:"md-show",close:"md-hide"}),r={id:S,attachTo:t,contentElement:m,propagateContainerEvents:!0,panelClass:"md-tooltip",animation:n,position:b,zIndex:p.mdZIndex,focusOnOpen:!1,onDomAdded:function(){_.panelEl.addClass(v)}};_=s.create(r)}_.open().then((function(){_.panelEl.attr("role","tooltip")}))}():_&&_.close()}T(),P(),m.detach(),I(),function(){if(E[0]&&"MutationObserver"in n){var e=new MutationObserver((function(t){(function(t){return t.some((function(t){return"disabled"===t.attributeName&&E[0].disabled})),!1})(t)&&a.nextTick((function(){A(!1)}))}));e.observe(E[0],{attributes:!0})}function r(){A(!1)}function o(){k=document.activeElement===E[0]}function s(t){"focus"===t.type&&k?k=!1:p.mdVisible||(E.on(u,l),A(!0),"touchstart"===t.type&&E.one("touchend",(function(){a.nextTick((function(){i.one("touchend",l)}),!1)})))}function l(){((p.hasOwnProperty("mdAutohide")?p.mdAutohide:g.hasOwnProperty("mdAutohide"))||C||i[0].activeElement!==E[0])&&(w&&(t.cancel(w),A.queued=!1,w=null),E.off(u,l),E.triggerHandler("blur"),A(!1)),C=!1}function d(){C=!0}k=!1,c.register("scroll",r,!0),c.register("blur",o),c.register("resize",x),p.$on("$destroy",(function(){c.deregister("scroll",r,!0),c.deregister("blur",o),c.deregister("resize",x),E.off("focus touchstart mouseenter",s).off(u,l).off("mousedown",d),l(),e&&e.disconnect()})),E.on("mousedown",d),E.on("focus touchstart mouseenter",s)}(),function(){if(m[0]&&"MutationObserver"in n){var t=new MutationObserver((function(t){t.forEach((function(t){"md-visible"!==t.attributeName||p.visibleWatcher||(p.visibleWatcher=p.$watch("mdVisible",O))}))}));t.observe(m[0],{attributes:!0}),g.hasOwnProperty("mdVisible")&&(p.visibleWatcher=p.$watch("mdVisible",O))}else p.visibleWatcher=p.$watch("mdVisible",O);function e(){p.$destroy()}p.$watch("mdDirection",I),m.one("$destroy",e),E.one("$destroy",e),p.$on("$destroy",(function(){A(!1),_&&_.destroy(),t&&t.disconnect(),m.remove()})),m.text().indexOf(o.startSymbol())>-1&&p.$watch((function(){return m.text().trim()}),P)}()}}}n.$inject=["$timeout","$window","$$rAF","$document","$interpolate","$mdUtil","$mdPanel","$$mdTooltipRegistry"],e.module("material.components.tooltip",["material.core","material.components.panel"]).directive("mdTooltip",n).service("$$mdTooltipRegistry",(function(){var n={},r=e.element(t);return{register:function(e,o,a){var s=n[e]=n[e]||[];s.length||(a?t.addEventListener(e,i,!0):r.on(e,i)),-1===s.indexOf(o)&&s.push(o)},deregister:function(e,o,a){var s=n[e],c=s?s.indexOf(o):-1;c>-1&&(s.splice(c,1),0===s.length&&(a?t.removeEventListener(e,i,!0):r.off(e,i)))}};function i(t){n[t.type]&&n[t.type].forEach((function(e){e.call(this,t)}),this)}}))}(),function(){function t(t){t.addClass("md-truncate")}t.$inject=["$element"],e.module("material.components.truncate",["material.core"]).directive("mdTruncate",(function(){return{restrict:"AE",controller:t}}))}(),function(){function t(t){return'<div class="md-virtual-repeat-scroller" role="presentation"><div class="md-virtual-repeat-sizer" role="presentation"></div><div class="md-virtual-repeat-offsetter" role="presentation">'+t[0].innerHTML+"</div></div>"}function n(t,n,r,i,o,a,s,c,u){this.$rootScope=o,this.$scope=s,this.$element=c,this.$attrs=u,this.size=0,this.scrollSize=0,this.scrollOffset=0,this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal"),this.repeater=null,this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink"),this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0,this.originalSize=null,this.offsetSize=parseInt(this.$attrs.mdOffsetSize,10)||0,this.oldElementSize=null,this.maxElementPixels=r.ELEMENT_MAX_PIXELS,this.ltr=!n.isRtl(this.$attrs),this.$attrs.mdTopIndex?(this.bindTopIndex=i(this.$attrs.mdTopIndex),this.topIndex=this.bindTopIndex(this.$scope),e.isDefined(this.topIndex)||(this.topIndex=0,this.bindTopIndex.assign(this.$scope,0)),this.$scope.$watch(this.bindTopIndex,e.bind(this,(function(t){t!==this.topIndex&&this.scrollToIndex(t)})))):this.topIndex=0,this.scroller=c[0].querySelector(".md-virtual-repeat-scroller"),this.sizer=this.scroller.querySelector(".md-virtual-repeat-sizer"),this.offsetter=this.scroller.querySelector(".md-virtual-repeat-offsetter");var l=e.bind(this,this.updateSize);t(e.bind(this,(function(){l();var t=n.debounce(l,10,null,!1),r=e.element(a);this.size||t(),r.on("resize",t),s.$on("$destroy",(function(){r.off("resize",t)})),s.$emit("$md-resize-enable"),s.$on("$md-resize",l)})))}function r(t){return{controller:i,priority:1e3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(e,n){var r=n.mdVirtualRepeat.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),i=r[1],o=t(r[2]),a=n.mdExtraName&&t(n.mdExtraName);return function(t,e,n,r,s){r[0].link_(r[1],s,i,o,a)}}}}function i(t,n,r,i,o,a,s,c){this.$scope=t,this.$element=n,this.$attrs=r,this.$browser=i,this.$document=o,this.$mdUtil=c,this.$rootScope=a,this.$$rAF=s,this.onDemand=c.parseAttributeBoolean(r.mdOnDemand),this.browserCheckUrlChange=i.$$checkUrlChange,this.newStartIndex=0,this.newEndIndex=0,this.newVisibleEnd=0,this.startIndex=0,this.endIndex=0,this.itemSize=t.$eval(r.mdItemSize)||null,this.isFirstRender=!0,this.isVirtualRepeatUpdating_=!1,this.itemsLength=0,this.unwatchItemSize_=e.noop,this.blocks={},this.pooledBlocks=[],t.$on("$destroy",e.bind(this,this.cleanupBlocks_))}function o(t){if(!e.isFunction(t.getItemAtIndex)||!e.isFunction(t.getLength))throw Error("When md-on-demand is enabled, the Object passed to md-virtual-repeat must implement functions getItemAtIndex() and getLength().");this.model=t}function a(t){return{restrict:"A",link:function(t,e,n){var r=t.$eval(n.mdForceHeight)||null;r&&e&&(e[0].style.height=r)}}}n.$inject=["$$rAF","$mdUtil","$mdConstant","$parse","$rootScope","$window","$scope","$element","$attrs"],i.$inject=["$scope","$element","$attrs","$browser","$document","$rootScope","$$rAF","$mdUtil"],r.$inject=["$parse"],e.module("material.components.virtualRepeat",["material.core","material.components.showHide"]).directive("mdVirtualRepeatContainer",(function(){return{controller:n,template:t,compile:function(t,e){t.addClass("md-virtual-repeat-container").addClass(e.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}})).directive("mdVirtualRepeat",r).directive("mdForceHeight",a),n.prototype.register=function(t){this.repeater=t,e.element(this.scroller).on("scroll wheel touchmove touchend",e.bind(this,this.handleScroll_))},n.prototype.isHorizontal=function(){return this.horizontal},n.prototype.getSize=function(){return this.size},n.prototype.setSize_=function(t){var e=this.getDimensionName_();this.size=t,this.$element[0].style[e]=t+"px"},n.prototype.unsetSize_=function(){this.$element[0].style[this.getDimensionName_()]=this.oldElementSize,this.oldElementSize=null},n.prototype.updateSize=function(){if(!this.originalSize){var t=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight;t&&(this.size=t),this.handleScroll_(),this.repeater&&this.repeater.containerUpdated()}},n.prototype.getScrollSize=function(){return this.scrollSize},n.prototype.getDimensionName_=function(){return this.isHorizontal()?"width":"height"},n.prototype.sizeScroller_=function(t){var e=this.getDimensionName_(),n=this.isHorizontal()?"height":"width";if(this.sizer.innerHTML="",t<this.maxElementPixels)this.sizer.style[e]=t+"px";else{this.sizer.style[e]="auto",this.sizer.style[n]="auto";var r=Math.floor(t/this.maxElementPixels),i=document.createElement("div");i.style[e]=this.maxElementPixels+"px",i.style[n]="1px";for(var o=0;o<r;o++)this.sizer.appendChild(i.cloneNode(!1));i.style[e]=t-r*this.maxElementPixels+"px",this.sizer.appendChild(i)}},n.prototype.autoShrink_=function(t){var e=Math.max(t,this.autoShrinkMin*this.repeater.getItemSize());if(this.autoShrink&&e!==this.size){null===this.oldElementSize&&(this.oldElementSize=this.$element[0].style[this.getDimensionName_()]);var n=this.originalSize||this.size;if(!n||e<n)this.originalSize||(this.originalSize=this.size),this.setSize_(e);else if(null!==this.originalSize){this.unsetSize_();var r=this.originalSize;this.originalSize=null,r||this.updateSize(),this.setSize_(r||this.size)}this.repeater.containerUpdated()}},n.prototype.setScrollSize=function(t){var e=t+this.offsetSize;this.scrollSize!==e&&(this.sizeScroller_(e),this.autoShrink_(e),this.scrollSize=e)},n.prototype.getScrollOffset=function(){return this.scrollOffset},n.prototype.scrollTo=function(t){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=t,this.handleScroll_()},n.prototype.scrollToIndex=function(t){var e=this.repeater.getItemSize(),n=this.repeater.itemsLength;t>n&&(t=n-1),this.scrollTo(e*t)},n.prototype.resetScroll=function(){this.scrollTo(0)},n.prototype.handleScroll_=function(){this.ltr||this.maxSize||(this.scroller.scrollLeft=this.scrollSize,this.maxSize=this.scroller.scrollLeft);var t=this.isHorizontal()?this.ltr?this.scroller.scrollLeft:this.maxSize-this.scroller.scrollLeft:this.scroller.scrollTop;if(!(this.scrollSize<this.size)&&(t>this.scrollSize-this.size&&(t=this.scrollSize-this.size),t!==this.scrollOffset)){var e=this.repeater.getItemSize();if(e){var n=Math.max(0,Math.floor(t/e)-3),r=(this.isHorizontal()?"translateX(":"translateY(")+(!this.isHorizontal()||this.ltr?n*e:-n*e)+"px)";if(this.scrollOffset=t,this.offsetter.style.webkitTransform=r,this.offsetter.style.transform=r,this.bindTopIndex){var i=Math.floor(t/e);i!==this.topIndex&&i<this.repeater.getItemCount()&&(this.topIndex=i,this.bindTopIndex.assign(this.$scope,i),this.$rootScope.$$phase||this.$scope.$digest())}this.repeater.containerUpdated()}}},i.prototype.link_=function(t,n,r,i,o){this.container=t,this.transclude=n,this.repeatName=r,this.rawRepeatListExpression=i,this.extraName=o,this.sized=!1,this.repeatListExpression=e.bind(this,this.repeatListExpression_),this.container.register(this)},i.prototype.cleanupBlocks_=function(){e.forEach(this.pooledBlocks,(function(t){t.element.remove()}))},i.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope),this.parentNode=this.$element[0].parentNode;var t=this.getBlock_(0);t.element[0].parentNode||this.parentNode.appendChild(t.element[0]),this.itemSize=t.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null,this.blocks[0]=t,this.poolBlock_(0),this.itemSize&&this.containerUpdated()}},i.prototype.repeatListExpression_=function(t){var e=this.rawRepeatListExpression(t);if(this.onDemand&&e){var n=new o(e);return n.$$includeIndexes(this.newStartIndex,this.newVisibleEnd),n}return e},i.prototype.containerUpdated=function(){if(!this.itemSize)return this.unwatchItemSize_&&this.unwatchItemSize_!==e.noop&&this.unwatchItemSize_(),this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,e.bind(this,(function(t){t&&t.length&&this.readItemSize_()}))),void(this.$rootScope.$$phase||this.$scope.$digest());this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,e.bind(this,(function(t,e){this.isVirtualRepeatUpdating_||this.virtualRepeatUpdate_(t,e)})))),this.updateIndexes_(),(this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&(this.items instanceof o&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items))},i.prototype.getItemSize=function(){return this.itemSize},i.prototype.getItemCount=function(){return this.itemsLength},i.prototype.virtualRepeatUpdate_=function(t,n){this.isVirtualRepeatUpdating_=!0;var r=t&&t.length||0,i=!1;if(this.items&&r<this.items.length&&0!==this.container.getScrollOffset()){this.items=t;var o=this.container.getScrollOffset();this.container.resetScroll(),this.container.scrollTo(o)}r!==this.itemsLength&&(i=!0,this.itemsLength=r),this.items=t,(t!==n||i)&&this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,i&&this.container.setScrollSize(r*this.itemSize),Object.keys(this.blocks).forEach((function(t){var e=parseInt(t,10);(e<this.newStartIndex||e>=this.newEndIndex)&&this.poolBlock_(e)}),this),this.$browser.$$checkUrlChange=e.noop;var a,s,c=[],u=[];for(a=this.newStartIndex;a<this.newEndIndex&&null==this.blocks[a];a++)s=this.getBlock_(a),this.updateBlock_(s,a),c.push(s);for(;null!=this.blocks[a];a++)this.updateBlock_(this.blocks[a],a);for(var l=a-1;a<this.newEndIndex;a++)s=this.getBlock_(a),this.updateBlock_(s,a),u.push(s);if(c.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(c),this.$element[0].nextSibling),u.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(u),this.blocks[l]&&this.blocks[l].element[0].nextSibling),this.$browser.$$checkUrlChange=this.browserCheckUrlChange,this.startIndex=this.newStartIndex,this.endIndex=this.newEndIndex,this.isFirstRender){this.isFirstRender=!1;var d=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):this.container.topIndex;this.$mdUtil.nextTick((function(){this.container.scrollToIndex(d)}).bind(this))}this.isVirtualRepeatUpdating_=!1},i.prototype.getBlock_=function(t){return this.pooledBlocks.length?this.pooledBlocks.pop():(this.transclude(e.bind(this,(function(e,r){n={element:e,new:!0,scope:r},this.updateScope_(r,t),this.parentNode.appendChild(e[0])}))),n);var n},i.prototype.updateBlock_=function(t,e){this.blocks[e]=t,(t.new||t.scope.$index!==e||t.scope[this.repeatName]!==this.items[e])&&(t.new=!1,this.updateScope_(t.scope,e),this.$rootScope.$$phase||t.scope.$digest())},i.prototype.updateScope_=function(t,e){t.$index=e,t[this.repeatName]=this.items&&this.items[e],this.extraName&&(t[this.extraName(this.$scope)]=this.items[e])},i.prototype.poolBlock_=function(t){this.pooledBlocks.push(this.blocks[t]),this.parentNode.removeChild(this.blocks[t].element[0]),delete this.blocks[t]},i.prototype.domFragmentFromBlocks_=function(t){var e=this.$document[0].createDocumentFragment();return t.forEach((function(t){e.appendChild(t.element[0])})),e},i.prototype.updateIndexes_=function(){var t=this.items?this.items.length:0,e=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(t-e,Math.floor(this.container.getScrollOffset()/this.itemSize))),this.newVisibleEnd=this.newStartIndex+e+3,this.newEndIndex=Math.min(t,this.newVisibleEnd),this.newStartIndex=Math.max(0,this.newStartIndex-3)},o.prototype.$$includeIndexes=function(t,e){for(var n=t;n<e;n++)this.hasOwnProperty(n)||(this[n]=this.model.getItemAtIndex(n));this.length=this.model.getLength()},a.$inject=["$mdUtil"]}(),function(){function t(t){return{link:function(e,n,r){var i="";r.$observe("mdWhiteframe",(function(e){-1!=(e=parseInt(e,10)||4)&&(e>24||e<1)&&(t.warn("md-whiteframe attribute value is invalid. It should be a number between 1 and 24",n[0]),e=4);var o=-1==e?"":"md-whiteframe-"+e+"dp";r.$updateClass(o,i),i=o}))}}}t.$inject=["$log"],e.module("material.components.whiteframe",["material.core"]).directive("mdWhiteframe",t)}(),e.module("material.core").constant("$MD_THEME_CSS",'md-autocomplete.md-THEME_NAME-theme{background:"{{background-hue-1}}"}md-autocomplete.md-THEME_NAME-theme[disabled]:not([md-floating-label]){background:"{{background-hue-2}}"}md-autocomplete.md-THEME_NAME-theme button md-icon path{fill:"{{background-600}}"}md-autocomplete.md-THEME_NAME-theme button:after{background:"{{background-600-0.3}}"}md-autocomplete.md-THEME_NAME-theme input{color:"{{foreground-1}}"}md-autocomplete.md-THEME_NAME-theme.md-accent md-input-container.md-input-focused .md-input{border-color:"{{accent-color}}"}md-autocomplete.md-THEME_NAME-theme.md-accent md-input-container.md-input-focused label,md-autocomplete.md-THEME_NAME-theme.md-accent md-input-container.md-input-focused md-icon{color:"{{accent-color}}"}md-autocomplete.md-THEME_NAME-theme.md-accent md-progress-linear .md-container{background-color:"{{accent-100}}"}md-autocomplete.md-THEME_NAME-theme.md-accent md-progress-linear .md-bar{background-color:"{{accent-color}}"}md-autocomplete.md-THEME_NAME-theme.md-warn md-input-container.md-input-focused .md-input{border-color:"{{warn-A700}}"}md-autocomplete.md-THEME_NAME-theme.md-warn md-input-container.md-input-focused label,md-autocomplete.md-THEME_NAME-theme.md-warn md-input-container.md-input-focused md-icon{color:"{{warn-A700}}"}md-autocomplete.md-THEME_NAME-theme.md-warn md-progress-linear .md-container{background-color:"{{warn-100}}"}md-autocomplete.md-THEME_NAME-theme.md-warn md-progress-linear .md-bar{background-color:"{{warn-color}}"}.md-autocomplete-standard-list-container.md-THEME_NAME-theme,.md-autocomplete-suggestions-container.md-THEME_NAME-theme{background:"{{background-hue-1}}"}.md-autocomplete-standard-list-container.md-THEME_NAME-theme li,.md-autocomplete-suggestions-container.md-THEME_NAME-theme li{color:"{{foreground-1}}"}.md-autocomplete-standard-list-container.md-THEME_NAME-theme li#selected_option,.md-autocomplete-standard-list-container.md-THEME_NAME-theme li:hover,.md-autocomplete-suggestions-container.md-THEME_NAME-theme li#selected_option,.md-autocomplete-suggestions-container.md-THEME_NAME-theme li:hover{background:"{{background-500-0.18}}"}md-backdrop{background-color:"{{background-900-0.0}}"}md-backdrop.md-opaque.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-bottom-sheet.md-THEME_NAME-theme{background-color:"{{background-color}}";border-top-color:"{{background-hue-3}}"}md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item{color:"{{foreground-1}}"}md-bottom-sheet.md-THEME_NAME-theme .md-subheader{background-color:"{{background-color}}";color:"{{foreground-1}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme:not([disabled]):hover{background-color:"{{background-500-0.2}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover{background-color:transparent}.md-button.md-THEME_NAME-theme.md-fab md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab,.md-button.md-THEME_NAME-theme.md-primary.md-raised{color:"{{primary-contrast}}";background-color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon{color:"{{primary-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover{background-color:"{{primary-600}}"}.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-fab{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-raised{color:"{{background-900}}";background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) md-icon{color:"{{background-900}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover{background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused{background-color:"{{background-200}}"}.md-button.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab,.md-button.md-THEME_NAME-theme.md-warn.md-raised{color:"{{warn-contrast}}";background-color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon{color:"{{warn-contrast}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover{background-color:"{{warn-600}}"}.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab,.md-button.md-THEME_NAME-theme.md-accent.md-raised{color:"{{accent-contrast}}";background-color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-warn[disabled],.md-button.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}";cursor:default}.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon,.md-button.md-THEME_NAME-theme[disabled] md-icon{color:"{{foreground-3}}"}.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled]{background-color:"{{foreground-4}}"}.md-button.md-THEME_NAME-theme[disabled]{background-color:transparent}._md a.md-THEME_NAME-theme:not(.md-button).md-primary{color:"{{primary-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-primary:hover{color:"{{primary-700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent{color:"{{accent-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent:hover{color:"{{accent-A700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn{color:"{{warn-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn:hover{color:"{{warn-700}}"}md-card.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-hue-1}}";border-radius:2px}md-card.md-THEME_NAME-theme .md-card-image{border-radius:2px 2px 0 0}md-card.md-THEME_NAME-theme md-card-header md-card-avatar md-icon{color:"{{background-color}}";background-color:"{{foreground-3}}"}md-card.md-THEME_NAME-theme md-card-header md-card-header-text .md-subhead,md-card.md-THEME_NAME-theme md-card-title md-card-title-text:not(:only-child) .md-subhead{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme .md-ripple{color:"{{accent-A700}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before{background-color:"{{accent-color-0.26}}"}md-checkbox.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon{background-color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after{border-color:"{{accent-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple{color:"{{primary-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon{background-color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after{border-color:"{{primary-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple{color:"{{warn-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon{background-color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before{background-color:"{{warn-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled]:not(.md-checked) .md-icon{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon{background-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-icon:after{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-label{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips{box-shadow:0 1px "{{foreground-4}}"}md-chips.md-THEME_NAME-theme .md-chips.md-focused{box-shadow:0 2px "{{primary-color}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input{color:"{{foreground-1}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-ms-input-placeholder,md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-ms-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-moz-placeholder,md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-moz-placeholder{color:"{{foreground-3}}";opacity:1}md-chips.md-THEME_NAME-theme md-chip{background:"{{background-300}}";color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip md-icon{color:"{{background-700}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused{background:"{{primary-color}}";color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused md-icon{color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip._md-chip-editing{background:transparent;color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path{fill:"{{background-500}}"}.md-contact-suggestion span.md-contact-email{color:"{{background-400}}"}md-content.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-default}}"}.md-THEME_NAME-theme .md-calendar{background:"{{background-hue-1}}";color:"{{foreground-1-0.87}}"}.md-THEME_NAME-theme .md-calendar tr:last-child td{border-bottom-color:"{{background-hue-2}}"}.md-THEME_NAME-theme .md-calendar-day-header{background:"{{background-500-0.32}}";color:"{{foreground-1-0.87}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today .md-calendar-date-selection-indicator{border:1px solid "{{primary-500}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today.md-calendar-date-disabled{color:"{{primary-500-0.6}}"}.md-calendar-date.md-focus .md-THEME_NAME-theme .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date-selection-indicator:hover{background:"{{background-500-0.32}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-selected-date .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date.md-focus.md-calendar-selected-date .md-calendar-date-selection-indicator{background:"{{primary-500}}";color:"{{primary-500-contrast}}";border-color:transparent}.md-THEME_NAME-theme .md-calendar-date-disabled,.md-THEME_NAME-theme .md-calendar-month-label-disabled{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-calendar-month-label md-icon,.md-THEME_NAME-theme .md-datepicker-input{color:"{{foreground-1}}"}.md-THEME_NAME-theme .md-datepicker-input::-webkit-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input:-ms-input-placeholder,.md-THEME_NAME-theme .md-datepicker-input::-ms-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input::placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input:-moz-placeholder,.md-THEME_NAME-theme .md-datepicker-input::-moz-placeholder{color:"{{foreground-3}}";opacity:1}.md-THEME_NAME-theme .md-datepicker-input-container{border-bottom-color:"{{foreground-4}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-invalid,.md-warn .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar-pane{border-color:"{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-triangle-button .md-datepicker-expand-triangle{border-top-color:"{{foreground-2}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon,.md-THEME_NAME-theme .md-datepicker-open.md-accent .md-datepicker-calendar-icon{color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-open.md-warn .md-datepicker-calendar-icon,.md-warn .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar{background:"{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-input-mask-opaque{box-shadow:0 0 0 9999px "{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-input-container{background:"{{background-hue-1}}"}md-dialog.md-THEME_NAME-theme{border-radius:4px;background-color:"{{background-hue-1}}";color:"{{foreground-1}}"}md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions,md-dialog.md-THEME_NAME-theme.md-content-overflow md-dialog-actions,md-divider.md-THEME_NAME-theme{border-top-color:"{{foreground-4}}"}.layout-gt-lg-row>md-divider.md-THEME_NAME-theme,.layout-gt-md-row>md-divider.md-THEME_NAME-theme,.layout-gt-sm-row>md-divider.md-THEME_NAME-theme,.layout-gt-xs-row>md-divider.md-THEME_NAME-theme,.layout-lg-row>md-divider.md-THEME_NAME-theme,.layout-md-row>md-divider.md-THEME_NAME-theme,.layout-row>md-divider.md-THEME_NAME-theme,.layout-sm-row>md-divider.md-THEME_NAME-theme,.layout-xl-row>md-divider.md-THEME_NAME-theme,.layout-xs-row>md-divider.md-THEME_NAME-theme{border-right-color:"{{foreground-4}}"}md-icon.md-THEME_NAME-theme{color:"{{foreground-2}}"}md-icon.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}md-icon.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}md-icon.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-input-container.md-THEME_NAME-theme .md-input{color:"{{foreground-1}}";border-color:"{{foreground-4}}"}md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder,md-input-container.md-THEME_NAME-theme .md-input::-ms-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input::placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder{color:"{{foreground-2}}";opacity:1}md-input-container.md-THEME_NAME-theme>md-icon{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme .md-placeholder,md-input-container.md-THEME_NAME-theme label{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme label.md-required:after{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-focused):not(.md-input-invalid) label.md-required:after{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation,md-input-container.md-THEME_NAME-theme .md-input-messages-animation{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation .md-char-counter,md-input-container.md-THEME_NAME-theme .md-input-messages-animation .md-char-counter{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-webkit-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-ms-input-placeholder,md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-ms-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-moz-placeholder{color:"{{foreground-2}}";opacity:1}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-resized .md-input{border-color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon{color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input{border-color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent md-icon{color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn md-icon{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter,md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input-message-animation,md-input-container.md-THEME_NAME-theme.md-input-invalid label{color:"{{warn-A700}}"}[disabled] md-input-container.md-THEME_NAME-theme .md-input,md-input-container.md-THEME_NAME-theme .md-input[disabled]{border-bottom-color:transparent;color:"{{foreground-3}}";background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4{color:"{{foreground-1}}"}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style{background-color:"{{background-100}}"}md-list.md-THEME_NAME-theme md-list-item .md-avatar-icon{background-color:"{{foreground-3}}";color:"{{background-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight{color:"{{primary-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight.md-accent{color:"{{accent-color}}"}md-menu-content.md-THEME_NAME-theme{background-color:"{{background-hue-1}}"}md-menu-content.md-THEME_NAME-theme md-menu-item{color:"{{foreground-1}}"}md-menu-content.md-THEME_NAME-theme md-menu-item md-icon{color:"{{foreground-2}}"}md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled],md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled] md-icon{color:"{{foreground-3}}"}md-menu-content.md-THEME_NAME-theme md-menu-divider{background-color:"{{foreground-4}}"}md-menu-bar.md-THEME_NAME-theme>button.md-button{color:"{{foreground-1}}";border-radius:2px}md-menu-bar.md-THEME_NAME-theme md-menu>button{color:"{{foreground-1}}"}md-menu-bar.md-THEME_NAME-theme md-menu.md-open>button,md-menu-bar.md-THEME_NAME-theme md-menu>button:focus{outline:none;background-color:"{{ background-500-0.18}}"}md-menu-bar.md-THEME_NAME-theme.md-open:not(.md-keyboard-mode) md-menu:hover>button{background-color:"{{ background-500-0.18}}"}md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:focus,md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:hover{background:transparent}md-menu-content.md-THEME_NAME-theme .md-menu>.md-button:after{color:"{{foreground-2}}"}md-menu-content.md-THEME_NAME-theme .md-menu.md-open>.md-button{background-color:"{{ background-500-0.18}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar{background-color:"{{background-hue-1}}";color:"{{foreground-1}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler{background-color:"{{primary-color}}";color:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler md-icon{color:"{{primary-contrast}}"}md-nav-bar.md-THEME_NAME-theme .md-nav-bar{background-color:transparent;border-color:"{{foreground-4}}"}md-nav-bar.md-THEME_NAME-theme .md-button._md-nav-button.md-unselected{color:"{{foreground-2}}"}md-nav-bar.md-THEME_NAME-theme .md-button._md-nav-button[disabled]{color:"{{foreground-3}}"}md-nav-bar.md-THEME_NAME-theme md-nav-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar{background-color:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar{background-color:"{{warn-color}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar{background-color:"{{primary-color}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{primary-color}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}._md-panel-backdrop.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-progress-circular.md-THEME_NAME-theme path{stroke:"{{primary-color}}"}md-progress-circular.md-THEME_NAME-theme.md-warn path{stroke:"{{warn-color}}"}md-progress-circular.md-THEME_NAME-theme.md-accent path{stroke:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme .md-container{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme .md-bar{background-color:"{{primary-color}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-container{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar{background-color:"{{warn-color}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-container{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar{background-color:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-bar1{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-dashed:before{background:radial-gradient("{{primary-100}}" 0,"{{primary-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before{background:radial-gradient("{{warn-100}}" 0,"{{warn-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before{background:radial-gradient("{{accent-100}}" 0,"{{accent-100}}" 16%,transparent 42%)}md-radio-button.md-THEME_NAME-theme .md-off{border-color:"{{foreground-2}}"}md-radio-button.md-THEME_NAME-theme .md-on{background-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-off{border-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme .md-container .md-ripple{color:"{{accent-A700}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on{background-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off{border-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple{color:"{{primary-600}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on{background-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off{border-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple{color:"{{warn-600}}"}md-radio-button.md-THEME_NAME-theme[disabled],md-radio-group.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}"}md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on{border-color:"{{foreground-3}}"}md-radio-group.md-THEME_NAME-theme .md-checked .md-ink-ripple{color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked:not([disabled]).md-primary .md-ink-ripple,md-radio-group.md-THEME_NAME-theme.md-primary .md-checked:not([disabled]) .md-ink-ripple{color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused.ng-empty>md-radio-button:first-child .md-container:before{background-color:"{{foreground-3-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before{background-color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-primary .md-checked .md-container:before{background-color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-warn .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-warn .md-checked .md-container:before{background-color:"{{warn-color-0.26}}"}md-input-container md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-input-container:not(.md-input-focused):not(.md-input-invalid) md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{foreground-3}}"}md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value,md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{primary-color}}"}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-input-container:not(.md-input-invalid).md-input-focused.md-accent .md-select-value{border-color:"{{accent-color}}"}md-input-container:not(.md-input-invalid).md-input-focused.md-accent .md-select-value span{color:"{{accent-color}}"}md-input-container:not(.md-input-invalid).md-input-focused.md-warn .md-select-value{border-color:"{{warn-A700}}"}md-input-container:not(.md-input-invalid).md-input-focused.md-warn .md-select-value span{color:"{{warn-A700}}"}md-select.md-THEME_NAME-theme[disabled] .md-select-value{border-bottom-color:transparent;background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-select.md-THEME_NAME-theme .md-select-value{border-bottom-color:"{{foreground-4}}"}md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value{border-bottom-color:"{{primary-color}}";color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder{color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value{border-bottom-color:"{{accent-color}}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value{border-bottom-color:"{{warn-color}}"}md-select.md-THEME_NAME-theme[disabled] .md-select-icon,md-select.md-THEME_NAME-theme[disabled] .md-select-value,md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-icon{color:"{{foreground-2}}"}md-select-menu.md-THEME_NAME-theme md-content{background-color:"{{background-hue-1}}"}md-select-menu.md-THEME_NAME-theme md-content md-optgroup{color:"{{foreground-2}}"}md-select-menu.md-THEME_NAME-theme md-content md-option{color:"{{foreground-1}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[disabled] .md-text{color:"{{foreground-3}}"}md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):focus,md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):hover{background-color:"{{background-500-0.18}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]{color:"{{primary-500}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]:focus{color:"{{primary-600}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent{color:"{{accent-color}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent:focus{color:"{{accent-A700}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ripple{color:"{{primary-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ripple{color:"{{background-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ink-ripple{color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon{background-color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected].md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon:after{border-color:"{{primary-contrast-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}.md-checkbox-enabled.md-THEME_NAME-theme md-option .md-text{color:"{{foreground-1}}"}md-sidenav.md-THEME_NAME-theme,md-sidenav.md-THEME_NAME-theme md-content{background-color:"{{background-hue-1}}"}md-slider.md-THEME_NAME-theme .md-track{background-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme .md-track-ticks{color:"{{background-contrast}}"}md-slider.md-THEME_NAME-theme .md-focus-ring{background-color:"{{accent-A200-0.2}}"}md-slider.md-THEME_NAME-theme .md-disabled-thumb{border-color:"{{background-color}}";background-color:"{{background-color}}"}md-slider.md-THEME_NAME-theme.md-min .md-thumb:after{background-color:"{{background-color}}";border-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme.md-min .md-focus-ring{background-color:"{{foreground-3-0.38}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-thumb:after{background-color:"{{background-contrast}}";border-color:transparent}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme .md-track.md-track-fill{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb:after{border-color:"{{accent-color}}";background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign:after{border-top-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb-text{color:"{{accent-contrast}}"}md-slider.md-THEME_NAME-theme.md-warn .md-focus-ring{background-color:"{{warn-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after{border-color:"{{warn-color}}";background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign:after{border-top-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text{color:"{{warn-contrast}}"}md-slider.md-THEME_NAME-theme.md-primary .md-focus-ring{background-color:"{{primary-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after{border-color:"{{primary-color}}";background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign:after{border-top-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text{color:"{{primary-contrast}}"}md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after{border-color:transparent}md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after,md-slider.md-THEME_NAME-theme[disabled][md-discrete] .md-thumb:after{background-color:"{{foreground-3}}";border-color:transparent}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-disabled-thumb{border-color:transparent;background-color:transparent}md-slider-container[disabled]>:first-child:not(md-slider),md-slider-container[disabled]>:last-child:not(md-slider){color:"{{foreground-3}}"}.md-subheader.md-THEME_NAME-theme{color:"{{ foreground-2-0.23 }}";background-color:"{{background-default}}"}.md-subheader.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-subheader.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-subheader.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme .md-ink-ripple{color:"{{background-500}}"}md-switch.md-THEME_NAME-theme .md-thumb{background-color:"{{background-50}}"}md-switch.md-THEME_NAME-theme .md-bar{background-color:"{{background-500}}"}md-switch.md-THEME_NAME-theme.md-focused:not(.md-checked) .md-thumb:before,md-switch.md-THEME_NAME-theme.md-focused[disabled] .md-thumb:before{background-color:"{{foreground-4}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]) .md-ink-ripple{color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]) .md-thumb{background-color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]) .md-bar{background-color:"{{accent-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-focused .md-thumb:before{background-color:"{{accent-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-primary .md-ink-ripple{color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-primary .md-thumb{background-color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-primary .md-bar{background-color:"{{primary-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-primary.md-focused .md-thumb:before{background-color:"{{primary-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-warn .md-ink-ripple{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-warn .md-thumb{background-color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-warn .md-bar{background-color:"{{warn-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-warn.md-focused .md-thumb:before{background-color:"{{warn-color-0.26}}"}md-switch.md-THEME_NAME-theme[disabled] .md-thumb{background-color:"{{background-400}}"}md-switch.md-THEME_NAME-theme[disabled] .md-bar{background-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme md-tabs-wrapper{background-color:transparent;border-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme .md-paginator md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme md-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme .md-tab{color:"{{foreground-2}}"}md-tabs.md-THEME_NAME-theme .md-tab[disabled],md-tabs.md-THEME_NAME-theme .md-tab[disabled] md-icon{color:"{{foreground-3}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-active,md-tabs.md-THEME_NAME-theme .md-tab.md-active md-icon,md-tabs.md-THEME_NAME-theme .md-tab.md-focused,md-tabs.md-THEME_NAME-theme .md-tab.md-focused md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-focused{background:"{{primary-color-0.1}}"}md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper{background-color:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper{background-color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper{background-color:"{{warn-color}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{primary-color}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toast.md-THEME_NAME-theme .md-toast-content{background-color:#323232;color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button{color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight{color:"{{accent-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-primary{color:"{{primary-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-warn{color:"{{warn-color}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar){background-color:"{{primary-color}}";color:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon{color:"{{primary-contrast}}";fill:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) .md-button[disabled] md-icon{color:"{{primary-contrast-0.26}}";fill:"{{primary-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-ink-ripple{color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent md-icon{color:"{{accent-contrast}}";fill:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-button[disabled] md-icon{color:"{{accent-contrast-0.26}}";fill:"{{accent-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-warn{background-color:"{{warn-color}}";color:"{{warn-contrast}}"}.md-panel.md-tooltip.md-THEME_NAME-theme{color:"{{background-700-contrast}}";background-color:"{{background-700}}"}body.md-THEME_NAME-theme,html.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-color}}"}')}(window,window.angular),window.ngMaterial={version:{full:"1.1.20"}}},l95E:function(t,e,n){"use strict";var r=n("vU7N");e.async=new(n("Cmdc").AsyncScheduler)(r.AsyncAction)},lEbx:function(t,e,n){"use strict";var r=n("d6Rh"),i=n("vgQ0");e.partition=function(t,e){return function(n){return[i.filter(t,e)(n),i.filter(r.not(t,e))(n)]}}},lTUY:function(t,e,n){"use strict";var r=n("tpAt");e.subscribeToPromise=function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,r.hostReportError),e}}},lTpV:function(t,e){angular.module("castifyExt.ui.disableContextmenu",[]).directive("disableContextmenu",(function(){return{link:function(t,e){e.bind("contextmenu",(function(t){t.preventDefault(),t.stopPropagation()}))}}}))},lWAS:function(t,e){angular.module("castifyExt.ui.upgradeButton",["cf2.upgradeHelperService","cf2.userAccount","w69b.chromeAnalytics"]).component("cfUpgradeButton",{template:'<md-button\n        ng-click="$ctrl.signIn()"\n        class="md-primary"\n        ng-show="!cf2UpgradeHelperService.hasFeature($ctrl.feature)"\n        ng-class="{\'blue-bg\': $ctrl.blue}">\n          {{cf2UpgradeHelperService.isSignedIn ? \'Upgrade\' : \'Sign In\'}}\n        </md-button>\n        <ng-transclude ng-show="cf2UpgradeHelperService.hasFeature($ctrl.feature)">\n        </ng-transclude>',bindings:{content:"@",campaign:"@",blue:"@",feature:"@"},transclude:!0,controller:["$scope","cf2UpgradeHelperService","userAccount",function(t,e,n){var r=this;t.cf2UpgradeHelperService=e,r.signIn=function(){e.isSignedIn?e.openBuy(r.campaign,r.content):n.signIn()}}]})},lxjo:function(t,e,n){var r=n("DRiV"),i=n("dniD"),o=n("7uYF"),a=n("t5Fe"),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return s(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},m0eH:function(t,e){angular.module("castifyWebEdit.webEditUtils",["castifyExt.deployConfig","castifyExt.appOptions","w69b.uritool"]).controller("EditAlphaDialogCtrl",["$scope","$mdDialog","appOptions",function(t,e,n){this.appOptions=n.values,t.$mdDialog=e,t.$on("$locationChangeStart",()=>e.cancel()),t.$watch("$ctrl.file.driveInfo.id",(function(t){t&&e.hide()}))}]).factory("webEditUtils",["deployConfig","userAccount","uritool","$mdDialog","$location","appOptions",function(t,e,n,r,i,o){let a={};async function s(t,{isCrop:e=!1}={}){return r.show({bindToController:!0,controllerAs:"$ctrl",clickOutsideToClose:!0,locals:{file:t,isCrop:e},templateUrl:"components/castifyWebEdit/edit-alpha-dialog.html",controller:"EditAlphaDialogCtrl"}).then(()=>!0,()=>!1)}return a.openEditor=async function(t){return!(!t.driveInfo&&!(await s(t)))&&a.openEditorWindow(t.driveInfo.id)},a.showWaitBeforeCropSaveDialogIfHwEnabled=async function(t){return!(o.values.hwEncoding&&!t.driveInfo)||s(t,{isCrop:!0})},a.openCropEditor=async function(t){return!(o.values.hwEncoding&&!o.values.driveSync&&!t.driveInfo&&!(await s(t,{isCrop:!0})))&&i.path("/edit/"+t.id)},a.openEditorWindow=async function(r){let i=await e.getAccount();if(!i)return!1;let o=n.encodeQuery({state:JSON.stringify({ids:[r],userId:i.user.email})});return window.open(`${t.editorOpenUri}?${o}`),!0},a}])},m83Y:function(t,e,n){"use strict";var r=n("uzHr");e.concatMapTo=function(t,e){return r.concatMap((function(){return t}),e)}},mSP6:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV");e.pairwise=function(){return function(t){return t.lift(new o)}};var o=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){var n=t.call(this,e)||this;return n.hasPrev=!1,n}return r(e,t),e.prototype._next=function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)},e}(i.Subscriber)},mekd:function(t,e,n){"use strict";var r=n("26VM"),i=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t)return!0;return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}(),o=n("Iwrg"),a=n("cJHJ");function s(t,e,n){if(e in t){var r=t[e],i=n(r);if("function"==typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:r},__sentry_wrapped__:{enumerable:!1,value:i}})}catch(o){}t[e]=i}}function c(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")}function u(t){if(Object(r.d)(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}if(Object(r.f)(t)){var a=t,s={};s.type=a.type;try{s.target=Object(r.c)(a.target)?Object(o.h)(a.target):Object.prototype.toString.call(a.target)}catch(c){s.target="<unknown>"}try{s.currentTarget=Object(r.c)(a.currentTarget)?Object(o.h)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(c){s.currentTarget="<unknown>"}for(var i in"undefined"!=typeof CustomEvent&&t instanceof CustomEvent&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a);return s}return t}function l(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var r=f(t,e);return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(r))>n?l(t,e-1,n):r}function d(t,e){return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":Object(r.k)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+(t.name||"<unknown-function-name>")+"]":t}function f(t,e){try{return JSON.parse(JSON.stringify(t,(function(t,n){return function t(e,n,o,a){if(void 0===o&&(o=1/0),void 0===a&&(a=new i),0===o)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=d(t);return Object(r.h)(n)?n:e}(n);if(null!=n&&"function"==typeof n.toJSON)return n.toJSON();var s=d(n,e);if(Object(r.h)(s))return s;var c=u(n),l=Array.isArray(n)?[]:{};if(a.memoize(n))return"[Circular ~]";for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=t(f,c[f],o-1,a));return a.unmemoize(n),l}(t,n,e)})))}catch(n){return"**non-serializable**"}}function h(t,e){void 0===e&&(e=40);var n=Object.keys(u(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return Object(a.c)(n[0],e);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>e))return r===n.length?i:Object(a.c)(i,e)}return""}n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return h}))},mpPi:function(t,e,n){n("dRAY")("unscopables")},mrf1:function(t,e,n){"use strict";var r=n("81+z");e.max=function(t){return r.reduce("function"==typeof t?function(e,n){return t(e,n)>0?e:n}:function(t,e){return t>e?t:e})}},"nH+C":function(t,e,n){n("dRAY")("hasInstance")},nLi3:function(t,e,n){var r,i,o,a,s,c,u,l;t.exports=(l=n("Ni7E"),n("w9Pv"),n("zNab"),o=(i=(r=l).x64).Word,a=i.WordArray,u=(s=r.algo).SHA384=(c=s.SHA512).extend({_doReset:function(){this._hash=new a.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var t=c._doFinalize.call(this);return t.sigBytes-=16,t}}),r.SHA384=c._createHelper(u),r.HmacSHA384=c._createHmacHelper(u),l.SHA384)},nco3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("D57K");r.__exportStar(n("MDuJ"),e),r.__exportStar(n("j7/t"),e),r.__exportStar(n("/qed"),e),r.__exportStar(n("83Me"),e),r.__exportStar(n("XCe5"),e)},nuLt:function(t,e){angular.module("castifyExt.ui.youtubeChannelChooser",["castifyExt.youtubeAuth"]).directive("cfYoutubeChannelChooser",["youtubeAuth",function(t){return{restrict:"E",require:"ngModel",templateUrl:"components/castifyExt/ui/youtube-channel-chooser/youtube-channel-chooser.html",scope:{},link:function(e,n,r,i){function o(){var t=(e.channels||[]).filter((function(t){return t.id===i.$viewValue}));e.selected=t.length?t[0]:c}function a(t){return e.loading=!0,t.finally((function(){e.loading=!1})),t}function s(){return t.listChannels().then((function(t){e.channels=t,u=!0,i.$validate()}))}var c={title:"Please Select",id:null},u=!1;i.$render=o,i.$validators.validChannel=function(t,n){var r=t||n;return!u||e.channels.some((function(t){return t.id===r}))},e.select=function(t){e.selected=t,i.$setViewValue(t.id)},e.remove=function(n,r){r.stopPropagation(),r.preventDefault(),i.$setViewValue(null),e.channels.splice(e.channels.indexOf(n),1),t.removeChannel(n.id)},e.openOrAdd=function(t,n){n(t),e.channels.length?e.isDropdownOpen=!0:e.addChannel(),t.stopPropagation(),t.preventDefault()},e.addChannel=function(){a(t.addChannel().then((function(t){return e.select(t),s()})))},e.$watchCollection("channels",o),e.channels=[],e.loading=!1,e.isDropdownOpen=!1,a(s())}}}])},nwDU:function(t,e){angular.module("castifyExt.ui.editableText",[]).directive("editableText",["$timeout",function(t){return{restrict:"EA",template:'<div><div data-ng-hide="isEditing" data-ng-transclude></div><input type="text" class="editable-text-input" data-ng-show="isEditing"/></div>',scope:{text:"=editableText",isEditing:"=",onRenamed:"&"},transclude:!0,link:function(e,n){var r=n.find("input");function i(){var t=r.val();e.isEditing=!1,e.onRenamed({newText:t}),o(),e.$apply()}function o(){e.isEditing=!1,r.unbind("blur keydown"),e.$apply()}e.$watch("isEditing",(function(n){n&&(r.val(e.text),t((function(){r[0].select()})),r.bind("blur",i),r.bind("keydown",(function(t){switch(t.keyCode){case 13:i();break;case 27:o()}})))}))}}}])},o8Oe:function(t,e,n){n("ONtY"),n("cLDS"),n("Sjgq"),n("SD3w"),n("6Lpf"),n("nH+C"),n("xkx7"),n("3tCo"),n("8SL3"),n("Cu2E"),n("XkPV"),n("bC+6"),n("bla6"),n("N1DK"),n("Ixdx"),n("mpPi"),n("5/ji"),n("tFRQ"),t.exports=n("UDNL").Symbol},oCLs:function(t,e,n){"use strict";var r=n("1DPV"),i=n("vgQ0"),o=n("DQ6M"),a=n("SqYg"),s=n("CICS"),c=n("RKpm");e.first=function(t,e){var n=arguments.length>=2;return function(u){return u.pipe(t?i.filter((function(e,n){return t(e,n,u)})):c.identity,o.take(1),n?a.defaultIfEmpty(e):s.throwIfEmpty((function(){return new r.EmptyError})))}}},oHog:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV");e.bufferCount=function(t,e){return void 0===e&&(e=null),function(n){return n.lift(new o(t,e))}};var o=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?s:a}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.bufferSize=n,r.buffer=[],r}return r(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},e}(i.Subscriber),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return r(e,t),e.prototype._next=function(t){var e=this.bufferSize,n=this.startBufferEvery,r=this.buffers,i=this.count;this.count++,i%n==0&&r.push([]);for(var o=r.length;o--;){var a=r[o];a.push(t),a.length===e&&(r.splice(o,1),this.destination.next(a))}},e.prototype._complete=function(){for(var e=this.buffers,n=this.destination;e.length>0;){var r=e.shift();r.length>0&&n.next(r)}t.prototype._complete.call(this)},e}(i.Subscriber)},oRFD:function(t,e){angular.module("castifyExt.simpleBgServiceConsumer",["w69b.chromeRuntime"]).factory("simpleBgServiceConsumer",["chromeRuntime","$q",function(t,e){return function(n,r){var i={};function o(t){return t.error?e.reject(t.error):t.data}return r.forEach((function(e){i[e]=function(e){return function(){return t.sendMessage({type:"simpleService",fn:e,service:n,data:Array.prototype.concat.apply([],arguments)}).then(o)}}(e)})),i}}])},oZqE:function(t,e){angular.module("w69b.timeutil",[]).factory("timeutil",(function(){return{formatDuration:function(t){function e(t){return t<10?"0"+t:t}angular.isNumber(t)||(t=0);var n="";t<0&&(n="-",t=.99-t);var r=Math.floor(t%60),i=[e(Math.floor(t/60%60)),e(r)],o=Math.floor(t/3600);return o&&i.unshift(o),n+i.join(":")}}})).filter("duration",["timeutil",function(t){return function(e){return t.formatDuration(e||0)}}])},ohwb:function(t,e,n){var r=n("M5Hp"),i=n("NaO6"),o=n("2IC7"),a=n("Gn/Z"),s=n("WVut"),c=n("4q26"),u=c.get,l=c.enforce,d=String(s).split("toString");n("kXWg")("inspectSource",(function(t){return s.call(t)})),(t.exports=function(t,e,n,s){var c=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),l(n).source=d.join("string"==typeof e?e:"")),t!==r?(c?!f&&t[e]&&(u=!0):delete t[e],u?t[e]=n:i(t,e,n)):u?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s.call(this)}))},pH9l:function(t,e,n){"use strict";n.r(e),n("HopG"),n("0tI7"),n("kDD/"),n("iSdK"),n("44fY"),n("MBAa"),n("BI5m"),n("dMoo"),n("qAev")},plFh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("kTG4"),o=n("82Ps"),a=((r={})["no-app"]="No Firebase App '{$name}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$name}",r["duplicate-app"]="Firebase App named '{$name}' already exists",r["app-deleted"]="Firebase App named '{$name}' already deleted",r["duplicate-service"]="Firebase service named '{$name}' already registered",r["invalid-app-argument"]="firebase.{$name}() takes either no argument or a Firebase App instance.",r),s=new o.ErrorFactory("app","Firebase",a);function c(t,e){throw s.create(t,e)}var u="[DEFAULT]",l=[],d=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){l.push(t),setTimeout((function(){return t(null)}),0)},removeAuthTokenListener:function(t){l=l.filter((function(e){return e!==t}))}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){t.firebase_.INTERNAL.removeApp(t.name_);for(var e=[],n=0,r=Object.keys(t.services_);n<r.length;n++)for(var i=r[n],o=0,a=Object.keys(t.services_[i]);o<a.length;o++)e.push(t.services_[i][a[o]]);return Promise.all(e.map((function(t){return t.INTERNAL.delete()})))})).then((function(){t.isDeleted_=!0,t.services_={}}))},t.prototype._getService=function(t,e){if(void 0===e&&(e=u),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==u?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;o.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(l.forEach((function(t){e.INTERNAL.addAuthTokenListener(t)})),l=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&c("app-deleted",{name:this.name_})},t}();function f(t,e){return Object.prototype.hasOwnProperty.call(t,e)}d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var h=!1;try{h="[object process]"===Object.prototype.toString.call(global.process)}catch(g){}if(h&&console.warn('\nWarning: This is a browser-targeted Firebase bundle but it appears it is being\nrun in a Node environment.  If running in a Node environment, make sure you\nare using the bundle specified by the "main" field in package.json.\n\nIf you are using Webpack, you can specify "main" as the first item in\n"resolve.mainFields":\nhttps://webpack.js.org/configuration/resolve/#resolvemainfields\n\nIf using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\nto false and "main" to true:\nhttps://github.com/rollup/rollup-plugin-node-resolve\n'),self&&"firebase"in self){console.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var p=self.firebase.SDK_VERSION;p&&p.indexOf("LITE")>=0&&console.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=function t(){var e=function(t){var e={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var o=r;void 0===o.name&&(o.name=u);var a=o.name;"string"==typeof a&&a||c("bad-app-name",{name:String(a)}),f(e,a)&&c("duplicate-app",{name:a});var s=new t(n,o,i);return e[a]=s,l(s,"create"),s},app:a,apps:null,Promise:Promise,SDK_VERSION:"5.11.0",INTERNAL:{registerService:function(e,u,l,d,f){function h(t){return void 0===t&&(t=a()),"function"!=typeof t[e]&&c("invalid-app-argument",{name:e}),t[e]()}return void 0===f&&(f=!1),n[e]&&c("duplicate-service",{name:e}),n[e]=u,d&&(r[e]=d,s().forEach((function(t){d("create",t)}))),void 0!==l&&o.deepExtend(h,l),i[e]=h,t.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this._getService.bind(this,e);return r.apply(this,f?t:[])},h},removeApp:function(t){l(e[t],"delete"),delete e[t]},factories:n,useAsService:d}};function a(t){return f(e,t=t||u)||c("no-app",{name:t}),e[t]}function s(){return Object.keys(e).map((function(t){return e[t]}))}function l(t,e){for(var i=0,o=Object.keys(n);i<o.length;i++){var a=d(0,o[i]);if(null===a)return;r[a]&&r[a](e,t)}}function d(t,e){return"serverAuth"===e?null:e}return(o.patchProperty(i,"default",i),Object.defineProperty(i,"apps",{get:s}),o.patchProperty(a,"App",t),i)}(d);return e.INTERNAL=i.__assign({},e.INTERNAL,{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}();e.default=m,e.firebase=m},"q6u/":function(t,e){angular.module("castifyExt.deployConfig",[]).provider("deployConfig",(function(){let t={analyticsId:"UA-23874345-14",apiUrl:"https://api.screencastify.com/api",clientId:"242262968495-o42n5tqeo08dsa75p3j4dk1k61t05ln3.apps.googleusercontent.com",youtubeClientId:"242262968495-o42n5tqeo08dsa75p3j4dk1k61t05ln3.apps.googleusercontent.com",scopes:chrome.runtime.getManifest().oauth2.scopes,redirectUri:"https://www.screencastify.com/oauth2postback",editorOpenUri:"https://edit.screencastify.com/open/drive",welcomePageUri:"https://www.screencastify.com/welcome",notificationUri:"https://us-central1-castify-notifications-prod.cloudfunctions.net/api/userNotification/",exportServiceURL:"https://ingress.screencastify.com/api/exportService2",editServiceURL:"https://ingress.screencastify.com/api/editService",youtubeUpload2URL:"https://ingress.screencastify.com/api/youtubeUploadService/upload",env:"prod",enableInlinePopupSupport:!1};return{...t,$get:function(){return t}}}))},q91K:function(t,e){t.exports=!1},qAev:function(t,e,n){t.exports=n("zsIS")},qIOz:function(t,e,n){"use strict";var r=n("qiMw");e.EMPTY=new r.Observable((function(t){return t.complete()})),e.empty=function(t){return t?function(t){return new r.Observable((function(e){return t.schedule((function(){return e.complete()}))}))}(t):e.EMPTY}},qMCr:function(t,e,n){"use strict";var r=n("FVvq"),i=n("RKpm");e.mergeAll=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),r.mergeMap(i.identity,t)}},qQIG:function(t,e,n){var r,i,o,a,s,c;t.exports=(c=n("Ni7E"),n("PnNS"),i=(r=c).lib.WordArray,s=(o=r.algo).SHA224=(a=o.SHA256).extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=4,t}}),r.SHA224=a._createHelper(s),r.HmacSHA224=a._createHmacHelper(s),c.SHA224)},qVZV:function(t,e){angular.module("w69b.clipboard",[]).factory("clipboard",["$document",function(t){return{copy:function(e){var n=angular.element("<textarea></textarea>");n.text(e),t.find("body").append(n),n[0].select(),t[0].execCommand("copy"),n.remove()}}}])},qiMw:function(t,e,n){"use strict";var r=n("JJ8B"),i=n("Yfti"),o=n("k/06"),a=n("E/Xc"),s=n("QuXn");function c(t){if(t||(t=s.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}e.Observable=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=i.toSubscriber(t,e,n);if(o.add(r?r.call(o,this.source):this.source||s.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),s.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){s.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),r.canReportError(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=c(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[o.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:a.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=c(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}()},"qiR+":function(t,e,n){var r=n("skk5")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(i){}}return!1}},qvan:function(t,e){angular.module("castifyExt.ui.options",["ngMaterial","w69b.chromeTabs","w69b.throttle","w69b.spawn","castifyExt.appOptions","cf2.connectedAppsService","castifyExt.ui.policyHint","castifyExt.deployConfig","castifyExt.recordTool","cf2.downloadHelperService"]).component("cfOptions",{templateUrl:"components/castifyExt/ui/options/options.html",controller:["$scope","appOptions","chromeTabs","$mdDialog","$location","$log","cf2ConnectedAppsService","castifyConfig","cf2DownloadHelperService","$mdToast","deployConfig","spawn","recordTool",function(t,e,n,r,i,o,a,s,c,u,l,d,f){const h=s.API_URL+"/gdpr_request";t.downloadUserData=()=>{c.downloadFromUrl(h,"screencastify-user-data").catch(t=>{o.warn("GDPR data download failed",t),u.show(u.simple({hideDelay:5e3}).content("Failed to download user data. Please make sure you are signed in."))})},t.opt=e.values,t.optLocal=e.localValues,t.deployConfig=l,t.debug=i.search().hasOwnProperty("debug"),t.hasApps=!1,a.hasConnectedApps().then((function(e){t.hasApps=e})),this.qualityLabels={high:"highest quality (creates largest files)",medium:"medium quality",low:"lowest quality (creates smallest files)"},t.$watch("opt",(function(t,n){angular.equals(t,n)||d((function*(){let e=yield f.getRecordConfig();return"mp4"!==e.exportFormat?t:((t.driveSync!=n.driveSync&&!t.driveSync||t.hwEncoding!=n.hwEncoding&&!t.hwEncoding||t.instantUpload!=n.instantUpload&&!t.instantUpload)&&(e.exportFormat=f.getRecordConfigDefaults().exportFormat,delete e.nonpersistent,f.setRecordConfig(e)),t)})).then((function(t){e.values=t,e.save()}))}),!0),t.$watch("optLocal",(function(t,n){angular.equals(t,n)||(e.localValues=t,e.saveLocal())}),!0),t.openShortcuts=function(){n.create({url:"chrome://extensions/configureCommands"})},t.showDrawingShortcuts=function(t){r.show({targetEvent:t,clickOutsideToClose:!0,templateUrl:"components/castifyExt/ui/options/drawing-shortcuts-dialog.html"})},t.showQualityOptions=function(e){r.show({targetEvent:e,clickOutsideToClose:!0,scope:t,preserveScope:!0,templateUrl:"components/castifyExt/ui/options/video-quality-dialog.html"})}}]}).directive("cfStorageOption",(function(){return{restrict:"E",templateUrl:"components/castifyExt/ui/options/storage-option.html",scope:{ngModel:"="}}}))},rGhJ:function(t,e,n){var r;t.exports=(r=n("Ni7E"),function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.algo,s=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=i.create([0,1518500249,1859775393,2400959708,2840853838]),f=i.create([1352829926,1548603684,1836072691,2053994217,0]),h=a.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,i=t[r];t[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,a,h,_,w,S,E,x,C,k,T,P=this._hash.words,I=d.words,A=f.words,O=s.words,$=c.words,M=u.words,D=l.words;for(S=o=P[0],E=a=P[1],x=h=P[2],C=_=P[3],k=w=P[4],n=0;n<80;n+=1)T=o+t[e+O[n]]|0,T+=n<16?p(a,h,_)+I[0]:n<32?m(a,h,_)+I[1]:n<48?g(a,h,_)+I[2]:n<64?v(a,h,_)+I[3]:y(a,h,_)+I[4],T=(T=b(T|=0,M[n]))+w|0,o=w,w=_,_=b(h,10),h=a,a=T,T=S+t[e+$[n]]|0,T+=n<16?y(E,x,C)+A[0]:n<32?v(E,x,C)+A[1]:n<48?g(E,x,C)+A[2]:n<64?m(E,x,C)+A[3]:p(E,x,C)+A[4],T=(T=b(T|=0,D[n]))+k|0,S=k,k=C,C=b(x,10),x=E,E=T;T=P[1]+h+C|0,P[1]=P[2]+_+k|0,P[2]=P[3]+w+S|0,P[3]=P[4]+o+E|0,P[4]=P[0]+a+x|0,P[0]=T},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function p(t,e,n){return t^e^n}function m(t,e,n){return t&e|~t&n}function g(t,e,n){return(t|~e)^n}function v(t,e,n){return t&n|e&~n}function y(t,e,n){return t^(e|~n)}function b(t,e){return t<<e|t>>>32-e}e.RIPEMD160=o._createHelper(h),e.HmacRIPEMD160=o._createHmacHelper(h)}(Math),r.RIPEMD160)},rJTD:function(t,e){angular.module("w69b.uritool",[]).factory("uritool",(function(){var t=/\+/g;function e(e){return decodeURIComponent(e.replace(t," "))}return{parseQuery:function(t,n){var r;"?"==t[0]&&(t=t.substring(1));for(var i=/([^&=]+)=?([^&]*)/g,o={};r=i.exec(t);){var a=e(r[1]),s=e(r[2]);n&&o.hasOwnProperty(a)?o[a].push(s):o[a]=n?[s]:s}return o},parseUrl:function(t){var e=document.createElement("a");return e.href=t,{protocol:e.protocol.replace(":",""),host:e.hostname,port:e.port,query:e.search,hash:e.hash,path:e.pathname}},encodeQuery:function(t){var e=[];return angular.forEach(t,(function(t,n){angular.isArray(t)?angular.forEach(t,(function(t){e.push(encodeURIComponent(n)+(!0===t?"":"="+encodeURIComponent(t)))})):e.push(encodeURIComponent(n)+(!0===t?"":"="+encodeURIComponent(t)))})),e.length?e.join("&"):""}}}))},rZqX:function(t,e){angular.module("castifyExt.ui.policyHint",["castifyExt.appOptions"]).directive("cfPolicyHint",["appOptions",function(t){return{restrict:"E",replace:!0,scope:{},templateUrl:"components/castifyExt/ui/policy-hint/policy-hint.html",link:function(e,n,r){e.$watch((function(){return t.isSetByEnterprisePolicy(r.key)}),(function(t){e.show=t}))}}}]).directive("cfPolicyHide",["appOptions",function(t){return{restrict:"A",link:function(e,n,r){e.$watch((function(){return t.isSetByEnterprisePolicy(r.cfPolicyHide)}),(function(t){n.toggleClass("ng-hide",t)}))}}}])},rq2D:function(t,e){angular.module("castifyExt.syncStatusClient",["castifyExt.backgroundTool"]).factory("syncStatusClient",["backgroundTool",function(t){var e=t.portHelper("syncStatus",!1),n={state:{}};return e.installHandlers({stateUpdate:function(t){angular.copy(t,n.state)}}),n.retry=function(){e.postMessage("retry")},e.getPort(),n}])},rwVn:function(t,e,n){var r=n("LzYd");t.exports=function(t){return Object(r(t))}},sBpz:function(t,e,n){"use strict";e.subscribeToArray=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},sDEW:function(t,e,n){var r=n("2IC7"),i=n("Af+u"),o=n("dbvG"),a=n("lxjo");t.exports=function(t,e){for(var n=i(e),s=a.f,c=o.f,u=0;u<n.length;u++){var l=n[u];r(t,l)||s(t,l,c(e,l))}}},sGav:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV"),o=n("t25p");e.observeOn=function(t,e){return void 0===e&&(e=0),function(n){return n.lift(new a(t,e))}};var a=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=a;var s=function(t){function e(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return r(e,t),e.dispatch=function(t){t.notification.observe(t.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new c(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(o.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(o.Notification.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(o.Notification.createComplete()),this.unsubscribe()},e}(i.Subscriber);e.ObserveOnSubscriber=s;var c=function(){return function(t,e){this.notification=t,this.destination=e}}();e.ObserveOnMessage=c},sHF2:function(t,e,n){"use strict";var r=n("5hAx"),i=n("vgQ0"),o=n("CICS"),a=n("SqYg"),s=n("DQ6M");e.elementAt=function(t,e){if(t<0)throw new r.ArgumentOutOfRangeError;var n=arguments.length>=2;return function(c){return c.pipe(i.filter((function(e,n){return n===t})),s.take(1),n?a.defaultIfEmpty(e):o.throwIfEmpty((function(){return new r.ArgumentOutOfRangeError})))}}},sQ84:function(t,e){angular.module("w69b.filesHelper",["w69b.promiseTool"]).factory("filesHelper",["$window","promiseTool","$q",function(t,e,n){t.requestFileSystem=t.requestFileSystem||t.webkitRequestFileSystem;var r=window.PERSISTENT,i={};function o(t){var e=t.split("/");return[e.slice(0,-1).join("/"),e.slice(-1)[0]]}return["readEntries","remove","getFile","getMetadata","moveTo","file","getDirectory","createWriter"].forEach((function(t){i[t]=function(n){var r=[].slice.call(arguments,1);return e.wrapCallbacks(n[t],n).apply(null,r)}})),i.getFileSystem=function(n,i){return angular.isUndefined(n)&&(n=r),i=i||104857600,e.wrapCallbacks(t.requestFileSystem,t)(n,i)},i.getPersistentQuota=function(){var e=n.defer();return t.navigator.webkitPersistentStorage.queryUsageAndQuota((function(t,n){e.resolve({usage:t,quota:n})}),(function(t){e.reject(t)})),e.promise},chrome.system&&chrome.system.storage&&(i.getStorageInfo=e.wrapChromeError(chrome.system.storage.getInfo,chrome.system.storage)),i.getDirByPath=function(t,e){var r=t.split("/");return""===r[0]&&r.splice(0,1),i.getFileSystem().then((function(t){return function t(r,o){return o.length?i.getDirectory(r,o[0],e||{}).then((function(e){return t(e,o.slice(1))})):n.when(r)}(t.root,r)}))},i.moveFileByPath=function(t,e){var r=o(e),a=r[0],s=r[1];return n.all({file:i.getFileEntryByPath(t),targetDir:i.getDirByPath(a)}).then((function(t){return i.moveTo(t.file,t.targetDir,s)}))},i.getFileEntryByPath=function(t,e,n){var r=o(t),a=r[1];return i.getDirByPath(r[0],n).then((function(t){return i.getFile(t,a,e||{})}))},i.getFileByPath=function(t){return i.getFileEntryByPath(t).then((function(t){return i.file(t)}))},i.removeByPath=function(t){return i.getFileEntryByPath(t).then((function(t){return i.remove(t)}))},i.listByPath=function(t){return i.getDirByPath(t).then((function(t){var e=t.createReader();return i.readEntries(e)}))},i.requestPersistentQuota=function(t){return e.wrapCallbacks(navigator.webkitPersistentStorage.requestQuota,navigator.webkitPersistentStorage)(t||104857600)},i.requestTemporaryQuota=function(t){return e.wrapCallbacks(navigator.webkitTemporaryStorage.requestQuota,navigator.webkitTemporaryStorage)(t||104857600)},i.writeFile=function(t,e){var r=n.defer();return t.onwriteend=r.resolve.bind(r),t.onerror=r.reject.bind(r),t.write(e),r.promise},i.isSupported=function(){return!!window.requestFileSystem},i}])},"sSk+":function(t,e){angular.module("castifyExt.helpCenterConfig",["castifyExt.helpCenter"]).run(["helpCenter",function(t){t.registerUrl("load_nacl","https://screencastify.helpscoutdocs.com/article/33-failed-to-load-nacl-module"),t.registerUrl("disk_space","https://screencastify.helpscoutdocs.com/article/32-out-of-disk-space"),t.registerUrl("drive_apps","https://screencastify.helpscoutdocs.com/article/34-enabling-drive-on-google-apps"),t.registerUrl("start_recording","https://screencastify.helpscoutdocs.com/article/35-failed-to-start-recording"),t.registerUrl("change_account","https://screencastify.helpscoutdocs.com/article/31-how-to-sign-in-with-a-different-account"),t.registerUrl("quotaExceeded","https://screencastify.helpscoutdocs.com/article/20-out-of-space-on-google-drive"),t.registerUrl("youtubeSignupRequired","https://screencastify.helpscoutdocs.com/article/24-youtubesignuprequired-error-when-uploading-to-youtube"),t.registerUrl("no_audio","https://screencastify.helpscoutdocs.com/article/82-failed-to-capture-audio"),t.registerUrl("no_cam","https://screencastify.helpscoutdocs.com/article/83-failed-to-access-your-webcam"),t.registerUrl("no_audio_access","https://help.screencastify.com/article/213-screencastify-failed-to-capture-audio"),t.registerUrl("monthly_recordings_limit","https://www.screencastify.com/buy?utm_source=app&utm_content=notify&utm_campaign=monthly_limit"),t.registerUrl("youtubeCredentialsMissing","https://help.screencastify.com/article/219-i-received-a-youtubeauth-failed-error")}])},sjzl:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV"),o=n("6Br6"),a=n("qiMw"),s=n("tkgy");e.groupBy=function(t,e,n,r){return function(i){return i.lift(new c(t,e,n,r))}};var c=function(){function t(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),u=function(t){function e(e,n,r,i,o){var a=t.call(this,e)||this;return a.keySelector=n,a.elementSelector=r,a.durationSelector=i,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return r(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)},e.prototype._group=function(t,e){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(c){this.error(c)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new s.Subject,n.set(e,i);var o=new d(e,i,this);if(this.destination.next(o),this.durationSelector){var a=void 0;try{a=this.durationSelector(new d(e,i))}catch(c){return void this.error(c)}this.add(a.subscribe(new l(e,i,this)))}}i.closed||i.next(r)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach((function(e,n){e.error(t)})),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach((function(t,e){t.complete()})),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(i.Subscriber),l=function(t){function e(e,n,r){var i=t.call(this,n)||this;return i.key=e,i.group=n,i.parent=r,i}return r(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(i.Subscriber),d=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.groupSubject=n,i.refCountSubscription=r,i}return r(e,t),e.prototype._subscribe=function(t){var e=new o.Subscription,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new f(n)),e.add(r.subscribe(t)),e},e}(a.Observable);e.GroupedObservable=d;var f=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,e.count++,n}return r(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(o.Subscription)},skk5:function(t,e,n){var r=n("kXWg")("wks"),i=n("i3dY"),o=n("M5Hp").Symbol,a=n("ySQr");t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}},slFD:function(t,e,n){"use strict";var r=n("tQA4");e.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(r.zip.apply(void 0,[e].concat(t)))}}},t0wZ:function(t,e,n){"use strict";var r=n("ci3w"),i=n("DtmU"),o=n("uHtI");e.of=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return r.isScheduler(n)?(t.pop(),o.scheduleArray(t,n)):i.fromArray(t)}},t25p:function(t,e,n){"use strict";var r=n("qIOz"),i=n("t0wZ"),o=n("DLj4");e.NotificationKind=function(t){return t.NEXT="N",t.ERROR="E",t.COMPLETE="C",t}(e.NotificationKind||{}),e.Notification=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return i.of(this.value);case"E":return o.throwError(this.error);case"C":return r.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},t5Fe:function(t,e,n){var r=n("DbaZ");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},tFRQ:function(t,e,n){n("7js5")(n("M5Hp").JSON,"JSON",!0)},tQA4:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("DtmU"),o=n("D9en"),a=n("1hPV"),s=n("dmvN"),c=n("kZSD"),u=n("7bXj");e.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),i.fromArray(t,void 0).lift(new l(n))};var l=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new d(t,this.resultSelector))},t}();e.ZipOperator=l;var d=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null));var i=t.call(this,e)||this;return i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:null,i.values=r,i}return r(e,t),e.prototype._next=function(t){var e=this.iterators;o.isArray(t)?e.push(new h(t)):e.push("function"==typeof t[u.iterator]?new f(t[u.iterator]()):new p(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.destination.add(r.subscribe(r,n)):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++)if("function"==typeof(a=t[r]).hasValue&&!a.hasValue())return;var i=!1,o=[];for(r=0;r<e;r++){var a,s=(a=t[r]).next();if(a.hasCompleted()&&(i=!0),s.done)return void n.complete();o.push(s.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(a.Subscriber);e.ZipSubscriber=d;var f=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),h=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[u.iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),p=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return r(e,t),e.prototype[u.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return c.subscribeToResult(this,this.observable,this,e)},e}(s.OuterSubscriber)},tYWh:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("6Br6"),o=n("dmvN"),a=n("kZSD");e.bufferWhen=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.closingSelector))},t}(),c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return r(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,n,r,i){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t,e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{t=(0,this.closingSelector)()}catch(n){return this.error(n)}e=new i.Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(a.subscribeToResult(this,t)),this.subscribing=!1},e}(o.OuterSubscriber)},tYv9:function(t,e){angular.module("castifyExt.authConfig",["castifyExt.youtubeAuth","castifyExt.castifyAuth","w69b.chromeRuntime","w69b.googleHttpAuthInterceptor","castifyExt.youtubeAuth"]).config(["$httpProvider","youtubeAuthProvider","googleHttpAuthInterceptorProvider","deployConfigProvider",function(t,e,n,r){e.setClientId(r.youtubeClientId),t.interceptors.push("youtubeHttpAuthInterceptor"),t.interceptors.push("googleHttpAuthInterceptor"),n.enableAuthAutoRetry(!0),n.setAuthProvider("castifyAuth")}])},tkgy:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("qiMw"),o=n("1hPV"),a=n("6Br6"),s=n("O09R"),c=n("Rdb5"),u=n("7oWP"),l=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r(e,t),e}(o.Subscriber);e.SubjectSubscriber=l;var d=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r(e,t),e.prototype[u.rxSubscriber]=function(){return new l(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(t.complete(),a.Subscription.EMPTY):(this.observers.push(t),new c.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(i.Observable);e.Subject=d;var f=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.Subscription.EMPTY},e}(d);e.AnonymousSubject=f},tkyr:function(t,e){angular.module("castifyExt.ui.searchHelp",["castifyExt.helpCenter"]).directive("cfSearchHelp",["chromeTabs","helpCenter",function(t,e){return{link:function(n,r,i){r.bind("click",(function(n){var r="https://help.screencastify.com",o=i.cfSearchHelp;n.preventDefault(),o&&e.hasHelpFor(o)?e.openHelp(o):(o&&(r="https://help.screencastify.com/search?query="+encodeURIComponent(o)),t.create({url:r}))}))}}}])},tpAt:function(t,e,n){"use strict";e.hostReportError=function(t){setTimeout((function(){throw t}),0)}},"tsJ/":function(t,e,n){n("dRAY")("patternMatch")},uHtI:function(t,e,n){"use strict";var r=n("qiMw"),i=n("6Br6");e.scheduleArray=function(t,e){return new r.Observable((function(n){var r=new i.Subscription,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},ubDa:function(t,e,n){var r=n("vP4O"),i=n("LzYd");t.exports=function(t,e,n){if(r(e))throw TypeError("String.prototype."+n+" doesn't accept regex");return String(i(t))}},ue8h:function(t,e,n){var r=n("2IC7"),i=n("Ss0U"),o=n("8bL1")(!1),a=n("ZREF");t.exports=function(t,e){var n,s=i(t),c=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);for(;e.length>c;)r(s,n=e[c++])&&(~o(u,n)||u.push(n));return u}},uoNz:function(t,e){angular.module("castifyEdit.ui.timeLine",["castifyEdit.ui.timeLineCanvas"]).directive("cfTimeLine",["$window",function(t){function e(e,n){var r=e,i=e[0],o=i.querySelector(".scroll-container"),a=angular.element(i.querySelector(".scroll-content")),s=this,c=0,u=20;function l(){n.ticks.push({time:0}),n.ticks.push({time:n.previewCtrl.duration}),d()}function d(){c=o.getBoundingClientRect().width-2*u,a.css("width",s.getWidth()+"px"),n.$broadcast("timeLine:resize")}n.zoom=1,n.ticks=[],this.init=function(){d(),n.$on("videoPreview:loaded",l),n.$watch("zoom",d),t.addEventListener("resize",d),r.bind("$destroy",(function(){t.removeEventListener("resize",d)}))},s.scrollToCenter=function(t){o.scrollLeft=t.offsetLeft-c/2},s.posToTime=function(t){return t/s.getWidth()*n.previewCtrl.duration},s.timeToPos=function(t){return t/n.previewCtrl.duration*s.getWidth()},s.getWidth=function(){return c*n.zoom},s.getTimeSpan=function(){return n.previewCtrl.duration},s.getPadding=function(){return u},s.addTick=function(t){return n.ticks.push(t),t},s.roundTime=function(t){return Math.round(10*t)/10},s.redrawCanvas=function(){n.$broadcast("timeLine:redrawCanvas")}}return e.$inject=["$element","$scope"],{restrict:"E",templateUrl:"components/castifyEdit/ui/time-line/time-line.html",transclude:!0,scope:{previewCtrl:"="},controller:e,link:function(t,e,n,r){r.init()}}}])},uozk:function(t,e,n){"use strict";var r=n("cp9A")(6),i=!0;"findIndex"in[]&&Array(1).findIndex((function(){i=!1})),n("9SEF")({target:"Array",proto:!0,forced:i},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("J3oN")("findIndex")},ur0i:function(t,e,n){var r=n("Ss0U"),i=n("XzrS").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(e){return a.slice()}}(t):i(r(t))}},uuIn:function(t,e,n){var r=n("jVWu"),i=n("5UrB"),o=n("M5Hp"),a=n("NaO6"),s=n("skk5"),c=s("iterator"),u=s("toStringTag"),l=i.values;for(var d in r){var f=o[d],h=f&&f.prototype;if(h){if(h[c]!==l)try{a(h,c,l)}catch(m){h[c]=l}if(h[u]||a(h,u,d),r[d])for(var p in i)if(h[p]!==i[p])try{a(h,p,i[p])}catch(m){h[p]=i[p]}}}},uzHr:function(t,e,n){"use strict";var r=n("FVvq");e.concatMap=function(t,e){return r.mergeMap(t,e,1)}},uzuk:function(t,e,n){"use strict";var r=n("QuXn"),i=n("tpAt");e.empty={closed:!0,next:function(t){},error:function(t){if(r.config.useDeprecatedSynchronousErrorHandling)throw t;i.hostReportError(t)},complete:function(){}}},v2vP:function(t,e,n){"use strict";e.isFunction=function(t){return"function"==typeof t}},vBcS:function(t,e,n){var r=n("WVut"),i=n("M5Hp").WeakMap;t.exports="function"==typeof i&&/native code/.test(r.call(i))},vEKW:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV"),o=n("6Br6");e.finalize=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.callback))},t}(),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new o.Subscription(n)),r}return r(e,t),e}(i.Subscriber)},vEZL:function(t,e){angular.module("w69b.googleHttpAuthInterceptor",[]).provider("googleHttpAuthInterceptor",(function(){var t=0,e="googleauth";this.enableAuthAutoRetry=function(e){t=e?1:0},this.setAuthProvider=function(t){e=t},this.$get=["$q","$log","$injector",function(n,r,i){var o,a;function s(t){return(a||(a=i.get(e)),a).getAuthToken(t)}return{request:function(t){return t.googleAuth?s({scopes:t.googleAuthScopes}).then((function(e){return t.headers=angular.extend(t.headers||{},function(t){return{Authorization:"Bearer "+t}}(e)),t}),(function(t){return r.warn("googleAuthHttpInterceptor: no token, aborting request",t),n.reject("googleAuthFailed")})):t},responseError:function(e){if(401==e.status&&e.config.googleAuth&&!1!==e.config.authAutoRetry){r.debug("auth error detected",e);var a=angular.copy(e.config);if(a.authRetryCount?a.authRetryCount++:a.authRetryCount=1,a.authRetryCount<=t)return s({scopes:a.googleAuthScopes,validate:!0}).then((function(){return r.debug("googleAuthHttpInterceptor: auto-retrying with validated token"),(o||(o=i.get("$http")),o)(a)}))}return n.reject(e)}}}]}))},vEql:function(t,e,n){"use strict";n("pH9l");var r,i=(r=n("plFh"))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=i},vP4O:function(t,e,n){var r=n("DbaZ"),i=n("yz8b"),o=n("skk5")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},vU7N:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.AsyncAction=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return r(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(n("LR82").Action)},vVDj:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV");e.refCount=function(){return function(t){return t.lift(new o(t))}};var o=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new a(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(i.Subscriber)},vdqk:function(t,e,n){"use strict";e.Scheduler=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}()},vfqg:function(t,e,n){"use strict";var r=n("7bXj");e.isIterable=function(t){return t&&"function"==typeof t[r.iterator]}},vgQ0:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV");e.filter=function(t,e){return function(n){return n.lift(new o(t,e))}};var o=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(i.Subscriber)},vhMh:function(t,e,n){"use strict";var r=n("zDe/");e.shareReplay=function(t,e,n){var i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,i=t.bufferSize,o=void 0===i?Number.POSITIVE_INFINITY:i,a=t.windowTime,s=void 0===a?Number.POSITIVE_INFINITY:a,c=t.refCount,u=t.scheduler,l=0,d=!1,f=!1;return function(t){l++,e&&!d||(d=!1,e=new r.ReplaySubject(o,s,u),n=t.subscribe({next:function(t){e.next(t)},error:function(t){d=!0,e.error(t)},complete:function(){f=!0,e.complete()}}));var i=e.subscribe(this);this.add((function(){l--,i.unsubscribe(),n&&!f&&c&&0===l&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(i))}}},vjUc:function(t,e){angular.module("castifyExt.ui.loadingOverlay",[]).directive("cfLoadingBackdrop",(function(){return{restrict:"E",template:'<md-progress-circular md-mode="indeterminate"></md-progress-circular>'}})).directive("cfLoadingOverlay",["$compile",function(t){return{restrict:"A",link:function(e,n,r){var i=null;e.$watch(r.cfLoadingOverlay,(function(r){r?(i=t("<cf-loading-backdrop></cf-loading-backdrop>")(e),n.append(i)):i&&(i.remove(),i=null)}))}}}])},vn51:function(t,e){angular.module("w69b.ui.focus",[]).directive("wbLoopFocus",["$document","$timeout",function(t,e){return{restrict:"A",link:function(n,r){var i=r[0];function o(){var t=i.querySelector('input:not([tabindex^="-"]),textarea:not([tabindex^="-"]),button:not([tabindex^="-"]),*[tabindex]:not([tabindex^="-"])');t&&t.focus()}function a(t){var n=t.target;t.relatedTarget||i.contains(n)&&n!==i||e(o)}r.attr("tabindex",-1);var s=t.find("body");s[0].addEventListener("focus",a,!0),r.on("$destroy",(function(){s[0].removeEventListener("focus",a,!0)}))}}}]).directive("wbFocus",["$timeout",function(t){return{link:function(e,n,r){e.$watch(r.wbFocus,(function(e){e&&t((function(){n[0].focus(),n[0].select&&n[0].select()}))}),!0),n.bind("blur",(function(){angular.isDefined(r.wbFocusLost)&&e.$apply(r.wbFocusLost)}))}}}]).directive("wbAutoselect",["$timeout",function(t){return{link:function(e,n){n.bind("focus click",(function(){t((function(){n[0].select()}))}))}}}])},w9Pv:function(t,e,n){var r,i,o,a,s;t.exports=(s=n("Ni7E"),i=(r=s.lib).Base,o=r.WordArray,(a=s.x64={}).Word=i.extend({init:function(t,e){this.high=t,this.low=e}}),a.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],r=0;r<e;r++){var i=t[r];n.push(i.high),n.push(i.low)}return o.create(n,this.sigBytes)},clone:function(){for(var t=i.clone.call(this),e=t.words=this.words.slice(0),n=e.length,r=0;r<n;r++)e[r]=e[r].clone();return t}}),s)},wHJ2:function(t,e){!function(t){"use strict";var e={objectMaxDepth:5,urlErrorParamsEnabled:!0};function n(t){if(!B(t))return e;F(t.objectMaxDepth)&&(e.objectMaxDepth=r(t.objectMaxDepth)?t.objectMaxDepth:NaN),F(t.urlErrorParamsEnabled)&&X(t.urlErrorParamsEnabled)&&(e.urlErrorParamsEnabled=t.urlErrorParamsEnabled)}function r(t){return U(t)&&t>0}function i(t,n){n=n||Error;var r="https://errors.angularjs.org/1.7.9/",i=r.replace(".","\\.")+"[\\s\\S]*",o=new RegExp(i,"g");return function(){var i,a,s=arguments[0],c=arguments[1],u="["+(t?t+":":"")+s+"] ",l=ft(arguments,2).map((function(t){return Wt(t,e.objectMaxDepth)}));if(u+=c.replace(/\{\d+\}/g,(function(t){var e=+t.slice(1,-1);return e<l.length?l[e].replace(o,""):t})),u+="\n"+r+(t?t+"/":"")+s,e.urlErrorParamsEnabled)for(a=0,i="?";a<l.length;a++,i="&")u+=i+"p"+a+"="+encodeURIComponent(l[a]);return new n(u)}}var o,a,s,c,u=/^\/(.+)\/([a-z]*)$/,l="validity",d=Object.prototype.hasOwnProperty,f=function(t){return H(t)?t.toLowerCase():t},h=function(t){return H(t)?t.toUpperCase():t},p=[].slice,m=[].splice,g=[].push,v=Object.prototype.toString,y=Object.getPrototypeOf,b=i("ng"),_=t.angular||(t.angular={}),w=0;function S(t){if(null==t||Q(t))return!1;if(z(t)||H(t)||a&&t instanceof a)return!0;var e="length"in Object(t)&&t.length;return U(e)&&(e>=0&&e-1 in t||"function"==typeof t.item)}function E(t,e,n){var r,i;if(t)if(G(t))for(r in t)"prototype"!==r&&"length"!==r&&"name"!==r&&t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else if(z(t)||S(t)){var o="object"!=typeof t;for(r=0,i=t.length;r<i;r++)(o||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==E)t.forEach(e,n,t);else if(V(t))for(r in t)e.call(n,t[r],r,t);else if("function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else for(r in t)d.call(t,r)&&e.call(n,t[r],r,t);return t}function x(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function C(t){return function(e,n){t(n,e)}}function k(){return++w}function T(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function P(t,e,n){for(var r=t.$$hashKey,i=0,o=e.length;i<o;++i){var a=e[i];if(B(a)||G(a))for(var s=Object.keys(a),c=0,u=s.length;c<u;c++){var l=s[c],d=a[l];n&&B(d)?q(d)?t[l]=new Date(d.valueOf()):K(d)?t[l]=new RegExp(d):d.nodeName?t[l]=d.cloneNode(!0):nt(d)?t[l]=d.clone():"__proto__"!==l&&(B(t[l])||(t[l]=z(d)?[]:{}),P(t[l],[d],!0)):t[l]=d}}return T(t,r),t}function I(t){return P(t,p.call(arguments,1),!1)}function A(t){return P(t,p.call(arguments,1),!0)}function O(t){return parseInt(t,10)}o=t.document.documentMode;var $=Number.isNaN||function(t){return t!=t};function M(t,e){return I(Object.create(t),e)}function D(){}function N(t){return t}function R(t){return function(){return t}}function L(t){return G(t.toString)&&t.toString!==v}function j(t){return void 0===t}function F(t){return void 0!==t}function B(t){return null!==t&&"object"==typeof t}function V(t){return null!==t&&"object"==typeof t&&!y(t)}function H(t){return"string"==typeof t}function U(t){return"number"==typeof t}function q(t){return"[object Date]"===v.call(t)}function z(t){return Array.isArray(t)||t instanceof Array}function W(t){switch(v.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}}function G(t){return"function"==typeof t}function K(t){return"[object RegExp]"===v.call(t)}function Q(t){return t&&t.window===t}function Y(t){return t&&t.$evalAsync&&t.$watch}function X(t){return"boolean"==typeof t}function Z(t){return t&&G(t.then)}D.$inject=[],N.$inject=[];var J=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,tt=function(t){return H(t)?t.trim():t},et=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function nt(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function rt(t){return f(t.nodeName||t[0]&&t[0].nodeName)}function it(t,e){return-1!==Array.prototype.indexOf.call(t,e)}function ot(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function at(t,e,n){var i,o=[],a=[];if(n=r(n)?n:NaN,e){if((i=e)&&U(i.length)&&J.test(v.call(i))||"[object ArrayBuffer]"===v.call(e))throw b("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw b("cpi","Can't copy! Source and destination are identical.");return z(e)?e.length=0:E(e,(function(t,n){"$$hashKey"!==n&&delete e[n]})),o.push(t),a.push(e),s(t,e,n)}return c(t,n);function s(t,e,n){if(--n<0)return"...";var r,i=e.$$hashKey;if(z(t))for(var o=0,a=t.length;o<a;o++)e.push(c(t[o],n));else if(V(t))for(r in t)e[r]=c(t[r],n);else if(t&&"function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&(e[r]=c(t[r],n));else for(r in t)d.call(t,r)&&(e[r]=c(t[r],n));return T(e,i),e}function c(t,e){if(!B(t))return t;var n=o.indexOf(t);if(-1!==n)return a[n];if(Q(t)||Y(t))throw b("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,i=function(t){switch(v.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(c(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(G(t.cloneNode))return t.cloneNode(!0)}(t);return void 0===i&&(i=z(t)?[]:Object.create(y(t)),r=!0),o.push(t),a.push(i),r?s(t,i,e):i}}function st(t,e){return t===e||t!=t&&e!=e}function ct(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,r,i,o=typeof t;if(o===typeof e&&"object"===o){if(!z(t)){if(q(t))return!!q(e)&&st(t.getTime(),e.getTime());if(K(t))return!!K(e)&&t.toString()===e.toString();if(Y(t)||Y(e)||Q(t)||Q(e)||z(e)||q(e)||K(e))return!1;for(r in i=jt(),t)if("$"!==r.charAt(0)&&!G(t[r])){if(!ct(t[r],e[r]))return!1;i[r]=!0}for(r in e)if(!(r in i)&&"$"!==r.charAt(0)&&F(e[r])&&!G(e[r]))return!1;return!0}if(!z(e))return!1;if((n=t.length)===e.length){for(r=0;r<n;r++)if(!ct(t[r],e[r]))return!1;return!0}}return!1}var ut=function(){if(!F(ut.rules)){var e=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");ut.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else ut.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(t){return!0}}(),noInlineStyle:!1}}return ut.rules},lt=function(){if(F(lt.name_))return lt.name_;var e,n,r,i,o=kt.length;for(n=0;n<o;++n)if(e=t.document.querySelector("["+(r=kt[n]).replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return lt.name_=i};function dt(t,e,n){return t.concat(p.call(e,n))}function ft(t,e){return p.call(t,e||0)}function ht(t,e){var n=arguments.length>2?ft(arguments,2):[];return!G(e)||e instanceof RegExp?e:n.length?function(){return e.apply(t,arguments.length?dt(n,arguments,0):n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function pt(e,n){var r=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=void 0:Q(n)?r="$WINDOW":n&&t.document===n?r="$DOCUMENT":Y(n)&&(r="$SCOPE"),r}function mt(t,e){if(!j(t))return U(e)||(e=e?2:null),JSON.stringify(t,pt,e)}function gt(t){return H(t)?JSON.parse(t):t}var vt=/:/g;function yt(t,e){t=t.replace(vt,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return $(n)?e:n}function bt(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}function _t(t,e,n){n=n?-1:1;var r=t.getTimezoneOffset();return bt(t,n*(yt(e,r)-r))}function wt(t){t=a(t).clone().empty();var e=a("<div></div>").append(t).html();try{return t[0].nodeType===Vt?f(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,(function(t,e){return"<"+f(e)}))}catch(n){return f(e)}}function St(t){try{return decodeURIComponent(t)}catch(e){}}function Et(t){var e={};return E((t||"").split("&"),(function(t){var n,r,i;t&&(r=t=t.replace(/\+/g,"%20"),-1!==(n=t.indexOf("="))&&(r=t.substring(0,n),i=t.substring(n+1)),F(r=St(r))&&(i=!F(i)||St(i),d.call(e,r)?z(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i))})),e}function xt(t){return Ct(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Ct(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}var kt=["ng-","data-ng-","ng:","x-ng-"],Tt=function(e){var n=e.currentScript;if(!n)return!0;if(!(n instanceof t.HTMLScriptElement||n instanceof t.SVGScriptElement))return!1;var r=n.attributes;return[r.getNamedItem("src"),r.getNamedItem("href"),r.getNamedItem("xlink:href")].every((function(t){if(!t)return!0;if(!t.value)return!1;var n=e.createElement("a");if(n.href=t.value,e.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}))}(t.document);function Pt(e,n,r){B(r)||(r={}),r=I({strictDi:!1},r);var i=function(){if((e=a(e)).injector()){var i=e[0]===t.document?"document":wt(e);throw b("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}(n=n||[]).unshift(["$provide",function(t){t.value("$rootElement",e)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var o=Ye(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply((function(){e.data("$injector",r),n(e)(t)}))}]),o},o=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(t&&o.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(o,"")),t&&!s.test(t.name))return i();t.name=t.name.replace(s,""),_.resumeBootstrap=function(t){return E(t,(function(t){n.push(t)})),i()},G(_.resumeDeferredBootstrap)&&_.resumeDeferredBootstrap()}function It(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function At(t){var e=_.element(t).injector();if(!e)throw b("test","no injector found for element argument to getTestability");return e.get("$$testability")}var Ot=/[A-Z]/g;function $t(t,e){return e=e||"_",t.replace(Ot,(function(t,n){return(n?e:"")+t.toLowerCase()}))}var Mt=!1;function Dt(t,e,n){if(!t)throw b("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function Nt(t,e,n){return n&&z(t)&&(t=t[t.length-1]),Dt(G(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function Rt(t,e){if("hasOwnProperty"===t)throw b("badname","hasOwnProperty is not a valid {0} name",e)}function Lt(t){for(var e,n=t[0],r=t[t.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(e||t[i]!==n)&&(e||(e=a(p.call(t,0,i))),e.push(n));return e||t}function jt(){return Object.create(null)}function Ft(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!L(t)||z(t)||q(t)?mt(t):t.toString()}return t}var Bt=1,Vt=3,Ht=8,Ut=9,qt=11;function zt(t,e){if(z(t)){e=e||[];for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}else if(B(t))for(var i in e=e||{},t)"$"===i.charAt(0)&&"$"===i.charAt(1)||(e[i]=t[i]);return e||t}function Wt(t,e){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):j(t)?"undefined":"string"!=typeof t?function(t,e){var n=[];return r(e)&&(t=_.copy(t,null,e)),JSON.stringify(t,(function(t,e){if(B(e=pt(t,e))){if(n.indexOf(e)>=0)return"...";n.push(e)}return e}))}(t,e):t}var Gt={full:"1.7.9",major:1,minor:7,dot:9,codeName:"pollution-eradication"};de.expando="ng339";var Kt=de.cache={},Qt=1;de._data=function(t){return this.cache[t[this.expando]]||{}};var Yt=/-([a-z])/g,Xt=/^-ms-/,Zt={mouseleave:"mouseout",mouseenter:"mouseover"},Jt=i("jqLite");function te(t,e){return e.toUpperCase()}function ee(t){return t.replace(Yt,te)}var ne=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,re=/<|&#?\w+;/,ie=/<([\w:-]+)/,oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ae={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function se(t){return!re.test(t)}function ce(t){var e=t.nodeType;return e===Bt||!e||e===Ut}function ue(t,e){var n,r,i,o,a=e.createDocumentFragment(),s=[];if(se(t))s.push(e.createTextNode(t));else{for(n=a.appendChild(e.createElement("div")),r=(ie.exec(t)||["",""])[1].toLowerCase(),n.innerHTML=(i=ae[r]||ae._default)[1]+t.replace(oe,"<$1></$2>")+i[2],o=i[0];o--;)n=n.lastChild;s=dt(s,n.childNodes),(n=a.firstChild).textContent=""}return a.textContent="",a.innerHTML="",E(s,(function(t){a.appendChild(t)})),a}ae.optgroup=ae.option,ae.tbody=ae.tfoot=ae.colgroup=ae.caption=ae.thead,ae.th=ae.td;var le=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};function de(e){if(e instanceof de)return e;var n,r,i,o;if(H(e)&&(e=tt(e),n=!0),!(this instanceof de)){if(n&&"<"!==e.charAt(0))throw Jt("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new de(e)}n?Ee(this,(i=i||t.document,(o=ne.exec(r=e))?[i.createElement(o[1])]:(o=ue(r,i))?o.childNodes:[])):G(e)?Pe(e):Ee(this,e)}function fe(t){return t.cloneNode(!0)}function he(t,e){!e&&ce(t)&&a.cleanData([t]),t.querySelectorAll&&a.cleanData(t.querySelectorAll("*"))}function pe(t){var e;for(e in t)return!1;return!0}function me(t){var e=t.ng339,n=e&&Kt[e],r=n&&n.events,i=n&&n.data;i&&!pe(i)||r&&!pe(r)||(delete Kt[e],t.ng339=void 0)}function ge(t,e,n,r){if(F(r))throw Jt("offargs","jqLite#off() does not support the `selector` argument");var i=ye(t),o=i&&i.events,a=i&&i.handle;if(a){if(e){var s=function(e){var r=o[e];F(n)&&ot(r||[],n),F(n)&&r&&r.length>0||(t.removeEventListener(e,a),delete o[e])};E(e.split(" "),(function(t){s(t),Zt[t]&&s(Zt[t])}))}else for(e in o)"$destroy"!==e&&t.removeEventListener(e,a),delete o[e];me(t)}}function ve(t,e){var n=t.ng339,r=n&&Kt[n];r&&(e?delete r.data[e]:r.data={},me(t))}function ye(t,e){var n=t.ng339,r=n&&Kt[n];return e&&!r&&(t.ng339=n=++Qt,r=Kt[n]={events:{},data:{},handle:void 0}),r}function be(t,e,n){if(ce(t)){var r,i=F(n),o=!i&&e&&!B(e),a=!e,s=ye(t,!o),c=s&&s.data;if(i)c[ee(e)]=n;else{if(a)return c;if(o)return c&&c[ee(e)];for(r in e)c[ee(r)]=e[r]}}}function _e(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function we(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;E(e.split(" "),(function(t){t=tt(t),r=r.replace(" "+t+" "," ")})),r!==n&&t.setAttribute("class",tt(r))}}function Se(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;E(e.split(" "),(function(t){t=tt(t),-1===r.indexOf(" "+t+" ")&&(r+=t+" ")})),r!==n&&t.setAttribute("class",tt(r))}}function Ee(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;r<n;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function xe(t,e){return Ce(t,"$"+(e||"ngController")+"Controller")}function Ce(t,e,n){t.nodeType===Ut&&(t=t.documentElement);for(var r=z(e)?e:[e];t;){for(var i=0,o=r.length;i<o;i++)if(F(n=a.data(t,r[i])))return n;t=t.parentNode||t.nodeType===qt&&t.host}}function ke(t){for(he(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Te(t,e){e||he(t);var n=t.parentNode;n&&n.removeChild(t)}function Pe(e){function n(){t.document.removeEventListener("DOMContentLoaded",n),t.removeEventListener("load",n),e()}"complete"===t.document.readyState?t.setTimeout(e):(t.document.addEventListener("DOMContentLoaded",n),t.addEventListener("load",n))}var Ie=de.prototype={ready:Pe,toString:function(){var t=[];return E(this,(function(e){t.push(""+e)})),"["+t.join(", ")+"]"},eq:function(t){return a(t>=0?this[t]:this[this.length+t])},length:0,push:g,sort:[].sort,splice:[].splice},Ae={};E("multiple,selected,checked,disabled,readOnly,required,open".split(","),(function(t){Ae[f(t)]=t}));var Oe={};E("input,select,option,textarea,button,form,details".split(","),(function(t){Oe[t]=!0}));var $e={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function Me(t,e){var n=Ae[e.toLowerCase()];return n&&Oe[rt(t)]&&n}function De(t,e,n){n.call(t,e)}function Ne(t,e,n){var r=e.relatedTarget;r&&(r===t||le.call(t,r))||n.call(t,e)}function Re(){this.$get=function(){return I(de,{hasClass:function(t,e){return t.attr&&(t=t[0]),_e(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Se(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),we(t,e)}})}}function Le(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return"function"===r||"object"===r&&null!==t?t.$$hashKey=r+":"+(e||k)():r+":"+t}E({data:be,removeData:ve,hasData:function(t){for(var e in Kt[t.ng339])return!0;return!1},cleanData:function(t){for(var e=0,n=t.length;e<n;e++)ve(t[e]),ge(t[e])}},(function(t,e){de[e]=t})),E({data:be,inheritedData:Ce,scope:function(t){return a.data(t,"$scope")||Ce(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return a.data(t,"$isolateScope")||a.data(t,"$isolateScopeNoTemplate")},controller:xe,injector:function(t){return Ce(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:_e,css:function(t,e,n){if(e=function(t){return ee(t.replace(Xt,"ms-"))}(e),!F(n))return t.style[e];t.style[e]=n},attr:function(t,e,n){var r,i=t.nodeType;if(i!==Vt&&2!==i&&i!==Ht&&t.getAttribute){var o=f(e),a=Ae[o];if(!F(n))return r=t.getAttribute(e),a&&null!==r&&(r=o),null===r?void 0:r;null===n||!1===n&&a?t.removeAttribute(e):t.setAttribute(e,a?o:n)}},prop:function(t,e,n){if(!F(n))return t[e];t[e]=n},text:function(){return t.$dv="",t;function t(t,e){if(j(e)){var n=t.nodeType;return n===Bt||n===Vt?t.textContent:""}t.textContent=e}}(),val:function(t,e){if(j(e)){if(t.multiple&&"select"===rt(t)){var n=[];return E(t.options,(function(t){t.selected&&n.push(t.value||t.text)})),n}return t.value}t.value=e},html:function(t,e){if(j(e))return t.innerHTML;he(t,!0),t.innerHTML=e},empty:ke},(function(t,e){de.prototype[e]=function(e,n){var r,i,o=this.length;if(t!==ke&&j(2===t.length&&t!==_e&&t!==xe?e:n)){if(B(e)){for(r=0;r<o;r++)if(t===be)t(this[r],e);else for(i in e)t(this[r],i,e[i]);return this}for(var a=t.$dv,s=j(a)?Math.min(o,1):o,c=0;c<s;c++){var u=t(this[c],e,n);a=a?a+u:u}return a}for(r=0;r<o;r++)t(this[r],e,n);return this}})),E({removeData:ve,on:function(t,e,n,r){if(F(r))throw Jt("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ce(t)){var i=ye(t,!0),o=i.events,a=i.handle;a||(a=i.handle=function(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(j(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=i.specialHandlerWrapper||De;o>1&&(i=zt(i));for(var c=0;c<o;c++)n.isImmediatePropagationStopped()||s(t,n,i[c])}};return n.elem=t,n}(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],c=s.length,u=function(e,r,i){var s=o[e];s||((s=o[e]=[]).specialHandlerWrapper=r,"$destroy"===e||i||t.addEventListener(e,a)),s.push(n)};c--;)Zt[e=s[c]]?(u(Zt[e],Ne),u(e,void 0,!0)):u(e)}},off:ge,one:function(t,e,n){(t=a(t)).on(e,(function r(){t.off(e,n),t.off(e,r)})),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;he(t),E(new de(e),(function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e}))},children:function(t){var e=[];return E(t.childNodes,(function(t){t.nodeType===Bt&&e.push(t)})),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===Bt||n===qt)for(var r=0,i=(e=new de(e)).length;r<i;r++)t.appendChild(e[r])},prepend:function(t,e){if(t.nodeType===Bt){var n=t.firstChild;E(new de(e),(function(e){t.insertBefore(e,n)}))}},wrap:function(t,e){var n,r,i;n=t,r=a(e).eq(0).clone()[0],(i=n.parentNode)&&i.replaceChild(r,n),r.appendChild(n)},remove:Te,detach:function(t){Te(t,!0)},after:function(t,e){var n=t,r=t.parentNode;if(r)for(var i=0,o=(e=new de(e)).length;i<o;i++){var a=e[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Se,removeClass:we,toggleClass:function(t,e,n){e&&E(e.split(" "),(function(e){var r=n;j(r)&&(r=!_e(t,e)),(r?Se:we)(t,e)}))},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==qt?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:fe,triggerHandler:function(t,e,n){var r,i,o,a=e.type||e,s=ye(t),c=s&&s.events,u=c&&c[a];u&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:D,type:a,target:t},e.type&&(r=I(r,e)),i=zt(u),o=n?[r].concat(n):[r],E(i,(function(e){r.isImmediatePropagationStopped()||e.apply(t,o)})))}},(function(t,e){de.prototype[e]=function(e,n,r){for(var i,o=0,s=this.length;o<s;o++)j(i)?F(i=t(this[o],e,n,r))&&(i=a(i)):Ee(i,t(this[o],e,n,r));return F(i)?i:this}})),de.prototype.bind=de.prototype.on,de.prototype.unbind=de.prototype.off;var je=Object.create(null);function Fe(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}Fe.prototype={_idx:function(t){return t!==this._lastKey&&(this._lastKey=t,this._lastIndex=this._keys.indexOf(t)),this._lastIndex},_transformKey:function(t){return $(t)?je:t},get:function(t){t=this._transformKey(t);var e=this._idx(t);if(-1!==e)return this._values[e]},has:function(t){return t=this._transformKey(t),-1!==this._idx(t)},set:function(t,e){t=this._transformKey(t);var n=this._idx(t);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=t,this._values[n]=e},delete:function(t){t=this._transformKey(t);var e=this._idx(t);return-1!==e&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Be=Fe,Ve=[function(){this.$get=[function(){return Be}]}],He=/^([^(]+?)=>/,Ue=/^[^(]*\(\s*([^)]*)\)/m,qe=/,/,ze=/^\s*(_?)(\S+?)\1\s*$/,We=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ge=i("$injector");function Ke(t){return Function.prototype.toString.call(t)}function Qe(t){var e=Ke(t).replace(We,"");return e.match(He)||e.match(Ue)}function Ye(t,e){e=!0===e;var n={},r="Provider",i=[],a=new Be,s={$provide:{provider:p(m),factory:p(v),service:p((function(t,e){return v(t,["$injector",function(t){return t.instantiate(e)}])})),value:p((function(t,e){return v(t,R(e),!1)})),constant:p((function(t,e){Rt(t,"constant"),s[t]=e,l[t]=e})),decorator:function(t,e){var n=u.get(t+r),i=n.$get;n.$get=function(){var t=f.invoke(i,n);return f.invoke(e,null,{$delegate:t})}}}},u=s.$injector=b(s,(function(t,e){throw _.isString(e)&&i.push(e),Ge("unpr","Unknown provider: {0}",i.join(" <- "))})),l={},d=b(l,(function(t,e){var n=u.get(t+r,e);return f.invoke(n.$get,n,void 0,t)})),f=d;s["$injector"+r]={$get:R(d)},f.modules=u.modules=jt();var h=y(t);return(f=d.get("$injector")).strictDi=e,E(h,(function(t){t&&f.invoke(t)})),f.loadNewModules=function(t){E(y(t),(function(t){t&&f.invoke(t)}))},f;function p(t){return function(e,n){if(!B(e))return t(e,n);E(e,C(t))}}function m(t,e){if(Rt(t,"service"),(G(e)||z(e))&&(e=u.instantiate(e)),!e.$get)throw Ge("pget","Provider '{0}' must define $get factory method.",t);return s[t+r]=e}function g(t,e){return function(){var n=f.invoke(e,this);if(j(n))throw Ge("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function v(t,e,n){return m(t,{$get:!1!==n?g(t,e):e})}function y(t){Dt(j(t)||z(t),"modulesToLoad","not an array");var e,n=[];return E(t,(function(t){if(!a.get(t)){a.set(t,!0);try{H(t)?(e=c(t),f.modules[t]=e,n=n.concat(y(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):G(t)?n.push(u.invoke(t)):z(t)?n.push(u.invoke(t)):Nt(t,"module")}catch(i){throw z(t)&&(t=t[t.length-1]),i.message&&i.stack&&-1===i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Ge("modulerr","Failed to instantiate module {0} due to:\n{1}",t,i.stack||i.message||i)}}function r(t){var e,n;for(e=0,n=t.length;e<n;e++){var r=t[e],i=u.get(r[0]);i[r[1]].apply(i,r[2])}}})),n}function b(t,a){function c(e,r){if(t.hasOwnProperty(e)){if(t[e]===n)throw Ge("cdep","Circular dependency found: {0}",e+" <- "+i.join(" <- "));return t[e]}try{return i.unshift(e),t[e]=n,t[e]=a(e,r),t[e]}catch(o){throw t[e]===n&&delete t[e],o}finally{i.shift()}}function u(t,n,r){for(var i=[],o=Ye.$$annotate(t,e,r),a=0,s=o.length;a<s;a++){var u=o[a];if("string"!=typeof u)throw Ge("itkn","Incorrect injection token! Expected service name as string, got {0}",u);i.push(n&&n.hasOwnProperty(u)?n[u]:c(u,r))}return i}return{invoke:function(t,e,n,r){"string"==typeof n&&(r=n,n=null);var i=u(t,n,r);return z(t)&&(t=t[t.length-1]),function(t){if(o||"function"!=typeof t)return!1;var e=t.$$ngIsClass;return X(e)||(e=t.$$ngIsClass=/^class\b/.test(Ke(t))),e}(t)?(i.unshift(null),new(Function.prototype.bind.apply(t,i))):t.apply(e,i)},instantiate:function(t,e,n){var r=z(t)?t[t.length-1]:t,i=u(t,e,n);return i.unshift(null),new(Function.prototype.bind.apply(r,i))},get:c,annotate:Ye.$$annotate,has:function(e){return s.hasOwnProperty(e+r)||t.hasOwnProperty(e)}}}}function Xe(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(n,r,i){var o=n.document;function s(t){if(t){t.scrollIntoView();var e=function(){var t=c.yOffset;if(G(t))t=t();else if(nt(t)){var e=t[0];t="fixed"!==n.getComputedStyle(e).position?0:e.getBoundingClientRect().bottom}else U(t)||(t=0);return t}();if(e){var r=t.getBoundingClientRect().top;n.scrollBy(0,r-e)}}else n.scrollTo(0,0)}function c(t){var e,n,i;(t=H(t)?t:U(t)?t.toString():r.hash())?(e=o.getElementById(t))?s(e):(n=o.getElementsByName(t),i=null,Array.prototype.some.call(n,(function(t){if("a"===rt(t))return i=t,!0})),(e=i)?s(e):"top"===t&&s(null)):s(null)}return e&&i.$watch((function(){return r.hash()}),(function(e,n){var r,o;e===n&&""===e||(r=function(){i.$evalAsync(c)},"complete"===(o=o||t).document.readyState?o.setTimeout(r):a(o).on("load",r))})),c}]}Ye.$$annotate=function(t,e,n){var r,i;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw H(n)&&n||(n=t.name||function(t){var e=Qe(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(t)),Ge("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);E(Qe(t)[1].split(qe),(function(t){t.replace(ze,(function(t,e,n){r.push(n)}))}))}t.$inject=r}}else z(t)?(Nt(t[i=t.length-1],"fn"),r=t.slice(0,i)):Nt(t,"fn",!0);return r};var Ze=i("$animate"),Je=1;function tn(t,e){return t||e?t?e?(z(t)&&(t=t.join(" ")),z(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function en(t){return B(t)?t:{}}var nn=function(){this.$get=D},rn=function(){var t=new Be,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){return{enabled:D,on:D,off:D,pin:D,push:function(a,s,c,u){u&&u(),(c=c||{}).from&&a.css(c.from),c.to&&a.css(c.to),(c.addClass||c.removeClass)&&function(n,a,s){var c=t.get(n)||{},u=i(c,a,!0),l=i(c,s,!1);(u||l)&&(t.set(n,c),e.push(n),1===e.length&&r.$$postDigest(o))}(a,c.addClass,c.removeClass);var l=new n;return l.complete(),l}};function i(t,e,n){var r=!1;return e&&E(e=H(e)?e.split(" "):z(e)?e:[],(function(e){e&&(r=!0,t[e]=n)})),r}function o(){E(e,(function(e){var n=t.get(e);if(n){var r=function(t){H(t)&&(t=t.split(" "));var e=jt();return E(t,(function(t){t.length&&(e[t]=!0)})),e}(e.attr("class")),i="",o="";E(n,(function(t,e){t!==!!r[e]&&(t?i+=(i.length?" ":"")+e:o+=(o.length?" ":"")+e)})),E(e,(function(t){i&&Se(t,i),o&&we(t,o)})),t.delete(e)}})),e.length=0}}]},on=["$provide",function(t){var e=this,n=null,r=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Ze("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";e.$$registeredAnimations[n.substr(1)]=i,t.factory(i,r)},this.customFilter=function(t){return 1===arguments.length&&(r=G(t)?t:null),r},this.classNameFilter=function(t){if(1===arguments.length&&(n=t instanceof RegExp?t:null)){var e=new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]");if(e.test(n.toString()))throw n=null,Ze("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate")}return n},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var r=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===Je)return n}}(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.cancel&&t.cancel()},enter:function(n,r,i,o){return r=r&&a(r),i=i&&a(i),e(n,r=r||i.parent(),i),t.push(n,"enter",en(o))},move:function(n,r,i,o){return r=r&&a(r),i=i&&a(i),e(n,r=r||i.parent(),i),t.push(n,"move",en(o))},leave:function(e,n){return t.push(e,"leave",en(n),(function(){e.remove()}))},addClass:function(e,n,r){return(r=en(r)).addClass=tn(r.addclass,n),t.push(e,"addClass",r)},removeClass:function(e,n,r){return(r=en(r)).removeClass=tn(r.removeClass,n),t.push(e,"removeClass",r)},setClass:function(e,n,r,i){return(i=en(i)).addClass=tn(i.addClass,n),i.removeClass=tn(i.removeClass,r),t.push(e,"setClass",i)},animate:function(e,n,r,i,o){return(o=en(o)).from=o.from?I(o.from,n):n,o.to=o.to?I(o.to,r):r,o.tempClasses=tn(o.tempClasses,i=i||"ng-inline-animate"),t.push(e,"animate",o)}}}]}],an=function(){this.$get=["$$rAF",function(t){var e=[];function n(n){e.push(n),e.length>1||t((function(){for(var t=0;t<e.length;t++)e[t]();e=[]}))}return function(){var t=!1;return n((function(){t=!0})),function(e){t?e():n(e)}}}]},sn=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,r,i){function o(t){this.setHost(t);var e=n();this._doneCallbacks=[],this._tick=function(t){r()?function(t){i(t,0,!1)}(t):e(t)},this._state=0}return o.chain=function(t,e){var n=0;!function r(){n!==t.length?t[n]((function(t){!1!==t?(n++,r()):e(!1)})):e(!0)}()},o.all=function(t,e){var n=0,r=!0;function i(i){r=r&&i,++n===t.length&&e(r)}E(t,(function(t){t.done(i)}))},o.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:D,getPromise:function(){if(!this.promise){var e=this;this.promise=t((function(t,n){e.done((function(e){!1===e?n():t()}))}))}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick((function(){e._resolve(t)})))},_resolve:function(t){2!==this._state&&(E(this._doneCallbacks,(function(e){e(t)})),this._doneCallbacks.length=0,this._state=2)}},o}]},cn=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,r){var i=r||{};i.$$prepared||(i=at(i)),i.cleanupStyles&&(i.from=i.to=null),i.from&&(e.css(i.from),i.from=null);var o,a=new n;return{start:s,end:s};function s(){return t((function(){i.addClass&&(e.addClass(i.addClass),i.addClass=null),i.removeClass&&(e.removeClass(i.removeClass),i.removeClass=null),i.to&&(e.css(i.to),i.to=null),o||a.complete(),o=!0})),a}}}]};function un(t,e,n,r,i){var o=this,s=t.location,c=t.history,u=t.setTimeout,l=t.clearTimeout,d={},f=i(n);o.isMock=!1,o.$$completeOutstandingRequest=f.completeTask,o.$$incOutstandingRequestCount=f.incTaskCount,o.notifyWhenNoOutstandingRequests=f.notifyWhenNoPendingTasks;var h,p,m=s.href,g=e.find("base"),v=null,y=r.history?function(){try{return c.state}catch(t){}}:D;x(),o.url=function(e,n,i){if(j(i)&&(i=null),s!==t.location&&(s=t.location),c!==t.history&&(c=t.history),e){var a=p===i;if(e=li(e).href,m===e&&(!r.history||a))return o;var u=m&&sr(m)===sr(e);return m=e,p=i,!r.history||u&&a?(u||(v=e),n?s.replace(e):u?s.hash=function(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}(e):s.href=e,s.href!==e&&(v=e)):(c[n?"replaceState":"pushState"](i,"",e),x()),v&&(v=e),o}return function(t){return t.replace(/#$/,"")}(v||s.href)},o.state=function(){return h};var b=[],_=!1;function w(){v=null,C()}var S=null;function x(){ct(h=j(h=y())?null:h,S)&&(h=S),S=h,p=h}function C(){var t=p;x(),m===o.url()&&t===h||(m=o.url(),p=h,E(b,(function(t){t(o.url(),h)})))}o.onUrlChange=function(e){return _||(r.history&&a(t).on("popstate",w),a(t).on("hashchange",w),_=!0),b.push(e),e},o.$$applicationDestroyed=function(){a(t).off("hashchange popstate",w)},o.$$checkUrlChange=C,o.baseHref=function(){var t=g.attr("href");return t?t.replace(/^(https?:)?\/\/[^/]*/,""):""},o.defer=function(t,e,n){var r;return e=e||0,f.incTaskCount(n=n||f.DEFAULT_TASK_TYPE),r=u((function(){delete d[r],f.completeTask(t,n)}),e),d[r]=n,r},o.defer.cancel=function(t){if(d.hasOwnProperty(t)){var e=d[t];return delete d[t],l(t),f.completeTask(D,e),!0}return!1}}function ln(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(t,e,n,r,i){return new un(t,r,e,n,i)}]}function dn(){this.$get=function(){var t={};function e(e,n){if(e in t)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var r=0,o=I({},n,{id:e}),a=jt(),s=n&&n.capacity||Number.MAX_VALUE,c=jt(),u=null,l=null;return t[e]={put:function(t,e){if(!j(e))return s<Number.MAX_VALUE&&d(c[t]||(c[t]={key:t})),t in a||r++,a[t]=e,r>s&&this.remove(l.key),e},get:function(t){if(s<Number.MAX_VALUE){var e=c[t];if(!e)return;d(e)}return a[t]},remove:function(t){if(s<Number.MAX_VALUE){var e=c[t];if(!e)return;e===u&&(u=e.p),e===l&&(l=e.n),f(e.n,e.p),delete c[t]}t in a&&(delete a[t],r--)},removeAll:function(){a=jt(),r=0,c=jt(),u=l=null},destroy:function(){a=null,o=null,c=null,delete t[e]},info:function(){return I({},o,{size:r})}};function d(t){t!==u&&(l?l===t&&(l=t.n):l=t,f(t.n,t.p),f(t,u),(u=t).n=null)}function f(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}}return e.info=function(){var e={};return E(t,(function(t,n){e[n]=t.info()})),e},e.get=function(e){return t[e]},e}}function fn(){this.$get=["$cacheFactory",function(t){return t("templates")}]}var hn=i("$compile"),pn=new function(){};function mn(e,n){var r={},i="Directive",s=/^\s*directive:\s*([\w-]+)\s+(.*)$/,c=/(([\w-]+)(?::([^;]+))?;?)/,u=function(t){var e,n={},r="ngSrc,ngSrcset,src,srcset".split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}(),l=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,h=/^(on[a-z]+|formaction)$/,p=jt();function m(t,e,n){var r=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,i=jt();return E(t,(function(t,o){if((t=t.trim())in p)i[o]=p[t];else{var a=t.match(r);if(!a)throw hn("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,o,t,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(p[t]=i[o])}})),i}function g(t,e){var n={isolateScope:null,bindToController:null};if(B(t.scope)&&(!0===t.bindToController?(n.bindToController=m(t.scope,e,!0),n.isolateScope={}):n.isolateScope=m(t.scope,e,!1)),B(t.bindToController)&&(n.bindToController=m(t.bindToController,e,!0)),n.bindToController&&!t.controller)throw hn("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return n}this.directive=function t(n,o){return Dt(n,"name"),Rt(n,"directive"),H(n)?(function(t){var e=t.charAt(0);if(!e||e!==f(e))throw hn("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw hn("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}(n),Dt(o,"directiveFactory"),r.hasOwnProperty(n)||(r[n]=[],e.factory(n+i,["$injector","$exceptionHandler",function(t,e){var i=[];return E(r[n],(function(r,o){try{var a=t.invoke(r);G(a)?a={compile:R(a)}:!a.compile&&a.link&&(a.compile=R(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=function(t){var e=t.require||t.controller&&t.name;return!z(e)&&B(e)&&E(e,(function(t,n){var r=t.match(l);t.substring(r[0].length)||(e[n]=r[0]+n)})),e}(a),a.restrict=function(t,e){if(t&&(!H(t)||!/[EACM]/.test(t)))throw hn("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}(a.restrict,n),a.$$moduleName=r.$$moduleName,i.push(a)}catch(s){e(s)}})),i}])),r[n].push(o)):E(n,C(t)),this},this.component=function t(e,n){if(!H(e))return E(e,C(ht(this,t))),this;var r=n.controller||function(){};function i(t){function e(e){return G(e)||z(e)?function(n,r){return t.invoke(e,this,{$element:n,$attrs:r})}:e}var i=n.template||n.templateUrl?n.template:"",o={controller:r,controllerAs:xn(n.controller)||n.controllerAs||"$ctrl",template:e(i),templateUrl:e(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};return E(n,(function(t,e){"$"===e.charAt(0)&&(o[e]=t)})),o}return E(n,(function(t,e){"$"===e.charAt(0)&&(i[e]=t,G(r)&&(r[e]=t))})),i.$inject=["$injector"],this.directive(e,i)},this.aHrefSanitizationWhitelist=function(t){return F(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return F(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var y=!0;this.debugInfoEnabled=function(t){return F(t)?(y=t,this):y};var b=!1;this.strictComponentBindingsEnabled=function(t){return F(t)?(b=t,this):b};var _=10;this.onChangesTtl=function(t){return arguments.length?(_=t,this):_};var w=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(w=t,this):w};var S=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(S=t,this):S};var x=jt();this.addPropertySecurityContext=function(t,e,n){var r=t.toLowerCase()+"|"+e.toLowerCase();if(r in x&&x[r]!==n)throw hn("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",t,e,x[r],n);return x[r]=n,this},function(){function t(t,e){E(e,(function(e){x[e.toLowerCase()]=t}))}t(Wr.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),t(Wr.CSS,["*|style"]),t(Wr.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),t(Wr.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),t(Wr.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(e,n,p,m,C,k,T,P,A){var O,$=/^\w/,R=t.document.createElement("div"),L=w,F=S,V=_;function U(){try{if(!--V)throw O=void 0,hn("infchng","{0} $onChanges() iterations reached. Aborting!\n",_);T.$apply((function(){for(var t=0,e=O.length;t<e;++t)try{O[t]()}catch(n){p(n)}O=void 0}))}finally{V++}}function q(t,e){if(!t)return t;if(!H(t))throw hn("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',e,t.toString());for(var n="",r=tt(t),i=/\s/.test(r)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,o=r.split(i),a=Math.floor(o.length/2),s=0;s<a;s++){var c=2*s;n+=P.getTrustedMediaUrl(tt(o[c])),n+=" "+tt(o[c+1])}var u=tt(o[2*s]).split(/\s/);return n+=P.getTrustedMediaUrl(tt(u[0])),2===u.length&&(n+=" "+tt(u[1])),n}function K(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;n<r;n++)this[i=o[n]]=e[i]}else this.$attr={};this.$$element=t}function Q(t,e){try{t.addClass(e)}catch(n){}}K.prototype={$normalize:bn,$addClass:function(t){t&&t.length>0&&A.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&A.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=_n(t,e);n&&n.length&&A.addClass(this.$$element,n);var r=_n(e,t);r&&r.length&&A.removeClass(this.$$element,r)},$set:function(t,e,n,r){var i=Me(this.$$element[0],t),o=$e[t],a=t;i?(this.$$element.prop(t,e),r=i):o&&(this[o]=e,a=o),this[t]=e,r?this.$attr[t]=r:(r=this.$attr[t])||(this.$attr[t]=r=$t(t,"-")),"img"===rt(this.$$element)&&"srcset"===t&&(this[t]=e=q(e,"$set('srcset', value)")),!1!==n&&(null===e||j(e)?this.$$element.removeAttr(r):$.test(r)?i&&!1===e?this.$$element.removeAttr(r):this.$$element.attr(r,e):function(t,e,n){R.innerHTML="<span "+e+">";var r=R.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,t.attributes.setNamedItem(i)}(this.$$element[0],r,e));var s=this.$$observers;s&&E(s[a],(function(t){try{t(e)}catch(n){p(n)}}))},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=jt()),i=r[t]||(r[t]=[]);return i.push(e),T.$evalAsync((function(){i.$$inter||!n.hasOwnProperty(t)||j(n[t])||e(n[t])})),function(){ot(i,e)}}};var Z=n.startSymbol(),J=n.endSymbol(),et="{{"===Z&&"}}"===J?N:function(t){return t.replace(/\{\{/g,Z).replace(/}}/g,J)},nt=/^ng(Attr|Prop|On)([A-Z].*)$/,it=/^(.+)Start$/;return at.$$addBindingInfo=y?function(t,e){var n=t.data("$binding")||[];z(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:D,at.$$addBindingClass=y?function(t){Q(t,"ng-binding")}:D,at.$$addScopeInfo=y?function(t,e,n,r){t.data(n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",e)}:D,at.$$addScopeClass=y?function(t,e){Q(t,e?"ng-isolate-scope":"ng-scope")}:D,at.$$createComment=function(e,n){var r="";return y&&(r=" "+(e||"")+": ",n&&(r+=n+" ")),t.document.createComment(r)},at;function at(t,e,n,r,i){t instanceof a||(t=a(t));var o=ut(t,e,t,n,r,i);at.$$addScopeClass(t);var s=null;return function(e,n,r){if(!t)throw hn("multilink","This element has already been linked.");Dt(e,"scope"),i&&i.needsNewScope&&(e=e.$parent.$new());var c,u,l,d=(r=r||{}).parentBoundTranscludeFn,f=r.transcludeControllers;if(d&&d.$$boundTransclude&&(d=d.$$boundTransclude),s||(s=(u=(c=r.futureParentElement)&&c[0])&&"foreignobject"!==rt(u)&&v.call(u).match(/SVG/)?"svg":"html"),l="html"!==s?a(Pt(s,a("<div></div>").append(t).html())):n?Ie.clone.call(t):t,f)for(var h in f)l.data("$"+h+"Controller",f[h].instance);return at.$$addScopeInfo(l,e),n&&n(l,e),o&&o(e,l,l,d),n||(t=o=null),l}}function ut(t,e,n,r,i,s){for(var c,u,l,d,f,h,p,m=[],g=z(t)||t instanceof a,v=0;v<t.length;v++)c=new K,11===o&&lt(t,v,g),(l=(u=pt(t[v],[],c,0===v?r:void 0,i)).length?yt(u,t[v],c,e,n,null,[],[],s):null)&&l.scope&&at.$$addScopeClass(c.$$element),f=l&&l.terminal||!(d=t[v].childNodes)||!d.length?null:ut(d,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:e),(l||f)&&(m.push(v,l,f),h=!0,p=p||l),s=null;return h?function(t,n,r,i){var o,s,c,u,l,d,f,h;if(p)for(h=new Array(n.length),l=0;l<m.length;l+=3)h[f=m[l]]=n[f];else h=n;for(l=0,d=m.length;l<d;)c=h[m[l++]],o=m[l++],s=m[l++],o?(o.scope?(u=t.$new(),at.$$addScopeInfo(a(c),u)):u=t,o(s,u,c,r,o.transcludeOnThisElement?dt(t,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&e?dt(t,e):null)):s&&s(t,c.childNodes,void 0,i)}:null}function lt(t,e,n){var r,i=t[e],o=i.parentNode;if(i.nodeType===Vt)for(;(r=o?i.nextSibling:t[e+1])&&r.nodeType===Vt;)i.nodeValue=i.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===t[e+1]&&t.splice(e+1,1)}function dt(t,e,n){function r(r,i,o,a,s){return r||((r=t.$new(!1,s)).$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i=r.$$slots=jt();for(var o in e.$$slots)i[o]=e.$$slots[o]?dt(t,e.$$slots[o],n):null;return r}function pt(t,e,r,i,o){var a,u,l,d=r.$attr;switch(t.nodeType){case Bt:St(e,bn(u=rt(t)),"E",i,o);for(var f,h,p,m,g,v=t.attributes,y=0,b=v&&v.length;y<b;y++){var _,w=!1,S=!1,E=!1,x=!1,C=!1;m=(f=v[y]).value,(g=(p=bn((h=f.name).toLowerCase())).match(nt))?(E="Attr"===g[1],x="Prop"===g[1],C="On"===g[1],h=h.replace(vn,"").toLowerCase().substr(4+g[1].length).replace(/_(.)/g,(function(t,e){return e.toUpperCase()}))):(_=p.match(it))&&Et(_[1])&&(w=h,S=h.substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),x||C?(r[p]=m,d[p]=f.name,x?At(t,e,p,h):Ot(e,p,h)):(d[p=bn(h.toLowerCase())]=h,!E&&r.hasOwnProperty(p)||(r[p]=m,Me(t,p)&&(r[p]=!0)),Mt(t,e,m,p,E),St(e,p,"A",i,o,w,S))}if("input"===u&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!F)break;if(B(l=t.className)&&(l=l.animVal),H(l)&&""!==l)for(;a=c.exec(l);)St(e,p=bn(a[2]),"C",i,o)&&(r[p]=tt(a[3])),l=l.substr(a.index+a[0].length);break;case Vt:!function(t,e){var r=n(e,!0);r&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&at.$$addBindingClass(e),function(t,e){var i=e.parent();n||at.$$addBindingClass(i),at.$$addBindingInfo(i,r.expressions),t.$watch(r,(function(t){e[0].nodeValue=t}))}}})}(e,t.nodeValue);break;case Ht:if(!L)break;!function(t,e,n,r,i){try{var o=s.exec(t.nodeValue);if(o){var a=bn(o[1]);St(e,a,"M",r,i)&&(n[a]=tt(o[2]))}}catch(c){}}(t,e,r,i,o)}return e.sort(kt),e}function mt(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw hn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType===Bt&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0);else r.push(t);return a(r)}function gt(t,e,n){return function(r,i,o,a,s){return i=mt(i[0],e,n),t(r,i,o,a,s)}}function vt(t,e,n,r,i,o){var a;return t?at(e,n,r,i,o):function(){return a||(a=at(e,n,r,i,o),e=n=o=null),a.apply(this,arguments)}}function yt(e,n,r,i,o,s,c,u,l){l=l||{};for(var d,f,h,m,g,v=-Number.MAX_VALUE,y=l.newScopeDirective,b=l.controllerDirectives,_=l.newIsolateScopeDirective,w=l.templateDirective,S=l.nonTlbTranscludeDirective,x=!1,C=!1,T=l.hasElementTranscludeDirective,P=r.$$element=a(n),A=s,O=i,$=!1,M=!1,D=0,N=e.length;D<N;D++){var R=(d=e[D]).$$start,L=d.$$end;if(R&&(P=mt(n,R,L)),h=void 0,v>d.priority)break;if((g=d.scope)&&(d.templateUrl||(B(g)?(Tt("new/isolated scope",_||y,d,P),_=d):Tt("new/isolated scope",_,d,P)),y=y||d),f=d.name,!$&&(d.replace&&(d.templateUrl||d.template)||d.transclude&&!d.$$tlb)){for(var F,V=D+1;F=e[V++];)if(F.transclude&&!F.$$tlb||F.replace&&(F.templateUrl||F.template)){M=!0;break}$=!0}if(!d.templateUrl&&d.controller&&(b=b||jt(),Tt("'"+f+"' controller",b[f],d,P),b[f]=d),g=d.transclude)if(x=!0,d.$$tlb||(Tt("transclusion",S,d,P),S=d),"element"===g)T=!0,v=d.priority,h=P,P=r.$$element=a(at.$$createComment(f,r[f])),n=P[0],Nt(o,ft(h),n),O=vt(M,h,i,v,A&&A.name,{nonTlbTranscludeDirective:S});else{var H=jt();if(B(g)){h=t.document.createDocumentFragment();var U=jt(),q=jt();for(var W in E(g,(function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,U[t]=e,H[e]=null,q[e]=n})),E(P.contents(),(function(e){var n=U[bn(rt(e))];n?(q[n]=!0,H[n]=H[n]||t.document.createDocumentFragment(),H[n].appendChild(e)):h.appendChild(e)})),E(q,(function(t,e){if(!t)throw hn("reqslot","Required transclusion slot `{0}` was not filled.",e)})),H)if(H[W]){var Q=a(H[W].childNodes);H[W]=vt(M,Q,i)}h=a(h.childNodes)}else h=a(fe(n)).contents();P.empty(),(O=vt(M,h,i,void 0,void 0,{needsNewScope:d.$$isolateScope||d.$$newScope})).$$slots=H}if(d.template)if(C=!0,Tt("template",w,d,P),w=d,g=G(d.template)?d.template(P,r):d.template,g=et(g),d.replace){if(A=d,h=se(g)?[]:wn(Pt(d.templateNamespace,tt(g))),n=h[0],1!==h.length||n.nodeType!==Bt)throw hn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",f,"");Nt(o,P,n);var X={$attr:{}},Z=pt(n,[],X),J=e.splice(D+1,e.length-(D+1));(_||y)&&_t(Z,_,y),e=e.concat(Z).concat(J),xt(r,X),N=e.length}else P.html(g);if(d.templateUrl)C=!0,Tt("template",w,d,P),w=d,d.replace&&(A=d),ot=Ct(e.splice(D,e.length-D),P,r,o,x&&O,c,u,{controllerDirectives:b,newScopeDirective:y!==d&&y,newIsolateScopeDirective:_,templateDirective:w,nonTlbTranscludeDirective:S}),N=e.length;else if(d.compile)try{m=d.compile(P,r,O);var nt=d.$$originalDirective||d;G(m)?it(null,ht(nt,m),R,L):m&&it(ht(nt,m.pre),ht(nt,m.post),R,L)}catch(st){p(st,wt(P))}d.terminal&&(ot.terminal=!0,v=Math.max(v,d.priority))}return ot.scope=y&&!0===y.scope,ot.transcludeOnThisElement=x,ot.templateOnThisElement=C,ot.transclude=O,l.hasElementTranscludeDirective=T,ot;function it(t,e,n,r){t&&(n&&(t=gt(t,n,r)),t.require=d.require,t.directiveName=f,(_===d||d.$$isolateScope)&&(t=Rt(t,{isolateScope:!0})),c.push(t)),e&&(n&&(e=gt(e,n,r)),e.require=d.require,e.directiveName=f,(_===d||d.$$isolateScope)&&(e=Rt(e,{isolateScope:!0})),u.push(e))}function ot(t,e,i,o,s){var l,d,f,h,m,g,v,S,x,C;for(var P in n===i?(x=r,S=r.$$element):x=new K(S=a(i),r),m=e,_?h=e.$new(!0):y&&(m=e.$parent),s&&((v=function(t,e,n,r){var i;if(Y(t)||(r=n,n=e,e=t,t=void 0),T&&(i=g),n||(n=T?S.parent():S),!r)return s(t,e,i,n,M);var o=s.$$slots[r];if(o)return o(t,e,i,n,M);if(j(o))throw hn("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,wt(S))}).$$boundTransclude=s,v.isSlotFilled=function(t){return!!s.$$slots[t]}),b&&(g=function(t,e,n,r,i,o,a){var s=jt();for(var c in r){var u=r[c],l=u.controller;"@"===l&&(l=e[u.name]);var d=k(l,{$scope:u===a||u.$$isolateScope?i:o,$element:t,$attrs:e,$transclude:n},!0,u.controllerAs);s[u.name]=d,t.data("$"+u.name+"Controller",d.instance)}return s}(S,x,v,b,h,e,_)),_&&(at.$$addScopeInfo(S,h,!0,!(w&&(w===_||w===_.$$originalDirective))),at.$$addScopeClass(S,!0),h.$$isolateBindings=_.$$isolateBindings,(C=qt(e,x,h,h.$$isolateBindings,_)).removeWatches&&h.$on("$destroy",C.removeWatches)),g){var A=b[P],O=g[P],$=A.$$bindings.bindToController;O.instance=O(),S.data("$"+A.name+"Controller",O.instance),O.bindingInfo=qt(m,x,O.instance,$,A)}for(E(b,(function(t,e){var n=t.require;t.bindToController&&!z(n)&&B(n)&&I(g[e].instance,bt(e,n,S,g))})),E(g,(function(t){var e=t.instance;if(G(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(st){p(st)}if(G(e.$onInit))try{e.$onInit()}catch(st){p(st)}G(e.$doCheck)&&(m.$watch((function(){e.$doCheck()})),e.$doCheck()),G(e.$onDestroy)&&m.$on("$destroy",(function(){e.$onDestroy()}))})),l=0,d=c.length;l<d;l++)Lt(f=c[l],f.isolateScope?h:e,S,x,f.require&&bt(f.directiveName,f.require,S,g),v);var M=e;for(_&&(_.template||null===_.templateUrl)&&(M=h),t&&t(M,i.childNodes,void 0,s),l=u.length-1;l>=0;l--)Lt(f=u[l],f.isolateScope?h:e,S,x,f.require&&bt(f.directiveName,f.require,S,g),v);E(g,(function(t){var e=t.instance;G(e.$postLink)&&e.$postLink()}))}}function bt(t,e,n,r){var i;if(H(e)){var o=e.match(l),a=e.substring(o[0].length),s=o[1]||o[3],c="?"===o[2];if("^^"===s?n=n.parent():i=(i=r&&r[a])&&i.instance,!i){var u="$"+a+"Controller";i="^^"===s&&n[0]&&n[0].nodeType===Ut?null:s?n.inheritedData(u):n.data(u)}if(!i&&!c)throw hn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,t)}else if(z(e)){i=[];for(var d=0,f=e.length;d<f;d++)i[d]=bt(t,e[d],n,r)}else B(e)&&(i={},E(e,(function(e,o){i[o]=bt(t,e,n,r)})));return i||null}function _t(t,e,n){for(var r=0,i=t.length;r<i;r++)t[r]=M(t[r],{$$isolateScope:e,$$newScope:n})}function St(t,n,o,a,s,c,u){if(n===s)return null;var l=null;if(r.hasOwnProperty(n))for(var d,f=e.get(n+i),h=0,p=f.length;h<p;h++)if(d=f[h],(j(a)||a>d.priority)&&-1!==d.restrict.indexOf(o)){if(c&&(d=M(d,{$$start:c,$$end:u})),!d.$$bindings){var m=d.$$bindings=g(d,d.name);B(m.isolateScope)&&(d.$$isolateBindings=m.isolateScope)}t.push(d),l=d}return l}function Et(t){if(r.hasOwnProperty(t))for(var n=e.get(t+i),o=0,a=n.length;o<a;o++)if(n[o].multiElement)return!0;return!1}function xt(t,e){var n=e.$attr,r=t.$attr;E(t,(function(r,i){"$"!==i.charAt(0)&&(e[i]&&e[i]!==r&&(r.length?r+=("style"===i?";":" ")+e[i]:r=e[i]),t.$set(i,r,!0,n[i]))})),E(e,(function(e,i){t.hasOwnProperty(i)||"$"===i.charAt(0)||(t[i]=e,"class"!==i&&"style"!==i&&(r[i]=n[i]))}))}function Ct(t,e,n,r,i,o,s,c){var u,l,d=[],f=e[0],h=t.shift(),g=M(h,{templateUrl:null,transclude:null,replace:null,$$originalDirective:h}),v=G(h.templateUrl)?h.templateUrl(e,n):h.templateUrl,y=h.templateNamespace;return e.empty(),m(v).then((function(p){var m,b,_,w;if(p=et(p),h.replace){if(_=se(p)?[]:wn(Pt(y,tt(p))),m=_[0],1!==_.length||m.nodeType!==Bt)throw hn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",h.name,v);b={$attr:{}},Nt(r,e,m);var S=pt(m,[],b);B(h.scope)&&_t(S,!0),t=S.concat(t),xt(n,b)}else m=f,e.html(p);for(t.unshift(g),u=yt(t,m,n,i,e,h,o,s,c),E(r,(function(t,n){t===m&&(r[n]=e[0])})),l=ut(e[0].childNodes,i);d.length;){var x=d.shift(),C=d.shift(),k=d.shift(),T=d.shift(),P=e[0];if(!x.$$destroyed){if(C!==f){var I=C.className;c.hasElementTranscludeDirective&&h.replace||(P=fe(m)),Nt(k,a(C),P),Q(a(P),I)}w=u.transcludeOnThisElement?dt(x,u.transclude,T):T,u(l,x,P,r,w)}}d=null})).catch((function(t){W(t)&&p(t)})),function(t,e,n,r,i){var o=i;e.$$destroyed||(d?d.push(e,n,r,o):(u.transcludeOnThisElement&&(o=dt(e,u.transclude,i)),u(l,e,n,r,o)))}}function kt(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function Tt(t,e,n,r){function i(t){return t?" (module: "+t+")":""}if(e)throw hn("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,wt(r))}function Pt(e,n){switch(e=f(e||"html")){case"svg":case"math":var r=t.document.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function It(t){return q(P.valueOf(t),"ng-prop-srcset")}function At(t,e,n,r){if(h.test(r))throw hn("nodomevents","Property bindings for HTML DOM event properties are disallowed");var i=rt(t),o=function(t,e){var n=e.toLowerCase();return x[t+"|"+n]||x["*|"+n]}(i,r),a=N;"srcset"!==r||"img"!==i&&"source"!==i?o&&(a=P.getTrusted.bind(P,o)):a=It,e.push({priority:100,compile:function(t,e){var i=C(e[n]),o=C(e[n],(function(t){return P.valueOf(t)}));return{pre:function(t,e){function n(){var n=i(t);e[0][r]=a(n)}n(),t.$watch(o,n)}}}})}function Ot(t,e,n){t.push(Fo(C,T,p,e,n,!1))}function Mt(t,e,r,i,o){var a=rt(t),s=function(t,e){return"srcdoc"===e?P.HTML:"src"===e||"ngSrc"===e?-1===["img","video","audio","source","track"].indexOf(t)?P.RESOURCE_URL:P.MEDIA_URL:"xlinkHref"===e?"image"===t?P.MEDIA_URL:"a"===t?P.URL:P.RESOURCE_URL:"form"===t&&"action"===e||"base"===t&&"href"===e||"link"===t&&"href"===e?P.RESOURCE_URL:"a"!==t||"href"!==e&&"ngHref"!==e?void 0:P.URL}(a,i),c=u[i]||o,l=n(r,!o,s,c);if(l){if("multiple"===i&&"select"===a)throw hn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",wt(t));if(h.test(i))throw hn("nodomevents","Interpolations for HTML DOM event attributes are disallowed");e.push({priority:100,compile:function(){return{pre:function(t,e,o){var a=o.$$observers||(o.$$observers=jt()),u=o[i];u!==r&&(l=u&&n(u,!0,s,c),r=u),l&&(o[i]=l(t),(a[i]||(a[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||t).$watch(l,(function(t,e){"class"===i&&t!==e?o.$updateClass(t,e):o.$set(i,t)})))}}}})}}function Nt(e,n,r){var i,o,s=n[0],c=n.length,u=s.parentNode;if(e)for(i=0,o=e.length;i<o;i++)if(e[i]===s){e[i++]=r;for(var l=i,d=l+c-1,f=e.length;l<f;l++,d++)d<f?e[l]=e[d]:delete e[l];e.length-=c-1,e.context===s&&(e.context=r);break}u&&u.replaceChild(r,s);var h=t.document.createDocumentFragment();for(i=0;i<c;i++)h.appendChild(n[i]);for(a.hasData(s)&&(a.data(r,a.data(s)),a(s).off("$destroy")),a.cleanData(h.querySelectorAll("*")),i=1;i<c;i++)delete n[i];n[0]=r,n.length=1}function Rt(t,e){return I((function(){return t.apply(null,arguments)}),t,e)}function Lt(t,e,n,r,i,o){try{t(e,n,r,i,o)}catch(a){p(a,wt(n))}}function Ft(t,e){if(b)throw hn("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",t,e)}function qt(t,e,r,i,o){var a,s=[],c={};function u(e,n,i){G(r.$onChanges)&&!st(n,i)&&(O||(t.$$postDigest(U),O=[]),a||(a={},O.push(l)),a[e]&&(i=a[e].previousValue),a[e]=new gn(i,n))}function l(){r.$onChanges(a),a=void 0}return E(i,(function(i,a){var l,f,h,p,m,g=i.attrName,v=i.optional;switch(i.mode){case"@":v||d.call(e,g)||(Ft(g,o.name),r[a]=e[g]=void 0),m=e.$observe(g,(function(t){(H(t)||X(t))&&(u(a,t,r[a]),r[a]=t)})),e.$$observers[g].$$scope=t,H(l=e[g])?r[a]=n(l)(t):X(l)&&(r[a]=l),c[a]=new gn(pn,r[a]),s.push(m);break;case"=":if(!d.call(e,g)){if(v)break;Ft(g,o.name),e[g]=void 0}if(v&&!e[g])break;f=C(e[g]),p=f.literal?ct:st,h=f.assign||function(){throw l=r[a]=f(t),hn("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[g],g,o.name)},l=r[a]=f(t);var y=function(e){return p(e,r[a])||(p(e,l)?h(t,e=r[a]):r[a]=e),l=e};y.$stateful=!0,m=i.collection?t.$watchCollection(e[g],y):t.$watch(C(e[g],y),null,f.literal),s.push(m);break;case"<":if(!d.call(e,g)){if(v)break;Ft(g,o.name),e[g]=void 0}if(v&&!e[g])break;var b=(f=C(e[g])).literal,_=r[a]=f(t);c[a]=new gn(pn,r[a]),m=t[i.collection?"$watchCollection":"$watch"](f,(function(t,e){if(e===t){if(e===_||b&&ct(e,_))return;e=_}u(a,t,e),r[a]=t})),s.push(m);break;case"&":if(v||d.call(e,g)||Ft(g,o.name),(f=e.hasOwnProperty(g)?C(e[g]):D)===D&&v)break;r[a]=function(e){return f(t,e)}}})),{initialChanges:c,removeWatches:s.length&&function(){for(var t=0,e=s.length;t<e;++t)s[t]()}}}}]}function gn(t,e){this.previousValue=t,this.currentValue=e}mn.$inject=["$provide","$$sanitizeUriProvider"],gn.prototype.isFirstChange=function(){return this.previousValue===pn};var vn=/^((?:x|data)[:\-_])/i,yn=/[:\-_]+(.)/g;function bn(t){return t.replace(vn,"").replace(yn,(function(t,e,n){return n?e.toUpperCase():e}))}function _n(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a===i[s])continue t;n+=(n.length>0?" ":"")+a}return n}function wn(t){var e=(t=a(t)).length;if(e<=1)return t;for(;e--;){var n=t[e];(n.nodeType===Ht||n.nodeType===Vt&&""===n.nodeValue.trim())&&m.call(t,e,1)}return t}var Sn=i("$controller"),En=/^(\S+)(\s+as\s+([\w$]+))?$/;function xn(t,e){if(e&&H(e))return e;if(H(t)){var n=En.exec(t);if(n)return n[3]}}function Cn(){var t={};this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){Rt(e,"controller"),B(e)?I(t,e):t[e]=n},this.$get=["$injector",function(e){return function(r,i,o,a){var s,c,u,l;if(o=!0===o,a&&H(a)&&(l=a),H(r)){if(!(c=r.match(En)))throw Sn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);if(l=l||c[3],!(r=t.hasOwnProperty(u=c[1])?t[u]:function(t,e,n){if(!e)return t;for(var r=e.split("."),i=r.length,o=0;o<i;o++)t&&(t=t[r[o]]);return t}(i.$scope,u)))throw Sn("ctrlreg","The controller with the name '{0}' is not registered.",u);Nt(r,u,!0)}if(o){var d=(z(r)?r[r.length-1]:r).prototype;return s=Object.create(d||null),l&&n(i,l,s,u||r.name),I((function(){var t=e.invoke(r,s,i,u);return t!==s&&(B(t)||G(t))&&(s=t,l&&n(i,l,s,u||r.name)),s}),{instance:s,identifier:l})}return s=e.instantiate(r,i,u),l&&n(i,l,s,u||r.name),s};function n(t,e,n,r){if(!t||!B(t.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,e);t.$scope[e]=n}}]}function kn(){this.$get=["$window",function(t){return a(t.document)}]}function Tn(){this.$get=["$document","$rootScope",function(t,e){var n=t[0],r=n&&n.hidden;function i(){r=n.hidden}return t.on("visibilitychange",i),e.$on("$destroy",(function(){t.off("visibilitychange",i)})),function(){return r}}]}function Pn(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}var In=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof a&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},An="application/json",On={"Content-Type":An+";charset=utf-8"},$n=/^\[|^\{(?!\{)/,Mn={"[":/]$/,"{":/}$/},Dn=/^\)]\}',?\n/,Nn=i("$http");function Rn(t){return B(t)?q(t)?t.toISOString():mt(t):t}function Ln(){this.$get=function(){return function(t){if(!t)return"";var e=[];return x(t,(function(t,n){null===t||j(t)||G(t)||(z(t)?E(t,(function(t){e.push(Ct(n)+"="+Ct(Rn(t)))})):e.push(Ct(n)+"="+Ct(Rn(t))))})),e.join("&")}}}function jn(){this.$get=function(){return function(t){if(!t)return"";var e=[];return function t(n,r,i){z(n)?E(n,(function(e,n){t(e,r+"["+(B(e)?n:"")+"]")})):B(n)&&!q(n)?x(n,(function(e,n){t(e,r+(i?"":"[")+n+(i?"":"]"))})):(G(n)&&(n=n()),e.push(Ct(r)+"="+(null==n?"":Ct(Rn(n)))))}(t,"",!0),e.join("&")}}}function Fn(t,e){if(H(t)){var n=t.replace(Dn,"").trim();if(n){var r=e("Content-Type"),i=r&&0===r.indexOf(An);if(i||(a=(o=n).match($n))&&Mn[a[0]].test(o))try{t=gt(n)}catch(s){if(!i)return t;throw Nn("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,s)}}}var o,a;return t}function Bn(t){var e,n=jt();function r(t,e){t&&(n[t]=n[t]?n[t]+", "+e:e)}return H(t)?E(t.split("\n"),(function(t){e=t.indexOf(":"),r(f(tt(t.substr(0,e))),tt(t.substr(e+1)))})):B(t)&&E(t,(function(t,e){r(f(e),tt(t))})),n}function Vn(t){var e;return function(n){if(e||(e=Bn(t)),n){var r=e[f(n)];return void 0===r&&(r=null),r}return e}}function Hn(t,e,n,r){return G(r)?r(t,e,n):(E(r,(function(r){t=r(t,e,n)})),t)}function Un(t){return 200<=t&&t<300}function qn(){var t=this.defaults={transformResponse:[Fn],transformRequest:[function(t){return!B(t)||"[object File]"===v.call(t)||function(t){return"[object Blob]"===v.call(t)}(t)||function(t){return"[object FormData]"===v.call(t)}(t)?t:mt(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:zt(On),put:zt(On),patch:zt(On)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},e=!1;this.useApplyAsync=function(t){return F(t)?(e=!!t,this):e};var n=this.interceptors=[],r=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(o,a,s,c,u,l,d,p){var m=c("$http");t.paramSerializer=H(t.paramSerializer)?d.get(t.paramSerializer):t.paramSerializer;var g=[];E(n,(function(t){g.unshift(H(t)?d.get(t):d.invoke(t))}));var v,y=(v=[ci].concat(r.map(li)),function(t){var e=li(t);return v.some(di.bind(null,e))});function b(n){if(!B(n))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!H(p.valueOf(n.url)))throw i("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var r=I({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer,jsonpCallbackParam:t.jsonpCallbackParam},n);r.headers=function(e){var n,r,i,o=t.headers,a=I({},e.headers);o=I({},o.common,o[f(e.method)]);t:for(n in o){for(i in r=f(n),a)if(f(i)===r)continue t;a[n]=o[n]}return function(t,e){var n,r={};return E(t,(function(t,i){G(t)?null!=(n=t(e))&&(r[i]=n):r[i]=t})),r}(a,zt(e))}(n),r.method=h(r.method),r.paramSerializer=H(r.paramSerializer)?d.get(r.paramSerializer):r.paramSerializer,o.$$incOutstandingRequestCount("$http");var c=[],v=[],_=l.resolve(r);return E(g,(function(t){(t.request||t.requestError)&&c.unshift(t.request,t.requestError),(t.response||t.responseError)&&v.push(t.response,t.responseError)})),_=w(_,c),(_=w(_=_.then((function(n){var r=n.headers,i=Hn(n.data,Vn(r),void 0,n.transformRequest);return j(i)&&E(r,(function(t,e){"content-type"===f(e)&&delete r[e]})),j(n.withCredentials)&&!j(t.withCredentials)&&(n.withCredentials=t.withCredentials),function(n,r){var i,o,c=l.defer(),d=c.promise,h=n.headers,g="jsonp"===f(n.method),v=n.url;if(g?v=p.getTrustedResourceUrl(v):H(v)||(v=p.valueOf(v)),v=function(t,e){return e.length>0&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}(v,n.paramSerializer(n.params)),g&&(v=function(t,e){var n=t.split("?");if(n.length>2)throw Nn("badjsonp",'Illegal use more than one "?", in url, "{1}"',t);return E(Et(n[1]),(function(n,r){if("JSON_CALLBACK"===n)throw Nn("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',t);if(r===e)throw Nn("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',e,t)})),t+=(-1===t.indexOf("?")?"?":"&")+e+"=JSON_CALLBACK"}(v,n.jsonpCallbackParam)),b.pendingRequests.push(n),d.then(C,C),!n.cache&&!t.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(i=B(n.cache)?n.cache:B(t.cache)?t.cache:m),i&&(F(o=i.get(v))?Z(o)?o.then(x,x):z(o)?S(o[1],o[0],zt(o[2]),o[3],o[4]):S(o,200,{},"OK","complete"):i.put(v,d)),j(o)){var _=y(n.url)?s()[n.xsrfCookieName||t.xsrfCookieName]:void 0;_&&(h[n.xsrfHeaderName||t.xsrfHeaderName]=_),a(n.method,v,r,(function(t,n,r,o,a){function s(){S(n,t,r,o,a)}i&&(Un(t)?i.put(v,[t,n,Bn(r),o,a]):i.remove(v)),e?u.$applyAsync(s):(s(),u.$$phase||u.$apply())}),h,n.timeout,n.withCredentials,n.responseType,w(n.eventHandlers),w(n.uploadEventHandlers))}return d;function w(t){if(t){var n={};return E(t,(function(t,r){n[r]=function(n){function r(){t(n)}e?u.$applyAsync(r):u.$$phase?r():u.$apply(r)}})),n}}function S(t,e,r,i,o){(Un(e=e>=-1?e:0)?c.resolve:c.reject)({data:t,status:e,headers:Vn(r),config:n,statusText:i,xhrStatus:o})}function x(t){S(t.data,t.status,zt(t.headers()),t.statusText,t.xhrStatus)}function C(){var t=b.pendingRequests.indexOf(n);-1!==t&&b.pendingRequests.splice(t,1)}}(n,i).then(S,S)})),v)).finally((function(){o.$$completeOutstandingRequest(D,"$http")}));function w(t,e){for(var n=0,r=e.length;n<r;){var i=e[n++],o=e[n++];t=t.then(i,o)}return e.length=0,t}function S(t){var e=I({},t);return e.data=Hn(t.data,t.headers,t.status,r.transformResponse),Un(t.status)?e:l.reject(e)}}return b.pendingRequests=[],function(t){E(arguments,(function(t){b[t]=function(e,n){return b(I({},n||{},{method:t,url:e}))}}))}("get","delete","head","jsonp"),function(t){E(arguments,(function(t){b[t]=function(e,n,r){return b(I({},r||{},{method:t,url:e,data:n}))}}))}("post","put","patch"),b.defaults=t,b}]}function zn(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Wn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,r){return function(t,e,n,r,i){return function(o,a,s,c,u,l,d,h,p,m){if(a=a||t.url(),"jsonp"===f(o))var g=r.createCallback(a),v=function(t,e,n){t=t.replace("JSON_CALLBACK",e);var o=i.createElement("script"),a=null;return o.type="text/javascript",o.src=t,o.async=!0,a=function(t){o.removeEventListener("load",a),o.removeEventListener("error",a),i.body.removeChild(o),o=null;var s=-1,c="unknown";t&&("load"!==t.type||r.wasCalled(e)||(t={type:"error"}),c=t.type,s="error"===t.type?404:200),n&&n(s,c)},o.addEventListener("load",a),o.addEventListener("error",a),i.body.appendChild(o),a}(a,g,(function(t,e){var n=200===t&&r.getResponse(g);S(c,t,n,"",e,"complete"),r.removeCallback(g)}));else{var y=e(o,a),b=!1;if(y.open(o,a,!0),E(u,(function(t,e){F(t)&&y.setRequestHeader(e,t)})),y.onload=function(){var t=y.statusText||"",e="response"in y?y.response:y.responseText,n=1223===y.status?204:y.status;0===n&&(n=e?200:"file"===li(a).protocol?404:0),S(c,n,e,y.getAllResponseHeaders(),t,"complete")},y.onerror=function(){S(c,-1,null,null,"","error")},y.ontimeout=function(){S(c,-1,null,null,"","timeout")},y.onabort=function(){S(c,-1,null,null,"",b?"timeout":"abort")},E(p,(function(t,e){y.addEventListener(e,t)})),E(m,(function(t,e){y.upload.addEventListener(e,t)})),d&&(y.withCredentials=!0),h)try{y.responseType=h}catch(x){if("json"!==h)throw x}y.send(j(s)?null:s)}if(l>0)var _=n((function(){w("timeout")}),l);else Z(l)&&l.then((function(){w(F(l.$$timeoutId)?"timeout":"abort")}));function w(t){b="timeout"===t,v&&v(),y&&y.abort()}function S(t,e,r,i,o,a){F(_)&&n.cancel(_),v=y=null,t(e,r,i,o,a)}}}(t,r,t.defer,e,n[0])}]}var Gn=_.$interpolateMinErr=i("$interpolate");function Kn(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){var o=t.length,a=e.length,s=new RegExp(t.replace(/./g,u),"g"),c=new RegExp(e.replace(/./g,u),"g");function u(t){return"\\\\\\"+t}function l(n){return n.replace(s,t).replace(c,e)}function d(t,e,n,r){var i=t.$watch((function(t){return i(),r(t)}),e,n);return i}function f(s,c,u,f){var h=u===i.URL||u===i.MEDIA_URL;if(!s.length||-1===s.indexOf(t)){if(c)return;var p=l(s);h&&(p=i.getTrusted(u,p));var m=R(p);return m.exp=s,m.expressions=[],m.$$watchDelegate=d,m}f=!!f;for(var g,v,y,b,_,w=0,S=[],E=s.length,x=[],C=[];w<E;){if(-1===(g=s.indexOf(t,w))||-1===(v=s.indexOf(e,g+o))){w!==E&&x.push(l(s.substring(w)));break}w!==g&&x.push(l(s.substring(w,g))),b=s.substring(g+o,v),S.push(b),w=v+a,C.push(x.length),x.push("")}_=1===x.length&&1===C.length;var k=h&&_?void 0:function(t){try{return t=u&&!h?i.getTrusted(u,t):i.valueOf(t),f&&!F(t)?t:Ft(t)}catch(e){r(Gn.interr(s,e))}};if(y=S.map((function(t){return n(t,k)})),!c||S.length){var T=function(t){for(var e=0,n=S.length;e<n;e++){if(f&&j(t[e]))return;x[C[e]]=t[e]}return h?i.getTrusted(u,_?x[0]:x.join("")):(u&&x.length>1&&Gn.throwNoconcat(s),x.join(""))};return I((function(t){var e=0,n=S.length,i=new Array(n);try{for(;e<n;e++)i[e]=y[e](t);return T(i)}catch(o){r(Gn.interr(s,o))}}),{exp:s,expressions:S,$$watchDelegate:function(t,e){var n;return t.$watchGroup(y,(function(r,i){var o=T(r);e.call(this,o,r!==i?n:o,t),n=o}))}})}}return f.startSymbol=function(){return t},f.endSymbol=function(){return e},f}]}Gn.throwNoconcat=function(t){throw Gn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Gn.interr=function(t,e){return Gn("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Qn=i("$interval");function Yn(){this.$get=["$$intervalFactory","$window",function(t,e){var n={},r=function(t){e.clearInterval(t),delete n[t]},i=t((function(t,r,i){var o=e.setInterval(t,r);return n[o]=i,o}),r);return i.cancel=function(t){if(!t)return!1;if(!t.hasOwnProperty("$$intervalId"))throw Qn("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!n.hasOwnProperty(t.$$intervalId))return!1;var e=t.$$intervalId,i=n[e];return Vr(i.promise),i.reject("canceled"),r(e),!0},i}]}function Xn(){this.$get=["$browser","$q","$$q","$rootScope",function(t,e,n,r){return function(i,o){return function(a,s,c,u){var l=arguments.length>4,d=l?ft(arguments,4):[],f=0,h=F(u)&&!u,p=(h?n:e).defer(),m=p.promise;function g(){l?a.apply(null,d):a(f)}function v(){h?t.defer(g):r.$evalAsync(g),p.notify(f++),c>0&&f>=c&&(p.resolve(f),o(m.$$intervalId)),h||r.$apply()}return c=F(c)?c:0,m.$$intervalId=i(v,s,p,h),m}}}]}var Zn=function(){this.$get=function(){var t=_.callbacks,e={};return{createCallback:function(n){var r="_"+(t.$$counter++).toString(36),i="angular.callbacks."+r,o=function(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}(r);return e[i]=t[r]=o,i},wasCalled:function(t){return e[t].called},getResponse:function(t){return e[t].data},removeCallback:function(n){delete t[e[n].id],delete e[n]}}}},Jn=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,tr={http:80,https:443,ftp:21},er=i("$location");function nr(t,e){var n=li(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=O(n.port)||tr[n.protocol]||null}var rr=/^\s*[\\/]{2,}/;function ir(t,e,n){if(rr.test(t))throw er("badpath",'Invalid url "{0}".',t);var r="/"!==t.charAt(0);r&&(t="/"+t);var i=li(t),o=r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname;e.$$path=function(t,e){for(var n=t.split("/"),r=n.length;r--;)n[r]=decodeURIComponent(n[r]),e&&(n[r]=n[r].replace(/\//g,"%2F"));return n.join("/")}(o,n),e.$$search=Et(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function or(t,e){return t.slice(0,e.length)===e}function ar(t,e){if(or(e,t))return e.substr(t.length)}function sr(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function cr(t,e,n){this.$$html5=!0,n=n||"",nr(t,this),this.$$parse=function(t){var n=ar(e,t);if(!H(n))throw er("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);ir(n,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(t){return e+t.substr(1)},this.$$parseLinkUrl=function(r,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(F(o=ar(t,r))?(a=o,s=n&&F(o=ar(n,o))?e+(ar("/",o)||o):t+a):F(o=ar(e,r))?s=e+o:e===r+"/"&&(s=e),s&&this.$$parse(s),!!s);var o,a,s}}function ur(t,e,n){nr(t,this),this.$$parse=function(r){var i,o=ar(t,r)||ar(e,r);j(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",j(o)&&(t=r,this.replace())):j(i=ar(n,o))&&(i=o),ir(i,this,!1),this.$$path=function(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return or(e,n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t))?r[1]:t}(this.$$path,i,t),this.$$compose()},this.$$normalizeUrl=function(e){return t+(e?n+e:"")},this.$$parseLinkUrl=function(e,n){return sr(t)===sr(e)&&(this.$$parse(e),!0)}}function lr(t,e,n){this.$$html5=!0,ur.apply(this,arguments),this.$$parseLinkUrl=function(r,i){return i&&"#"===i[0]?(this.hash(i.slice(1)),!0):(t===sr(r)?o=r:(a=ar(e,r))?o=t+n+a:e===r+"/"&&(o=e),o&&this.$$parse(o),!!o);var o,a},this.$$normalizeUrl=function(e){return t+n+e}}var dr={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){var t,e,n,r,i;this.$$url=(t=this.$$path,e=this.$$hash,n=[],E(this.$$search,(function(t,e){z(t)?E(t,(function(t){n.push(Ct(e,!0)+(!0===t?"":"="+Ct(t,!0)))})):n.push(Ct(e,!0)+(!0===t?"":"="+Ct(t,!0)))})),r=n.length?n.join("&"):"",i=e?"#"+xt(e):"",function(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=xt(e[n].replace(/%2F/g,"/"));return e.join("/")}(t)+(r?"?"+r:"")+i),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:fr("$$absUrl"),url:function(t){if(j(t))return this.$$url;var e=Jn.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:fr("$$protocol"),host:fr("$$host"),port:fr("$$port"),path:hr("$$path",(function(t){return"/"===(t=null!==t?t.toString():"").charAt(0)?t:"/"+t})),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(H(t)||U(t))t=t.toString(),this.$$search=Et(t);else{if(!B(t))throw er("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");E(t=at(t,{}),(function(e,n){null==e&&delete t[n]})),this.$$search=t}break;default:j(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:hr("$$hash",(function(t){return null!==t?t.toString():""})),replace:function(){return this.$$replace=!0,this}};function fr(t){return function(){return this[t]}}function hr(t,e){return function(n){return j(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function pr(){var t="!",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return F(e)?(t=e,this):t},this.html5Mode=function(t){return X(t)?(e.enabled=t,this):B(t)?(X(t.enabled)&&(e.enabled=t.enabled),X(t.requireBase)&&(e.requireBase=t.requireBase),(X(t.rewriteLinks)||H(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,s){var c,u,l,d,f=r.baseHref(),h=r.url();if(e.enabled){if(!f&&e.requireBase)throw er("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=(d=h).substring(0,d.indexOf("/",d.indexOf("//")+2))+(f||"/"),u=i.history?cr:lr}else l=sr(h),u=ur;var p=function(t){return t.substr(0,sr(t).lastIndexOf("/")+1)}(l);(c=new u(l,p,"#"+t)).$$parseLinkUrl(h,h),c.$$state=r.state();var m=/^\s*(javascript|mailto):/i;function g(t,e,n){var i=c.url(),o=c.$$state;try{r.url(t,e,n),c.$$state=r.state()}catch(a){throw c.url(i),c.$$state=o,a}}o.on("click",(function(t){var i=e.rewriteLinks;if(i&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var s=a(t.target);"a"!==rt(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!H(i)||!j(s.attr(i))){var u=s.prop("href"),l=s.attr("href")||s.attr("xlink:href");B(u)&&"[object SVGAnimatedString]"===u.toString()&&(u=li(u.animVal).href),m.test(u)||!u||s.attr("target")||t.isDefaultPrevented()||c.$$parseLinkUrl(u,l)&&(t.preventDefault(),c.absUrl()!==r.url()&&n.$apply())}}})),c.absUrl()!==h&&r.url(c.absUrl(),!0);var v=!0;return r.onUrlChange((function(t,e){or(t,p)?(n.$evalAsync((function(){var r,i=c.absUrl(),o=c.$$state;c.$$parse(t),c.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,c.absUrl()===t&&(r?(c.$$parse(i),c.$$state=o,g(i,!1,o)):(v=!1,y(i,o)))})),n.$$phase||n.$digest()):s.location.href=t})),n.$watch((function(){if(v||c.$$urlUpdatedByLocation){c.$$urlUpdatedByLocation=!1;var t=r.url(),e=c.absUrl(),o=r.state(),a=c.$$replace,s=!((u=t)===(l=e)||li(u).href===li(l).href)||c.$$html5&&i.history&&o!==c.$$state;(v||s)&&(v=!1,n.$evalAsync((function(){var e=c.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,c.$$state,o).defaultPrevented;c.absUrl()===e&&(r?(c.$$parse(t),c.$$state=o):(s&&g(e,a,o===c.$$state?null:c.$$state),y(t,o)))})))}var u,l;c.$$replace=!1})),c;function y(t,e){n.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}}]}function mr(){var t=!0,e=this;this.debugEnabled=function(e){return F(e)?(t=e,this):t},this.$get=["$window",function(n){var r,i=o||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:s("log"),info:s("info"),warn:s("warn"),error:s("error"),debug:(r=s("debug"),function(){t&&r.apply(e,arguments)})};function a(t){return W(t)&&(t.stack&&i?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function s(t){var e=n.console||{},r=e[t]||e.log||D;return function(){var t=[];return E(arguments,(function(e){t.push(a(e))})),Function.prototype.apply.call(r,e,t)}}}]}E([lr,ur,cr],(function(t){t.prototype=Object.create(dr),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==cr||!this.$$html5)throw er("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=j(e)?null:e,this.$$urlUpdatedByLocation=!0,this}}));var gr=i("$parse"),vr={}.constructor.prototype.valueOf;function yr(t){return t+""}var br=jt();E("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),(function(t){br[t]=!0}));var _r={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},wr=function(t){this.options=t};wr.prototype={constructor:wr,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=br[n],o=br[r];if(br[e]||i||o){var a=o?r:i?n:e;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||" "===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),r=e.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=F(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw gr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=f(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else n+=_r[o]||o;i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Sr=function(t,e){this.lexer=t,this.options=e};function Er(t,e){return void 0!==t?t:e}function xr(t,e){return void 0===t?e:void 0===e?t:t+e}Sr.Program="Program",Sr.ExpressionStatement="ExpressionStatement",Sr.AssignmentExpression="AssignmentExpression",Sr.ConditionalExpression="ConditionalExpression",Sr.LogicalExpression="LogicalExpression",Sr.BinaryExpression="BinaryExpression",Sr.UnaryExpression="UnaryExpression",Sr.CallExpression="CallExpression",Sr.MemberExpression="MemberExpression",Sr.Identifier="Identifier",Sr.Literal="Literal",Sr.ArrayExpression="ArrayExpression",Sr.Property="Property",Sr.ObjectExpression="ObjectExpression",Sr.ThisExpression="ThisExpression",Sr.LocalsExpression="LocalsExpression",Sr.NGValueParameter="NGValueParameter",Sr.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Sr.Program,body:t}},expressionStatement:function(){return{type:Sr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!Ir(t))throw gr("lval","Trying to assign a value to a non l-value");t={type:Sr.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Sr.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Sr.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Sr.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Sr.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Sr.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Sr.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Sr.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Sr.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t,e;for(this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=at(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Sr.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());e=this.expect("(","[",".");)"("===e.text?(t={type:Sr.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Sr.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Sr.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:Sr.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do{t.push(this.filterChain())}while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Sr.Identifier,name:t.text}},constant:function(){return{type:Sr.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Sr.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Sr.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Sr.ObjectExpression,properties:e}},throwError:function(t,e){throw gr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw gr("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw gr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===r||a===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:Sr.ThisExpression},$locals:{type:Sr.LocalsExpression}}};var Cr=1,kr=2;function Tr(t,e,n){var r,i,o,a=t.isPure=function(t,e){switch(t.type){case Sr.MemberExpression:if(t.computed)return!1;break;case Sr.UnaryExpression:return Cr;case Sr.BinaryExpression:return"+"!==t.operator&&Cr;case Sr.CallExpression:return!1}return void 0===e?kr:e}(t,n);switch(t.type){case Sr.Program:r=!0,E(t.body,(function(t){Tr(t.expression,e,a),r=r&&t.expression.constant})),t.constant=r;break;case Sr.Literal:t.constant=!0,t.toWatch=[];break;case Sr.UnaryExpression:Tr(t.argument,e,a),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Sr.BinaryExpression:Tr(t.left,e,a),Tr(t.right,e,a),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Sr.LogicalExpression:Tr(t.left,e,a),Tr(t.right,e,a),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Sr.ConditionalExpression:Tr(t.test,e,a),Tr(t.alternate,e,a),Tr(t.consequent,e,a),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Sr.Identifier:t.constant=!1,t.toWatch=[t];break;case Sr.MemberExpression:Tr(t.object,e,a),t.computed&&Tr(t.property,e,a),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=t.constant?[]:[t];break;case Sr.CallExpression:o=!!t.filter&&function(t,e){return!t(e).$stateful}(e,t.callee.name),r=o,i=[],E(t.arguments,(function(t){Tr(t,e,a),r=r&&t.constant,i.push.apply(i,t.toWatch)})),t.constant=r,t.toWatch=o?i:[t];break;case Sr.AssignmentExpression:Tr(t.left,e,a),Tr(t.right,e,a),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Sr.ArrayExpression:r=!0,i=[],E(t.elements,(function(t){Tr(t,e,a),r=r&&t.constant,i.push.apply(i,t.toWatch)})),t.constant=r,t.toWatch=i;break;case Sr.ObjectExpression:r=!0,i=[],E(t.properties,(function(t){Tr(t.value,e,a),r=r&&t.value.constant,i.push.apply(i,t.value.toWatch),t.computed&&(Tr(t.key,e,!1),r=r&&t.key.constant,i.push.apply(i,t.key.toWatch))})),t.constant=r,t.toWatch=i;break;case Sr.ThisExpression:case Sr.LocalsExpression:t.constant=!1,t.toWatch=[]}}function Pr(t){if(1===t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function Ir(t){return t.type===Sr.Identifier||t.type===Sr.MemberExpression}function Ar(t){if(1===t.body.length&&Ir(t.body[0].expression))return{type:Sr.AssignmentExpression,left:t.body[0].expression,right:{type:Sr.NGValueParameter},operator:"="}}function Or(t){this.$filter=t}function $r(t){this.$filter=t}function Mr(t,e,n){this.ast=new Sr(t,n),this.astCompiler=n.csp?new $r(e):new Or(e)}function Dr(t){return G(t.valueOf)?t.valueOf():vr.call(t)}function Nr(){var t,e,n=jt(),r={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){r[t]=e},this.setIdentifierFns=function(n,r){return t=n,e=r,this},this.$get=["$filter",function(i){var o={csp:ut().noUnsafeEval,literals:at(r),isIdentifierStart:G(t)&&t,isIdentifierContinue:G(e)&&e};return a.$$getAst=function(t){return new Mr(new wr(o),i,o).getAst(t).ast},a;function a(t,e){var r,a;switch(typeof t){case"string":return t=t.trim(),(r=n[a=t])||(r=new Mr(new wr(o),i,o).parse(t),n[a]=f(r)),h(r,e);case"function":return h(t,e);default:return h(D,e)}}function s(t,e,n){return null==t||null==e?t===e:!("object"==typeof t&&"object"==typeof(t=Dr(t))&&!n)&&(t===e||t!=t&&e!=e)}function c(t,e,n,r,i){var o,a=r.inputs;if(1===a.length){var c=s;return a=a[0],t.$watch((function(t){var e=a(t);return s(e,c,a.isPure)||(o=r(t,void 0,void 0,[e]),c=e&&Dr(e)),o}),e,n,i)}for(var u=[],l=[],d=0,f=a.length;d<f;d++)u[d]=s,l[d]=null;return t.$watch((function(t){for(var e=!1,n=0,i=a.length;n<i;n++){var c=a[n](t);(e||(e=!s(c,u[n],a[n].isPure)))&&(l[n]=c,u[n]=c&&Dr(c))}return e&&(o=r(t,void 0,void 0,l)),o}),e,n,i)}function u(t,e,n,r,i){var o,a,s=r.literal?l:F,c=r.$$intercepted||r,u=r.$$interceptor||N,d=r.inputs&&!c.inputs;return p.literal=r.literal,p.constant=r.constant,p.inputs=r.inputs,f(p),o=t.$watch(p,e,n,i);function h(){s(a)&&o()}function p(t,e,n,r){return a=d&&r?r[0]:c(t,e,n,r),s(a)&&t.$$postDigest(h),u(a)}}function l(t){var e=!0;return E(t,(function(t){F(t)||(e=!1)})),e}function d(t,e,n,r){var i=t.$watch((function(t){return i(),r(t)}),e,n);return i}function f(t){return t.constant?t.$$watchDelegate=d:t.oneTime?t.$$watchDelegate=u:t.inputs&&(t.$$watchDelegate=c),t}function h(t,e){if(!e)return t;t.$$interceptor&&(e=function(t,e){function n(n){return e(t(n))}return n.$stateful=t.$stateful||e.$stateful,n.$$pure=t.$$pure&&e.$$pure,n}(t.$$interceptor,e),t=t.$$intercepted);var n=!1,r=function(r,i,o,a){var s=n&&a?a[0]:t(r,i,o,a);return e(s)};return r.$$intercepted=t,r.$$interceptor=e,r.literal=t.literal,r.oneTime=t.oneTime,r.constant=t.constant,e.$stateful||(n=!t.inputs,r.inputs=t.inputs?t.inputs:[t],e.$$pure||(r.inputs=r.inputs.map((function(t){return t.isPure===kr?function(e){return t(e)}:t})))),f(r)}}]}function Rr(){var t=!0;this.$get=["$rootScope","$exceptionHandler",function(e,n){return jr((function(t){e.$evalAsync(t)}),n,t)}],this.errorOnUnhandledRejections=function(e){return F(e)?(t=e,this):t}}function Lr(){var t=!0;this.$get=["$browser","$exceptionHandler",function(e,n){return jr((function(t){e.defer(t)}),n,t)}],this.errorOnUnhandledRejections=function(e){return F(e)?(t=e,this):t}}function jr(t,e,n){var r=i("$q",TypeError),o=0,a=[];function s(){return new c}function c(){var t=this.promise=new u;this.resolve=function(e){f(t,e)},this.reject=function(e){h(t,e)},this.notify=function(e){m(t,e)}}function u(){this.$$state={status:0}}function l(){for(;!o&&a.length;){var t=a.shift();if(!Fr(t)){Br(t);var n="Possibly unhandled rejection: "+Wt(t.value);W(t.value)?e(t.value,n):e(n)}}}function d(r){!n||r.pending||2!==r.status||Fr(r)||(0===o&&0===a.length&&t(l),a.push(r)),!r.processScheduled&&r.pending&&(r.processScheduled=!0,++o,t((function(){!function(r){var i,a,s;s=r.pending,r.processScheduled=!1,r.pending=void 0;try{for(var c=0,u=s.length;c<u;++c){Br(r),a=s[c][0],i=s[c][r.status];try{G(i)?f(a,i(r.value)):1===r.status?f(a,r.value):h(a,r.value)}catch(d){h(a,d),d&&!0===d.$$passToExceptionHandler&&e(d)}}}finally{--o,n&&0===o&&t(l)}}(r)})))}function f(t,e){t.$$state.status||(e===t?p(t,r("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):function t(e,n){var r,i=!1;try{(B(n)||G(n))&&(r=n.then),G(r)?(e.$$state.status=-1,r.call(n,(function(n){i||(i=!0,t(e,n))}),o,(function(t){m(e,t)}))):(e.$$state.value=n,e.$$state.status=1,d(e.$$state))}catch(a){o(a)}function o(t){i||(i=!0,p(e,t))}}(t,e))}function h(t,e){t.$$state.status||p(t,e)}function p(t,e){t.$$state.value=e,t.$$state.status=2,d(t.$$state)}function m(n,r){var i=n.$$state.pending;n.$$state.status<=0&&i&&i.length&&t((function(){for(var t,n,o=0,a=i.length;o<a;o++){n=i[o][0],t=i[o][3];try{m(n,G(t)?t(r):r)}catch(s){e(s)}}}))}function g(t){var e=new u;return h(e,t),e}function v(t,e,n){var r=null;try{G(n)&&(r=n())}catch(i){return g(i)}return Z(r)?r.then((function(){return e(t)}),g):e(t)}function y(t,e,n,r){var i=new u;return f(i,t),i.then(e,n,r)}I(u.prototype,{then:function(t,e,n){if(j(t)&&j(e)&&j(n))return this;var r=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&d(this.$$state),r},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then((function(e){return v(e,b,t)}),(function(e){return v(e,g,t)}),e)}});var b=y;function _(t){if(!G(t))throw r("norslvr","Expected resolverFn, got '{0}'",t);var e=new u;return t((function(t){f(e,t)}),(function(t){h(e,t)})),e}return _.prototype=u.prototype,_.defer=s,_.reject=g,_.when=y,_.resolve=b,_.all=function(t){var e=new u,n=0,r=z(t)?[]:{};return E(t,(function(t,i){n++,y(t).then((function(t){r[i]=t,--n||f(e,r)}),(function(t){h(e,t)}))})),0===n&&f(e,r),e},_.race=function(t){var e=s();return E(t,(function(t){y(t).then(e.resolve,e.reject)})),e.promise},_}function Fr(t){return!!t.pur}function Br(t){t.pur=!0}function Vr(t){t.$$state&&Br(t.$$state)}function Hr(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(t){var e=n(t);return function(){r(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=i,o}]}function Ur(){var t=10,e=i("$rootScope"),n=null,r=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$exceptionHandler","$parse","$browser",function(i,a,s){function c(t){t.currentScope.$$destroyed=!0}function u(){this.$id=k(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}u.prototype={constructor:u,$new:function(t,e){var n;return e=e||this,t?(n=new u).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=k(),this.$$ChildScope=null,this.$$suspended=!1}return e.prototype=t,e}(this)),n=new this.$$ChildScope),n.$parent=e,n.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=n,e.$$childTail=n):e.$$childHead=e.$$childTail=n,(t||e!==this)&&n.$on("$destroy",c),n},$watch:function(t,e,r,i){var o=a(t),s=G(e)?e:D;if(o.$$watchDelegate)return o.$$watchDelegate(this,s,r,o,t);var c=this,u=c.$$watchers,l={fn:s,last:_,get:o,exp:i||t,eq:!!r};return n=null,u||((u=c.$$watchers=[]).$$digestWatchIndex=-1),u.unshift(l),u.$$digestWatchIndex++,y(this,1),function(){var t=ot(u,l);t>=0&&(y(c,-1),t<u.$$digestWatchIndex&&u.$$digestWatchIndex--),n=null}},$watchGroup:function(t,e){var n=new Array(t.length),r=new Array(t.length),i=[],o=this,a=!1,s=!0;if(!t.length){var c=!0;return o.$evalAsync((function(){c&&e(r,r,o)})),function(){c=!1}}if(1===t.length)return this.$watch(t[0],(function(t,i,o){r[0]=t,n[0]=i,e(r,t===i?r:n,o)}));function u(){a=!1;try{s?(s=!1,e(r,r,o)):e(r,n,o)}finally{for(var i=0;i<t.length;i++)n[i]=r[i]}}return E(t,(function(t,e){var n=o.$watch(t,(function(t){r[e]=t,a||(a=!0,o.$evalAsync(u))}));i.push(n)})),function(){for(;i.length;)i.shift()()}},$watchCollection:function(t,e){m.$$pure=a(t).literal,m.$stateful=!m.$$pure;var n,r,i,o=this,s=e.length>1,c=0,u=a(t,m),l=[],f={},h=!0,p=0;function m(t){var e,i,o,a;if(!j(n=t)){if(B(n))if(S(n)){r!==l&&(p=(r=l).length=0,c++),p!==(e=n.length)&&(c++,r.length=p=e);for(var s=0;s<e;s++)o=n[s],(a=r[s])!=a&&o!=o||a===o||(c++,r[s]=o)}else{for(i in r!==f&&(r=f={},p=0,c++),e=0,n)d.call(n,i)&&(e++,o=n[i],a=r[i],i in r?a!=a&&o!=o||a===o||(c++,r[i]=o):(p++,r[i]=o,c++));if(p>e)for(i in c++,r)d.call(n,i)||(p--,delete r[i])}else r!==n&&(r=n,c++);return c}}return this.$watch(u,(function(){if(h?(h=!1,e(n,n,o)):e(n,i,o),s)if(B(n))if(S(n)){i=new Array(n.length);for(var t=0;t<n.length;t++)i[t]=n[t]}else for(var r in i={},n)d.call(n,r)&&(i[r]=n[r]);else i=n}))},$digest:function(){var o,a,c,u,d,p,y,b,S,E=t,x=f.length?l:this,C=[];g("$digest"),s.$$checkUrlChange(),this===l&&null!==r&&(s.defer.cancel(r),w()),n=null;do{d=!1,y=x;for(var k=0;k<f.length;k++){try{(0,(S=f[k]).fn)(S.scope,S.locals)}catch(T){i(T)}n=null}f.length=0;t:do{if(u=!y.$$suspended&&y.$$watchers)for(u.$$digestWatchIndex=u.length;u.$$digestWatchIndex--;)try{if(o=u[u.$$digestWatchIndex])if((a=(0,o.get)(y))===(c=o.last)||(o.eq?ct(a,c):$(a)&&$(c))){if(o===n){d=!1;break t}}else d=!0,n=o,o.last=o.eq?at(a,null):a,(0,o.fn)(a,c===_?a:c,y),E<5&&(C[b=4-E]||(C[b]=[]),C[b].push({msg:G(o.exp)?"fn: "+(o.exp.name||o.exp.toString()):o.exp,newVal:a,oldVal:c}))}catch(T){i(T)}if(!(p=!y.$$suspended&&y.$$watchersCount&&y.$$childHead||y!==x&&y.$$nextSibling))for(;y!==x&&!(p=y.$$nextSibling);)y=y.$parent}while(y=p);if((d||f.length)&&!E--)throw v(),e("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,C)}while(d||f.length);for(v();m<h.length;)try{h[m++]()}catch(T){i(T)}h.length=m=0,s.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;for(var e in this.$broadcast("$destroy"),this.$$destroyed=!0,this===l&&s.$$applicationDestroyed(),y(this,-this.$$watchersCount),this.$$listenerCount)b(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=D,this.$on=this.$watch=this.$watchGroup=function(){return D},this.$$listeners={},this.$$nextSibling=null,function t(e){9===o&&(e.$$childHead&&t(e.$$childHead),e.$$nextSibling&&t(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}(this)}},$eval:function(t,e){return a(t)(this,e)},$evalAsync:function(t,e){l.$$phase||f.length||s.defer((function(){f.length&&l.$digest()}),null,"$evalAsync"),f.push({scope:this,fn:a(t),locals:e})},$$postDigest:function(t){h.push(t)},$apply:function(t){try{g("$apply");try{return this.$eval(t)}finally{v()}}catch(e){i(e)}finally{try{l.$digest()}catch(e){throw i(e),e}}},$applyAsync:function(t){var e=this;t&&p.push((function(){e.$eval(t)})),t=a(t),null===r&&(r=s.defer((function(){l.$apply(w)}),null,"$applyAsync"))},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do{r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++}while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);-1!==r&&(delete n[r],b(i,1,t))}},$emit:function(t,e){var n,r,o,a=[],s=this,c=!1,u={name:t,targetScope:s,stopPropagation:function(){c=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},l=dt([u],arguments,1);do{for(n=s.$$listeners[t]||a,u.currentScope=s,r=0,o=n.length;r<o;r++)if(n[r])try{n[r].apply(null,l)}catch(d){i(d)}else n.splice(r,1),r--,o--;if(c)break;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(t,e){var n=this,r=n,o=n,a={name:t,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return a;for(var s,c,u,l=dt([a],arguments,1);r=o;){for(a.currentScope=r,c=0,u=(s=r.$$listeners[t]||[]).length;c<u;c++)if(s[c])try{s[c].apply(null,l)}catch(d){i(d)}else s.splice(c,1),c--,u--;if(!(o=r.$$listenerCount[t]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(o=r.$$nextSibling);)r=r.$parent}return a.currentScope=null,a}};var l=new u,f=l.$$asyncQueue=[],h=l.$$postDigestQueue=[],p=l.$$applyAsyncQueue=[],m=0;return l;function g(t){if(l.$$phase)throw e("inprog","{0} already in progress",l.$$phase);l.$$phase=t}function v(){l.$$phase=null}function y(t,e){do{t.$$watchersCount+=e}while(t=t.$parent)}function b(t,e,n){do{t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n]}while(t=t.$parent)}function _(){}function w(){for(;p.length;)try{p.shift()()}catch(t){i(t)}r=null}}]}function qr(){var t=/^\s*(https?|s?ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return F(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return F(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i=r?e:t,o=li(n&&n.trim()).href;return""===o||o.match(i)?n:"unsafe:"+o}}}Or.prototype={compile:function(t){var e=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Tr(t,e.$filter);var n,r="";if(this.stage="assign",n=Ar(t)){this.state.computing="assign";var i=this.nextId();this.recurse(n,i),this.return_(i),r="fn.assign="+this.generateFunction("assign","s,v,l")}var o=Pr(t.body);e.stage="inputs",E(o,(function(t,n){var r="fn"+n;e.state[r]={vars:[],body:[],own:{}},e.state.computing=r;var i=e.nextId();e.recurse(t,i),e.return_(i),e.state.inputs.push({name:r,isPure:t.isPure}),t.watchId=n})),this.state.computing="fn",this.stage="main",this.recurse(t);var a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",s=new Function("$filter","getStringValue","ifDefined","plus",a)(this.$filter,yr,Er,xr);return this.state=this.stage=void 0,s},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return E(e,(function(e){t.push("var "+e.name+"="+n.generateFunction(e.name,"s")),e.isPure&&t.push(e.name,".isPure="+JSON.stringify(e.isPure)+";")})),e.length&&t.push("fn.inputs=["+e.map((function(t){return t.name})).join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return E(this.state.filters,(function(n,r){t.push(n+"=$filter("+e.escape(r)+")")})),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,r,i,o){var a,s,c,u,l,d=this;if(r=r||D,!o&&F(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,r,i,!0));switch(t.type){case Sr.Program:E(t.body,(function(e,n){d.recurse(e.expression,void 0,void 0,(function(t){s=t})),n!==t.body.length-1?d.current().body.push(s,";"):d.return_(s)}));break;case Sr.Literal:u=this.escape(t.value),this.assign(e,u),r(e||u);break;case Sr.UnaryExpression:this.recurse(t.argument,void 0,void 0,(function(t){s=t})),u=t.operator+"("+this.ifDefined(s,0)+")",this.assign(e,u),r(u);break;case Sr.BinaryExpression:this.recurse(t.left,void 0,void 0,(function(t){a=t})),this.recurse(t.right,void 0,void 0,(function(t){s=t})),u="+"===t.operator?this.plus(a,s):"-"===t.operator?this.ifDefined(a,0)+t.operator+this.ifDefined(s,0):"("+a+")"+t.operator+"("+s+")",this.assign(e,u),r(u);break;case Sr.LogicalExpression:e=e||this.nextId(),d.recurse(t.left,e),d.if_("&&"===t.operator?e:d.not(e),d.lazyRecurse(t.right,e)),r(e);break;case Sr.ConditionalExpression:e=e||this.nextId(),d.recurse(t.test,e),d.if_(e,d.lazyRecurse(t.alternate,e),d.lazyRecurse(t.consequent,e)),r(e);break;case Sr.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",t.name)),(function(){d.if_("inputs"===d.stage||"s",(function(){i&&1!==i&&d.if_(d.isNull(d.nonComputedMember("s",t.name)),d.lazyAssign(d.nonComputedMember("s",t.name),"{}")),d.assign(e,d.nonComputedMember("s",t.name))}))}),e&&d.lazyAssign(e,d.nonComputedMember("l",t.name))),r(e);break;case Sr.MemberExpression:a=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),d.recurse(t.object,a,void 0,(function(){d.if_(d.notNull(a),(function(){t.computed?(s=d.nextId(),d.recurse(t.property,s),d.getStringValue(s),i&&1!==i&&d.if_(d.not(d.computedMember(a,s)),d.lazyAssign(d.computedMember(a,s),"{}")),u=d.computedMember(a,s),d.assign(e,u),n&&(n.computed=!0,n.name=s)):(i&&1!==i&&d.if_(d.isNull(d.nonComputedMember(a,t.property.name)),d.lazyAssign(d.nonComputedMember(a,t.property.name),"{}")),u=d.nonComputedMember(a,t.property.name),d.assign(e,u),n&&(n.computed=!1,n.name=t.property.name))}),(function(){d.assign(e,"undefined")})),r(e)}),!!i);break;case Sr.CallExpression:e=e||this.nextId(),t.filter?(s=d.filter(t.callee.name),c=[],E(t.arguments,(function(t){var e=d.nextId();d.recurse(t,e),c.push(e)})),u=s+"("+c.join(",")+")",d.assign(e,u),r(e)):(s=d.nextId(),c=[],d.recurse(t.callee,s,a={},(function(){d.if_(d.notNull(s),(function(){E(t.arguments,(function(e){d.recurse(e,t.constant?void 0:d.nextId(),void 0,(function(t){c.push(t)}))})),u=a.name?d.member(a.context,a.name,a.computed)+"("+c.join(",")+")":s+"("+c.join(",")+")",d.assign(e,u)}),(function(){d.assign(e,"undefined")})),r(e)})));break;case Sr.AssignmentExpression:s=this.nextId(),this.recurse(t.left,void 0,a={},(function(){d.if_(d.notNull(a.context),(function(){d.recurse(t.right,s),u=d.member(a.context,a.name,a.computed)+t.operator+s,d.assign(e,u),r(e||u)}))}),1);break;case Sr.ArrayExpression:c=[],E(t.elements,(function(e){d.recurse(e,t.constant?void 0:d.nextId(),void 0,(function(t){c.push(t)}))})),u="["+c.join(",")+"]",this.assign(e,u),r(e||u);break;case Sr.ObjectExpression:c=[],l=!1,E(t.properties,(function(t){t.computed&&(l=!0)})),l?(e=e||this.nextId(),this.assign(e,"{}"),E(t.properties,(function(t){t.computed?(a=d.nextId(),d.recurse(t.key,a)):a=t.key.type===Sr.Identifier?t.key.name:""+t.key.value,s=d.nextId(),d.recurse(t.value,s),d.assign(d.member(e,a,t.computed),s)}))):(E(t.properties,(function(e){d.recurse(e.value,t.constant?void 0:d.nextId(),void 0,(function(t){c.push(d.escape(e.key.type===Sr.Identifier?e.key.name:""+e.key.value)+":"+t)}))})),u="{"+c.join(",")+"}",this.assign(e,u)),r(e||u);break;case Sr.ThisExpression:this.assign(e,"s"),r(e||"s");break;case Sr.LocalsExpression:this.assign(e,"l"),r(e||"l");break;case Sr.NGValueParameter:this.assign(e,"v"),r(e||"v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?t+"."+e:t+'["'+e.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,r,i,o){var a=this;return function(){a.recurse(t,e,n,r,i,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(H(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(U(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw gr("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},$r.prototype={compile:function(t){var e,n,r=this;Tr(t,r.$filter),(e=Ar(t))&&(n=this.recurse(e));var i,o=Pr(t.body);o&&(i=[],E(o,(function(t,e){var n=r.recurse(t);n.isPure=t.isPure,t.input=n,i.push(n),t.watchId=e})));var a=[];E(t.body,(function(t){a.push(r.recurse(t.expression))}));var s=0===t.body.length?D:1===t.body.length?a[0]:function(t,e){var n;return E(a,(function(r){n=r(t,e)})),n};return n&&(s.assign=function(t,e,r){return n(t,r,e)}),i&&(s.inputs=i),s},recurse:function(t,e,n){var r,i,o,a=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Sr.Literal:return this.value(t.value,e);case Sr.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case Sr.BinaryExpression:case Sr.LogicalExpression:return r=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](r,i,e);case Sr.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Sr.Identifier:return a.identifier(t.name,e,n);case Sr.MemberExpression:return r=this.recurse(t.object,!1,!!n),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(r,i,e,n):this.nonComputedMember(r,i,e,n);case Sr.CallExpression:return o=[],E(t.arguments,(function(t){o.push(a.recurse(t))})),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(t,n,r,a){for(var s=[],c=0;c<o.length;++c)s.push(o[c](t,n,r,a));var u=i.apply(void 0,s,a);return e?{context:void 0,name:void 0,value:u}:u}:function(t,n,r,a){var s,c=i(t,n,r,a);if(null!=c.value){for(var u=[],l=0;l<o.length;++l)u.push(o[l](t,n,r,a));s=c.value.apply(c.context,u)}return e?{value:s}:s};case Sr.AssignmentExpression:return r=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(t,n,o,a){var s=r(t,n,o,a),c=i(t,n,o,a);return s.context[s.name]=c,e?{value:c}:c};case Sr.ArrayExpression:return o=[],E(t.elements,(function(t){o.push(a.recurse(t))})),function(t,n,r,i){for(var a=[],s=0;s<o.length;++s)a.push(o[s](t,n,r,i));return e?{value:a}:a};case Sr.ObjectExpression:return o=[],E(t.properties,(function(t){o.push(t.computed?{key:a.recurse(t.key),computed:!0,value:a.recurse(t.value)}:{key:t.key.type===Sr.Identifier?t.key.name:""+t.key.value,computed:!1,value:a.recurse(t.value)})})),function(t,n,r,i){for(var a={},s=0;s<o.length;++s)o[s].computed?a[o[s].key(t,n,r,i)]=o[s].value(t,n,r,i):a[o[s].key]=o[s].value(t,n,r,i);return e?{value:a}:a};case Sr.ThisExpression:return function(t){return e?{value:t}:t};case Sr.LocalsExpression:return function(t,n){return e?{value:n}:n};case Sr.NGValueParameter:return function(t,n,r){return e?{value:r}:r}}},"unary+":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=F(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=F(a)?-a:-0,e?{value:a}:a}},"unary!":function(t,e){return function(n,r,i,o){var a=!t(n,r,i,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(r,i,o,a){var s=xr(t(r,i,o,a),e(r,i,o,a));return n?{value:s}:s}},"binary-":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),c=e(r,i,o,a),u=(F(s)?s:0)-(F(c)?c:0);return n?{value:u}:u}},"binary*":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)*e(r,i,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)/e(r,i,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)%e(r,i,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)===e(r,i,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!==e(r,i,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)==e(r,i,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!=e(r,i,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<e(r,i,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>e(r,i,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<=e(r,i,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>=e(r,i,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)&&e(r,i,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)||e(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,r){return function(i,o,a,s){var c=t(i,o,a,s)?e(i,o,a,s):n(i,o,a,s);return r?{value:c}:c}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n){return function(r,i,o,a){var s=i&&t in i?i:r;n&&1!==n&&s&&null==s[t]&&(s[t]={});var c=s?s[t]:void 0;return e?{context:s,name:t,value:c}:c}},computedMember:function(t,e,n,r){return function(i,o,a,s){var c,u,l=t(i,o,a,s);return null!=l&&(c=yr(c=e(i,o,a,s)),r&&1!==r&&l&&!l[c]&&(l[c]={}),u=l[c]),n?{context:l,name:c,value:u}:u}},nonComputedMember:function(t,e,n,r){return function(i,o,a,s){var c=t(i,o,a,s);r&&1!==r&&c&&null==c[e]&&(c[e]={});var u=null!=c?c[e]:void 0;return n?{context:c,name:e,value:u}:u}},inputs:function(t,e){return function(n,r,i,o){return o?o[e]:t(n,r,i)}}},Mr.prototype={constructor:Mr,parse:function(t){var e=this.getAst(t),n=this.astCompiler.compile(e.ast);return n.literal=function(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Sr.Literal||t.body[0].expression.type===Sr.ArrayExpression||t.body[0].expression.type===Sr.ObjectExpression)}(e.ast),n.constant=function(t){return t.constant}(e.ast),n.oneTime=e.oneTime,n},getAst:function(t){var e=!1;return":"===(t=t.trim()).charAt(0)&&":"===t.charAt(1)&&(e=!0,t=t.substring(2)),{ast:this.ast.ast(t),oneTime:e}}};var zr=i("$sce"),Wr={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Gr=/_([a-z])/g;function Kr(t){return t.replace(Gr,te)}function Qr(t){var e=[];return F(t)&&E(t,(function(t){e.push(function(t){if("self"===t)return t;if(H(t)){if(t.indexOf("***")>-1)throw zr("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=et(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(K(t))return new RegExp("^"+t.source+"$");throw zr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(t))})),e}function Yr(){this.SCE_CONTEXTS=Wr;var e=["self"],n=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Qr(t)),e},this.resourceUrlBlacklist=function(t){return arguments.length&&(n=Qr(t)),n},this.$get=["$injector","$$sanitizeUri",function(r,i){var o=function(t){throw zr("unsafe","Attempting to use an unsafe value in a safe context.")};function a(e,n){return"self"===e?di(n,ci)||function(e){return di(e,t.document.baseURI?t.document.baseURI:(ai||((ai=t.document.createElement("a")).href=".",ai=ai.cloneNode(!1)),ai.href))}(n):!!e.exec(n.href)}function s(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}r.has("$sanitize")&&(o=r.get("$sanitize"));var c=s(),u={};return u[Wr.HTML]=s(c),u[Wr.CSS]=s(c),u[Wr.MEDIA_URL]=s(c),u[Wr.URL]=s(u[Wr.MEDIA_URL]),u[Wr.JS]=s(c),u[Wr.RESOURCE_URL]=s(u[Wr.URL]),{trustAs:function(t,e){var n=u.hasOwnProperty(t)?u[t]:null;if(!n)throw zr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||j(e)||""===e)return e;if("string"!=typeof e)throw zr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)},getTrusted:function(t,r){if(null===r||j(r)||""===r)return r;var s=u.hasOwnProperty(t)?u[t]:null;if(s&&r instanceof s)return r.$$unwrapTrustedValue();if(G(r.$$unwrapTrustedValue)&&(r=r.$$unwrapTrustedValue()),t===Wr.MEDIA_URL||t===Wr.URL)return i(r.toString(),t===Wr.MEDIA_URL);if(t===Wr.RESOURCE_URL){if(function(t){var r,i,o=li(t.toString()),s=!1;for(r=0,i=e.length;r<i;r++)if(a(e[r],o)){s=!0;break}if(s)for(r=0,i=n.length;r<i;r++)if(a(n[r],o)){s=!1;break}return s}(r))return r;throw zr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",r.toString())}if(t===Wr.HTML)return o(r);throw zr("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(t){return t instanceof c?t.$$unwrapTrustedValue():t}}}]}function Xr(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&o<8)throw zr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=zt(Wr);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=N),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,(function(e){return r.getTrusted(t,e)}))};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return E(Wr,(function(t,e){var n=f(e);r[Kr("parse_as_"+n)]=function(e){return i(t,e)},r[Kr("get_trusted_"+n)]=function(e){return a(t,e)},r[Kr("trust_as_"+n)]=function(e){return s(t,e)}})),r}]}function Zr(){this.$get=["$window","$document",function(t,e){var n={},r=!((!t.nw||!t.nw.process)&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id))&&t.history&&t.history.pushState,i=O((/android (\d+)/.exec(f((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},c=s.body&&s.body.style,u=!1,l=!1;return c&&(u=!!("transition"in c||"webkitTransition"in c),l=!!("animation"in c||"webkitAnimation"in c)),{history:!(!r||i<4||a),hasEvent:function(t){if("input"===t&&o)return!1;if(j(n[t])){var e=s.createElement("div");n[t]="on"+t in e}return n[t]},csp:ut(),transitions:u,animations:l,android:i}}]}function Jr(){this.$get=R((function(t){return new ti(t)}))}function ti(t){var e={},n=[],r=this.ALL_TASKS_TYPE="$$all$$",i=this.DEFAULT_TASK_TYPE="$$default$$";function o(){var t=n.pop();return t&&t.cb}function a(t){for(var e=n.length-1;e>=0;--e){var r=n[e];if(r.type===t)return n.splice(e,1),r.cb}}this.completeTask=function(n,s){s=s||i;try{n()}finally{!function(t){e[t=t||i]&&(e[t]--,e[r]--)}(s);var c=e[r];if(!c||!e[s])for(var u,l=c?a:o;u=l(s);)try{u()}catch(d){t.error(d)}}},this.incTaskCount=function(t){e[t=t||i]=(e[t]||0)+1,e[r]=(e[r]||0)+1},this.notifyWhenNoPendingTasks=function(t,i){e[i=i||r]?n.push({type:i,cb:t}):t()}}var ei=i("$templateRequest");function ni(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(e,n,r,i,o){function a(s,c){a.totalPendingRequests++,H(s)&&!j(n.get(s))||(s=o.getTrustedResourceUrl(s));var u=r.defaults&&r.defaults.transformResponse;return z(u)?u=u.filter((function(t){return t!==Fn})):u===Fn&&(u=null),r.get(s,I({cache:n,transformResponse:u},t)).finally((function(){a.totalPendingRequests--})).then((function(t){return n.put(s,t.data)}),(function(t){return c||(t=ei("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,t.status,t.statusText),e(t)),i.reject(t)}))}return a.totalPendingRequests=0,a}]}function ri(){this.$get=["$rootScope","$browser","$location",function(t,e,n){return{findBindings:function(t,e,n){var r=t.getElementsByClassName("ng-binding"),i=[];return E(r,(function(t){var r=_.element(t).data("$binding");r&&E(r,(function(r){n?new RegExp("(^|\\s)"+et(e)+"(\\s|\\||$)").test(r)&&i.push(t):-1!==r.indexOf(e)&&i.push(t)}))})),i},findModels:function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=t.querySelectorAll("["+r[i]+"model"+(n?"=":"*=")+'"'+e+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(e){e!==n.url()&&(n.url(e),t.$digest())},whenStable:function(t){e.notifyWhenNoOutstandingRequests(t)}}}]}var ii=i("$timeout");function oi(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){var o={};function a(a,s,c){G(a)||(c=s,s=a,a=D);var u,l=ft(arguments,3),d=F(c)&&!c,f=(d?r:n).defer(),h=f.promise;return u=e.defer((function(){try{f.resolve(a.apply(null,l))}catch(e){f.reject(e),i(e)}finally{delete o[h.$$timeoutId]}d||t.$apply()}),s,"$timeout"),h.$$timeoutId=u,o[u]=f,h}return a.cancel=function(t){if(!t)return!1;if(!t.hasOwnProperty("$$timeoutId"))throw ii("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!o.hasOwnProperty(t.$$timeoutId))return!1;var n=t.$$timeoutId,r=o[n];return Vr(r.promise),r.reject("canceled"),delete o[n],e.defer.cancel(n)},a}]}var ai,si=t.document.createElement("a"),ci=li(t.location.href);si.href="http://[::1]";var ui="[::1]"===si.hostname;function li(t){if(!H(t))return t;var e=t;o&&(si.setAttribute("href",e),e=si.href),si.setAttribute("href",e);var n=si.hostname;return!ui&&n.indexOf(":")>-1&&(n="["+n+"]"),{href:si.href,protocol:si.protocol?si.protocol.replace(/:$/,""):"",host:si.host,search:si.search?si.search.replace(/^\?/,""):"",hash:si.hash?si.hash.replace(/^#/,""):"",hostname:n,port:si.port,pathname:"/"===si.pathname.charAt(0)?si.pathname:"/"+si.pathname}}function di(t,e){return t=li(t),e=li(e),t.protocol===e.protocol&&t.host===e.host}function fi(){this.$get=R(t)}function hi(t){var e=t[0]||{},n={},r="";function i(t){try{return decodeURIComponent(t)}catch(e){return t}}return function(){var t,o,a,s,c,u=function(t){try{return t.cookie||""}catch(e){return""}}(e);if(u!==r)for(t=(r=u).split("; "),n={},a=0;a<t.length;a++)(s=(o=t[a]).indexOf("="))>0&&(c=i(o.substring(0,s)),j(n[c])&&(n[c]=i(o.substring(s+1))));return n}}function pi(){this.$get=hi}function mi(t){var e="Filter";function n(r,i){if(B(r)){var o={};return E(r,(function(t,e){o[e]=n(e,t)})),o}return t.factory(r+e,i)}this.register=n,this.$get=["$injector",function(t){return function(n){return t.get(n+e)}}],n("currency",Si),n("date",Di),n("filter",gi),n("json",Ni),n("limitTo",ji),n("lowercase",Ri),n("number",Ei),n("orderBy",Bi),n("uppercase",Li)}function gi(){return function(t,e,n,r){if(!S(t)){if(null==t)return t;throw i("filter")("notarray","Expected array but received: {0}",t)}var o,a;switch(r=r||"$",yi(e)){case"function":o=e;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=function(t,e,n,r){var i=B(t)&&n in t;return!0===e?e=ct:G(e)||(e=function(t,e){return!(j(t)||(null===t||null===e?t!==e:B(e)||B(t)&&!L(t)||(t=f(""+t),e=f(""+e),-1===t.indexOf(e))))}),function(o){return i&&!B(o)?vi(o,t[n],e,n,!1):vi(o,t,e,n,r)}}(e,n,r,a);break;default:return t}return Array.prototype.filter.call(t,o)}}function vi(t,e,n,r,i,o){var a=yi(t),s=yi(e);if("string"===s&&"!"===e.charAt(0))return!vi(t,e.substring(1),n,r,i);if(z(t))return t.some((function(t){return vi(t,e,n,r,i)}));switch(a){case"object":var c;if(i){for(c in t)if(c.charAt&&"$"!==c.charAt(0)&&vi(t[c],e,n,r,!0))return!0;return!o&&vi(t,e,n,r,!1)}if("object"===s){for(c in e){var u=e[c];if(!G(u)&&!j(u)){var l=c===r;if(!vi(l?t:t[c],u,n,r,l,l))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function yi(t){return null===t?"null":typeof t}hi.$inject=["$document"],mi.$inject=["$provide"];var bi=22,_i=".",wi="0";function Si(t){var e=t.NUMBER_FORMATS;return function(t,n,r){j(n)&&(n=e.CURRENCY_SYM),j(r)&&(r=e.PATTERNS[1].maxFrac);var i=n?/\u00A4/g:/\s*\u00A4\s*/g;return null==t?t:xi(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(i,n)}}function Ei(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:xi(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function xi(t,e,n,r,i){if(!H(t)&&!U(t)||isNaN(t))return"";var o,a=!isFinite(t),s=!1,c=Math.abs(t)+"",u="";if(a)u="∞";else{!function(t,e,n,r){var i=t.d,o=i.length-t.i,a=(e=j(e)?Math.min(Math.max(n,o),r):+e)+t.i,s=i[a];if(a>0){i.splice(Math.max(t.i,a));for(var c=a;c<i.length;c++)i[c]=0}else{o=Math.max(0,o),t.i=1,i.length=Math.max(1,a=e+1),i[0]=0;for(var u=1;u<a;u++)i[u]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)i.unshift(0),t.i++;i.unshift(1),t.i++}else i[a-1]++;for(;o<Math.max(0,e);o++)i.push(0);var d=i.reduceRight((function(t,e,n,r){return r[n]=(e+=t)%10,Math.floor(e/10)}),0);d&&(i.unshift(d),t.i++)}(o=function(t){var e,n,r,i,o,a=0;for((n=t.indexOf(_i))>-1&&(t=t.replace(_i,"")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charAt(r)===wi;r++);if(r===(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)===wi;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=+t.charAt(r)}return n>bi&&(e=e.splice(0,bi-1),a=n-1,n=1),{d:e,e:a,i:n}}(c),i,e.minFrac,e.maxFrac);var l=o.d,d=o.i,f=o.e,h=[];for(s=l.reduce((function(t,e){return t&&!e}),!0);d<0;)l.unshift(0),d++;d>0?h=l.splice(d,l.length):(h=l,l=[0]);var p=[];for(l.length>=e.lgSize&&p.unshift(l.splice(-e.lgSize,l.length).join(""));l.length>e.gSize;)p.unshift(l.splice(-e.gSize,l.length).join(""));l.length&&p.unshift(l.join("")),u=p.join(n),h.length&&(u+=r+h.join("")),f&&(u+="e+"+f)}return t<0&&!s?e.negPre+u+e.negSuf:e.posPre+u+e.posSuf}function Ci(t,e,n,r){var i="";for((t<0||r&&t<=0)&&(r?t=1-t:(t=-t,i="-")),t=""+t;t.length<e;)t=wi+t;return n&&(t=t.substr(t.length-e)),i+t}function ki(t,e,n,r,i){return n=n||0,function(o){var a=o["get"+t]();return(n>0||a>-n)&&(a+=n),0===a&&-12===n&&(a=12),Ci(a,e,r,i)}}function Ti(t,e,n){return function(r,i){var o=r["get"+t]();return i[h((n?"STANDALONE":"")+(e?"SHORT":"")+t)][o]}}function Pi(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function Ii(t){return function(e){var n,r=Pi(e.getFullYear()),i=(n=e,new Date(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay())));return Ci(1+Math.round((+i-+r)/6048e5),t)}}function Ai(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}Si.$inject=["$locale"],Ei.$inject=["$locale"];var Oi={yyyy:ki("FullYear",4,0,!1,!0),yy:ki("FullYear",2,0,!0,!0),y:ki("FullYear",1,0,!1,!0),MMMM:Ti("Month"),MMM:Ti("Month",!0),MM:ki("Month",2,1),M:ki("Month",1,1),LLLL:Ti("Month",!1,!0),dd:ki("Date",2),d:ki("Date",1),HH:ki("Hours",2),H:ki("Hours",1),hh:ki("Hours",2,-12),h:ki("Hours",1,-12),mm:ki("Minutes",2),m:ki("Minutes",1),ss:ki("Seconds",2),s:ki("Seconds",1),sss:ki("Milliseconds",3),EEEE:Ti("Day"),EEE:Ti("Day",!0),a:function(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,n){var r=-1*n;return(r>=0?"+":"")+(Ci(Math[r>0?"floor":"ceil"](r/60),2)+Ci(Math.abs(r%60),2))},ww:Ii(2),w:Ii(1),G:Ai,GG:Ai,GGG:Ai,GGGG:function(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}},$i=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Mi=/^-?\d+$/;function Di(t){var e=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var o,a,s="",c=[];if(r=t.DATETIME_FORMATS[r=r||"mediumDate"]||r,H(n)&&(n=Mi.test(n)?O(n):function(t){var n;if(n=t.match(e)){var r=new Date(0),i=0,o=0,a=n[8]?r.setUTCFullYear:r.setFullYear,s=n[8]?r.setUTCHours:r.setHours;n[9]&&(i=O(n[9]+n[10]),o=O(n[9]+n[11])),a.call(r,O(n[1]),O(n[2])-1,O(n[3]));var c=O(n[4]||0)-i,u=O(n[5]||0)-o,l=O(n[6]||0),d=Math.round(1e3*parseFloat("0."+(n[7]||0)));return s.call(r,c,u,l,d),r}return t}(n)),U(n)&&(n=new Date(n)),!q(n)||!isFinite(n.getTime()))return n;for(;r;)(a=$i.exec(r))?r=(c=dt(c,a,1)).pop():(c.push(r),r=null);var u=n.getTimezoneOffset();return i&&(u=yt(i,u),n=_t(n,i,!0)),E(c,(function(e){s+=(o=Oi[e])?o(n,t.DATETIME_FORMATS,u):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),s}}function Ni(){return function(t,e){return j(e)&&(e=2),mt(t,e)}}Di.$inject=["$locale"];var Ri=R(f),Li=R(h);function ji(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):O(e),$(e)?t:(U(t)&&(t=t.toString()),S(t)?(n=(n=!n||isNaN(n)?0:O(n))<0?Math.max(0,t.length+n):n,e>=0?Fi(t,n,n+e):0===n?Fi(t,e,t.length):Fi(t,Math.max(0,n+e),n)):t)}}function Fi(t,e,n){return H(t)?t.slice(e,n):p.call(t,e,n)}function Bi(t){return function(r,o,a,s){if(null==r)return r;if(!S(r))throw i("orderBy")("notarray","Expected array but received: {0}",r);z(o)||(o=[o]),0===o.length&&(o=["+"]);var c=o.map((function(e){var n=1,r=N;if(G(e))r=e;else if(H(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(r=t(e)).constant)){var i=r();r=function(t){return t[i]}}return{get:r,descending:n}})),u=a?-1:1,l=G(s)?s:n,d=Array.prototype.map.call(r,(function(t,n){return{value:t,tieBreaker:{value:n,type:"number",index:n},predicateValues:c.map((function(r){return function(t,n){var r=typeof t;return null===t?r="null":"object"===r&&(t=function(t){return G(t.valueOf)&&e(t=t.valueOf())?t:(L(t)&&e(t=t.toString()),t)}(t)),{value:t,type:r,index:n}}(r.get(t),n)}))}}));return d.sort((function(t,e){for(var r=0,i=c.length;r<i;r++){var o=l(t.predicateValues[r],e.predicateValues[r]);if(o)return o*c[r].descending*u}return(l(t.tieBreaker,e.tieBreaker)||n(t.tieBreaker,e.tieBreaker))*u})),d.map((function(t){return t.value}))};function e(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function n(t,e){var n=0,r=t.type,i=e.type;if(r===i){var o=t.value,a=e.value;"string"===r?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===r&&(B(o)&&(o=t.index),B(a)&&(a=e.index)),o!==a&&(n=o<a?-1:1)}else n="undefined"===r?1:"undefined"===i?-1:"null"===r?1:"null"===i?-1:r<i?-1:1;return n}}function Vi(t){return G(t)&&(t={link:t}),t.restrict=t.restrict||"AC",R(t)}Bi.$inject=["$parse"];var Hi=R({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===v.call(e.prop("href"))?"xlink:href":"href";e.on("click",(function(t){e.attr(n)||t.preventDefault()}))}}}}),Ui={};E(Ae,(function(t,e){if("multiple"!==t){var n=bn("ng-"+e),r=i;"checked"===t&&(r=function(t,e,r){r.ngModel!==r[n]&&i(t,0,r)}),Ui[n]=function(){return{restrict:"A",priority:100,link:r}}}function i(t,r,i){t.$watch(i[n],(function(t){i.$set(e,!!t)}))}})),E($e,(function(t,e){Ui[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"===r.ngPattern.charAt(0)){var i=r.ngPattern.match(u);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],(function(t){r.$set(e,t)}))}}}})),E(["src","srcset","href"],(function(t){var e=bn("ng-"+t);Ui[e]=["$sce",function(n){return{priority:99,link:function(r,i,a){var s=t,c=t;"href"===t&&"[object SVGAnimatedString]"===v.call(i.prop("href"))&&(a.$attr[c="xlinkHref"]="xlink:href",s=null),a.$set(e,n.getTrustedMediaUrl(a[e])),a.$observe(e,(function(e){e?(a.$set(c,e),o&&s&&i.prop(s,a[c])):"href"===t&&a.$set(c,null)}))}}}]}));var qi={$addControl:D,$getControls:R([]),$$renameControl:function(t,e){t.$name=e},$removeControl:D,$setValidity:D,$setDirty:D,$setPristine:D,$setSubmitted:D,$$setSubmitted:D},zi="ng-pending";function Wi(t,e,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(e.name||e.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=qi,this.$$element=t,this.$$animate=r,Yi(this)}Wi.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Wi.prototype={$rollbackViewValue:function(){E(this.$$controls,(function(t){t.$rollbackViewValue()}))},$commitViewValue:function(){E(this.$$controls,(function(t){t.$commitViewValue()}))},$addControl:function(t){Rt(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$getControls:function(){return zt(this.$$controls)},$$renameControl:function(t,e){var n=t.$name;this[n]===t&&delete this[n],this[e]=t,t.$name=e},$removeControl:function(t){t.$name&&this[t.$name]===t&&delete this[t.$name],E(this.$pending,(function(e,n){this.$setValidity(n,null,t)}),this),E(this.$error,(function(e,n){this.$setValidity(n,null,t)}),this),E(this.$$success,(function(e,n){this.$setValidity(n,null,t)}),this),ot(this.$$controls,t),t.$$parentForm=qi},$setDirty:function(){this.$$animate.removeClass(this.$$element,Go),this.$$animate.addClass(this.$$element,Ko),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Go,Ko+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,E(this.$$controls,(function(t){t.$setPristine()}))},$setUntouched:function(){E(this.$$controls,(function(t){t.$setUntouched()}))},$setSubmitted:function(){for(var t=this;t.$$parentForm&&t.$$parentForm!==qi;)t=t.$$parentForm;t.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,E(this.$$controls,(function(t){t.$$setSubmitted&&t.$$setSubmitted()}))}},Xi({clazz:Wi,set:function(t,e,n){var r=t[e];r?-1===r.indexOf(n)&&r.push(n):t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(ot(r,n),0===r.length&&delete t[e])}});var Gi=function(t){return["$timeout","$parse",function(e,n){return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:Wi,compile:function(n,i){n.addClass(Go).addClass(zo);var o=i.name?"name":!(!t||!i.ngForm)&&"ngForm";return{pre:function(t,n,i,a){var s=a[0];if(!("action"in i)){var c=function(e){t.$apply((function(){s.$commitViewValue(),s.$setSubmitted()})),e.preventDefault()};n[0].addEventListener("submit",c),n.on("$destroy",(function(){e((function(){n[0].removeEventListener("submit",c)}),0,!1)}))}(a[1]||s.$$parentForm).$addControl(s);var u=o?r(s.$name):D;o&&(u(t,s),i.$observe(o,(function(e){s.$name!==e&&(u(t,void 0),s.$$parentForm.$$renameControl(s,e),(u=r(s.$name))(t,s))}))),n.on("$destroy",(function(){s.$$parentForm.$removeControl(s),u(t,void 0),I(s,qi)}))}}}};function r(t){return""===t?n('this[""]').assign:n(t).assign||D}}]},Ki=Gi(),Qi=Gi(!0);function Yi(t){t.$$classCache={},t.$$classCache[Wo]=!(t.$$classCache[zo]=t.$$element.hasClass(zo))}function Xi(t){var e=t.set,n=t.unset;function r(t,e,n){n&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!n&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function i(t,e,n){e=e?"-"+$t(e,"-"):"",r(t,zo+e,!0===n),r(t,Wo+e,!1===n)}t.clazz.prototype.$setValidity=function(t,o,a){var s;j(o)?function(t,n,r,i){t[n]||(t[n]={}),e(t[n],r,i)}(this,"$pending",t,a):function(t,e,r,i){t[e]&&n(t[e],r,i),Zi(t[e])&&(t[e]=void 0)}(this,"$pending",t,a),X(o)?o?(n(this.$error,t,a),e(this.$$success,t,a)):(e(this.$error,t,a),n(this.$$success,t,a)):(n(this.$error,t,a),n(this.$$success,t,a)),this.$pending?(r(this,zi,!0),this.$valid=this.$invalid=void 0,i(this,"",null)):(r(this,zi,!1),this.$valid=Zi(this.$error),this.$invalid=!this.$valid,i(this,"",this.$valid)),i(this,t,s=this.$pending&&this.$pending[t]?void 0:!this.$error[t]&&(!!this.$$success[t]||null)),this.$$parentForm.$setValidity(t,s,this)}}function Zi(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var Ji=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,to=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,eo=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,no=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,ro=/^(\d{4,})-(\d{2})-(\d{2})$/,io=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,oo=/^(\d{4,})-W(\d\d)$/,ao=/^(\d{4,})-(\d\d)$/,so=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,co="keydown wheel mousedown",uo=jt();E("date,datetime-local,month,time,week".split(","),(function(t){uo[t]=!0}));var lo={text:function(t,e,n,r,i,o){ho(0,e,n,r,i,o),fo(r)},date:mo("date",ro,po(ro,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":mo("datetimelocal",io,po(io,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:mo("time",so,po(so,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:mo("week",oo,(function(t,e){if(q(t))return t;if(H(t)){oo.lastIndex=0;var n=oo.exec(t);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,c=0,u=Pi(r),l=7*(i-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),c=e.getMilliseconds()),new Date(r,0,u.getDate()+l,o,a,s,c)}}return NaN}),"yyyy-Www"),month:mo("month",ao,po(ao,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,n,r,i,o,a,s){var c;if(go(0,e,0,r,"number"),vo(r),ho(0,e,n,r,i,o),F(n.min)||n.ngMin){var u=n.min||s(n.ngMin)(t);c=yo(u),r.$validators.min=function(t,e){return r.$isEmpty(e)||j(c)||e>=c},n.$observe("min",(function(t){t!==u&&(c=yo(t),u=t,r.$validate())}))}if(F(n.max)||n.ngMax){var l=n.max||s(n.ngMax)(t),d=yo(l);r.$validators.max=function(t,e){return r.$isEmpty(e)||j(d)||e<=d},n.$observe("max",(function(t){t!==l&&(d=yo(t),l=t,r.$validate())}))}if(F(n.step)||n.ngStep){var f=n.step||s(n.ngStep)(t),h=yo(f);r.$validators.step=function(t,e){return r.$isEmpty(e)||j(h)||wo(e,c||0,h)},n.$observe("step",(function(t){t!==f&&(h=yo(t),f=t,r.$validate())}))}},url:function(t,e,n,r,i,o){ho(0,e,n,r,i,o),fo(r),r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||to.test(n)}},email:function(t,e,n,r,i,o){ho(0,e,n,r,i,o),fo(r),r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||eo.test(n)}},radio:function(t,e,n,r){var i=!n.ngTrim||"false"!==tt(n.ngTrim);j(n.name)&&e.attr("name",k()),e.on("change",(function(t){var o;e[0].checked&&(o=n.value,i&&(o=tt(o)),r.$setViewValue(o,t&&t.type))})),r.$render=function(){var t=n.value;i&&(t=tt(t)),e[0].checked=t===r.$viewValue},n.$observe("value",r.$render)},range:function(t,e,n,r,i,o){go(0,e,0,r,"range"),vo(r),ho(0,e,n,r,i,o);var a=r.$$hasNativeValidators&&"range"===e[0].type,s=a?0:void 0,c=a?100:void 0,u=a?1:void 0,l=e[0].validity,d=F(n.min),f=F(n.max),h=F(n.step),p=r.$render;function m(t,r){e.attr(t,n[t]);var i=n[t];n.$observe(t,(function(t){t!==i&&(i=t,r(t))}))}r.$render=a&&F(l.rangeUnderflow)&&F(l.rangeOverflow)?function(){p(),r.$setViewValue(e.val())}:p,d&&(s=yo(n.min),r.$validators.min=a?function(){return!0}:function(t,e){return r.$isEmpty(e)||j(s)||e>=s},m("min",(function(t){if(s=yo(t),!$(r.$modelValue))if(a){var n=e.val();s>n&&e.val(n=s),r.$setViewValue(n)}else r.$validate()}))),f&&(c=yo(n.max),r.$validators.max=a?function(){return!0}:function(t,e){return r.$isEmpty(e)||j(c)||e<=c},m("max",(function(t){if(c=yo(t),!$(r.$modelValue))if(a){var n=e.val();c<n&&(e.val(c),n=c<s?s:c),r.$setViewValue(n)}else r.$validate()}))),h&&(u=yo(n.step),r.$validators.step=a?function(){return!l.stepMismatch}:function(t,e){return r.$isEmpty(e)||j(u)||wo(e,s||0,u)},m("step",(function(t){u=yo(t),$(r.$modelValue)||(a?r.$viewValue!==e.val()&&r.$setViewValue(e.val()):r.$validate())})))},checkbox:function(t,e,n,r,i,o,a,s){var c=So(s,t,"ngTrueValue",n.ngTrueValue,!0),u=So(s,t,"ngFalseValue",n.ngFalseValue,!1);e.on("change",(function(t){r.$setViewValue(e[0].checked,t&&t.type)})),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return!1===t},r.$formatters.push((function(t){return ct(t,c)})),r.$parsers.push((function(t){return t?c:u}))},hidden:D,button:D,submit:D,reset:D,file:D};function fo(t){t.$formatters.push((function(e){return t.$isEmpty(e)?e:e.toString()}))}function ho(t,e,n,r,i,o){var a,s=f(e[0].type);if(!i.android){var c=!1;e.on("compositionstart",(function(){c=!0})),e.on("compositionupdate",(function(t){(j(t.data)||""===t.data)&&(c=!1)})),e.on("compositionend",(function(){c=!1,u()}))}var u=function(t){if(a&&(o.defer.cancel(a),a=null),!c){var i=e.val(),u=t&&t.type;"password"===s||n.ngTrim&&"false"===n.ngTrim||(i=tt(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,u)}};if(i.hasEvent("input"))e.on("input",u);else{var d=function(t,e,n){a||(a=o.defer((function(){a=null,e&&e.value===n||u(t)})))};e.on("keydown",(function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||d(t,this,this.value)})),i.hasEvent("paste")&&e.on("paste cut drop",d)}e.on("change",u),uo[s]&&r.$$hasNativeValidators&&s===n.type&&e.on(co,(function(t){if(!a){var e=this[l],n=e.badInput,r=e.typeMismatch;a=o.defer((function(){a=null,e.badInput===n&&e.typeMismatch===r||u(t)}))}})),r.$render=function(){var t=r.$isEmpty(r.$viewValue)?"":r.$viewValue;e.val()!==t&&e.val(t)}}function po(t,e){return function(n,r){var i,o;if(q(n))return n;if(H(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Ji.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n)){i.shift(),o=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},E(i,(function(t,n){n<e.length&&(o[e[n]]=+t)}));var a=new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0);return o.yyyy<100&&a.setFullYear(o.yyyy),a}}return NaN}}function mo(t,e,n,r){return function(i,o,a,s,c,u,l,d){go(0,o,0,s,t),ho(0,o,a,s,c,u);var f,h,p="time"===t||"datetimelocal"===t;if(s.$parsers.push((function(n){return s.$isEmpty(n)?null:e.test(n)?w(n,f):void(s.$$parserName=t)})),s.$formatters.push((function(t){if(t&&!q(t))throw Qo("datefmt","Expected `{0}` to be a date",t);if(b(t)){f=t;var e=s.$options.getOption("timezone");return e&&(h=e,f=_t(f,e,!0)),function(t,e){var n=r;p&&H(s.$options.getOption("timeSecondsFormat"))&&(n=r.replace("ss.sss",s.$options.getOption("timeSecondsFormat")).replace(/:$/,""));var i=l("date")(t,n,e);return p&&s.$options.getOption("timeStripZeroSeconds")&&(i=i.replace(/(?::00)?(?:\.000)?$/,"")),i}(t,e)}return f=null,h=null,""})),F(a.min)||a.ngMin){var m=a.min||d(a.ngMin)(i),g=_(m);s.$validators.min=function(t){return!b(t)||j(g)||n(t)>=g},a.$observe("min",(function(t){t!==m&&(g=_(t),m=t,s.$validate())}))}if(F(a.max)||a.ngMax){var v=a.max||d(a.ngMax)(i),y=_(v);s.$validators.max=function(t){return!b(t)||j(y)||n(t)<=y},a.$observe("max",(function(t){t!==v&&(y=_(t),v=t,s.$validate())}))}function b(t){return t&&!(t.getTime&&t.getTime()!=t.getTime())}function _(t){return F(t)&&!q(t)?w(t)||void 0:t}function w(t,e){var r=s.$options.getOption("timezone");h&&h!==r&&(e=bt(e,yt(h)));var i=n(t,e);return!isNaN(i)&&r&&(i=_t(i,r)),i}}}function go(t,e,n,r,i){(r.$$hasNativeValidators=B(e[0].validity))&&r.$parsers.push((function(t){var n=e.prop(l)||{};if(!n.badInput&&!n.typeMismatch)return t;r.$$parserName=i}))}function vo(t){t.$parsers.push((function(e){return t.$isEmpty(e)?null:no.test(e)?parseFloat(e):void(t.$$parserName="number")})),t.$formatters.push((function(e){if(!t.$isEmpty(e)){if(!U(e))throw Qo("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}))}function yo(t){return F(t)&&!U(t)&&(t=parseFloat(t)),$(t)?void 0:t}function bo(t){return(0|t)===t}function _o(t){var e=t.toString(),n=e.indexOf(".");if(-1===n){if(-1<t&&t<1){var r=/e-(\d+)$/.exec(e);if(r)return Number(r[1])}return 0}return e.length-n-1}function wo(t,e,n){var r=Number(t),i=!bo(r),o=!bo(e),a=!bo(n);if(i||o||a){var s=i?_o(r):0,c=o?_o(e):0,u=a?_o(n):0,l=Math.max(s,c,u),d=Math.pow(10,l);r*=d,e*=d,n*=d,i&&(r=Math.round(r)),o&&(e=Math.round(e)),a&&(n=Math.round(n))}return(r-e)%n==0}function So(t,e,n,r,i){var o;if(F(r)){if(!(o=t(r)).constant)throw Qo("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(e)}return i}var Eo=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(lo[f(a.type)]||lo.text)(i,o,a,s[0],e,t,n,r)}}}}],xo=function(){var t={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(t){this.setAttribute("value",t)}};return{restrict:"E",priority:200,compile:function(e,n){if("hidden"===f(n.type))return{pre:function(e,n,r,i){var o=n[0];o.parentNode&&o.parentNode.insertBefore(o,o.nextSibling),Object.defineProperty&&Object.defineProperty(o,"value",t)}}}}},Co=/^(true|false|\d+)$/,ko=function(){function t(t,e,n){var r=F(n)?n:9===o?"":null;t.prop("value",r),e.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,n){return Co.test(n.ngValue)?function(e,n,r){t(n,r,e.$eval(r.ngValue))}:function(e,n,r){e.$watch(r.ngValue,(function(e){t(n,r,e)}))}}}},To=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,r){t.$$addBindingInfo(n,r.ngBind),n=n[0],e.$watch(r.ngBind,(function(t){n.textContent=Ft(t)}))}}}}],Po=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,r,i){var o=t(r.attr(i.$attr.ngBindTemplate));e.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",(function(t){r.textContent=j(t)?"":t}))}}}}],Io=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),a=e(i.ngBindHtml,(function(e){return t.valueOf(e)}));return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(a,(function(){var n=o(e);r.html(t.getTrustedHtml(n)||"")}))}}}}],Ao=R({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push((function(){t.$eval(n.ngChange)}))}});function Oo(t,e){var n;return t="ngClass"+t,["$parse",function(a){return{restrict:"AC",link:function(s,c,u){var l,d=c.data("$classCounts"),f=!0;function h(t,e){var n=[];return E(t,(function(t){(e>0||d[t])&&(d[t]=(d[t]||0)+e,d[t]===+(e>0)&&n.push(t))})),n.join(" ")}d||(d=jt(),c.data("$classCounts",d)),"ngClass"!==t&&(n||(n=a("$index",(function(t){return 1&t}))),s.$watch(n,(function(t){var n;t===e?(n=h(i(n=l),1),u.$addClass(n)):function(t){t=h(i(t),-1),u.$removeClass(t)}(l),f=t}))),s.$watch(a(u[t],o),(function(t){f===e&&function(t,e){var n=i(t),o=i(e),a=r(n,o),s=r(o,n),c=h(a,-1),l=h(s,1);u.$addClass(l),u.$removeClass(c)}(l,t),l=t}))}}}];function r(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i===e[o])continue t;n.push(i)}return n}function i(t){return t&&t.split(" ")}function o(t){if(!t)return t;var e=t;return z(t)?e=t.map(o).join(" "):B(t)?e=Object.keys(t).filter((function(e){return t[e]})).join(" "):H(t)||(e=t+""),e}}var $o=Oo("",!0),Mo=Oo("Odd",0),Do=Oo("Even",1),No=Vi({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),Ro=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Lo={},jo={blur:!0,focus:!0};function Fo(t,e,n,r,i,o){return{restrict:"A",compile:function(a,s){var c=t(s[r]);return function(t,r){r.on(i,(function(r){var i=function(){c(t,{$event:r})};if(e.$$phase)if(o)t.$evalAsync(i);else try{i()}catch(a){n(a)}else t.$apply(i)}))}}}}E("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),(function(t){var e=bn("ng-"+t);Lo[e]=["$parse","$rootScope","$exceptionHandler",function(n,r,i){return Fo(n,r,i,e,t,jo[t])}]}));var Bo=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,c,u;n.$watch(i.ngIf,(function(n){n?c||a((function(n,o){c=o,n[n.length++]=e.$$createComment("end ngIf",i.ngIf),s={clone:n},t.enter(n,r.parent(),r)})):(u&&(u.remove(),u=null),c&&(c.$destroy(),c=null),s&&(u=Lt(s.clone),t.leave(u).done((function(t){!1!==t&&(u=null)})),s=null))}))}}}],Vo=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:_.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,c,u,l){var d,f,h,p=0,m=function(){f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),h&&(n.leave(h).done((function(t){!1!==t&&(f=null)})),f=h,h=null)};r.$watch(o,(function(o){var c=function(t){!1===t||!F(s)||s&&!r.$eval(s)||e()},f=++p;o?(t(o,!0).then((function(t){if(!r.$$destroyed&&f===p){var e=r.$new();u.template=t;var s=l(e,(function(t){m(),n.enter(t,null,i).done(c)}));h=s,(d=e).$emit("$includeContentLoaded",o),r.$eval(a)}}),(function(){r.$$destroyed||f===p&&(m(),r.$emit("$includeContentError",o))})),r.$emit("$includeContentRequested",o)):(m(),u.template=null)}))}}}}],Ho=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){if(v.call(r[0]).match(/SVG/))return r.empty(),void e(ue(o.template,t.document).childNodes)(n,(function(t){r.append(t)}),{futureParentElement:r});r.html(o.template),e(r.contents())(n)}}}],Uo=Vi({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),qo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,r){var i=n.ngList||", ",o="false"!==n.ngTrim,a=o?tt(i):i;r.$parsers.push((function(t){if(!j(t)){var e=[];return t&&E(t.split(a),(function(t){t&&e.push(o?tt(t):t)})),e}})),r.$formatters.push((function(t){if(z(t))return t.join(i)})),r.$isEmpty=function(t){return!t||!t.length}}}},zo="ng-valid",Wo="ng-invalid",Go="ng-pristine",Ko="ng-dirty",Qo=i("ngModel");function Yo(t,e,n,r,i,o,a,s,c){var u;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=c(n.name||"",!1)(t),this.$$parentForm=qi,this.$options=Xo,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=t,this.$$rootScope=t.$root,this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=a,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=e,Yi(this),(u=this).$$scope.$watch((function(t){var e=u.$$ngModelGet(t);return e===u.$modelValue||u.$modelValue!=u.$modelValue&&e!=e||u.$$setModelValue(e),e}))}Yo.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Yo.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var t=this.$$parse(this.$$attr.ngModel+"()"),e=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var n=this.$$parsedNgModel(e);return G(n)&&(n=t(e)),n},this.$$ngModelSet=function(t,n){G(this.$$parsedNgModel(t))?e(t,{$$$p:n}):this.$$parsedNgModelAssign(t,n)}}else if(!this.$$parsedNgModel.assign)throw Qo("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,wt(this.$$element))},$render:D,$isEmpty:function(t){return j(t)||""===t||null===t||t!=t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Ko),this.$$animate.addClass(this.$$element,Go)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Go),this.$$animate.addClass(this.$$element,Ko),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!$(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(e,t,(function(t){i||n===t||(o.$modelValue=t?e:void 0,o.$modelValue!==r&&o.$$writeModelToScope())}))}},$$runValidators:function(t,e,n){this.$$currentValidationRunId++;var r,i,o,a,s=this.$$currentValidationRunId,c=this;function u(t,e){s===c.$$currentValidationRunId&&c.$setValidity(t,e)}function l(t){s===c.$$currentValidationRunId&&n(t)}a=c.$$parserName,(j(c.$$parserValid)?(u(a,null),1):(c.$$parserValid||(E(c.$validators,(function(t,e){u(e,null)})),E(c.$asyncValidators,(function(t,e){u(e,null)}))),u(a,c.$$parserValid),c.$$parserValid))?(o=!0,E(c.$validators,(function(n,r){var i=Boolean(n(t,e));o=o&&i,u(r,i)})),!o&&(E(c.$asyncValidators,(function(t,e){u(e,null)})),1)?l(!1):(r=[],i=!0,E(c.$asyncValidators,(function(n,o){var a=n(t,e);if(!Z(a))throw Qo("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);u(o,void 0),r.push(a.then((function(){u(o,!0)}),(function(){i=!1,u(o,!1)})))})),r.length?c.$$q.all(r).then((function(){l(i)}),D):l(!0))):l(!1)},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var t=this.$$lastCommittedViewValue,e=this;if(this.$$parserValid=!j(t)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var n=0;n<this.$parsers.length;n++)if(j(t=this.$parsers[n](t))){this.$$parserValid=!1;break}$(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var r=this.$modelValue,i=this.$options.getOption("allowInvalid");function o(){e.$modelValue!==r&&e.$$writeModelToScope()}this.$$rawModelValue=t,i&&(this.$modelValue=t,o()),this.$$runValidators(t,this.$$lastCommittedViewValue,(function(n){i||(e.$modelValue=n?t:void 0,o())}))},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),E(this.$viewChangeListeners,(function(t){try{t()}catch(e){this.$$exceptionHandler(e)}}),this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");U(e[t])?e=e[t]:U(e.default)&&-1===this.$options.getOption("updateOn").indexOf(t)?e=e.default:U(e["*"])&&(e=e["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;e>0?this.$$pendingDebounce=this.$$timeout((function(){n.$commitViewValue()}),e):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply((function(){n.$commitViewValue()}))},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t),this.$$setUpdateOnEvents()},$processModelValue:function(){var t=this.$$format();this.$viewValue!==t&&(this.$$updateEmptyClasses(t),this.$viewValue=this.$$lastCommittedViewValue=t,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,D))},$$format:function(){for(var t=this.$formatters,e=t.length,n=this.$modelValue;e--;)n=t[e](n);return n},$$setModelValue:function(t){this.$modelValue=this.$$rawModelValue=t,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(t){this.$$debounceViewValueCommit(t&&t.type)}},Xi({clazz:Yo,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var Xo,Zo=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Yo,priority:1,compile:function(e){return e.addClass(Go).addClass("ng-untouched").addClass(zo),{pre:function(t,e,n,r){var i=r[0],o=r[1]||i.$$parentForm,a=r[2];a&&(i.$options=a.$options),i.$$initGetterSetters(),o.$addControl(i),n.$observe("name",(function(t){i.$name!==t&&i.$$parentForm.$$renameControl(i,t)})),t.$on("$destroy",(function(){i.$$parentForm.$removeControl(i)}))},post:function(e,n,r,i){var o=i[0];function a(){o.$setTouched()}o.$$setUpdateOnEvents(),n.on("blur",(function(){o.$touched||(t.$$phase?e.$evalAsync(a):e.$apply(a))}))}}}}}],Jo=/(\s+|^)default(\s+|$)/;function ta(t){this.$$options=t}ta.prototype={getOption:function(t){return this.$$options[t]},createChild:function(t){var e=!1;return E(t=I({},t),(function(n,r){"$inherit"===n?"*"===r?e=!0:(t[r]=this.$$options[r],"updateOn"===r&&(t.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(t.updateOnDefault=!1,t[r]=tt(n.replace(Jo,(function(){return t.updateOnDefault=!0," "}))))}),this),e&&(delete t["*"],na(t,this.$$options)),na(t,Xo.$$options),new ta(t)}},Xo=new ta({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var ea=function(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:Xo,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}};function na(t,e){E(e,(function(e,n){F(t[n])||(t[n]=e)}))}var ra=Vi({terminal:!0,priority:1e3}),ia=i("ngOptions"),oa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,aa=["$compile","$document","$parse",function(e,n,r){var i=t.document.createElement("option"),o=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,r){r[0].registerOption=D},post:function(t,s,c,u){for(var l=u[0],d=u[1],f=c.multiple,h=0,p=s.children(),m=p.length;h<m;h++)if(""===p[h].value){l.hasEmptyOption=!0,l.emptyOption=p.eq(h);break}s.empty();var g,v=!!l.emptyOption;a(i.cloneNode(!1)).val("?");var y=function(t,e,n){var i=t.match(oa);if(!i)throw ia("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,wt(e));var o=i[5]||i[7],a=i[6],s=/ as /.test(i[0])&&i[1],c=i[9],u=r(i[2]?i[1]:o),l=s&&r(s)||u,d=c&&r(c),f=c?function(t,e){return d(n,e)}:function(t){return Le(t)},h=function(t,e){return f(t,b(t,e))},p=r(i[2]||i[1]),m=r(i[3]||""),g=r(i[4]||""),v=r(i[8]),y={},b=a?function(t,e){return y[a]=e,y[o]=t,y}:function(t){return y[o]=t,y};function _(t,e,n,r,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=r,this.disabled=i}function w(t){var e;if(!a&&S(t))e=t;else for(var n in e=[],t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n);return e}return{trackBy:c,getTrackByValue:h,getWatchables:r(v,(function(t){for(var e=[],r=w(t=t||[]),o=r.length,a=0;a<o;a++){var s=t===r?a:r[a],c=t[s],u=b(c,s),l=f(c,u);if(e.push(l),i[2]||i[1]){var d=p(n,u);e.push(d)}if(i[4]){var h=g(n,u);e.push(h)}}return e})),getOptions:function(){for(var t=[],e={},r=v(n)||[],i=w(r),o=i.length,a=0;a<o;a++){var s=r===i?a:i[a],u=b(r[s],s),d=l(n,u),y=f(d,u),S=new _(y,d,p(n,u),m(n,u),g(n,u));t.push(S),e[y]=S}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[h(t)]},getViewValueFromOption:function(t){return c?at(t.viewValue):t.viewValue}}}}}(c.ngOptions,s,t),b=n[0].createDocumentFragment();function _(t,e){var n=i.cloneNode(!1);e.appendChild(n),function(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}(t,n)}function w(t){var e=g.getOptionFromViewValue(t),n=e&&e.element;return n&&!n.selected&&(n.selected=!0),e}l.generateUnknownOptionValue=function(t){return"?"},f?(l.writeValue=function(t){if(g){var e=t&&t.map(w)||[];g.items.forEach((function(t){t.element.selected&&!it(e,t)&&(t.element.selected=!1)}))}},l.readValue=function(){var t=s.val()||[],e=[];return E(t,(function(t){var n=g.selectValueMap[t];n&&!n.disabled&&e.push(g.getViewValueFromOption(n))})),e},y.trackBy&&t.$watchCollection((function(){if(z(d.$viewValue))return d.$viewValue.map((function(t){return y.getTrackByValue(t)}))}),(function(){d.$render()}))):(l.writeValue=function(t){if(g){var e=s[0].options[s[0].selectedIndex],n=g.getOptionFromViewValue(t);e&&e.removeAttribute("selected"),n?(s[0].value!==n.selectValue&&(l.removeUnknownOption(),s[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):l.selectUnknownOrEmptyOption(t)}},l.readValue=function(){var t=g.selectValueMap[s.val()];return t&&!t.disabled?(l.unselectEmptyOption(),l.removeUnknownOption(),g.getViewValueFromOption(t)):null},y.trackBy&&t.$watch((function(){return y.getTrackByValue(d.$viewValue)}),(function(){d.$render()}))),v&&(e(l.emptyOption)(t),s.prepend(l.emptyOption),l.emptyOption[0].nodeType===Ht?(l.hasEmptyOption=!1,l.registerOption=function(t,e){""===e.val()&&(l.hasEmptyOption=!0,l.emptyOption=e,l.emptyOption.removeClass("ng-scope"),d.$render(),e.on("$destroy",(function(){var t=l.$isEmptyOptionSelected();l.hasEmptyOption=!1,l.emptyOption=void 0,t&&d.$render()})))}):l.emptyOption.removeClass("ng-scope")),t.$watchCollection(y.getWatchables,(function(){var t=g&&l.readValue();if(g)for(var e=g.items.length-1;e>=0;e--){var n=g.items[e];F(n.group)?Te(n.element.parentNode):Te(n.element)}g=y.getOptions();var r={};if(g.items.forEach((function(t){var e;F(t.group)?((e=r[t.group])||(e=o.cloneNode(!1),b.appendChild(e),e.label=null===t.group?"null":t.group,r[t.group]=e),_(t,e)):_(t,b)})),s[0].appendChild(b),d.$render(),!d.$isEmpty(t)){var i=l.readValue();(y.trackBy||f?ct(t,i):t===i)||(d.$setViewValue(i),d.$render())}}))}}}}],sa=["$locale","$interpolate","$log",function(t,e,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(o,a,s){var c,u=s.count,l=s.$attr.when&&a.attr(s.$attr.when),d=s.offset||0,h=o.$eval(l)||{},p={},m=e.startSymbol(),g=e.endSymbol(),v=m+u+"-"+d+g,y=_.noop;function b(t){a.text(t||"")}E(s,(function(t,e){var n=i.exec(e);if(n){var r=(n[1]?"-":"")+f(n[2]);h[r]=a.attr(s.$attr[e])}})),E(h,(function(t,n){p[n]=e(t.replace(r,v))})),o.$watch(u,(function(e){var r=parseFloat(e),i=$(r);if(i||r in h||(r=t.pluralCat(r-d)),!(r===c||i&&$(c))){y();var a=p[r];j(a)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+l),y=D,b()):y=o.$watch(a,b),c=r}}))}}}],ca=i("ngRef"),ua=["$parse",function(t){return{priority:-1,restrict:"A",compile:function(e,n){var r=bn(rt(e)),i=t(n.ngRef),o=i.assign||function(){throw ca("nonassign",'Expression in ngRef="{0}" is non-assignable!',n.ngRef)};return function(t,e,a){var s;if(a.hasOwnProperty("ngRefRead")){if("$element"===a.ngRefRead)s=e;else if(!(s=e.data("$"+a.ngRefRead+"Controller")))throw ca("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',a.ngRefRead,n.ngRef)}else s=e.data("$"+r+"Controller");o(t,s=s||e),e.on("$destroy",(function(){i(t)===s&&o(t,null)}))}}}}],la=["$parse","$animate","$compile",function(t,e,n){var r=i("ngRepeat"),o=function(t,e,n,r,i,o,a){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))},a=function(t){return t.clone[0]},s=function(t){return t.clone[t.clone.length-1]},c=function(t,e,n){return Le(n)},u=function(t,e){return e};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,l){var f=l.ngRepeat,h=n.$$createComment("end ngRepeat",f),p=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw r("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var m=p[1],g=p[2],v=p[3],y=p[4];if(!(p=m.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw r("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var b,_=p[3]||p[1],w=p[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw r("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);if(y){var x={$id:Le},C=t(y);b=function(t,e,n,r){return w&&(x[w]=e),x[_]=n,x.$index=r,C(t,x)}}return function(t,n,i,l,p){var m=jt();t.$watchCollection(g,(function(i){var l,g,y,C,k,T,P,I,A,O,$,M,D=n[0],N=jt();if(v&&(t[v]=i),S(i))A=i,I=b||c;else for(var R in I=b||u,A=[],i)d.call(i,R)&&"$"!==R.charAt(0)&&A.push(R);for(C=A.length,$=new Array(C),l=0;l<C;l++)if(P=I(t,k=i===A?l:A[l],T=i[k],l),m[P])O=m[P],delete m[P],N[P]=O,$[l]=O;else{if(N[P])throw E($,(function(t){t&&t.scope&&(m[t.id]=t)})),r("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,P,T);$[l]={id:P,scope:void 0,clone:void 0},N[P]=!0}for(var L in x&&(x[_]=void 0),m){if(M=Lt((O=m[L]).clone),e.leave(M),M[0].parentNode)for(l=0,g=M.length;l<g;l++)M[l].$$NG_REMOVED=!0;O.scope.$destroy()}for(l=0;l<C;l++)if(T=i[k=i===A?l:A[l]],(O=$[l]).scope){y=D;do{y=y.nextSibling}while(y&&y.$$NG_REMOVED);a(O)!==y&&e.move(Lt(O.clone),null,D),D=s(O),o(O.scope,l,_,T,w,k,C)}else p((function(t,n){O.scope=n;var r=h.cloneNode(!1);t[t.length++]=r,e.enter(t,null,D),D=r,O.clone=t,N[O.id]=O,o(O.scope,l,_,T,w,k,C)}));m=N}))}}}}],da=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,(function(e){t[e?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})}))}}}],fa=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,(function(e){t[e?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})}))}}}],ha=Vi((function(t,e,n){t.$watchCollection(n.ngStyle,(function(t,n){n&&t!==n&&E(n,(function(t,n){e.css(n,"")})),t&&e.css(t)}))})),pa=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,o){var a=[],s=[],c=[],u=[],l=function(t,e){return function(n){!1!==n&&t.splice(e,1)}};n.$watch(i.ngSwitch||i.on,(function(n){for(var r,i;c.length;)t.cancel(c.pop());for(r=0,i=u.length;r<i;++r){var d=Lt(s[r].clone);u[r].$destroy(),(c[r]=t.leave(d)).done(l(c,r))}s.length=0,u.length=0,(a=o.cases["!"+n]||o.cases["?"])&&E(a,(function(n){n.transclude((function(r,i){u.push(i);var o=n.element;r[r.length++]=e.$$createComment("end ngSwitchWhen"),s.push({clone:r}),t.enter(r,o.parent(),o)}))}))}))}}}],ma=Vi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){E(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter((function(t,e,n){return n[e-1]!==t})),(function(t){r.cases["!"+t]=r.cases["!"+t]||[],r.cases["!"+t].push({transclude:i,element:e})}))}}),ga=Vi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),va=i("ngTransclude"),ya=["$compile",function(t){return{restrict:"EAC",compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,r,i,o){if(!o)throw va("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",wt(e));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var a=r.ngTransclude||r.ngTranscludeSlot;function s(){n(t,(function(t){e.append(t)}))}o((function(t,n){t.length&&function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];if(r.nodeType!==Vt||r.nodeValue.trim())return!0}}(t)?e.append(t):(s(),n.$destroy())}),null,a),a&&!o.isSlotFilled(a)&&s()}}}}],ba=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){"text/ng-template"===n.type&&t.put(n.id,e[0].text)}}}],_a={$setViewValue:D,$render:D};function wa(t,e){t.prop("selected",e),t.attr("selected",e)}var Sa=["$element","$scope",function(e,n){var r=this,i=new Be;r.selectValueMap={},r.ngModelCtrl=_a,r.multiple=!1,r.unknownOption=a(t.document.createElement("option")),r.hasEmptyOption=!1,r.emptyOption=void 0,r.renderUnknownOption=function(t){var n=r.generateUnknownOptionValue(t);r.unknownOption.val(n),e.prepend(r.unknownOption),wa(r.unknownOption,!0),e.val(n)},r.updateUnknownOption=function(t){var n=r.generateUnknownOptionValue(t);r.unknownOption.val(n),wa(r.unknownOption,!0),e.val(n)},r.generateUnknownOptionValue=function(t){return"? "+Le(t)+" ?"},r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.selectEmptyOption=function(){r.emptyOption&&(e.val(""),wa(r.emptyOption,!0))},r.unselectEmptyOption=function(){r.hasEmptyOption&&wa(r.emptyOption,!1)},n.$on("$destroy",(function(){r.renderUnknownOption=D})),r.readValue=function(){var t=e.val(),n=t in r.selectValueMap?r.selectValueMap[t]:t;return r.hasOption(n)?n:null},r.writeValue=function(t){var n=e[0].options[e[0].selectedIndex];if(n&&wa(a(n),!1),r.hasOption(t)){r.removeUnknownOption();var i=Le(t);e.val(i in r.selectValueMap?i:t),wa(a(e[0].options[e[0].selectedIndex]),!0)}else r.selectUnknownOrEmptyOption(t)},r.addOption=function(t,e){if(e[0].nodeType!==Ht){Rt(t,'"option value"'),""===t&&(r.hasEmptyOption=!0,r.emptyOption=e);var n=i.get(t)||0;i.set(t,n+1),s()}},r.removeOption=function(t){var e=i.get(t);e&&(1===e?(i.delete(t),""===t&&(r.hasEmptyOption=!1,r.emptyOption=void 0)):i.set(t,e-1))},r.hasOption=function(t){return!!i.get(t)},r.$hasEmptyOption=function(){return r.hasEmptyOption},r.$isUnknownOptionSelected=function(){return e[0].options[0]===r.unknownOption[0]},r.$isEmptyOptionSelected=function(){return r.hasEmptyOption&&e[0].options[e[0].selectedIndex]===r.emptyOption[0]},r.selectUnknownOrEmptyOption=function(t){null==t&&r.emptyOption?(r.removeUnknownOption(),r.selectEmptyOption()):r.unknownOption.parent().length?r.updateUnknownOption(t):r.renderUnknownOption(t)};var o=!1;function s(){o||(o=!0,n.$$postDigest((function(){o=!1,r.ngModelCtrl.$render()})))}var c=!1;function u(t){c||(c=!0,n.$$postDigest((function(){n.$$destroyed||(c=!1,r.ngModelCtrl.$setViewValue(r.readValue()),t&&r.ngModelCtrl.$render())})))}r.registerOption=function(t,e,n,i,o){var a,c;n.$attr.ngValue?n.$observe("value",(function(t){var n,i=e.prop("selected");F(c)&&(r.removeOption(a),delete r.selectValueMap[c],n=!0),c=Le(t),a=t,r.selectValueMap[c]=t,r.addOption(t,e),e.attr("value",c),n&&i&&u()})):i?n.$observe("value",(function(t){var n;r.readValue();var i=e.prop("selected");F(a)&&(r.removeOption(a),n=!0),a=t,r.addOption(t,e),n&&i&&u()})):o?t.$watch(o,(function(t,i){n.$set("value",t);var o=e.prop("selected");i!==t&&r.removeOption(i),r.addOption(t,e),i&&o&&u()})):r.addOption(n.value,e),n.$observe("disabled",(function(t){("true"===t||t&&e.prop("selected"))&&(r.multiple?u(!0):(r.ngModelCtrl.$setViewValue(null),r.ngModelCtrl.$render()))})),e.on("$destroy",(function(){var t=r.readValue(),e=n.value;r.removeOption(e),s(),(r.multiple&&t&&-1!==t.indexOf(e)||t===e)&&u(!0)}))}}],Ea=function(){return{restrict:"E",require:["select","?ngModel"],controller:Sa,priority:1,link:{pre:function(t,e,n,r){var i=r[0],o=r[1];if(o){if(i.ngModelCtrl=o,e.on("change",(function(){i.removeUnknownOption(),t.$apply((function(){o.$setViewValue(i.readValue())}))})),n.multiple){i.multiple=!0,i.readValue=function(){var t=[];return E(e.find("option"),(function(e){if(e.selected&&!e.disabled){var n=e.value;t.push(n in i.selectValueMap?i.selectValueMap[n]:n)}})),t},i.writeValue=function(t){E(e.find("option"),(function(e){var n=!!t&&(it(t,e.value)||it(t,i.selectValueMap[e.value]));n!==e.selected&&wa(a(e),n)}))};var s,c=NaN;t.$watch((function(){c!==o.$viewValue||ct(s,o.$viewValue)||(s=zt(o.$viewValue),o.$render()),c=o.$viewValue})),o.$isEmpty=function(t){return!t||0===t.length}}}else i.registerOption=D},post:function(t,e,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}}}},xa=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){var r,i;return F(n.ngValue)||(F(n.value)?r=t(n.value,!0):(i=t(e.text(),!0))||n.$set("value",e.text())),function(t,e,n){var o=e.parent(),a=o.data("$selectController")||o.parent().data("$selectController");a&&a.registerOption(t,e,n,r,i)}}}}],Ca=["$parse",function(t){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var o=r.hasOwnProperty("required")||t(r.ngRequired)(e);r.ngRequired||(r.required=!0),i.$validators.required=function(t,e){return!o||!i.$isEmpty(e)},r.$observe("required",(function(t){o!==t&&(o=t,i.$validate())}))}}}}],ka=["$parse",function(t){return{restrict:"A",require:"?ngModel",compile:function(e,n){var r,i;return n.ngPattern&&(r=n.ngPattern,i="/"===n.ngPattern.charAt(0)&&u.test(n.ngPattern)?function(){return n.ngPattern}:t(n.ngPattern)),function(t,e,n,o){if(o){var a=n.pattern;n.ngPattern?a=i(t):r=n.pattern;var s=Ia(a,r,e);n.$observe("pattern",(function(t){var n=s;s=Ia(t,r,e),(n&&n.toString())!==(s&&s.toString())&&o.$validate()})),o.$validators.pattern=function(t,e){return o.$isEmpty(e)||j(s)||s.test(e)}}}}}}],Ta=["$parse",function(t){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var o=r.maxlength||t(r.ngMaxlength)(e),a=Aa(o);r.$observe("maxlength",(function(t){o!==t&&(a=Aa(t),o=t,i.$validate())})),i.$validators.maxlength=function(t,e){return a<0||i.$isEmpty(e)||e.length<=a}}}}}],Pa=["$parse",function(t){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var o=r.minlength||t(r.ngMinlength)(e),a=Aa(o)||-1;r.$observe("minlength",(function(t){o!==t&&(a=Aa(t)||-1,o=t,i.$validate())})),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=a}}}}}];function Ia(t,e,n){if(t){if(H(t)&&(t=new RegExp("^"+t+"$")),!t.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",e,t,wt(n));return t}}function Aa(t){var e=O(t);return $(e)?-1:e}t.angular.bootstrap?t.console&&console.log("WARNING: Tried to load AngularJS more than once."):(function(){var e;if(!Mt){var n=lt();(s=j(n)?t.jQuery:n?t[n]:void 0)&&s.fn.on?(a=s,I(s.fn,{scope:Ie.scope,isolateScope:Ie.isolateScope,controller:Ie.controller,injector:Ie.injector,inheritedData:Ie.inheritedData})):a=de,e=a.cleanData,a.cleanData=function(t){for(var n,r,i=0;null!=(r=t[i]);i++)(n=(a._data(r)||{}).events)&&n.$destroy&&a(r).triggerHandler("$destroy");e(t)},_.element=a,Mt=!0}}(),function(e){I(e,{errorHandlingConfig:n,bootstrap:Pt,copy:at,extend:I,merge:A,equals:ct,element:a,forEach:E,injector:Ye,noop:D,bind:ht,toJson:mt,fromJson:gt,identity:N,isUndefined:j,isDefined:F,isString:H,isFunction:G,isObject:B,isNumber:U,isElement:nt,isArray:z,version:Gt,isDate:q,callbacks:{$$counter:0},getTestability:At,reloadWithDebugInfo:It,$$minErr:i,$$csp:ut,$$encodeUriSegment:xt,$$encodeUriQuery:Ct,$$lowercase:f,$$stringify:Ft,$$uppercase:h}),(c=function(t){var e=i("$injector"),n=i("ng");function r(t,e,n){return t[e]||(t[e]=n())}var o=r(t,"angular",Object);return o.$$minErr=o.$$minErr||i,r(o,"module",(function(){var t={};return function(i,o,a){var s={};return function(t,e){if("hasOwnProperty"===t)throw n("badname","hasOwnProperty is not a valid {0} name","module")}(i),o&&t.hasOwnProperty(i)&&(t[i]=null),r(t,i,(function(){if(!o)throw e("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var t=[],r=[],c=[],u=d("$injector","invoke","push",r),l={_invokeQueue:t,_configBlocks:r,_runBlocks:c,info:function(t){if(F(t)){if(!B(t))throw n("aobj","Argument '{0}' must be an object","value");return s=t,this}return s},requires:o,name:i,provider:f("$provide","provider"),factory:f("$provide","factory"),service:f("$provide","service"),value:d("$provide","value"),constant:d("$provide","constant","unshift"),decorator:f("$provide","decorator",r),animation:f("$animateProvider","register"),filter:f("$filterProvider","register"),controller:f("$controllerProvider","register"),directive:f("$compileProvider","directive"),component:f("$compileProvider","component"),config:u,run:function(t){return c.push(t),this}};return a&&u(a),l;function d(e,n,r,i){return i||(i=t),function(){return i[r||"push"]([e,n,arguments]),l}}function f(e,n,r){return r||(r=t),function(t,o){return o&&G(o)&&(o.$$moduleName=i),r.push([e,n,arguments]),l}}}))}}))}(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:qr}),t.provider("$compile",mn).directive({a:Hi,input:Eo,textarea:Eo,form:Ki,script:ba,select:Ea,option:xa,ngBind:To,ngBindHtml:Io,ngBindTemplate:Po,ngClass:$o,ngClassEven:Do,ngClassOdd:Mo,ngCloak:No,ngController:Ro,ngForm:Qi,ngHide:fa,ngIf:Bo,ngInclude:Vo,ngInit:Uo,ngNonBindable:ra,ngPluralize:sa,ngRef:ua,ngRepeat:la,ngShow:da,ngStyle:ha,ngSwitch:pa,ngSwitchWhen:ma,ngSwitchDefault:ga,ngOptions:aa,ngTransclude:ya,ngModel:Zo,ngList:qo,ngChange:Ao,pattern:ka,ngPattern:ka,required:Ca,ngRequired:Ca,minlength:Pa,ngMinlength:Pa,maxlength:Ta,ngMaxlength:Ta,ngValue:ko,ngModelOptions:ea}).directive({ngInclude:Ho,input:xo}).directive(Ui).directive(Lo),t.provider({$anchorScroll:Xe,$animate:on,$animateCss:cn,$$animateJs:nn,$$animateQueue:rn,$$AnimateRunner:sn,$$animateAsyncRun:an,$browser:ln,$cacheFactory:dn,$controller:Cn,$document:kn,$$isDocumentHidden:Tn,$exceptionHandler:Pn,$filter:mi,$$forceReflow:In,$interpolate:Kn,$interval:Yn,$$intervalFactory:Xn,$http:qn,$httpParamSerializer:Ln,$httpParamSerializerJQLike:jn,$httpBackend:Wn,$xhrFactory:zn,$jsonpCallbacks:Zn,$location:pr,$log:mr,$parse:Nr,$rootScope:Ur,$q:Rr,$$q:Lr,$sce:Xr,$sceDelegate:Yr,$sniffer:Zr,$$taskTrackerFactory:Jr,$templateCache:fn,$templateRequest:ni,$$testability:ri,$timeout:oi,$window:fi,$$rAF:Hr,$$jqLite:Re,$$Map:Ve,$$cookieReader:pi})}]).info({angularVersion:"1.7.9"})}(_),_.module("ngLocale",[],["$provide",function(t){t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var n=0|t,r=function(t,e){var n=e;void 0===n&&(n=Math.min(function(t){var e=(t+="").indexOf(".");return-1==e?0:t.length-e-1}(t),3));var r=Math.pow(10,n);return{v:n,f:(t*r|0)%r}}(t,e);return 1==n&&0==r.v?"one":"other"}})}]),a((function(){!function(e,n){var r,i,o={};if(E(kt,(function(t){var n=t+"app";!r&&e.hasAttribute&&e.hasAttribute(n)&&(r=e,i=e.getAttribute(n))})),E(kt,(function(t){var n,o=t+"app";!r&&(n=e.querySelector("["+o.replace(":","\\:")+"]"))&&(r=n,i=n.getAttribute(o))})),r){if(!Tt)return void t.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");o.strictDi=null!==function(t,e){var n,r,i=kt.length;for(r=0;r<i;++r)if(H(n=t.getAttribute(n=kt[r]+"strict-di")))return n;return null}(r),n(r,i?[i]:[],o)}}(t.document,Pt)})))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},wIp5:function(t,e,n){var r;t.exports=(r=n("Ni7E"),n("w9Pv"),n("WFn1"),n("NxNH"),n("i3c9"),n("0Hfl"),n("77dk"),n("PnNS"),n("qQIG"),n("zNab"),n("nLi3"),n("Eew1"),n("rGhJ"),n("ZxLh"),n("3s0V"),n("Cf/K"),n("heQk"),n("5wGD"),n("7K95"),n("Wcan"),n("wS+B"),n("KXTB"),n("QWSO"),n("5eAu"),n("kk/X"),n("IKDi"),n("/p0z"),n("YrJH"),n("4a5f"),n("YRxH"),n("QiYn"),n("Q1GU"),n("38Z7"),r)},"wS+B":function(t,e,n){var r,i,o;t.exports=(o=n("Ni7E"),n("heQk"),o.mode.OFB=(i=(r=o.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var a=0;a<r;a++)t[e+a]^=o[a]}}),r.Decryptor=i,r),o.mode.OFB)},wYoa:function(t,e,n){var r=n("ue8h"),i=n("44C7");t.exports=Object.keys||function(t){return r(t,i)}},wkq9:function(t,e,n){var r=n("yz8b");t.exports=Array.isArray||function(t){return"Array"==r(t)}},wngz:function(t,e){angular.module("castifyExt.castifyAuth",["castifyExt.simpleBgServiceConsumer"]).factory("castifyAuth",["simpleBgServiceConsumer",function(t){return t("castifyAuth",["launchWebAuthFlow","getRedirectURL","removeCachedAuthToken","getAuthToken","getAccount","e2eSignIn"])}]).factory("googleauth",["castifyAuth","$q",function(t,e){return{loadClient:function(){return e.when()},getAuthToken:function(e){t.getAuthToken(angular.isObject(e)?e:{interactive:!!e})}}}])},wyss:function(t,e,n){"use strict";var r=1,i={};e.Immediate={setImmediate:function(t){var e=r++;return i[e]=t,Promise.resolve().then((function(){return function(t){var e=i[t];e&&e()}(e)})),e},clearImmediate:function(t){delete i[t]}}},x8vJ:function(t,e,n){var r=n("Rfcv");n("9SEF")({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},xKJD:function(t,e,n){"use strict";e.isPromise=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},xYik:function(t,e){angular.module("castifyExt.ui.syncProgressIcon",[]).directive("cfSyncProgressIcon",(function(){return{replace:!0,restrict:"E",templateUrl:"components/castifyExt/ui/sync-progress-icon/sync-progress-icon.html",scope:{progress:"=value"}}}))},xkx7:function(t,e,n){n("dRAY")("isConcatSpreadable")},xsy1:function(t,e){angular.module("castifyExt.ui.fpsSelector",["ngMaterial"]).component("cfFpsSelector",{templateUrl:"components/castifyExt/ui/fps-selector/fps-selector.html",require:{ngModel:"?ngModel"},controller:["$scope",function(t){var e=this;t.$watchGroup(["$ctrl.fps","$ctrl.convert"],(function(){e.ngModel.$setValidity("range",!e.convert||!!e.fps),e.ngModel.$setViewValue(e.convert?e.fps:null)})),e.$onInit=function(){e.fps=30,e.convert=!1,e.ngModel&&(e.ngModel.render=angular.noop)}}]})},y56m:function(t,e,n){"use strict";var r=n("VvFP");e.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(r.concat.apply(void 0,[e].concat(t)))}}},yECB:function(t,e,n){var r=n("Zup5"),i=n("yz8b"),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},ySQr:function(t,e,n){t.exports=!n("Zup5")((function(){return!String(Symbol())}))},ywLU:function(t,e,n){var r=n("kXWg")("keys"),i=n("i3dY");t.exports=function(t){return r[t]||(r[t]=i(t))}},yyaj:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("tkgy"),o=n("dmvN"),a=n("kZSD");e.windowWhen=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.closingSelector))},t}(),c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.destination=e,r.closingSelector=n,r.openWindow(),r}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.openWindow(i)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var n,r=this.window=new i.Subject;this.destination.next(r);try{n=(0,this.closingSelector)()}catch(o){return this.destination.error(o),void this.window.error(o)}this.add(this.closingNotification=a.subscribeToResult(this,n))},e}(o.OuterSubscriber)},yz8b:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"z+Nr":function(t,e,n){var r=n("2IC7"),i=n("rwVn"),o=n("ywLU")("IE_PROTO"),a=n("Ff96"),s=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},zCuD:function(t,e){angular.module("w69b.ui.locationChange",[]).directive("wbLocationChange",["$parse",function(t){return{link:function(e,n,r){var i=t(r.wbLocationChange);e.$on("$locationChangeStart",(function(){i(e)}))}}}])},zD4e:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("ci3w"),o=n("D9en"),a=n("dmvN"),s=n("kZSD"),c=n("DtmU"),u={};e.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return i.isScheduler(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&o.isArray(t[0])&&(t=t[0]),c.fromArray(t,r).lift(new l(n))};var l=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new d(t,this.resultSelector))},t}();e.CombineLatestOperator=l;var d=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r(e,t),e.prototype._next=function(t){this.values.push(u),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(s.subscribeToResult(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===u?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(a.OuterSubscriber);e.CombineLatestSubscriber=d},"zDe/":function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("tkgy"),o=n("+uLt"),a=n("6Br6"),s=n("sGav"),c=n("O09R"),u=n("Rdb5");e.ReplaySubject=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new l(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new c.ObjectUnsubscribedError;if(this.isStopped||this.hasError?e=a.Subscription.EMPTY:(this.observers.push(t),e=new u.SubjectSubscription(this,t)),i&&t.add(t=new s.ObserveOnSubscriber(t,i)),n)for(var l=0;l<o&&!t.closed;l++)t.next(r[l]);else for(l=0;l<o&&!t.closed;l++)t.next(r[l].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||o.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(i.Subject);var l=function(){return function(t,e){this.time=t,this.value=e}}()},zIvY:function(t,e,n){"use strict";var r=n("byuQ");e.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(r.merge.apply(void 0,[e].concat(t)))}}},zNab:function(t,e,n){var r;t.exports=(r=n("Ni7E"),n("w9Pv"),function(){var t=r,e=t.lib.Hasher,n=t.x64,i=n.Word,o=n.WordArray,a=t.algo;function s(){return i.create.apply(i,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],u=[];!function(){for(var t=0;t<80;t++)u[t]=s()}();var l=a.SHA512=e.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],d=n[6],f=n[7],h=r.high,p=r.low,m=i.high,g=i.low,v=o.high,y=o.low,b=a.high,_=a.low,w=s.high,S=s.low,E=l.high,x=l.low,C=d.high,k=d.low,T=f.high,P=f.low,I=h,A=p,O=m,$=g,M=v,D=y,N=b,R=_,L=w,j=S,F=E,B=x,V=C,H=k,U=T,q=P,z=0;z<80;z++){var W=u[z];if(z<16)var G=W.high=0|t[e+2*z],K=W.low=0|t[e+2*z+1];else{var Q=u[z-15],Y=Q.high,X=Q.low,Z=(X>>>1|Y<<31)^(X>>>8|Y<<24)^(X>>>7|Y<<25),J=u[z-2],tt=J.high,et=J.low,nt=(et>>>19|tt<<13)^(et<<3|tt>>>29)^(et>>>6|tt<<26),rt=u[z-7],it=u[z-16],ot=it.low;W.high=G=(G=(G=((Y>>>1|X<<31)^(Y>>>8|X<<24)^Y>>>7)+rt.high+((K=Z+rt.low)>>>0<Z>>>0?1:0))+((tt>>>19|et<<13)^(tt<<3|et>>>29)^tt>>>6)+((K+=nt)>>>0<nt>>>0?1:0))+it.high+((K+=ot)>>>0<ot>>>0?1:0),W.low=K}var at,st=L&F^~L&V,ct=j&B^~j&H,ut=I&O^I&M^O&M,lt=(A>>>28|I<<4)^(A<<30|I>>>2)^(A<<25|I>>>7),dt=c[z],ft=dt.low,ht=U+((L>>>14|j<<18)^(L>>>18|j<<14)^(L<<23|j>>>9))+((at=q+((j>>>14|L<<18)^(j>>>18|L<<14)^(j<<23|L>>>9)))>>>0<q>>>0?1:0),pt=lt+(A&$^A&D^$&D);U=V,q=H,V=F,H=B,F=L,B=j,L=N+(ht=(ht=(ht=ht+st+((at+=ct)>>>0<ct>>>0?1:0))+dt.high+((at+=ft)>>>0<ft>>>0?1:0))+G+((at+=K)>>>0<K>>>0?1:0))+((j=R+at|0)>>>0<R>>>0?1:0)|0,N=M,R=D,M=O,D=$,O=I,$=A,I=ht+(((I>>>28|A<<4)^(I<<30|A>>>2)^(I<<25|A>>>7))+ut+(pt>>>0<lt>>>0?1:0))+((A=at+pt|0)>>>0<at>>>0?1:0)|0}p=r.low=p+A,r.high=h+I+(p>>>0<A>>>0?1:0),g=i.low=g+$,i.high=m+O+(g>>>0<$>>>0?1:0),y=o.low=y+D,o.high=v+M+(y>>>0<D>>>0?1:0),_=a.low=_+R,a.high=b+N+(_>>>0<R>>>0?1:0),S=s.low=S+j,s.high=w+L+(S>>>0<j>>>0?1:0),x=l.low=x+B,l.high=E+F+(x>>>0<B>>>0?1:0),k=d.low=k+H,d.high=C+V+(k>>>0<H>>>0?1:0),P=f.low=P+q,f.high=T+U+(P>>>0<q>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),e[31+(r+128>>>10<<5)]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(l),t.HmacSHA512=e._createHmacHelper(l)}(),r.SHA512)},zUnb:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"FunctionToString",(function(){return qM})),n.d(r,"InboundFilters",(function(){return XM}));var i=n("D57K"),o=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function a(t){return null!==t&&"object"==typeof t}function s(t){return"function"==typeof t}var c=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),u=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var u=0;u<n.length;++u)n[u].remove(this);if(s(r))try{r.call(this)}catch(h){e=h instanceof c?l(h.errors):[h]}if(o(i)){u=-1;for(var d=i.length;++u<d;){var f=i[u];if(a(f))try{f.unsubscribe()}catch(h){e=e||[],h instanceof c?e=e.concat(l(h.errors)):e.push(h)}}}if(e)throw new c(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function l(t){return t.reduce((function(t,e){return t.concat(e instanceof c?e.errors:e)}),[])}var d=!1,f={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){d=t},get useDeprecatedSynchronousErrorHandling(){return d}};function h(t){setTimeout((function(){throw t}),0)}var p={closed:!0,next:function(t){},error:function(t){if(f.useDeprecatedSynchronousErrorHandling)throw t;h(t)},complete:function(){}},m=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),g=function(t){function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=p;break;case 1:if(!n){o.destination=p;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new v(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new v(o,n,r,i)}return o}return i.__extends(e,t),e.prototype[m]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(u),v=function(t){function e(e,n,r,i){var o,a=t.call(this)||this;a._parentSubscriber=e;var c=a;return s(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==p&&(s((c=Object.create(n)).unsubscribe)&&a.add(c.unsubscribe.bind(c)),c.unsubscribe=a.unsubscribe.bind(a))),a._context=c,a._next=o,a._error=r,a._complete=i,a}return i.__extends(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;f.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=f.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):h(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;h(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};f.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),f.useDeprecatedSynchronousErrorHandling)throw n;h(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!f.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return f.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(h(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(g),y=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function b(){}function _(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:b}var w=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof g)return t;if(t[m])return t[m]()}return t||e||n?new g(t,e,n):new g(p)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||f.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),f.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){f.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof g?e:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=S(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[y]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:_(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=S(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function S(t){if(t||(t=f.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var E=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),x=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return i.__extends(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(u),C=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return i.__extends(e,t),e}(g),k=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i.__extends(e,t),e.prototype[m]=function(){return new C(this)},e.prototype.lift=function(t){var e=new T(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new E;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new E;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new E;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new E;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new E;return this.hasError?(t.error(this.thrownError),u.EMPTY):this.isStopped?(t.complete(),u.EMPTY):(this.observers.push(t),new x(this,t))},e.prototype.asObservable=function(){var t=new w;return t.source=this,t},e.create=function(t,e){return new T(t,e)},e}(w),T=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return i.__extends(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):u.EMPTY},e}(k);function P(t){return t&&"function"==typeof t.schedule}var I=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return i.__extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(g),A=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function O(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var $=O(),M=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function D(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var N=function(t){if(t&&"function"==typeof t[y])return r=t,function(t){var e=r[y]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(M(t))return A(t);if(D(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,h),t};if(t&&"function"==typeof t[$])return e=t,function(t){for(var n=e[$]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,i=a(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function R(t,e,n,r,i){if(void 0===i&&(i=new I(t,n,r)),!i.closed)return e instanceof w?e.subscribe(i):N(e)(i)}var L=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(g);function j(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new F(t,e))}}var F=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new B(t,this.project,this.thisArg))},t}(),B=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return i.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(g);function V(t,e){return new w((function(n){var r=new u,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function H(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new w((function(n){var r=new u;return r.add(e.schedule((function(){var i=t[y]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(D(t))return function(t,e){return new w((function(n){var r=new u;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(M(t))return V(t,e);if(function(t){return t&&"function"==typeof t[$]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w((function(n){var r,i=new u;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[$](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof w?t:new w(N(t))}function U(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(U((function(n,r){return H(t(n,r)).pipe(j((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new q(t,n))})}var q=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new z(t,this.project,this.concurrent))},t}(),z=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return i.__extends(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new I(this,void 0,void 0);this.destination.add(r),R(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(L);function W(t){return t}function G(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),U(W,t)}function K(t,e){return e?V(t,e):new w(A(t))}function Q(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return P(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof w?t[0]:G(n)(K(t,r))}function Y(){return function(t){return t.lift(new X(t))}}var X=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new Z(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),Z=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return i.__extends(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(g),J=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return i.__extends(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new u).add(this.source.subscribe(new et(this.getSubject(),this))),t.closed&&(this._connection=null,t=u.EMPTY)),t},e.prototype.refCount=function(){return Y()(this)},e}(w),tt=function(){var t=J.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),et=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return i.__extends(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(C);function nt(){return new k}function rt(){return function(t){return Y()((e=nt,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,tt);return r.source=t,r.subjectFactory=n,r})(t));var e}}var it="__parameters__";function ot(t,e,n){var r=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,Object(i.__spread)(e));for(var o in r)this[o]=r[o]}}}(e);function o(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof o)return r.apply(this,e),this;var a=new((t=o).bind.apply(t,Object(i.__spread)([void 0],e)));return s.annotation=a,s;function s(t,e,n){for(var r=t.hasOwnProperty(it)?t[it]:Object.defineProperty(t,it,{value:[]})[it];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}var at=ot("Inject",(function(t){return{token:t}})),st=ot("Optional"),ct=ot("Self"),ut=ot("SkipSelf"),lt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function dt(t){for(var e in t)if(t[e]===dt)return e;throw Error("Could not find renamed property on target object.")}function ft(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ht(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function pt(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function mt(t){return gt(t,t[yt])||gt(t,t[_t])}function gt(t,e){return e&&e.token===t?e:null}function vt(t){return t&&(t.hasOwnProperty(bt)||t.hasOwnProperty(wt))?t[bt]:null}var yt=dt({"ɵprov":dt}),bt=dt({"ɵinj":dt}),_t=dt({ngInjectableDef:dt}),wt=dt({ngInjectorDef:dt});function St(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(St).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var Et=dt({__forward_ref__:dt});function xt(t){return t.__forward_ref__=xt,t.toString=function(){return St(this())},t}function Ct(t){return kt(t)?t():t}function kt(t){return"function"==typeof t&&t.hasOwnProperty(Et)&&t.__forward_ref__===xt}var Tt,Pt="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,At="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ot="undefined"!=typeof global&&global,$t=Pt||Ot||It||At,Mt=dt({"ɵcmp":dt}),Dt=dt({"ɵdir":dt}),Nt=dt({"ɵpipe":dt}),Rt=dt({"ɵmod":dt}),Lt=dt({"ɵloc":dt}),jt=dt({"ɵfac":dt}),Ft=dt({__NG_ELEMENT_ID__:dt}),Bt=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ɵprov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ɵprov=ht({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),Vt=new Bt("INJECTOR",-1),Ht={},Ut="ngTempTokenPath",qt="ngTokenPath",zt=/\n/gm,Wt="ɵ",Gt="__source",Kt=dt({provide:String,useValue:dt}),Qt=void 0;function Yt(t){var e=Qt;return Qt=t,e}function Xt(t){var e=Tt;return Tt=t,e}function Zt(t,e){if(void 0===e&&(e=lt.Default),void 0===Qt)throw new Error("inject() must be called from an injection context");return null===Qt?ee(t,void 0,e):Qt.get(t,e&lt.Optional?null:void 0,e)}function Jt(t,e){return void 0===e&&(e=lt.Default),(Tt||Zt)(Ct(t),e)}var te=Jt;function ee(t,e,n){var r=mt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&lt.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND ["+St(t)+"]")}function ne(t){for(var e=[],n=0;n<t.length;n++){var r=Ct(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=lt.Default,a=0;a<r.length;a++){var s=r[a];s instanceof st||"Optional"===s.ngMetadataName||s===st?o|=lt.Optional:s instanceof ut||"SkipSelf"===s.ngMetadataName||s===ut?o|=lt.SkipSelf:s instanceof ct||"Self"===s.ngMetadataName||s===ct?o|=lt.Self:i=s instanceof at||s===at?s.token:s}e.push(Jt(i,o))}else e.push(Jt(r))}return e}var re=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=Ht),e===Ht){var n=new Error("NullInjectorError: No provider for "+St(t)+"!");throw n.name="NullInjectorError",n}return e},t}();var ie=function(){return function(){}}(),oe=function(){return function(){}}();function ae(t,e){t.forEach((function(t){return Array.isArray(t)?ae(t,e):e(t)}))}function se(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ce(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ue(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}var le=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),de=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});function fe(t){return""+{toString:t}}var he={},pe=[],me=0;function ge(t){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===le.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||pe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||de.Emulated,id:"c",styles:t.styles||pe,_:null,setInput:null,schemas:t.schemas||null,tView:null};return i._=fe((function(){var e=t.directives,n=t.features,o=t.pipes;i.id+=me++,i.inputs=we(t.inputs,r),i.outputs=we(t.outputs),n&&n.forEach((function(t){return t(i)})),i.directiveDefs=e?function(){return("function"==typeof e?e():e).map(ve)}:null,i.pipeDefs=o?function(){return("function"==typeof o?o():o).map(ye)}:null})),i}function ve(t){return xe(t)||function(t){return t[Dt]||null}(t)}function ye(t){return function(t){return t[Nt]||null}(t)}var be={};function _e(t){var e={type:t.type,bootstrap:t.bootstrap||pe,declarations:t.declarations||pe,imports:t.imports||pe,exports:t.exports||pe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&fe((function(){be[t.id]=t.type})),e}function we(t,e){if(null==t)return he;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var Se=ge;function Ee(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function xe(t){return t[Mt]||null}function Ce(t,e){return t.hasOwnProperty(jt)?t[jt]:null}function ke(t,e){var n=t[Rt]||null;if(!n&&!0===e)throw new Error("Type "+St(t)+" does not have 'ɵmod' property.");return n}var Te=0,Pe=1,Ie=2,Ae=3,Oe=4,$e=5,Me=6,De=7,Ne=8,Re=9,Le=10,je=11,Fe=12,Be=13,Ve=14,He=15,Ue=16,qe=17,ze=18,We=19,Ge=1,Ke=2,Qe=5,Ye=7,Xe=8,Ze=9;function Je(t){return Array.isArray(t)&&"object"==typeof t[Ge]}function tn(t){return Array.isArray(t)&&!0===t[Ge]}function en(t){return 0!=(8&t.flags)}function nn(t){return 2==(2&t.flags)}function rn(t){return 1==(1&t.flags)}function on(t){return null!==t.template}function an(t){return 0!=(512&t[Ie])}var sn={lFrame:Rn(null),bindingsEnabled:!0,elementExitFn:null,checkNoChangesMode:!1};function cn(t){sn.lFrame.currentDirectiveDef=t}function un(){return sn.bindingsEnabled}function ln(){var t=sn.lFrame;return null===t?null:t.lView}function dn(t){return(sn.lFrame.selectedIndex&t)===t}function fn(t){dn(1)&&hn(),Fn(null===t?-1:t),sn.lFrame.activeDirectiveId=0}function hn(){sn.elementExitFn(),sn.lFrame.selectedIndex&=-2}function pn(t){sn.lFrame.selectedIndex|=1,null===sn.elementExitFn&&(sn.elementExitFn=t)}function mn(){return sn.lFrame.activeDirectiveId}function gn(){sn.lFrame.activeDirectiveId+=1}function vn(t){sn.lFrame.contextLView=t}function yn(){return sn.lFrame.previousOrParentTNode}function bn(t,e){sn.lFrame.previousOrParentTNode=t,sn.lFrame.isParent=e}function _n(){return sn.lFrame.isParent}function wn(){sn.lFrame.isParent=!1}function Sn(){return sn.checkNoChangesMode}function En(t){sn.checkNoChangesMode=t}function xn(){var t=sn.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.lView[Pe].bindingStartIndex),e}function Cn(){return sn.lFrame.bindingIndex}function kn(t){return sn.lFrame.bindingIndex=t}function Tn(){return sn.lFrame.bindingIndex++}function Pn(t){var e=sn.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function In(t){sn.lFrame.bindingRootIndex=t}function An(){return sn.lFrame.currentQueryIndex}function On(t){sn.lFrame.currentQueryIndex=t}function $n(t,e){var n=Nn();sn.lFrame=n,n.previousOrParentTNode=e,n.lView=t}var Mn=Ln;function Dn(t,e){var n=Nn();sn.lFrame=n,n.previousOrParentTNode=e,n.isParent=!0,n.lView=t,n.selectedIndex=0,n.contextLView=t,n.elementDepthCount=0,n.currentNamespace=null,n.currentSanitizer=null,n.currentDirectiveDef=null,n.activeDirectiveId=0,n.bindingRootIndex=-1,n.bindingIndex=null===t?-1:t[Pe].bindingStartIndex,n.currentQueryIndex=0}function Nn(){var t=sn.lFrame,e=null===t?null:t.child;return null===e?Rn(t):e}function Rn(t){var e={previousOrParentTNode:null,isParent:!0,lView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveDef:null,activeDirectiveId:0,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ln(){sn.lFrame=sn.lFrame.parent}function jn(){return sn.lFrame.selectedIndex>>1}function Fn(t){sn.lFrame.selectedIndex=t<<1}function Bn(){sn.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Vn(){sn.lFrame.currentNamespace=null}function Hn(t){sn.lFrame.currentSanitizer=t}function Un(){var t=sn.lFrame;return null===t?null:t.currentSanitizer}function qn(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n];i.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,i.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,i.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,i.onDestroy)}}function zn(t,e,n){Kn(t,e,3,n)}function Wn(t,e,n,r){(3&t[Ie])===n&&Kn(t,e,n,r)}function Gn(t,e){var n=t[Ie];(3&n)===e&&(n&=1023,t[Ie]=n+=1)}function Kn(t,e,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&t[ze]:0;a<e.length;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[ze]+=65536),(o<i||-1==i)&&(Qn(t,n,e,a),t[ze]=(4294901760&t[ze])+a+2),a++}function Qn(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[Ie]>>10<t[ze]>>16&&(3&t[Ie])===e&&(t[Ie]+=1024,o.call(a)):o.call(a)}var Yn=8,Xn=8,Zn=9,Jn=-1,tr=function(){return function(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}(),er=void 0;function nr(){return void 0!==er?er:"undefined"!=typeof document?document:void 0}var rr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function ir(t){return!!t.listen}var or={createRenderer:function(t,e){return nr()}};function ar(t,e,n){for(var r=ir(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],c=n[i++];r?t.setAttribute(e,s,c,a):e.setAttributeNS(a,s,c)}else c=n[++i],cr(s=o)?r&&t.setProperty(e,s,c):r?t.setAttribute(e,s,c):e.setAttribute(s,c),i++}return i}function sr(t){return 3===t||4===t||6===t}function cr(t){return 64===t.charCodeAt(0)}function ur(t){return t!==Jn}function lr(t){return 32767&t}function dr(t){return t>>16}function fr(t,e){for(var n=dr(t),r=e;n>0;)r=r[He],n--;return r}function hr(t){return"string"==typeof t?t:null==t?"":""+t}function pr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():hr(t)}var mr=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($t)}();function gr(t){return{name:"document",target:t.ownerDocument}}function vr(t){return{name:"body",target:t.ownerDocument.body}}function yr(t){return t instanceof Function?t():t}var br=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),_r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(br),wr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(br),Sr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(br),Er=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(br),xr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(br);function Cr(t){return t instanceof br?t.changingThisBreaksApplicationSecurity:t}function kr(t,e){var n=Tr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe "+e+", got a "+n+" (see http://g.co/ng/security#xss)")}return n===e}function Tr(t){return t instanceof br&&t.getTypeName()||null}var Pr={},Ir="[MAP]",Ar=0,Or=null,$r=0,Mr=1,Dr=1;function Nr(t){return[t]}function Rr(t,e){return 0!=(t.flags&e)}function Lr(t,e,n){var r=!1;if(Rr(t,128)){if(!n){var i=e?1536:49152;r=!Rr(t,e?8192:262144)&&(t.flags&i)!==i}}else r=!0;return r}function jr(t,e){t.flags|=e}function Fr(t,e){return t[e+3]}function Br(t,e){return 0!=(1&function(t,e){return 1&t[e+0]}(t,e))}function Vr(t,e,n){return t[e+(n?2:1)]}function Hr(t){return Ur(t)+1}function Ur(t){return t[0]}function qr(t,e,n){return t[e+4+n]}function zr(t,e){return t[e+4+Ur(t)]}function Wr(t,e,n){t[e]=n}function Gr(t,e){return 0!==e?t[e]:null}function Kr(t,e){if(e===Pr)return!1;var n=Array.isArray(t)?t[0]:t,r=Array.isArray(e)?e[0]:e;return!Object.is(n,r)}function Qr(t){return null!=t&&""!==t}function Yr(t,e,n){return void 0===n&&(n=" "),t+(e.length&&t.length?n:"")+e}function Xr(t){return t.replace(/[a-z][A-Z]/g,(function(t){return t.charAt(0)+"-"+t.charAt(1)})).toLowerCase()}function Zr(t){return Jr(t)?t[1]:t}function Jr(t){return Array.isArray(t)&&t.length>=2&&"string"!=typeof t[1]}function ti(t){var e=Zr(t);return e&&e[0]||""}function ei(t){return 0!=(16&t.flags)}function ni(t){return 0!=(32&t.flags)}function ri(t,e){return t[e+0]}var ii={MAP_DIRTY_VALUE:!0};function oi(t,e,n){t[e+1]=n}function ai(t,e){return t[e+1]}function si(t,e){if("string"==typeof t)return t;var n="";if(t)for(var r=Object.keys(t),i=0;i<r.length;i++){var o=r[i],a=e?Xr(o):o,s=t[o];null!==s&&(n=Yr(n,a+":"+s,";"))}return n}function ci(t){return t!==Ar}function ui(t,e){for(var n="",r=1;r<t.length;r+=2){var i=ri(t,r),o=ai(t,r),a=Yr(i,e?"":o,":");n=Yr(n,a,e?" ":"; ")}return n}function li(t,e,n,r){for(var i=1;i<t.length;i+=2){var o=ri(t,i);if(e<=o){var a=!1;return o===e?!r&&Qr(t[i])||(a=!0,oi(t,i,n)):(a=!0,t.splice(i,0,e,n)),a}}return t.push(e,n),!0}function di(t,e,n){var r=Array.isArray(t)?t:Nr(null);r[0]=e;for(var i=1;i<r.length;i+=2)oi(r,i,null);var o,a=null,s=!1;if("string"==typeof e?s=null!==(a=function(t){for(var e=null,n=t.length,r=0,i=!1,o=0;o<n;o++)t.charCodeAt(o)<=32?(i&&(null===e&&(e=[]),e.push(t.substring(r,o)),i=!1),r=o+1):i=!0;return i&&(null===e&&(e=[]),e.push(t.substring(r,n)),i=!1),e}(e)):(a=e?Object.keys(e):null,o=e),a)for(var c=0;c<a.length;c++){var u=a[c];li(r,n?Xr(u):u,!!s||o[u],!0)}return r}function fi(t){return t.hasOwnProperty("class")?"class":"className"}var hi=!0;function pi(t){var e=hi;return hi=t,e}var mi=255,gi=0;function vi(t,e){var n=bi(t,e);if(-1!==n)return n;var r=e[Pe];r.firstCreatePass&&(t.injectorIndex=e.length,yi(r.data,t),yi(e,null),yi(r.blueprint,null));var i=_i(t,e),o=t.injectorIndex;if(ur(i))for(var a=lr(i),s=fr(i,e),c=s[Pe].data,u=0;u<8;u++)e[o+u]=s[a+u]|c[a+u];return e[o+Xn]=i,o}function yi(t,e){t.push(0,0,0,0,0,0,0,0,e)}function bi(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+Xn]?-1:t.injectorIndex}function _i(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[Me],r=1;n&&-1===n.injectorIndex;)n=(e=e[He])?e[Me]:null,r++;return n?n.injectorIndex|r<<16:-1}function wi(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[Ft]:n.charCodeAt(0)||0;null==r&&(r=n[Ft]=gi++);var i=r&mi,o=1<<i,a=64&i,s=32&i,c=e.data;128&i?a?s?c[t+7]|=o:c[t+6]|=o:s?c[t+5]|=o:c[t+4]|=o:a?s?c[t+3]|=o:c[t+2]|=o:s?c[t+1]|=o:c[t]|=o}(t,e,n)}function Si(t,e,n,r,i){if(void 0===r&&(r=lt.Default),null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[Ft];return"number"==typeof e&&e>0?e&mi:e}(n);if("function"==typeof o){$n(e,t);try{var a=o();if(null!=a||r&lt.Optional)return a;throw new Error("No provider for "+pr(n)+"!")}finally{Mn()}}else if("number"==typeof o){if(-1===o)return new Ii(t,e);var s=null,c=bi(t,e),u=Jn,l=r&lt.Host?e[Ue][Me]:null;for((-1===c||r&lt.SkipSelf)&&(u=-1===c?_i(t,e):e[c+Xn],Pi(r,!1)?(s=e[Pe],c=lr(u),e=fr(u,e)):c=-1);-1!==c;){u=e[c+Xn];var d=e[Pe];if(Ti(o,c,d.data)){var f=xi(c,e,n,s,r,l);if(f!==Ei)return f}Pi(r,e[Pe].data[c+Yn]===l)&&Ti(o,c,e)?(s=d,c=lr(u),e=fr(u,e)):c=-1}}}if(r&lt.Optional&&void 0===i&&(i=null),0==(r&(lt.Self|lt.Host))){var h=e[Re],p=Xt(void 0);try{return h?h.get(n,i,r&lt.Optional):ee(n,i,r&lt.Optional)}finally{Xt(p)}}if(r&lt.Optional)return i;throw new Error("NodeInjector: NOT_FOUND ["+pr(n)+"]")}var Ei={};function xi(t,e,n,r,i,o){var a=e[Pe],s=a.data[t+Yn],c=Ci(s,a,n,null==r?nn(s)&&hi:r!=a&&3===s.type,i&lt.Host&&o===s);return null!==c?ki(e,a,c,s):Ei}function Ci(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=65535&o,c=t.directiveStart,u=o>>16,l=i?s+u:t.directiveEnd,d=r?s:s+u;d<l;d++){var f=a[d];if(d<c&&n===f||d>=c&&f.type===n)return d}if(i){var h=a[c];if(h&&on(h)&&h.type===n)return c}return null}function ki(t,e,n,r){var i=t[n],o=e.data;if(i instanceof tr){var a=i;if(a.resolving)throw new Error("Circular dep for "+pr(o[n]));var s=pi(a.canSeeViewProviders);a.resolving=!0;var c=void 0;a.injectImpl&&(c=Xt(a.injectImpl)),$n(t,r);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.onChanges,i=e.onInit,o=e.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{a.injectImpl&&Xt(c),pi(s),a.resolving=!1,Mn()}}return i}function Ti(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function Pi(t,e){return!(t&lt.Self||t&lt.Host&&e)}var Ii=function(){function t(t,e){this._tNode=t,this._lView=e}return t.prototype.get=function(t,e){return Si(this._tNode,this._lView,t,void 0,e)},t}();function Ai(t){var e=Object.getPrototypeOf(t.prototype).constructor,n=e[jt]||function t(e){var n=e;if(kt(e))return function(){var e=t(Ct(n));return e?e():null};var r=Ce(n);if(null===r){var i=vt(n);r=i&&i.factory}return r||null}(e);return null!==n?n:function(t){return new t}}var Oi="ngDebugContext",$i="ngOriginalError";function Mi(t){return t[Oi]}function Di(t){return t[$i]}function Ni(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,Object(i.__spread)(e))}var Ri=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Ni}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?Mi(t)?Mi(t):this._findContext(Di(t)):null},t.prototype._findOriginalError=function(t){for(var e=Di(t);e&&Di(e);)e=Di(e);return e},t}(),Li=!0,ji=!1;function Fi(){return ji=!0,Li}var Bi=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},t}(),Vi=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Hi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ui(t){return(t=String(t)).match(Vi)||t.match(Hi)?t:(Fi()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function qi(t){var e,n,r={};try{for(var o=Object(i.__values)(t.split(",")),a=o.next();!a.done;a=o.next())r[a.value]=!0}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}function zi(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o={};try{for(var a=Object(i.__values)(n),s=a.next();!s.done;s=a.next()){var c=s.value;for(var u in c)c.hasOwnProperty(u)&&(o[u]=!0)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return o}var Wi,Gi=qi("area,br,col,hr,img,wbr"),Ki=qi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qi=qi("rp,rt"),Yi=zi(Qi,Ki),Xi=zi(Gi,zi(Ki,qi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zi(Qi,qi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yi),Zi=qi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ji=qi("srcset"),to=zi(Zi,Ji,qi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),eo=qi("script,style,template"),no=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e,n=t.nodeName.toLowerCase();if(!Xi.hasOwnProperty(n))return this.sanitizedSomething=!0,!eo.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);for(var r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(to.hasOwnProperty(s)){var c=o.value;Zi[s]&&(c=Ui(c)),Ji[s]&&(e=c,c=(e=String(e)).split(",").map((function(t){return Ui(t.trim())})).join(", ")),this.buf.push(" ",a,'="',oo(c),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();Xi.hasOwnProperty(e)&&!Gi.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(oo(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),ro=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,io=/([^\#-~ |!])/g;function oo(t){return t.replace(/&/g,"&amp;").replace(ro,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(io,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ao(t,e){var n=null;try{Wi=Wi||new Bi(t);var r=e?String(e):"";n=Wi.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Wi.getInertBodyElement(r)}while(r!==o);var a=new no,s=a.sanitizeChildren(so(n)||n);return Fi()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var c=so(n)||n;c.firstChild;)c.removeChild(c.firstChild)}}function so(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var co=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),uo=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),lo=/^url\(([^)]+)\)$/;function fo(t){if(!(t=String(t).trim()))return"";var e=t.match(lo);return e&&Ui(e[1])===e[1]||t.match(uo)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Fi()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}function ho(t){var e=go();return e?e.sanitize(co.HTML,t)||"":kr(t,"HTML")?Cr(t):ao(nr(),hr(t))}function po(t){var e=go();return e?e.sanitize(co.URL,t)||"":kr(t,"URL")?Cr(t):Ui(hr(t))}var mo=function(t,e,n){var r,i,o=!0;return 1&(n=n||3)&&(o="background-image"===t||"background"===t||"border-image"===t||"filter"===t||"list-style"===t||"list-style-image"===t||"clip-path"===t),2&n?o?(r=e,(i=go())?i.sanitize(co.STYLE,r)||"":kr(r,"Style")?Cr(r):fo(hr(r))):Cr(e):o};function go(){var t=ln();return t&&t[Fe]}var vo="__ngContext__";function yo(t){for(;Array.isArray(t);)t=t[Te];return t}function bo(t,e){return yo(e[t+We])}function _o(t,e){return yo(e[t.index])}function wo(t,e){return e[Pe].data[t+We]}function So(t,e){return t[e+We]}function Eo(t,e){var n=e[t];return Je(n)?n:n[Te]}function xo(t){var e=function(t){return t[vo]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Co(t){return 4==(4&t[Ie])}function ko(t,e){return null===t||null==e?null:t[e]}function To(t){t[ze]=0}function Po(t,e){t[vo]=e}function Io(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function Ao(){throw new Error("Cannot mix multi providers and regular providers")}var Oo="ng-template";function $o(t,e){var n=t.length,r=t.toLowerCase().indexOf(e),i=r+e.length;return!(-1===r||r>0&&" "!==t[r-1]||i<n&&" "!==t[i])}function Mo(t,e,n){return e===(0!==t.type||n?t.tagName:Oo)}function Do(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(sr(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var c=e[s];if("number"!=typeof c){if(!a)if(4&r){if(r=2|1&r,""!==c&&!Mo(t,c,n)||""===c&&1===e.length){if(No(r))return!1;a=!0}}else{var u=8&r?c:e[++s];if(8&r&&t.classes){if(!$o(ti(t.classes),u)){if(No(r))return!1;a=!0}continue}var l=Ro(8&r?"class":c,i,0==t.type&&t.tagName!==Oo,n);if(-1===l){if(No(r))return!1;a=!0;continue}if(""!==u){var d;d=l>o?"":i[l+1].toLowerCase();var f=8&r?d:null;if(f&&!$o(f,u)||2&r&&u!==d){if(No(r))return!1;a=!0}}}}else{if(!a&&!No(r)&&!No(c))return!1;if(a&&No(c))continue;a=!1,r=c|1&r}}return No(r)||a}function No(t){return 0==(1&t)}function Ro(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function Lo(t,e,n){void 0===n&&(n=!1);for(var r=0;r<e.length;r++)if(Do(t,e[r],n))return!0;return!1}function jo(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}var Fo={element:null,directiveIndex:-1,sourceIndex:-1,classesBitMask:-1,classesIndex:-1,stylesBitMask:-1,stylesIndex:-1,lastDirectClassMap:null,lastDirectStyleMap:null},Bo=0,Vo=1;function Ho(t,e){return Fo.element!==t?(Fo.element=t,Fo.directiveIndex=e,Fo.sourceIndex=e===Ar?0:1,Fo.classesBitMask=Bo,Fo.classesIndex=Vo,Fo.stylesBitMask=Bo,Fo.stylesIndex=Vo,Fo.lastDirectClassMap=null,Fo.lastDirectStyleMap=null):Fo.directiveIndex!==e&&(Fo.directiveIndex=e,Fo.sourceIndex++),Fo}var Uo={},qo=0;function zo(t,e,n,r,i,o,a,s,c,u){var l=!o,d=Ho(r,i),f=l?qo:d.classesIndex++;return!(!u&&s===Pr||!Go(t,e,n,f,d.sourceIndex,o,a,s,c,!1,u,!0)&&!c||(d.classesBitMask|=1<<f,0))}function Wo(t,e,n,r,i,o,a,s,c,u,l){var d=!o,f=Ho(r,i),h=d?qo:f.stylesIndex++;if(l||s!==Pr){var p=!!d||!!c&&c(o,null,1);if(Go(t,e,n,h,f.sourceIndex,o,a,s,u,p,l,!1)||u)return f.stylesBitMask|=1<<h,!0}return!1}function Go(t,e,n,r,i,o,a,s,c,u,l,d){var f=ci(i),h=d?4096:131072;l&&Ko(t,e,r,i,o,a,u,d);var p=c||Kr(n[a],s);return p&&(Wr(n,a,s),Rr(e,h)&&!f&&(!o||!s)&&function(t,e,n,r,i){var o,a=Hr(t);if(null!==r&&Rr(e,i?4096:131072)){for(var s=4+a,c=2,u=!1;c<t.length;){if(Fr(t,c)===r){u=!0;break}c+=s}if(u)for(var l=(o=c+4)+a-1,d=o+1;d<l;d++){var f=t[d];0!==f&&Wr(n,f,null)}}if(Rr(e,i?512:16384))for(l=(o=6)+a-1,c=o+1;c<l;c++){var h=Gr(n,t[c]);h&&(h[0]=ii)}}(t,e,n,o,d)),p}function Ko(t,e,n,r,i,o,a,s){var c=!1;i=i||Ir;for(var u=Ur(t);u<=r;)Xo(t),u++;for(var l=s?8192:262144,d="number"==typeof o,f=4+Hr(t),h=2;h<t.length;){var p=Fr(t,h);if(i<=p){i<p?Qo(t,h,i,a):d&&jr(e,l),Yo(t,h,o,n,r),c=!0;break}h+=f}c||(Qo(t,t.length,i,a),Yo(t,h,o,n,r))}function Qo(t,e,n,r){t.splice(e,0,r?1:0,Dr,Dr,n),e+=4;for(var i=Ur(t),o=0;o<i;o++)t.splice(e,0,$r),e++;t.splice(e,0,Or)}function Yo(t,e,n,r,i){if("number"==typeof n){var o=ci(i);t[e+4+i]=n,function(t,e,n,r){t[e+(r?2:1)]=n}(t,e,Vr(t,e,o)|1<<r,o)}else null!==n&&null===zr(t,e)&&function(t,e,n){t[e+4+Ur(t)]=n}(t,e,n)}function Xo(t){for(var e=4+Hr(t)-1,n=2;n<t.length;)n+=e,t.splice(n++,0,$r),n++;t[0]++}function Zo(t,e,n){!function(t,e,n,r){for(var i=!1,o=1;o<n.length;o+=2){var a=ai(n,o);a&&(Ko(t,e,-1,0,ri(n,o),a,!1,r),i=!0)}i&&jr(e,256)}(t,e,Zr(t),n)}function Jo(t,e,n,r,i,o,a,s,c,u){var l=function(t){return!0===t?-1:!1===t?0:t}(o),d=null,f=!1;Rr(e,u?512:16384)&&(d=ra,f=0!=(l&Vr(t,2,c)));var h=Hr(t),p=1,m=f?1:0;c&&(m|=8,p=h-1);for(var g=function(t,e,n){var r=2;return Rr(e,n?512:16384)&&(r+=4+Hr(t)),r}(t,e,u);g<t.length;){if(l&Vr(t,g,c)){for(var v=!1,y=Fr(t,g),b=zr(t,g),_=0;_<p;_++){var w=qr(t,g,_);if(!v&&0!==w){var S=Gr(i,w);Qr(S)&&(c&&0===_||a(n,r,y,s&&Br(t,g)?s(y,S,2):Cr(S),w),v=!0)}if(d){var E=m|(v?4:2);c&&0===_&&(E|=16);var x=d(t,n,r,i,_,a,s,E,y,b);v=v||x}}v||a(n,r,y,b)}g+=4+h}d&&(c&&(m|=16),d(t,n,r,i,0,a,s,m))}function ta(t,e,n,r,i){var o;return r?(o="string"==typeof n?n:function(t){var e="";if(t)for(var n in t)t[n]&&(e+=(e.length?" ":"")+n);return e}(n),null!==i&&(o=Yr(i,o," ")),aa(t,e,o)):(o=si(n,!0),null!==i&&(o=i+";"+o),sa(t,e,o)),o}function ea(t,e,n,r,i,o,a){var s=Cr(r);return!!Qr(s)&&(i(t,e,n,s=a?a(n,r,3):s,o),!0)}function na(t,e,n,r,i,o,a){for(var s=1;s<r.length;s+=2){var c=ri(r,s);if(c===i){var u=ai(r,s);return n(t,e,i,u=a?a(i,u,3):u,o),!0}if(c>i)break}return!1}var ra=null,ia=function(t,e,n,r){var i;null!==t&&(Qr(r)?(r=r.toString(),ir(t)?t.setStyle(e,n,r,rr.DashCase):null!=(i=e.style)&&i.setProperty(n,r)):ir(t)?t.removeStyle(e,n,rr.DashCase):null!=(i=e.style)&&i.removeProperty(n))},oa=function(t,e,n,r){var i;null!==t&&""!==n&&(r?ir(t)?t.addClass(e,n):null!=(i=e.classList)&&i.add(n):ir(t)?t.removeClass(e,n):null!=(i=e.classList)&&i.remove(n))},aa=function(t,e,n){null!==t&&(ir(t)?t.setAttribute(e,"class",n):e.className=n)},sa=function(t,e,n){null!==t&&(ir(t)?t.setAttribute(e,"style",n):e.setAttribute("style",n))};function ca(t,e,n,r){var i=Zr(n);if(i)for(var o=1;o<i.length;o+=2){var a=ri(i,o),s=ai(i,o);r?oa(t,e,a,s,null):ia(t,e,a,s,null)}}function ua(t){var e=t[Ae];return tn(e)?e[Ae]:e}function la(t){da(ln(),jn()+t,Sn())}function da(t,e,n){if(dn(1)&&hn(),!n)if(3==(3&t[Ie])){var r=t[Pe].preOrderCheckHooks;null!==r&&zn(t,r,e)}else{var i=t[Pe].preOrderHooks;null!==i&&Wn(t,i,0,e)}Fn(e)}var fa=function(t,e,n,r,i,o,a,s,c,u){var l=!1;if(Hr(t)){var d=!0,f=!c;f&&0==(1&s)&&(d=!1,l=!0),d&&(l=function t(e,n,r,i,o,a,s,c,u,l){var d=Hr(e)-1-1,f=u<d&&0!=(8&s),h=0!=(16&s);h&&(s&=-17);var p=!1;if(u<=d){var m=function(t){return t>=ma.length&&ma.push(1),ma[t]}(u),g=qr(e,2,u),v=Gr(i,g);if(v){for(;m<v.length;){var y=ri(v,m),b=c&&y>c,_=!b&&y===c,w=ai(v,m),S=Qr(w),E=b?s:ha(s,S,_),x=!!f&&t(e,n,r,i,o,a,E,b?c:y,u+1,l);if(b){p||(p=x);break}if(!x&&pa(s,_)&&(x=!0,!h)){var C=_?g:null;o(n,r,y,_&&!S?l:a?a(y,w,3):w?Cr(w):null,C)}p=x&&_,m+=2}ma[u]=m,!f||1!==v.length&&c||(p=t(e,n,r,i,o,a,s,c,u+1,l))}else f&&(p=t(e,n,r,i,o,a,s,c,u+1,l))}return p}(t,e,n,r,o,a,s,c||null,i,u||null)),f&&function(){for(var t=0;t<ma.length;t++)ma[t]=1}()}return l};function ha(t,e,n){var r=t;return!e&&(n?2&t:1&t)?(r|=2,r&=-5):(r|=4,r&=-3),r}function pa(t,e){var n=0!=(1&t);return n?4&t&&e&&(n=!1):2&t&&(n=e),n}var ma=[];function ga(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r+1];if(-1!==i){var o=t.data[i];On(n[r]),o.contentQueries(2,e[i],i)}}}function va(t,e,n){return ir(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function ya(t,e,n,r,i,o,a,s,c,u){var l=e.blueprint.slice();return l[Te]=i,l[Ie]=140|r,To(l),l[Ae]=l[He]=t,l[Ne]=n,l[Le]=a||t&&t[Le],l[je]=s||t&&t[je],l[Fe]=c||t&&t[Fe]||null,l[Re]=u||t&&t[Re]||null,l[Me]=o,l[Ue]=2==e.type?t[Ue]:l,l}function ba(t,e,n,r,i,o){var a=n+We,s=t.data[a]||function(t,e,n,r,i,o){var a=yn(),s=_n(),c=s?a:a&&a.parent,u=t.data[n]=Ia(0,c&&c!==e?c:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=u),a&&(!s||null!=a.child||null===u.parent&&2!==a.type?s||(a.next=u):a.child=u),u}(t,e,a,r,i,o);return bn(s,!0),s}function _a(t,e,n){Dn(t,t[Me]);try{var r=e.viewQuery;null!==r&&Ya(1,r,n);var i=e.template;null!==i&&Ea(t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&ga(e,t),e.staticViewQueries&&Ya(2,e.viewQuery,n);var o=e.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)za(t,e[n])}(t,o)}finally{t[Ie]&=-5,Ln()}}function wa(t,e,n,r){var i=t[Ie];if(256!=(256&i)){Dn(t,t[Me]);try{To(t),kn(e.bindingStartIndex),null!==n&&Ea(t,n,2,r);var o=Sn(),a=3==(3&i);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&zn(t,s,null)}else{var c=e.preOrderHooks;null!==c&&Wn(t,c,0,null),Gn(t,0)}if(function(t){for(var e=t[Be];null!==e;){var n=void 0;if(tn(e)&&(n=e[Ke])>>1==-1){for(var r=Ze;r<e.length;r++){var i=e[r],o=i[Pe];wa(i,o,o.template,i[Ne])}0!=(1&n)&&Ua(e,t[Ue])}e=e[Oe]}}(t),null!==e.contentQueries&&ga(e,t),!o)if(a){var u=e.contentCheckHooks;null!==u&&zn(t,u)}else{var l=e.contentHooks;null!==l&&Wn(t,l,1),Gn(t,1)}!function(t,e){var n=jn();try{var r=t.expandoInstructions;if(null!==r){var i=kn(t.expandoStartIndex);In(i);for(var o=-1,a=-1,s=0;s<r.length;s++){var c=r[s];if("number"==typeof c){if(c<=0){fn(a=-c);var u=r[++s];o=i+=Zn+u}else i+=c;In(i)}else null!==c&&(gn(),kn(i),c(2,yo(e[o]),a)),o++}}}finally{fn(n)}}(e,t);var d=e.components;null!==d&&function(t,e){for(var n=0;n<e.length;n++)qa(t,e[n])}(t,d);var f=e.viewQuery;if(null!==f&&Ya(2,f,r),!o)if(a){var h=e.viewCheckHooks;null!==h&&zn(t,h)}else{var p=e.viewHooks;null!==p&&Wn(t,p,2),Gn(t,2)}}finally{!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Ie]&=-73,dn(1)&&hn(),Ln()}}}function Sa(t,e,n){var r=t[Le],i=!Sn(),o=Co(t);try{i&&!o&&r.begin&&r.begin();var a=t[Pe];o&&_a(t,a,n),wa(t,a,e,n)}finally{i&&!o&&r.end&&r.end()}}function Ea(t,e,n,r){var i=jn();try{fn(null),2&n&&t.length>We&&da(t,0,Sn()),e(n,r)}finally{dn(1)&&hn(),Fn(i)}}function xa(t,e,n){if(en(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Ca(t,e,n){un()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||vi(n,e),Po(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var c=t.data[s],u=on(c);u&&Fa(e,n,c);var l=ki(e,t,s,n);Po(l,e),null!==a&&Ba(0,s-i,l,c,0,a),u&&(Eo(n.index,e)[Ne]=l)}}(t,e,n,_o(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,a=t.firstCreatePass,s=n.index-We;try{fn(s);for(var c=r;c<i;c++){var u=t.data[c],l=e[c];u.hostBindings?(gn(),Ma(u,o,l,n,a)):a&&o.push(null)}}finally{fn(null)}}(t,e,n))}function ka(t,e,n){void 0===n&&(n=_o);var r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function Ta(t){return t.tView||(t.tView=Pa(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function Pa(t,e,n,r,i,o,a,s,c,u){var l=We+r,d=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Pr);return n}(l,d);return f[Pe]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:c,consts:u}}function Ia(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,classes:null}}function Aa(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Oa(t,e,n,r,i,o,a){var s,c,u=bo(e,t),l=wo(e,t),d=l.inputs;if(!o&&null!=d&&(s=d[n]))ns(t,s,n,r),nn(l)&&function(t,e){var n=Eo(e,t);16&n[Ie]||(n[Ie]|=64)}(t,e+We);else if(3===l.type){n="class"===(c=n)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c;var f=a?a(l,t):t[je];r=null!=i?i(r,l.tagName||"",n):r,ir(f)?f.setProperty(u,n,r):cr(n)||(u.setProperty?u.setProperty(n,r):u[n]=r)}}function $a(t,e,n,r){if(!un())return!1;var i=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Lo(n,a.selectors,!1)&&(i||(i=[]),wi(vi(n,e),t,a.type),on(a)?(2&n.flags&&Io(n),Na(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),o=null===r?null:{"":-1},a=!1;if(null!==i){a=!0,La(n,t.data.length,i.length);for(var s=0;s<i.length;s++)(l=i[s]).providersResolver&&l.providersResolver(l);Da(t,n,i.length);var c=!1,u=!1;for(s=0;s<i.length;s++){var l;ja(t,e,l=i[s]),Ra(t.data.length-1,l,o),null!==l.contentQueries&&(n.flags|=8),null!==l.hostBindings&&(n.flags|=128),!c&&(l.onChanges||l.onInit||l.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-We),c=!0),u||!l.onChanges&&!l.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-We),u=!0)}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,c=e.directiveStart;c<n;c++){var u=r[c],l=u.inputs;o.push(null!==i?Va(l,i):null),a=Aa(l,c,a),s=Aa(u.outputs,c,s)}null!==a&&((a.hasOwnProperty("class")||a.hasOwnProperty("className"))&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}return o&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '"+e[i+1]+"' not found!");r.push(e[i],o)}}(n,r,o),a}function Ma(t,e,n,r,i){var o=e.length;cn(t),t.hostBindings(1,n,r.index-We),cn(null),o===e.length&&i&&e.push(t.hostBindings)}function Da(t,e,n){var r=We-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Na(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ra(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;on(e)&&(n[""]=t)}}function La(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ja(t,e,n){t.data.push(n);var r=n.factory||(n.factory=Ce(n.type)),i=new tr(r,on(n),null);t.blueprint.push(i),e.push(i)}function Fa(t,e,n){var r=_o(e,t),i=Ta(n),o=t[Le],a=Wa(t,ya(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=a}function Ba(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,c=0;c<a.length;){var u=a[c++],l=a[c++],d=a[c++];null!==s?r.setInput(n,d,u,l):n[l]=d}}function Va(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ha(t,e,n,r){return new Array(t,!0,-2,e,null,null,r,n,null)}function Ua(t,e){for(var n=t[Qe],r=0;r<n.length;r++){var i=n[r],o=i[Ae][Ae][Ue];if(o!==e&&0==(16&o[Ie])){var a=i[Pe];wa(i,a,a.template,i[Ne])}}}function qa(t,e){var n=Eo(e,t);if(128==(128&n[Ie])&&80&n[Ie]){var r=n[Pe];wa(n,r,r.template,n[Ne])}}function za(t,e){var n=Eo(e,t);!function(t){for(var e=t[Pe],n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(n),_a(n,n[Pe],n[Ne])}function Wa(t,e){return t[Be]?t[Ve][Oe]=e:t[Be]=e,t[Ve]=e,e}function Ga(t){for(;t;){t[Ie]|=64;var e=ua(t);if(an(t)&&!e)return t;t=e}return null}function Ka(t,e){var n=t[Le];n.begin&&n.begin();try{var r=t[Pe];wa(t,r,r.template,e)}catch(i){throw es(t,i),i}finally{n.end&&n.end()}}function Qa(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=xo(n);Sa(r,r[Pe].template,n)}}(t[Ne])}function Ya(t,e,n){On(0),e(t,n)}var Xa=function(){return Promise.resolve(null)}();function Za(t){return t[De]||(t[De]=[])}function Ja(t){return t[Pe].cleanup||(t[Pe].cleanup=[])}function ts(t,e){return e[t.index][je]}function es(t,e){var n=t[Re],r=n?n.get(Ri,null):null;r&&r.handleError(e)}function ns(t,e,n,r){for(var i=t[Pe],o=0;o<e.length;){var a=e[o++],s=e[o++],c=t[a],u=i.data[a];null!==u.setInput?u.setInput(c,r,n,s):c[s]=r}}function rs(t,e,n){var r=bo(e,t),i=t[je];ir(i)?i.setValue(r,n):r.textContent=n}function is(t,e,n,r){null!==n.classes&&(r?ca(t,e,n.classes,!0):ta(t,e,ti(n.classes),!0,null)),null!==n.styles&&(r?ca(t,e,n.styles,!1):ta(t,e,ti(n.styles),!1,null))}function os(t,e){var n=e[Ae];return-1===t.index?tn(n)?n:null:n}function as(t,e){var n=os(t,e);return n?ys(e[je],n[Ye]):null}function ss(t,e,n,r,i){if(null!=r){var o=void 0,a=!1;tn(r)?o=r:Je(r)&&(a=!0,r=r[Te]);var s=yo(r);0===t&&null!==n?null==i?gs(e,n,s):ms(e,n,s,i||null):1===t&&null!==n?ms(e,n,s,i||null):2===t?function(t,e,n){var r=ys(t,e);r&&function(t,e,n,r){ir(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[Ye];o!==yo(n)&&ss(e,t,r,o,i);for(var a=Ze;a<n.length;a++)Es(t,e,n[a],r,o)}(e,t,o,n,i)}}function cs(t,e,n){var r=as(t[Pe].node,t);r&&Es(t[je],e?1:2,t,r,n)}function us(t,e){var n=t[Qe],r=n.indexOf(e);n.splice(r,1)}function ls(t,e){if(!(t.length<=Ze)){var n=Ze+e,r=t[n];if(r){var i=r[qe];null!==i&&i!==t&&us(i,r),e>0&&(t[n-1][Oe]=r[Oe]);var o=ce(t,Ze+e);cs(r,!1,null);var a=o[$e];null!==a&&a.detachView(o[Pe]),r[Ae]=null,r[Oe]=null,r[Ie]&=-129}return r}}function ds(t){if(!(256&t[Ie])){var e=t[je];ir(e)&&e.destroyNode&&Es(e,3,t,null,null),function(t){var e=t[Be];if(!e)return hs(t);for(;e;){var n=null;if(Je(e))n=e[Be];else{var r=e[Ze];r&&(n=r)}if(!n){for(;e&&!e[Oe]&&e!==t;)hs(e),e=fs(e,t);hs(e||t),n=e&&e[Oe]}e=n}}(t)}}function fs(t,e){var n;return Je(t)&&(n=t[Me])&&2===n.type?os(n,t):t[Ae]===e?null:t[Ae]}function hs(t){if(Je(t)&&!(256&t[Ie])){t[Ie]&=-129,t[Ie]|=256,function(t){var e,n=t[Pe];if(null!=n&&null!=(e=n.destroyHooks))for(var r=0;r<e.length;r+=2){var i=t[e[r]];i instanceof tr||e[r+1].call(i)}}(t),function(t){var e=t[Pe].cleanup;if(null!==e){for(var n=t[De],r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){var i=e[r+1],o="function"==typeof i?i(t):yo(t[i]),a=e[r+3];"boolean"==typeof a?o.removeEventListener(e[r],n[e[r+2]],a):a>=0?n[a]():n[-a].unsubscribe(),r+=2}else e[r].call(n[e[r+1]]);t[De]=null}}(t);var e=t[Me];e&&3===e.type&&ir(t[je])&&t[je].destroy();var n=t[qe];if(null!==n&&tn(t[Ae])){n!==t[Ae]&&us(n,t);var r=t[$e];null!==r&&r.detachView(t[Pe])}}}function ps(t,e){for(var n=t.parent;null!=n&&(4===n.type||5===n.type);)n=(t=n).parent;if(null==n){var r=e[Me];return 2===r.type?as(r,e):e[Te]}if(t&&5===t.type&&4&t.flags)return _o(t,e).parentNode;if(2&n.flags){var i=e[Pe].data,o=i[i[n.index].directiveStart].encapsulation;if(o!==de.ShadowDom&&o!==de.Native)return null}return _o(n,e)}function ms(t,e,n,r){ir(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function gs(t,e,n){ir(t)?t.appendChild(e,n):e.appendChild(n)}function vs(t,e,n,r){null!==r?ms(t,e,n,r):gs(t,e,n)}function ys(t,e){return ir(t)?t.parentNode(e):e.parentNode}function bs(t,e){if(2===t.type){var n=os(t,e);return null===n?null:ws(n.indexOf(e,Ze)-Ze,n)}return 4===t.type||5===t.type?_o(t,e):null}function _s(t,e,n){var r=ps(e,n);if(null!=r){var i=n[je],o=bs(e.parent||n[Me],n);if(Array.isArray(t))for(var a=0;a<t.length;a++)vs(i,r,t[a],o);else vs(i,r,t,o)}}function ws(t,e){var n=Ze+t+1;if(n<e.length){var r=e[n],i=r[Pe].firstChild;if(null!==i)return function t(e,n){if(null!==n){var r=n.type;if(3===r)return _o(n,e);if(0===r)return ws(-1,e[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return t(e,i);var o=e[n.index];return tn(o)?ws(-1,o):yo(o)}var a=e[Ue],s=a[Me],c=ua(a),u=s.projection[n.projection];return null!=u?t(c,u):t(e,n.next)}return null}(r,i)}return e[Ye]}function Ss(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],c=n.type;a&&0===e&&(s&&Po(yo(s),r),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(Ss(t,e,n.child,r,i,o,!1),ss(e,t,i,s,o)):1===c?xs(t,e,r,n,i,o):ss(e,t,i,s,o)),n=a?n.projectionNext:n.next}}function Es(t,e,n,r,i){Ss(t,e,n[Pe].node.child,n,r,i,!1)}function xs(t,e,n,r,i,o){var a=n[Ue],s=a[Me].projection[r.projection];if(Array.isArray(s))for(var c=0;c<s.length;c++)ss(e,t,i,s[c],o);else Ss(t,e,s,a[Ae],i,o,!0)}var Cs,ks,Ts,Ps=function(){function t(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return null==this._lView[Te]?function t(e,n,r,i){for(void 0===i&&(i=!1);null!==n;){var o=e[n.index];if(null!==o&&r.push(yo(o)),tn(o))for(var a=Ze;a<o.length;a++){var s=o[a],c=s[Pe].firstChild;null!==c&&t(s,c,r)}var u=n.type;if(4===u||5===u)t(e,n.child,r);else if(1===u){var l=e[Ue],d=l[Me],f=ua(l),h=d.projection[n.projection];null!==h&&null!==f&&t(f,h,r,!0)}n=i?n.projectionNext:n.next}return r}(this._lView,this._lView[Me].child,[]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._lView[Ne]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 256==(256&this._lView[Ie])},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}ds(this._lView)},t.prototype.onDestroy=function(t){var e,n;n=t,Za(e=this._lView).push(n),e[Pe].firstCreatePass&&Ja(e).push(e[De].length-1,null)},t.prototype.markForCheck=function(){Ga(this._cdRefInjectingView||this._lView)},t.prototype.detach=function(){this._lView[Ie]&=-129},t.prototype.reattach=function(){this._lView[Ie]|=128},t.prototype.detectChanges=function(){Ka(this._lView,this.context)},t.prototype.checkNoChanges=function(){!function(t,e){En(!0);try{Ka(t,e)}finally{En(!1)}}(this._lView,this.context)},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t.prototype.detachFromAppRef=function(){var t;this._appRef=null,Es((t=this._lView)[je],2,t,null,null)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t}(),Is=function(t){function e(e){var n=t.call(this,e)||this;return n._view=e,n}return Object(i.__extends)(e,t),e.prototype.detectChanges=function(){Qa(this._view)},e.prototype.checkNoChanges=function(){!function(t){En(!0);try{Qa(t)}finally{En(!1)}}(this._view)},Object.defineProperty(e.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),e}(Ps);function As(t,e,n){return Cs||(Cs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e}(t)),new Cs(_o(e,n))}function Os(t,e,n,r){return ks||(ks=function(t){function e(e,n,r){var i=t.call(this)||this;return i._declarationView=e,i._declarationTContainer=n,i.elementRef=r,i}return Object(i.__extends)(e,t),e.prototype.createEmbeddedView=function(t){var e=this._declarationTContainer.tViews,n=ya(this._declarationView,e,t,16,null,e.node);n[qe]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[$e];null!==r&&(n[$e]=r.createEmbeddedView(e)),_a(n,e,t);var i=new Ps(n);return i._tViewNode=n[Me],i},e}(t)),0===n.type?new ks(r,n,As(e,n,r)):null}function $s(t,e,n,r){var o;Ts||(Ts=function(t){function n(e,n,r){var i=t.call(this)||this;return i._lContainer=e,i._hostTNode=n,i._hostView=r,i}return Object(i.__extends)(n,t),Object.defineProperty(n.prototype,"element",{get:function(){return As(e,this._hostTNode,this._hostView)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"injector",{get:function(){return new Ii(this._hostTNode,this._hostView)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentInjector",{get:function(){var t=_i(this._hostTNode,this._hostView),e=fr(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.injectorIndex;)i=i.parent;return i}for(var o=dr(t),a=e,s=e[Me];o>1;)s=(a=a[He])[Me],o--;return s}(t,this._hostView,this._hostTNode);return ur(t)&&null!=n?new Ii(n,e):new Ii(null,this._hostView)},enumerable:!0,configurable:!0}),n.prototype.clear=function(){for(;this.length>0;)this.remove(this.length-1)},n.prototype.get=function(t){return null!==this._lContainer[Xe]&&this._lContainer[Xe][t]||null},Object.defineProperty(n.prototype,"length",{get:function(){return this._lContainer.length-Ze},enumerable:!0,configurable:!0}),n.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},n.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(ie,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s},n.prototype.insert=function(t,e){var n=t._lView;if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),tn(n[Ae])){var r=this.indexOf(t);if(-1!==r)this.detach(r);else{var i=n[Ae],o=new Ts(i,i[Me],i[Ae]);o.detach(o.indexOf(t))}}var a=this._adjustIndex(e);return function(t,e,n){var r=Ze+n,i=e.length;n>0&&(e[r-1][Oe]=t),n<i-Ze?(t[Oe]=e[r],se(e,Ze+n,t)):(e.push(t),t[Oe]=null),t[Ae]=e;var o=t[qe];null!==o&&e!==o&&function(t,e){var n=t[Qe],r=e[Ae][Ae][Ue];16!=(16&r[Ie])&&e[Ue]!==r&&(t[Ke]|=1),null===n?t[Qe]=[e]:n.push(e)}(o,t);var a=t[$e];null!==a&&a.insertView(t[Pe]),t[Ie]|=128}(n,this._lContainer,a),cs(n,!0,ws(a,this._lContainer)),t.attachToViewContainerRef(this),se(this._lContainer[Xe],a,t),t},n.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)},n.prototype.indexOf=function(t){var e=this._lContainer[Xe];return null!==e?e.indexOf(t):-1},n.prototype.remove=function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1);(function(t,e){var n=ls(t,e);n&&ds(n)})(this._lContainer,e),ce(this._lContainer[Xe],e)},n.prototype.detach=function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=ls(this._lContainer,e);return n&&null!=ce(this._lContainer[Xe],e)?new Ps(n):null},n.prototype._adjustIndex=function(t,e){return void 0===e&&(e=0),null==t?this.length+e:t},n.prototype.allocateContainerIfNeeded=function(){null===this._lContainer[Xe]&&(this._lContainer[Xe]=[])},n}(t));var a=r[n.index];if(tn(a))!function(t,e){t[Ke]=-2}(o=a);else{var s=void 0;if(4===n.type)s=yo(a);else if(s=r[je].createComment(""),an(r)){var c=r[je],u=_o(n,r);ms(c,ys(c,u),s,function(t,e){return ir(t)?t.nextSibling(e):e.nextSibling}(c,u))}else _s(s,n,r);r[n.index]=o=Ha(a,r,s,n),Wa(r,o)}return new Ts(o,n,r)}function Ms(t){return void 0===t&&(t=!1),function(t,e,n){if(!n&&nn(t)){var r=Eo(t.index,e);return new Ps(r,r)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Ps(e[Ue],e):null}(yn(),ln(),t)}var Ds=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return Ns()},t}(),Ns=Ms,Rs=new Bt("Set Injector scope."),Ls={},js={},Fs=[],Bs=void 0;function Vs(){return void 0===Bs&&(Bs=new re),Bs}function Hs(t,e,n,r){return void 0===e&&(e=null),void 0===n&&(n=null),e=e||Vs(),new Us(t,n,e,r)}var Us=function(){function t(t,e,n,r){var i=this;void 0===r&&(r=null),this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];e&&ae(e,(function(n){return i.processProvider(n,t,e)})),ae([t],(function(t){return i.processInjectorType(t,[],o)})),this.records.set(Vt,Ws(void 0,this));var a=this.records.get(Rs);this.scope=null!=a?a.value:null,this.injectorDefTypes.forEach((function(t){return i.get(t)})),this.source=r||("object"==typeof t?null:St(t))}return Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},t.prototype.get=function(t,e,n){void 0===e&&(e=Ht),void 0===n&&(n=lt.Default),this.assertNotDestroyed();var r,i=Yt(this);try{if(!(n&lt.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Bt)&&mt(t);o=a&&this.injectableDefInScope(a)?Ws(qs(t),Ls):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&lt.Self?Vs():this.parent).get(t,e=n&lt.Optional&&e===Ht?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[Ut]=s[Ut]||[]).unshift(St(t)),i)throw s;return function(t,e,n,r){var i=t[Ut];throw e[Gt]&&i.unshift(e[Gt]),t.message=function(t,e,n,r){void 0===r&&(r=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Wt?t.substr(2):t;var i=St(e);if(Array.isArray(e))i=e.map(St).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):St(s)))}i="{"+o.join(", ")+"}"}return n+(r?"("+r+")":"")+"["+i+"]: "+t.replace(zt,"\n  ")}("\n"+t.message,i,n,r),t[qt]=i,t[Ut]=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Yt(i)}},t.prototype.toString=function(){var t=[];return this.records.forEach((function(e,n){return t.push(St(n))})),"R3Injector["+t.join(", ")+"]"},t.prototype.assertNotDestroyed=function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")},t.prototype.processInjectorType=function(t,e,n){var r=this;if(!(t=Ct(t)))return!1;var i=vt(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=vt(o)),null==i)return!1;if(this.injectorDefTypes.add(a),this.records.set(a,Ws(i.factory,Ls)),null!=i.imports&&!s){var c;n.push(a);try{ae(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===c&&(c=[]),c.push(t))}))}finally{}if(void 0!==c)for(var u=function(t){var e=c[t],n=e.ngModule,i=e.providers;ae(i,(function(t){return r.processProvider(t,n,i||Fs)}))},l=0;l<c.length;l++)u(l)}var d=i.providers;if(null!=d&&!s){var f=t;ae(d,(function(t){return r.processProvider(t,f,d)}))}return void 0!==o&&void 0!==t.providers},t.prototype.processProvider=function(t,e,n){var r=Ks(t=Ct(t))?t:Ct(t&&t.provide),i=function(t,e,n){return Gs(t)?Ws(void 0,t.useValue):Ws(zs(t,e,n),Ls)}(t,e,n);if(Ks(t)||!0!==t.multi){var o=this.records.get(r);o&&void 0!==o.multi&&Ao()}else{var a=this.records.get(r);a?void 0===a.multi&&Ao():((a=Ws(void 0,Ls,!0)).factory=function(){return ne(a.multi)},this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,i)},t.prototype.hydrate=function(t,e){var n;return e.value===js?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(St(t)):e.value===Ls&&(e.value=js,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value},t.prototype.injectableDefInScope=function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))},t}();function qs(t){var e=mt(t),n=null!==e?e.factory:Ce(t);if(null!==n)return n;var r=vt(t);if(null!==r)return r.factory;if(t instanceof Bt)throw new Error("Token "+St(t)+" is missing a ɵprov definition.");if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=ue(e,"?");throw new Error("Can't resolve all parameters for "+St(t)+": ("+n.join(", ")+").")}var r,i,o=(i=(r=t)&&(r[yt]||r[_t]))?(console.warn('DEPRECATED: DI is instantiating a token "'+r.name+'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "'+r.name+'" class.'),i):null;return null!==o?function(){return o.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function zs(t,e,n){var r,o=void 0;if(Ks(t))return qs(Ct(t));if(Gs(t))o=function(){return Ct(t.useValue)};else if((r=t)&&r.useExisting)o=function(){return Jt(Ct(t.useExisting))};else if(function(t){return!(!t||!t.useFactory)}(t))o=function(){return t.useFactory.apply(t,Object(i.__spread)(ne(t.deps||[])))};else{var a=Ct(t&&(t.useClass||t.provide));if(a||function(t,e,n){var r="";throw t&&e&&(r=" - only instances of Provider and Type are allowed, got: ["+e.map((function(t){return t==n?"?"+n+"?":"..."})).join(", ")+"]"),new Error("Invalid provider for the NgModule '"+St(t)+"'"+r)}(e,n,t),!function(t){return!!t.deps}(t))return qs(a);o=function(){return new(a.bind.apply(a,Object(i.__spread)([void 0],ne(t.deps))))}}return o}function Ws(t,e,n){return void 0===n&&(n=!1),{factory:t,value:e,multi:n?[]:void 0}}function Gs(t){return null!==t&&"object"==typeof t&&Kt in t}function Ks(t){return"function"==typeof t}var Qs=function(t,e,n){return Hs({name:n},e,t,n)},Ys=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?Qs(t,e,""):Qs(t.providers,t.parent,t.name||"")},t.THROW_IF_NOT_FOUND=Ht,t.NULL=new re,t.ɵprov=ht({token:t,providedIn:"any",factory:function(){return Jt(Vt)}}),t.__NG_ELEMENT_ID__=-1,t}(),Xs=new Map,Zs=new Set;function Js(t){return"string"==typeof t?t:t.text()}function tc(t){var e=ln(),n=e[Pe];n.firstCreatePass&&(function(t,e,n){var r=t.expandoInstructions,i=r.length;i>=2&&r[i-2]===e.hostBindings?r[i-1]=r[i-1]+n:r.push(e.hostBindings,n)}(n,sn.lFrame.currentDirectiveDef,t),function(t,e,n){for(var r=0;r<n;r++)e.push(Pr),t.blueprint.push(Pr),t.data.push(null)}(n,e,t))}var ec=null;function nc(){if(!ec){var t=$t.Symbol;if(t&&t.iterator)ec=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ec=r)}}return ec}function rc(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}var ic=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}();function oc(t){return!!ac(t)&&(Array.isArray(t)||!(t instanceof Map)&&nc()in t)}function ac(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function sc(t,e,n){return t[e]=n}function cc(t,e){return t[e]}function uc(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function lc(t,e,n,r){var i=uc(t,e,n);return uc(t,e+1,r)||i}function dc(t,e,n,r){var i=ln();return uc(i,Tn(),e)&&function(t,e,n,r,i,o){var a=bo(t,r),s=r[je];if(null==n)ir(s)?s.removeAttribute(a,e,o):a.removeAttribute(e);else{var c=wo(t,r),u=null==i?hr(n):i(n,c.tagName||"",e);ir(s)?s.setAttribute(a,e,u,o):o?a.setAttributeNS(o,e,u):a.setAttribute(e,u)}}(jn(),t,e,i,n,r),dc}function fc(t,e,n,r){return uc(t,Tn(),n)?e+hr(n)+r:Pr}function hc(t,e,n,r,i,o,a,s){var c=ln(),u=c[Pe],l=t+We,d=u.firstCreatePass?function(t,e,n,r,i,o,a,s,c){var u=e.consts,l=ba(e,n[Me],t,0,a||null,ko(u,s));$a(e,n,l,ko(u,c)),qn(e,l);var d=l.tViews=Pa(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u),f=Ia(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,d.node=f,null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(t,u,c,e,n,r,i,o,a):u.data[l];bn(d,!1);var f=c[je].createComment("");_s(f,d,c),Po(f,c),Wa(c,c[l]=Ha(f,c,f,d)),rn(d)&&Ca(u,c,d),null!=a&&ka(c,d,s)}function pc(t){return So(sn.lFrame.contextLView,t)}function mc(t,e){void 0===e&&(e=lt.Default);var n=ln();return null==n?Jt(t,e):Si(yn(),n,Ct(t),e)}function gc(t){return function(t,e){if("class"===e)return ti(t.classes);if("style"===e)return ti(t.styles);var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(sr(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(yn(),t)}function vc(t){Hn(t)}function yc(t,e,n){return function(t,e,n,r){var i=Tn(),o=ln(),a=wo(t,o),s=o[Pe].firstUpdatePass;s&&(jr(a,32768),Mc(a,$c(),!1)),_c(a,s,o,i,e,function(t,e){if(t===Pr)return t;var n=null;return Qr(t)&&(n=e?hr(t)+e:t),n}(n,r),!1)}(jn(),t,e,n),yc}function bc(t,e){var n=Tn(),r=ln(),i=wo(jn(),r),o=r[Pe].firstUpdatePass;return o&&(jr(i,1024),Mc(i,$c(),!0)),_c(i,o,r,n,t,e,!0),bc}function _c(t,e,n,r,i,o,a){var s=!1,c=_o(t,n),u=a?Ac(t):Ic(t),l=a?null:Un();if(Lr(t,a,e)){var d=a?null:l;s=function(t,e,n,r,i,o,a,s,c,u){var l=!1;if(Kr(i[o],s)){Wr(i,o,s);var d=c?oa:ia;if(!(l=ea(t,r,a,s,d,o,u))&&Rr(n,c?512:16384)){var f,h=Ho(r,Ar);l=!!(f=c?h.lastDirectClassMap:h.lastDirectStyleMap)&&na(t,r,d,f,a,o,u)}!l&&Rr(n,256)&&(l=!!(f=Zr(e))&&na(t,r,d,f,a,o)),l||d(t,r,a,null,o)}return l}(kc(t,n),u,t,c,n,r,i,o,a,d),d&&pn(Cc)}else{var f=mn();s=a?zo(u,t,n,c,f,i,r,o,!1,e):Wo(u,t,n,c,f,i,r,o,l,!1,e),pn(Cc)}return s}function wc(t){Sc(jn(),t)}function Sc(t,e){var n=ln(),r=wo(t,n),i=n[Pe].firstUpdatePass,o=Ac(r),a=ei(r),s=Pn(2);!$c()&&a&&e!==Pr&&(xc(o,n,r,s,e,!0,i),e=Pr),i&&(jr(r,512),Mc(r,$c(),!0)),Ec(o,r,i,n,s,e,!0,a)}function Ec(t,e,n,r,i,o,a,s){var c=mn(),u=_o(e,r),l=Gr(r,i),d=Un(),f=Kr(l,o);if(Lr(e,a,n)){var h=a?null:d;(function(t,e,n,r,i,o,a,s,c,u,l){var d=Gr(i,o);if(u||Kr(d,a)){var f=Rr(n,256),h=f&&!l?ti(e):null;Wr(i,o,a);var p=o+1,m=Gr(i,p);m===Pr&&(m=h),m="string"!=typeof m?"":m;var g=!Rr(n,s?1024:32768);if(g&&function(t,e,n){return"undefined"===$t.Node||e===Uo||((n?t.className:t.style&&t.style.cssText)||"")!==(e||"")}(r,m,s)&&(g=!1,d!==Uo&&(function(t,e,n,r){var i;i=function(t){return Array.isArray(t)&&"string"==typeof t[1]}(n)?n:di(null,n,!r);for(var o=r?oa:ia,a=1;a<i.length;a+=2)ai(i,a)&&o(t,e,ri(i,a),null)}(t,r,d,s),Wr(i,p,Uo))),g)Wr(i,p,ta(t,r,a,s,f&&!l?ti(e):null)||null);else{for(var v=s?oa:ia,y=di(d,a,!s),b=f?Zr(e):null,_=1;_<y.length;_+=2){var w=ri(y,_),S=ea(t,r,w,ai(y,_),v,o,c);!S&&b&&(S=na(t,r,v,b,w,o,c)),S||v(t,r,w,null,o)}var E=Ho(r,Ar);s?E.lastDirectClassMap=y:E.lastDirectStyleMap=y}}})(kc(e,r),t,e,u,r,i,o,a,h,f,s),h&&pn(Cc)}else{var p=o===Pr?Pr:di(l,o,!a);ra=fa,a?zo(t,e,r,u,c,null,i,p,f,n):Wo(t,e,r,u,c,null,i,p,d,f,n),pn(Cc)}}function xc(t,e,n,r,i,o,a){if(Kr(Gr(e,r),i)){if(Qr(i)||!a){var s=o?fi(n.inputs):"style";ns(e,n.inputs[s],s,function(t,e,n){var r,i=e;return t.length&&(i=n?Yr(t,((r=e)&&"string"!=typeof r&&(r=Object.keys(r).join(" ")),r||"")):Yr(t,si(e,!0),";")),i}(ti(t),i,o)),pn(Cc)}Wr(e,r,i)}}function Cc(){var t=ln(),e=t[Pe],n=wo(jn(),t),r=_o(n,t),i=mn(),o=kc(n,t),a=Un();(function(t,e,n,r,i,o,a,s,c){var u=Ho(o,a),l=ci(u.sourceIndex);i&&(c&&Zo(i,n,!1),0!==u.stylesBitMask&&Jo(i,n,t,o,e,u.stylesBitMask,ia,s,l,!1)),r&&(c&&Zo(r,n,!0),0!==u.classesBitMask&&Jo(r,n,t,o,e,u.classesBitMask,oa,null,l,!0)),Fo.element=null})(o,t,n,Jr(n.classes)?n.classes:null,Jr(n.styles)?n.styles:null,r,i,a,e.firstUpdatePass),Hn(null)}function kc(t,e){return 3===t.type?e[je]:null}function Tc(t,e,n){for(var r=!1,i=Zr(t.styles),o=Zr(t.classes),a=-1,s=n;s<e.length;s++){var c=e[s];if("number"==typeof c)a=c;else if(1==a)li(o=o||Nr(null),c,!0),r=!0;else if(2==a){var u=e[++s];li(i=i||Nr(null),c,u),r=!0}}return o&&o.length>1&&(t.classes||(t.classes=o),Pc(t.classes,ui(o,!0))),i&&i.length>1&&(t.styles||(t.styles=i),Pc(t.styles,ui(i,!1))),r&&(t.flags|=256),r}function Pc(t,e){Zr(t)[0]=e}function Ic(t){return Oc(t,!1)}function Ac(t){return Oc(t,!0)}function Oc(t,e){var n,r=e?t.classes:t.styles;return Jr(r)||(rn(t),n=(n=r)||Nr(null),r=[Mr,n],e?t.classes=r:t.styles=r),r}function $c(){return ci(mn())}function Mc(t,e,n){jr(t,e?n?4096:131072:n?2048:65536)}function Dc(t,e,n,r){var i=ln(),o=i[Pe],a=We+t,s=i[je],c=i[a]=va(e,s,sn.lFrame.currentNamespace),u=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,c=ko(s,o),u=ba(e,n[Me],t,3,i,c);return null!==c&&Tc(u,c,0),$a(e,n,u,ko(s,a)),null!==e.queries&&e.queries.elementStart(e,u),u}(t,o,i,0,e,n,r):o.data[a];bn(u,!0);var l=u.attrs;null!=l&&ar(s,c,l),256==(256&u.flags)&&is(s,c,u,!1),_s(c,u,i),0===sn.lFrame.elementDepthCount&&Po(c,i),sn.lFrame.elementDepthCount++,rn(u)&&(Ca(o,i,u),xa(o,u,i)),null!=r&&ka(i,u)}function Nc(){var t=yn();_n()?wn():bn(t=t.parent,!1);var e=t,n=ln(),r=n[Pe];if(sn.lFrame.elementDepthCount--,r.firstCreatePass&&(qn(r,t),en(t)&&r.queries.elementEnd(t)),ei(e)){var i=fi(e.inputs);jc(e.classes,n,e.inputs[i],i)}ni(e)&&jc(e.styles,n,e.inputs.style,"style")}function Rc(t,e,n,r){Dc(t,e,n,r),Nc()}function Lc(t){var e=jn(),n=ln(),r=n[Pe],i=wo(e,n);if(3===i.type){var o=_o(i,n),a=ar(n[je],o,t);r.firstCreatePass&&Tc(i,t,a)&&is(n[je],o,i,!0)}}function jc(t,e,n,r){ns(e,n,r,t&&ti(t)||null)}function Fc(t,e,n){var r=ln(),i=r[Pe],o=t+We,a=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,a=ko(o,r),s=ba(e,n[Me],t,4,"ng-container",a);return null!==a&&Tc(s,a,0),$a(e,n,s,ko(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(t,i,r,e,n):i.data[o];bn(a,!0);var s=r[o]=r[je].createComment("");_s(s,a,r),Po(s,r),rn(a)&&(Ca(i,r,a),xa(i,a,r)),null!=n&&ka(r,a)}function Bc(){var t=yn(),e=ln()[Pe];_n()?wn():bn(t=t.parent,!1),e.firstCreatePass&&(qn(e,t),en(t)&&e.queries.elementEnd(t))}function Vc(t,e,n){Fc(t,e,n),Bc()}function Hc(){return ln()}function Uc(t){return!!t&&"function"==typeof t.then}function qc(t){return!!t&&"function"==typeof t.subscribe}function zc(t,e,n,r){void 0===n&&(n=!1);var i=ln(),o=yn();return Gc(i,i[je],o,t,e,n,r),zc}function Wc(t,e,n,r){void 0===n&&(n=!1);var i=ln(),o=yn();return Gc(i,ts(o,i),o,t,e,n,r),Wc}function Gc(t,e,n,r,i,o,a){void 0===o&&(o=!1);var s=t[Pe],c=rn(n),u=s.firstCreatePass&&(s.cleanup||(s.cleanup=[])),l=Za(t),d=!0;if(3===n.type){var f=_o(n,t),h=a?a(f):he,p=h.target||f,m=l.length,g=a?function(t){return a(yo(t[n.index])).target}:n.index;if(ir(e)){var v=null;if(!a&&c&&(v=function(t,e,n){var r=t[Pe].cleanup;if(null!=r)for(var i=0;i<r.length-1;i+=2){var o=r[i];if(o===e&&r[i+1]===n){var a=t[De],s=r[i+2];return a.length>s?a[s]:null}"string"==typeof o&&(i+=2)}return null}(t,r,n.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=i,v.__ngLastListenerFn__=i,d=!1;else{i=Qc(n,t,i,!1);var y=e.listen(h.name||p,r,i);l.push(i,y),u&&u.push(r,g,m,m+1)}}else i=Qc(n,t,i,!0),p.addEventListener(r,i,o),l.push(i),u&&u.push(r,g,m,o)}var b,_=n.outputs;if(d&&null!==_&&(b=_[r])){var w=b.length;if(w)for(var S=0;S<w;S+=2){var E=t[b[S]][b[S+1]].subscribe(i),x=l.length;l.push(i,E),u&&u.push(r,n.index,x,-(x+1))}}}function Kc(t,e,n){try{return!1!==e(n)}catch(r){return es(t,r),!1}}function Qc(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?Eo(t.index,e):e;0==(32&e[Ie])&&Ga(a);for(var s=Kc(e,n,o),c=i.__ngNextListenerFn__;c;)s=Kc(e,c,o)&&s,c=c.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Yc(t){return void 0===t&&(t=1),function(t){return(sn.lFrame.contextLView=function(t,e){for(;t>0;)e=e[He],t--;return e}(t,sn.lFrame.contextLView))[Ne]}(t)}function Xc(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?Lo(t,o,!0):jo(r,o))return i}else n=i}return n}function Zc(t){var e=ln()[Ue][Me];if(!e.projection)for(var n=e.projection=ue(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?Xc(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}var Jc=!1;function tu(t,e,n){void 0===e&&(e=0);var r=ln(),i=ba(r[Pe],r[Me],t,1,null,n||null);null===i.projection&&(i.projection=e),wn(),Jc||function(t,e){xs(t[je],0,t,e,ps(e,t),bs(e.parent||t[Me],t))}(r,i)}function eu(t,e,n){var r=ln();return uc(r,Tn(),e)&&Oa(r,jn(),t,e,n),eu}function nu(t,e,n){return ru(t,"",e,"",n),nu}function ru(t,e,n,r,i){var o=ln(),a=fc(o,e,n,r);return a!==Pr&&Oa(o,jn(),t,a,i),ru}function iu(t,e){void 0===e&&(e="");var n=ln(),r=n[Pe],i=t+We,o=r.firstCreatePass?ba(r,n[Me],t,3,null,null):r.data[i];_s(n[i]=function(t,e){return ir(e)?e.createText(t):e.createTextNode(t)}(e,n[je]),o,n),bn(o,!1)}function ou(t){return au("",t,""),ou}function au(t,e,n){var r=ln(),i=fc(r,t,e,n);return i!==Pr&&rs(r,jn(),i),au}function su(t,e,n,r,i){var o=ln(),a=function(t,e,n,r,i,o){var a=lc(t,Cn(),n,i);return Pn(2),a?e+hr(n)+r+hr(i)+o:Pr}(o,t,e,n,r,i);return a!==Pr&&rs(o,jn(),a),su}function cu(t,e,n){var r=fc(ln(),t,e,n);Sc(jn(),r)}function uu(t,e,n){var r=ln();return uc(r,Tn(),e)&&Oa(r,jn(),t,e,n,!0),uu}function lu(t,e,n){var r=ln();return uc(r,Tn(),e)&&Oa(r,jn(),t,e,n,!0,ts),lu}function du(t,e){var n=xo(t)[Pe],r=n.data.length-1;qn(n,{directiveStart:r,directiveEnd:r+1})}function fu(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor;e;){var n=void 0;if(on(t))n=e.ɵcmp||e.ɵdir;else{if(e.ɵcmp)throw new Error("Directives cannot inherit Components");n=e.ɵdir}if(n){var r=t;r.inputs=hu(t.inputs),r.declaredInputs=hu(t.declaredInputs),r.outputs=hu(t.outputs);var i=n.hostBindings;i&&gu(t,i);var o=n.viewQuery,a=n.contentQueries;o&&pu(t,o),a&&mu(t,a),ft(t.inputs,n.inputs),ft(t.declaredInputs,n.declaredInputs),ft(t.outputs,n.outputs),t.afterContentChecked=t.afterContentChecked||n.afterContentChecked,t.afterContentInit=t.afterContentInit||n.afterContentInit,t.afterViewChecked=t.afterViewChecked||n.afterViewChecked,t.afterViewInit=t.afterViewInit||n.afterViewInit,t.doCheck=t.doCheck||n.doCheck,t.onDestroy=t.onDestroy||n.onDestroy,t.onInit=t.onInit||n.onInit;var s=n.features;if(s)for(var c=0;c<s.length;c++){var u=s[c];u&&u.ngInherit&&u(t)}}e=Object.getPrototypeOf(e)}}function hu(t){return t===he?{}:t===pe?[]:t}function pu(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function mu(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function gu(t,e){var n=t.hostBindings;e!==n&&(t.hostBindings=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e)}var vu=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function yu(){return bu.ngInherit=!0,bu}function bu(t){t.type.prototype.ngOnChanges&&(t.setInput=_u,t.onChanges=function(){var t=Su(this),e=t&&t.current;if(e){var n=t.previous;if(n===he)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}})}function _u(t,e,n,r){var i=Su(t)||function(t,e){return t[wu]=e}(t,{previous:he,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],c=a[s];o[s]=new vu(c&&c.currentValue,e,a===he),t[r]=e}var wu="__ngSimpleChanges__";function Su(t){return t[wu]||null}function Eu(t,e,n,r,i){if(t=Ct(t),Array.isArray(t))for(var o=0;o<t.length;o++)Eu(t[o],e,n,r,i);else{var a=ln(),s=a[Pe],c=Ks(t)?t:Ct(t.provide),u=zs(t),l=yn(),d=65535&l.providerIndexes,f=l.directiveStart,h=l.providerIndexes>>16;if(t.useClass||Ks(t)){var p=(t.useClass||t).prototype.ngOnDestroy;p&&(s.destroyHooks||(s.destroyHooks=[])).push(e.length,p)}if(Ks(t)||!t.multi){var m=new tr(u,i,mc),g=Cu(c,e,i?d:d+h,f);-1==g?(wi(vi(l,a),s,c),e.push(c),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(m),a.push(m)):(n[g]=m,a[g]=m)}else{var v=Cu(c,e,d+h,f),y=Cu(c,e,d,d+h),b=y>=0&&n[y];i&&!b||!i&&!(v>=0&&n[v])?(wi(vi(l,a),s,c),m=function(t,e,n,r,i){var o=new tr(t,n,mc);return o.multi=[],o.index=e,o.componentProviders=0,xu(o,i,r&&!n),o}(i?Tu:ku,n.length,i,r,u),!i&&b&&(n[y].providerFactory=m),e.push(c),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(m),a.push(m)):xu(n[i?y:v],u,!i&&r),!i&&r&&b&&n[y].componentProviders++}}}function xu(t,e,n){t.multi.push(e),n&&t.componentProviders++}function Cu(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function ku(t,e,n,r){return Pu(this.multi,[])}function Tu(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=ki(n,n[Pe],this.providerFactory.index,r);Pu(o,i=s.slice(0,a));for(var c=a;c<s.length;c++)i.push(s[c])}else Pu(o,i=[]);return i}function Pu(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Iu(t,e){return void 0===e&&(e=[]),function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=ln()[Pe];if(r.firstCreatePass){var i=on(t);Eu(n,r.data,r.blueprint,i,!0),Eu(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var Au=function(){return function(){}}(),Ou=function(){return function(){}}(),$u=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw function(t){var e=Error("No component factory found for "+St(t)+". Did you add it to @NgModule.entryComponents?");return e.ngComponent=t,e}(t)},t}(),Mu=function(){function t(){}return t.NULL=new $u,t}(),Du=function(){function t(t){this.nativeElement=t}return t.__NG_ELEMENT_ID__=function(){return Nu(t)},t}(),Nu=function(t){return As(t,yn(),ln())},Ru=function(){return function(){}}(),Lu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),ju=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return Fu()},t}(),Fu=function(){var t=ln(),e=Eo(yn().index,t);return function(t){var e=t[je];if(ir(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Je(e)?e:t)},Bu=function(){function t(){}return t.ɵprov=ht({token:t,providedIn:"root",factory:function(){return null}}),t}(),Vu=function(){return function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}(),Hu=new Vu("9.0.0-rc.6"),Uu=function(){function t(){}return t.prototype.supports=function(t){return oc(t)},t.prototype.create=function(t){return new zu(t)},t}(),qu=function(t,e){return e},zu=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||qu}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Qu(n,r,i)?e:n,a=Qu(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var c=a-r,u=s-r;if(c!=u){for(var l=0;l<c;l++){var d=l<i.length?i[l]:i[l]=0,f=d+l;u<=f&&f<c&&(i[l]=d+1)}i[o.previousIndex]=u-c}}a!==s&&t(o,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!oc(t))throw new Error("Error trying to diff '"+St(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=t[s]),null!==o&&rc(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),rc(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[nc()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&rc(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),rc(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(rc(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(rc(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Wu(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ku),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ku),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),Wu=function(){return function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),Gu=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&rc(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),Ku=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Gu,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function Qu(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Yu=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||ac(t)},t.prototype.create=function(){return new Xu},t}(),Xu=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||ac(t)))throw new Error("Error trying to diff '"+St(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Zu(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){rc(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))},t}(),Zu=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),Ju=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ut,new st]]}},t.prototype.find=function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ɵprov=ht({token:t,providedIn:"root",factory:function(){return new t([new Uu])}}),t}(),tl=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ut,new st]]}},t.prototype.find=function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t.ɵprov=ht({token:t,providedIn:"root",factory:function(){return new t([new Yu])}}),t}(),el=[new Yu],nl=new Ju([new Uu]),rl=new tl(el),il=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return ol(t,Du)},t}(),ol=function(t,e){return Os(t,e,yn(),ln())},al=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return sl(t,Du)},t}(),sl=function(t,e){return $s(t,e,yn(),ln())},cl={},ul=function(t){function e(e){var n=t.call(this)||this;return n.ngModule=e,n}return Object(i.__extends)(e,t),e.prototype.resolveComponentFactory=function(t){var e=xe(t);return new fl(e,this.ngModule)},e}(Mu);function ll(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var dl=new Bt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return mr}}),fl=function(t){function e(e,n){var r=t.call(this)||this;return r.componentDef=e,r.ngModule=n,r.componentType=e.type,r.selector=e.selectors[0][0]||"div",r.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],r.isBoundToModule=!!n,r}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){return ll(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return ll(this.componentDef.outputs)},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){var i=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,cl,i);return o!==cl||r===cl?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ru,or),a=i.get(Bu,null),s=n?function(t,e,n){var r=t.createRenderer(null,null);if(ir(r))return r.selectRootElement(e,n===de.ShadowDom);var i="string"==typeof e?r.querySelector(e):e;return i.textContent="",i}(o,n,this.componentDef.encapsulation):va(this.selector,o.createRenderer(null,this.componentDef),null),c=this.componentDef.onPush?576:528,u="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),l={components:[],scheduler:mr,clean:Xa,playerHandler:null,flags:0},d=o.createRenderer(s,this.componentDef);n&&s&&(ir(d)?d.setAttribute(s,"ng-version",Hu.full):s.setAttribute("ng-version",Hu.full));var f,h,p=Pa(0,-1,null,1,0,null,null,null,null,null),m=ya(null,p,l,c,null,null,o,d,a,i);Dn(m,null);try{var g=function(t,e,n,r,i,o){var a=n[Pe];n[0+We]=t;var s=ba(a,null,0,3,null,null),c=ya(n,Ta(e),null,e.onPush?64:16,n[We],s,r,i,void 0);return a.firstCreatePass&&(wi(vi(s,n),a,e.type),Na(a,s),La(s,n.length,1)),Wa(n,c),n[We]=c}(s,this.componentDef,m,o,d);h=wo(0,m),e&&(h.projection=e.map((function(t){return Array.from(t)}))),f=function(t,e,n,r,i){var o=n[Pe],a=function(t,e,n){var r=yn();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Da(t,r,1),ja(t,e,n));var i=ki(e,t,e.length-1,r);Po(i,e);var o=_o(r,e);return o&&Po(o,e),i}(o,n,e);r.components.push(a),t[Ne]=a,i&&i.forEach((function(t){return t(a,e)})),e.contentQueries&&e.contentQueries(1,a,n.length-1);var s=yn();return o.firstCreatePass&&e.hostBindings&&(fn(s.index-We),gn(),Ma(e,o.expandoInstructions,a,s,o.firstCreatePass),fn(null)),a}(g,this.componentDef,m,l,[du]),_a(m,p,null)}finally{Ln()}var v=new hl(this.componentType,f,As(Du,h,m),m,h);return n&&!u||(v.hostView._tViewNode.child=h),v},e}(Ou),hl=function(t){function e(e,n,r,i,o){var a,s,c,u=t.call(this)||this;return u.location=r,u._rootLView=i,u._tNode=o,u.destroyCbs=[],u.instance=n,u.hostView=u.changeDetectorRef=new Is(i),u.hostView._tViewNode=(null,-1,s=i,null==(c=(a=i[Pe]).node)&&(a.node=c=Ia(0,null,2,-1,null,null)),s[Me]=c),u.componentType=e,u}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"injector",{get:function(){return new Ii(this._tNode,this._rootLView)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())},e.prototype.onDestroy=function(t){this.destroyCbs&&this.destroyCbs.push(t)},e}(Au),pl=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],ml={};function gl(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=vl(e);if(n)return n;var r=e.split("-")[0];if(n=vl(r))return n;if("en"===r)return pl;throw new Error('Missing locale data for the locale "'+t+'".')}function vl(t){return t in ml||(ml[t]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[t]),ml[t]}var yl=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencySymbol=15]="CurrencySymbol",t[t.CurrencyName=16]="CurrencyName",t[t.Currencies=17]="Currencies",t[t.PluralCase=18]="PluralCase",t[t.ExtraData=19]="ExtraData",t}({});function bl(t){var e;e="Expected localeId to be defined",null==t&&function(t){throw new Error("ASSERTION ERROR: "+t)}(e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var _l=new Map,wl={provide:Mu,useClass:ul,deps:[ie]},Sl=function(t){function e(e,n){var r=t.call(this)||this;r._parent=n,r._bootstrapComponents=[],r.injector=r,r.destroyCbs=[];var i=ke(e),o=e[Lt]||null;return o&&bl(o),r._bootstrapComponents=yr(i.bootstrap),r._r3Injector=Hs(e,n,[{provide:ie,useValue:r},wl],St(e)),r.instance=r.get(e),r}return Object(i.__extends)(e,t),e.prototype.get=function(t,e,n){return void 0===e&&(e=Ys.THROW_IF_NOT_FOUND),void 0===n&&(n=lt.Default),t===Ys||t===ie||t===Vt?this:this._r3Injector.get(t,e,n)},Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return this.get(Mu)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(ie),El=function(t){function e(e){var n=t.call(this)||this;return n.moduleType=e,null!==ke(e)&&function t(e){if(null!==e.ɵmod.id){var n=e.ɵmod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for "+t+" - "+St(e)+" vs "+St(e.name))})(n,_l.get(n),e),_l.set(n,e)}var r=e.ɵmod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(e),n}return Object(i.__extends)(e,t),e.prototype.create=function(t){return new Sl(this.moduleType,t)},e}(oe);function xl(t,e,n){var r=xn()+t,i=ln();return i[r]===Pr?sc(i,r,n?e.call(n):e()):cc(i,r)}function Cl(t,e,n,r){var i=ln(),o=xn()+t;return uc(i,o,n)?sc(i,o+1,r?e.call(r,n):e(n)):cc(i,o+1)}function kl(t,e,n,r,i){var o=xn()+t,a=ln();return lc(a,o,n,r)?sc(a,o+2,i?e.call(i,n,r):e(n,r)):cc(a,o+2)}function Tl(t,e){var n,r=ln()[Pe],i=t+We;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new Error("The pipe '"+t+"' could not be found!")}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=(n.factory||(n.factory=Ce(n.type)))();return function(t,e){var n=ln(),r=n[Pe],i=t+We;i>=r.data.length&&(r.data[i]=null,r.blueprint[i]=null),n[i]=e}(t,o),o}function Pl(t,e,n){var r=ln(),i=So(r,t);return Al(r,Il(r,t)?Cl(e,i.transform,n,i):i.transform(n))}function Il(t,e){return t[Pe].data[e+We].pure}function Al(t,e){return ic.isWrapped(e)&&(e=ic.unwrap(e),t[Cn()]=Pr),e}var Ol=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(i.__extends)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},a=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout((function(){return n(t)}))}:function(t){n(t)}),r&&(a=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var s=t.prototype.subscribe.call(this,i,o,a);return e instanceof u&&e.add(s),s},e}(k);function $l(){return this._results[nc()]()}var Ml=function(){function t(){this.dirty=!0,this._results=[],this.changes=new Ol,this.length=0;var e=nc(),n=t.prototype;n[e]||(n[e]=$l)}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),Dl=function(){function t(t){this.queryList=t,this.matches=null}return t.prototype.clone=function(){return new t(this.queryList)},t.prototype.setDirty=function(){this.queryList.setDirty()},t}(),Nl=function(){function t(t){void 0===t&&(t=[]),this.queries=t}return t.prototype.createEmbeddedView=function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null},t.prototype.insertView=function(t){this.dirtyQueriesWithMatches(t)},t.prototype.detachView=function(t){this.dirtyQueriesWithMatches(t)},t.prototype.dirtyQueriesWithMatches=function(t){for(var e=0;e<this.queries.length;e++)null!==Zl(t,e).matches&&this.queries[e].setDirty()},t}(),Rl=function(){return function(t,e,n,r){void 0===r&&(r=null),this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}(),Ll=function(){function t(t){void 0===t&&(t=[]),this.queries=t}return t.prototype.elementStart=function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)},t.prototype.elementEnd=function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)},t.prototype.embeddedTView=function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null},t.prototype.template=function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)},t.prototype.getByIndex=function(t){return this.queries[t]},Object.defineProperty(t.prototype,"length",{get:function(){return this.queries.length},enumerable:!0,configurable:!0}),t.prototype.track=function(t){this.queries.push(t)},t}(),jl=function(){function t(t,e){void 0===e&&(e=-1),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}return t.prototype.elementStart=function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)},t.prototype.elementEnd=function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)},t.prototype.template=function(t,e){this.elementStart(t,e)},t.prototype.embeddedTView=function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null},t.prototype.isApplyingToNode=function(t){return this._appliesToNextNode&&!1===this.metadata.descendants?this._declarationNodeIndex===(t.parent?t.parent.index:-1):this._appliesToNextNode},t.prototype.matchTNode=function(t,e){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Fl(e,n[r]));else{var i=this.metadata.predicate;i===il?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ci(e,t,i,!1,!1))}},t.prototype.matchTNodeWithReadOption=function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Du||r===al||r===il&&0===e.type)this.addMatch(e.index,-2);else{var i=Ci(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}},t.prototype.addMatch=function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)},t}();function Fl(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Bl(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?As(Du,t,e):0===t.type?Os(il,Du,t,e):null}(e,t):-2===n?function(t,e,n){return n===Du?As(Du,e,t):n===il?Os(il,Du,e,t):n===al?$s(al,Du,e,t):void 0}(t,e,r):ki(t,t[Pe],n,e)}function Vl(t,e,n){var r=t[$e].queries[n];if(null===r.matches){for(var i=t[Pe].data,o=e.matches,a=[],s=0;s<o.length;s+=2){var c=o[s];a.push(c<0?null:Bl(t,i[c],o[s+1],e.metadata.read))}r.matches=a}return r.matches}function Hl(t){var e=ln(),n=An();On(n+1);var r=Zl(e[Pe],n);if(t.dirty&&Co(e)===r.metadata.isStatic){if(null===r.matches)t.reset([]);else{var i=r.crossesNgTemplate?function t(e,n,r){var i=e[Pe].queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=Vl(e,i,n),s=0;s<o.length;s+=2){var c=o[s];if(c>0)r.push(a[s/2]);else{for(var u=o[s+1],l=e[-c],d=Ze;d<l.length;d++){var f=l[d];f[qe]===f[Ae]&&t(f,u,r)}if(null!==l[Qe])for(var h=l[Qe],p=0;p<h.length;p++)t(h[p],u,r)}}return r}(e,n,[]):Vl(e,r,n);t.reset(i),t.notifyOnChanges()}return!0}return!1}function Ul(t,e,n){zl(ln(),t,e,n,!0)}function ql(t,e,n){zl(ln(),t,e,n,!1)}function zl(t,e,n,r,i){var o=t[Pe];o.firstCreatePass&&(Xl(o,new Rl(e,n,i,r),-1),i&&(o.staticViewQueries=!0)),Yl(t)}function Wl(t,e,n,r){Kl(ln(),e,n,r,!1,yn(),t)}function Gl(t,e,n,r){Kl(ln(),e,n,r,!0,yn(),t)}function Kl(t,e,n,r,i,o,a){var s=t[Pe];s.firstCreatePass&&(Xl(s,new Rl(e,n,i,r),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(s,a),i&&(s.staticContentQueries=!0)),Yl(t)}function Ql(){return t=ln(),e=An(),t[$e].queries[e].queryList;var t,e}function Yl(t){var e=new Ml;!function(t,e,n){var r=Za(t);r.push(e),t[Pe].firstCreatePass&&Ja(t).push(n,r.length-1)}(t,e,e.destroy),null===t[$e]&&(t[$e]=new Nl),t[$e].queries.push(new Dl(e))}function Xl(t,e,n){null===t.queries&&(t.queries=new Ll),t.queries.track(new jl(e,n))}function Zl(t,e){return t.queries.getByIndex(e)}function Jl(t,e){return Os(il,Du,t,e)}var td=new Bt("Application Initializer"),ed=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Uc(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}},t.ɵfac=function(e){return new(e||t)(Jt(td,8))},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),nd=new Bt("AppId"),rd={provide:nd,useFactory:function(){return""+id()+id()+id()},deps:[]};function id(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var od=new Bt("Platform Initializer"),ad=new Bt("Platform ID"),sd=new Bt("appBootstrapListener"),cd=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t.ɵfac=function(e){return new(e||t)},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),ud=new Bt("LocaleId"),ld=function(){return function(t,e){this.ngModuleFactory=t,this.componentFactories=e}}(),dd=function(t){return new El(t)},fd=dd,hd=function(t){return Promise.resolve(dd(t))},pd=function(t){var e=dd(t),n=yr(ke(t).declarations).reduce((function(t,e){var n=xe(e);return n&&t.push(new fl(n)),t}),[]);return new ld(e,n)},md=pd,gd=function(t){return Promise.resolve(pd(t))},vd=function(){function t(){this.compileModuleSync=fd,this.compileModuleAsync=hd,this.compileModuleAndAllComponentsSync=md,this.compileModuleAndAllComponentsAsync=gd}return t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t.ɵfac=function(e){return new(e||t)},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),yd=new Bt("compilerOptions"),bd=function(){return Promise.resolve(0)}();function _d(t){"undefined"==typeof Zone?bd.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var wd=function(){function t(t){var e,n,r=t.enableLongStackTrace,i=void 0!==r&&r,o=t.shouldCoalesceEventChangeDetection,a=void 0!==o&&o;if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ol(!1),this.onMicrotaskEmpty=new Ol(!1),this.onStable=new Ol(!1),this.onError=new Ol(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=a,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=$t.requestAnimationFrame,e=$t.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,n=!!(e=this).shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($t,(function(){t.lastRequestAnimationFrameId=-1,Cd(t),xd(t)})),Cd(t))}(e)},e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:n},onInvokeTask:function(t,r,i,o,a,s){try{return kd(e),t.invokeTask(i,o,a,s)}finally{n&&"eventTask"===o.type&&n(),Td(e)}},onInvoke:function(t,n,r,i,o,a,s){try{return kd(e),t.invoke(r,i,o,a,s)}finally{Td(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Cd(e),xd(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular((function(){return e.onError.emit(i)})),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ed,Sd,Sd);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function Sd(){}var Ed={};function xd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function Cd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function kd(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Td(t){t._nesting--,xd(t)}var Pd,Id=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ol,this.onMicrotaskEmpty=new Ol,this.onStable=new Ol,this.onError=new Ol}return t.prototype.run=function(t,e,n){return t.apply(e,n)},t.prototype.runGuarded=function(t,e,n){return t.apply(e,n)},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t,e,n,r){return t.apply(e,n)},t}(),Ad=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){e.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){wd.assertNotInAngularZone(),_d((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())_d((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]},t.prototype.addCallback=function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t.ɵfac=function(e){return new(e||t)(Jt(wd))},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),Od=function(){function t(){this._applications=new Map,$d.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),$d.findTestabilityInTree(this,t,e)},t.ɵfac=function(e){return new(e||t)},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),$d=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Md=function(){},Dd=new Bt("AllowMultipleToken");function Nd(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,i=new Bt(r);return function(e){void 0===e&&(e=[]);var o=Rd();if(!o||o.injector.get(Dd,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:Rs,useValue:"platform"});!function(t){if(Pd&&!Pd.destroyed&&!Pd.injector.get(Dd,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Md(),Pd=t.get(Ld);var e=t.get(od,null);e&&e.forEach((function(t){return t()}))}(Ys.create({providers:a,name:r}))}return function(t){var e=Rd();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Rd(){return Pd&&!Pd.destroyed?Pd:null}var Ld=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r,i=this,o=(r=e&&e.ngZoneEventCoalescing||!1,"noop"===(n=e?e.ngZone:void 0)?new Id:("zone.js"===n?void 0:n)||new wd({enableLongStackTrace:Fi(),shouldCoalesceEventChangeDetection:r})),a=[{provide:wd,useValue:o}];return o.run((function(){var e=Ys.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Ri,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return bl(n.injector.get(ud,"en-US")||"en-US"),n.onDestroy((function(){return Bd(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((a=n.injector.get(ed)).runInitializers(),a.donePromise.then((function(){return i._moduleDoBootstrap(n),n})));return Uc(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var a}(r,o)}))},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=jd({},e);return function(t,e,n){var r=new El(n);if(0===Xs.size)return Promise.resolve(r);var o,a,s=(o=t.get(yd,[]).concat(e).map((function(t){return t.providers})),a=[],o.forEach((function(t){return t&&a.push.apply(a,Object(i.__spread)(t))})),a);if(0===s.length)return Promise.resolve(r);var c=function(){var t=$t.ng;if(!t||!t.ɵcompilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.ɵcompilerFacade}(),u=Ys.create({providers:s}).get(c.ResourceLoader);return function(t){var e=[],n=new Map;function r(e){var r=n.get(e);if(!r){var i=t(e);n.set(e,r=i.then(Js))}return r}return Xs.forEach((function(t,n){var i=[];t.templateUrl&&i.push(r(t.templateUrl).then((function(e){t.template=e})));var o=t.styleUrls,a=t.styles||(t.styles=[]),s=t.styles.length;o&&o.forEach((function(e,n){a.push(""),i.push(r(e).then((function(r){a[s+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)})))}));var c=Promise.all(i).then((function(){return function(t){Zs.delete(t)}(n)}));e.push(c)})),Xs=new Map,Promise.all(e).then((function(){}))}((function(t){return Promise.resolve(u.get(t))})).then((function(){return r}))}(this.injector,r,t).then((function(t){return n.bootstrapModuleFactory(t,r)}))},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(Fd);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+St(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t.ɵfac=function(e){return new(e||t)(Jt(Ys))},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}();function jd(t,e){return Array.isArray(e)?e.reduce(jd,t):Object(i.__assign)(Object(i.__assign)({},t),e)}var Fd=function(){function t(t,e,n,r,i,o){var a=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Fi(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run((function(){a.tick()}))}});var s=new w((function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular((function(){t.next(a._stable),t.complete()}))})),c=new w((function(t){var e;a._zone.runOutsideAngular((function(){e=a._zone.onStable.subscribe((function(){wd.assertNotInAngularZone(),_d((function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))}))}))}));var n=a._zone.onUnstable.subscribe((function(){wd.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Q(s,c.pipe(rt()))}return t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Ou?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(ie),o=n.create(Ys.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(Ad,null);return a&&o.injector.get(Od).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Fi()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var t,e,n,r,o=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;try{for(var a=Object(i.__values)(this._views),s=a.next();!s.done;s=a.next())s.value.detectChanges()}catch(l){t={error:l}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}if(this._enforceNoNewChanges)try{for(var c=Object(i.__values)(this._views),u=c.next();!u.done;u=c.next())u.value.checkNoChanges()}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}catch(f){this._zone.runOutsideAngular((function(){return o._exceptionHandler.handleError(f)}))}finally{this._runningTick=!1}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;Bd(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(sd,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),Bd(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach((function(t){return t.destroy()}))},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t.ɵfac=function(e){return new(e||t)(Jt(wd),Jt(cd),Jt(Ys),Jt(Ri),Jt(Mu),Jt(ed))},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}();function Bd(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Vd=Nd(null,"core",[{provide:ad,useValue:"unknown"},{provide:Ld,deps:[Ys]},{provide:Od,deps:[]},{provide:cd,deps:[]}]),Hd=[{provide:Fd,useClass:Fd,deps:[wd,cd,Ys,Ri,Mu,ed]},{provide:dl,deps:[wd],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:ed,useClass:ed,deps:[[new st,td]]},{provide:vd,useClass:vd,deps:[]},rd,{provide:Ju,useFactory:function(){return nl},deps:[]},{provide:tl,useFactory:function(){return rl},deps:[]},{provide:ud,useFactory:function(t){return bl(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new at(ud),new st,new ut]]}],Ud=function(){function t(t){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)(Jt(Fd))},providers:Hd}),t}(),qd=n("Llzl"),zd=(n("zhNR"),n("K4pA"),angular),Wd=qd&&qd.module?qd:zd;function Gd(t){var e=[].slice.apply(arguments,[1]),n=t.length;return function e(r){return r.length>=n?t.apply(null,r):function(){return e(r.concat([].slice.apply(arguments)))}}(e)}function Kd(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function Qd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Kd.apply(null,[].slice.call(arguments).reverse())}var Yd=function(t){return function(e){return e&&e[t]}},Xd=Gd((function(t,e,n){return n&&n[t]===e})),Zd=function(t){return Qd.apply(null,t.split(".").map(Yd))},Jd=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}},tf=function(t){return function(e){return e.reduce((function(e,n){return e&&!!t(n)}),!0)}},ef=function(t){return function(e){return e.reduce((function(e,n){return e||!!t(n)}),!1)}},nf=function(t){return function(e){return null!=e&&e.constructor===t||e instanceof t}},rf=function(t){return function(){return t}};function of(t){return function(e){for(var n=0;n<t.length;n++)if(t[n][0](e))return t[n][1](e)}}var af,sf,cf=Object.prototype.toString,uf=function(t){return function(e){return typeof e===t}},lf=uf("undefined"),df=Jd(lf),ff=function(t){return null===t},hf=(af=ff,sf=lf,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return af.apply(null,t)||sf.apply(null,t)}),pf=uf("function"),mf=uf("number"),gf=uf("string"),vf=function(t){return null!==t&&"object"==typeof t},yf=Array.isArray,bf=function(t){return"[object Date]"===cf.call(t)},_f=function(t){return"[object RegExp]"===cf.call(t)};function wf(t){if(yf(t)&&t.length){var e=t.slice(0,-1),n=t.slice(-1);return!(e.filter(Jd(gf)).length||n.filter(Jd(pf)).length)}return pf(t)}var Sf=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.apply(null,n)&&e.apply(null,n)}}(vf,Qd(Yd("then"),pf)),Ef=function(t,e){return e.reduce((function(e,n){return e[n]=(r=t+"."+n+"()",function(){throw new Error("No implementation for "+r+". The framework specific code did not implement this method.")}),e;var r}),{})},xf={$q:void 0,$injector:void 0},Cf="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||void 0,kf=Cf.angular||{},Tf=kf.fromJson||JSON.parse.bind(JSON),Pf=kf.toJson||JSON.stringify.bind(JSON),If=kf.forEach||function(t,e,n){if(yf(t))return t.forEach(e,n);Object.keys(t).forEach((function(n){return e(t[n],n)}))},Af=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var r=Object.keys(n),i=0;i<r.length;i++)t[r[i]]=n[r[i]]}return t},Of=kf.equals||function t(e,n){if(e===n)return!0;if(null===e||null===n)return!1;if(e!=e&&n!=n)return!0;var r=typeof e;if(r!==typeof n||"object"!==r)return!1;var i,o,a=[e,n];if(tf(yf)(a))return(i=e).length===(o=n).length&&eh(i,o).reduce((function(e,n){return e&&t(n[0],n[1])}),!0);if(tf(bf)(a))return e.getTime()===n.getTime();if(tf(_f)(a))return e.toString()===n.toString();if(tf(pf)(a))return!0;if([pf,yf,bf,_f].map(ef).reduce((function(t,e){return t||!!e(a)}),!1))return!1;var s={};for(var c in e){if(!t(e[c],n[c]))return!1;s[c]=!0}for(var c in n)if(!s[c])return!1;return!0};function $f(t){return t}function Mf(){}function Df(t,e,n,r,i){void 0===i&&(i=!1);var o=function(e){return t()[e].bind(n())};return(r=r||Object.keys(t())).reduce((function(t,n){var r;return t[n]=i?(r=n,function(){return e[r]=o(r),e[r].apply(null,arguments)}):o(n),t}),e)}var Nf=function(t,e){return Af(Object.create(t),e)},Rf=Gd((function(t,e){return-1!==t.indexOf(e)})),Lf=Gd((function(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),t})),jf=Gd((function(t,e){return t.push(e),e}));function Ff(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Af.apply(void 0,[{}].concat(e.reverse()));return Af(r,Vf(t||{},Object.keys(r)))}var Bf=function(t,e){return Af(t,e)};function Vf(t,e){var n={};for(var r in t)-1!==e.indexOf(r)&&(n[r]=t[r]);return n}function Hf(t,e){return Object.keys(t).filter(Jd(Rf(e))).reduce((function(e,n){return e[n]=t[n],e}),{})}function Uf(t,e){var n=yf(t),r=n?[]:{},i=n?function(t){return r.push(t)}:function(t,e){return r[e]=t};return If(t,(function(t,n){e(t,n)&&i(t,n)})),r}function qf(t,e){var n;return If(t,(function(t,r){n||e(t,r)&&(n=t)})),n}var zf=Wf;function Wf(t,e,n){return n=n||(yf(t)?[]:{}),If(t,(function(t,r){return n[r]=e(t,r)})),n}var Gf=function(t){return Object.keys(t).map((function(e){return t[e]}))},Kf=function(t,e){return t&&e},Qf=function(t,e){return t||e},Yf=function(t,e){return t.concat(e)},Xf=function(t,e){return yf(e)?t.concat(e.reduce(Xf,[])):Zf(t,e)};function Zf(t,e){return t.push(e),t}var Jf=function(t,e){return Rf(t,e)?t:Zf(t,e)},th=function(t){return t.reduce(Yf,[])};function eh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return[];for(var n=t.reduce((function(t,e){return Math.min(e.length,t)}),9007199254740991),r=[],i=function(e){switch(t.length){case 1:r.push([t[0][e]]);break;case 2:r.push([t[0][e],t[1][e]]);break;case 3:r.push([t[0][e],t[1][e],t[2][e]]);break;case 4:r.push([t[0][e],t[1][e],t[2][e],t[3][e]]);break;default:r.push(t.map((function(t){return t[e]})))}},o=0;o<n;o++)i(o);return r}function nh(t,e){var n,r;if(yf(e)&&(n=e[0],r=e[1]),!gf(n))throw new Error("invalid parameters to applyPairs");return t[n]=r,t}function rh(t){return t.length&&t[t.length-1]||void 0}function ih(t,e){return e&&Object.keys(e).forEach((function(t){return delete e[t]})),e||(e={}),Af(e,t)}var oh=function(t){return t.catch((function(t){return 0}))&&t},ah=function(t){return oh(xf.$q.reject(t))},sh=function(){function t(t){this.text=t,this.glob=t.split(".");var e=this.text.split(".").map((function(t){return"**"===t?"(?:|(?:\\.[^.]*)*)":"*"===t?"\\.[^.]*":"\\."+t})).join("");this.regexp=new RegExp("^"+e+"$")}return t.is=function(t){return!!/[!,*]+/.exec(t)},t.fromString=function(e){return t.is(e)?new t(e):null},t.prototype.matches=function(t){return this.regexp.test("."+t)},t}(),ch=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=null),this._items=t,this._limit=e,this._evictListeners=[],this.onEvict=jf(this._evictListeners)}return t.prototype.enqueue=function(t){var e=this._items;return e.push(t),this._limit&&e.length>this._limit&&this.evict(),t},t.prototype.evict=function(){var t=this._items.shift();return this._evictListeners.forEach((function(e){return e(t)})),t},t.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},t.prototype.clear=function(){var t=this._items;return this._items=[],t},t.prototype.size=function(){return this._items.length},t.prototype.remove=function(t){var e=this._items.indexOf(t);return e>-1&&this._items.splice(e,1)[0]},t.prototype.peekTail=function(){return this._items[this._items.length-1]},t.prototype.peekHead=function(){if(this.size())return this._items[0]},t}(),uh=function(t){return t[t.SUPERSEDED=2]="SUPERSEDED",t[t.ABORTED=3]="ABORTED",t[t.INVALID=4]="INVALID",t[t.IGNORED=5]="IGNORED",t[t.ERROR=6]="ERROR",t}({}),lh=0,dh=function(){function t(t,e,n){this.$id=lh++,this.type=t,this.message=e,this.detail=n}return t.isRejectionPromise=function(e){return e&&"function"==typeof e.then&&nf(t)(e._transitionRejection)},t.superseded=function(e,n){var r=new t(uh.SUPERSEDED,"The transition has been superseded by a different transition",e);return n&&n.redirected&&(r.redirected=!0),r},t.redirected=function(e){return t.superseded(e,{redirected:!0})},t.invalid=function(e){return new t(uh.INVALID,"This transition is invalid",e)},t.ignored=function(e){return new t(uh.IGNORED,"The transition was ignored",e)},t.aborted=function(e){return new t(uh.ABORTED,"The transition has been aborted",e)},t.errored=function(e){return new t(uh.ERROR,"The transition errored",e)},t.normalize=function(e){return nf(t)(e)?e:t.errored(e)},t.prototype.toString=function(){var t,e=(t=this.detail)&&t.toString!==Object.prototype.toString?t.toString():yh(t);return"Transition Rejection($id: "+this.$id+" type: "+this.type+", message: "+this.message+", detail: "+e+")"},t.prototype.toPromise=function(){return Af(ah(this),{_transitionRejection:this})},t}();function fh(t,e){return e.length<=t?e:e.substr(0,t-3)+"..."}function hh(t){return t.replace(/^([A-Z])/,(function(t){return t.toLowerCase()})).replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))}function ph(t){var e=mh(t),n=e.match(/^(function [^ ]+\([^)]*\))/),r=n?n[1]:e,i=t.name||"";return i&&r.match(/function \(/)?"function "+i+r.substr(9):r}function mh(t){var e=yf(t)?t.slice(-1)[0]:t;return e&&e.toString()||"undefined"}var gh=dh.isRejectionPromise,vh=of([[lf,rf("undefined")],[ff,rf("null")],[Sf,rf("[Promise]")],[gh,function(t){return t._transitionRejection.toString()}],[function(t){return vf(t)&&!yf(t)&&t.constructor!==Object&&pf(t.toString)},function(t){return t.toString()}],[wf,ph],[rf(!0),$f]]);function yh(t){var e=[];function n(t){if(vf(t)){if(-1!==e.indexOf(t))return"[circular ref]";e.push(t)}return vh(t)}return lf(t)?n(t):JSON.stringify(t,(function(t,e){return n(e)})).replace(/\\"/g,'"')}var bh=function(t){return function(e){if(!e)return["",""];var n=e.indexOf(t);return-1===n?[e,""]:[e.substr(0,n),e.substr(n+1)]}},_h=(new RegExp("^(?:[a-z]+:)?//[^/]+/"),function(t){return t.replace(/\/[^/]*$/,"")}),wh=bh("#"),Sh=bh("?"),Eh=bh("=");function xh(t,e){return gf(rh(t))&&gf(e)?t.slice(0,-1).concat(rh(t)+e):Zf(t,e)}function Ch(t){return t?"[ui-view#"+t.id+" "+t.$type+":"+t.fqn+" ("+t.name+"@"+(t.creationContext?t.creationContext.name||"(root)":"(none)")+")]":"ui-view (defunct)"}function kh(t){return mf(t)?Ih[t]:Ih[Ih[t]]}var Th=Function.prototype.bind.call(console.log,console),Ph=pf(console.table)?console.table.bind(console):Th.bind(console),Ih=function(t){return t[t.RESOLVE=0]="RESOLVE",t[t.TRANSITION=1]="TRANSITION",t[t.HOOK=2]="HOOK",t[t.UIVIEW=3]="UIVIEW",t[t.VIEWCONFIG=4]="VIEWCONFIG",t}({}),Ah=Zd("$id"),Oh=Zd("router.$id"),$h=function(t){return"Transition #"+Ah(t)+"-"+Oh(t)},Mh=new(function(){function t(){this._enabled={},this.approximateDigests=0}return t.prototype._set=function(t,e){var n=this;e.length||(e=Object.keys(Ih).map((function(t){return parseInt(t,10)})).filter((function(t){return!isNaN(t)})).map((function(t){return Ih[t]}))),e.map(kh).forEach((function(e){return n._enabled[e]=t}))},t.prototype.enable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!0,t)},t.prototype.disable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!1,t)},t.prototype.enabled=function(t){return!!this._enabled[kh(t)]},t.prototype.traceTransitionStart=function(t){this.enabled(Ih.TRANSITION)&&console.log($h(t)+": Started  -> "+yh(t))},t.prototype.traceTransitionIgnored=function(t){this.enabled(Ih.TRANSITION)&&console.log($h(t)+": Ignored  <> "+yh(t))},t.prototype.traceHookInvocation=function(t,e,n){if(this.enabled(Ih.HOOK)){var r=Zd("traceData.hookType")(n)||"internal",i=Zd("traceData.context.state.name")(n)||Zd("traceData.context")(n)||"unknown",o=ph(t.registeredHook.callback);console.log($h(e)+":   Hook -> "+r+" context: "+i+", "+fh(200,o))}},t.prototype.traceHookResult=function(t,e,n){this.enabled(Ih.HOOK)&&console.log($h(e)+":   <- Hook returned: "+fh(200,yh(t)))},t.prototype.traceResolvePath=function(t,e,n){this.enabled(Ih.RESOLVE)&&console.log($h(n)+":         Resolving "+t+" ("+e+")")},t.prototype.traceResolvableResolved=function(t,e){this.enabled(Ih.RESOLVE)&&console.log($h(e)+":               <- Resolved  "+t+" to: "+fh(200,yh(t.data)))},t.prototype.traceError=function(t,e){this.enabled(Ih.TRANSITION)&&console.log($h(e)+": <- Rejected "+yh(e)+", reason: "+t)},t.prototype.traceSuccess=function(t,e){this.enabled(Ih.TRANSITION)&&console.log($h(e)+": <- Success  "+yh(e)+", final state: "+t.name)},t.prototype.traceUIViewEvent=function(t,e,n){void 0===n&&(n=""),this.enabled(Ih.UIVIEW)&&console.log("ui-view: "+function(t,e){for(;e.length<30;)e+=" ";return e}(0,t)+" "+Ch(e)+n)},t.prototype.traceUIViewConfigUpdated=function(t,e){this.enabled(Ih.UIVIEW)&&this.traceUIViewEvent("Updating",t," with ViewConfig from context='"+e+"'")},t.prototype.traceUIViewFill=function(t,e){this.enabled(Ih.UIVIEW)&&this.traceUIViewEvent("Fill",t," with: "+fh(200,e))},t.prototype.traceViewSync=function(t){if(this.enabled(Ih.VIEWCONFIG)){var e="uiview component fqn",n=t.map((function(t){var n,r=t.uiView,i=t.viewConfig,o=i&&i.viewDecl.$context.name+": ("+i.viewDecl.$name+")";return(n={})[e]=r&&r.fqn,n["view config state (view name)"]=o,n})).sort((function(t,n){return(t[e]||"").localeCompare(n[e]||"")}));Ph(n)}},t.prototype.traceViewServiceEvent=function(t,e){this.enabled(Ih.VIEWCONFIG)&&console.log("VIEWCONFIG: "+t+" "+function(t){var e=t.viewDecl;return"[View#"+t.$id+" from '"+(e.$context.name||"(root)")+"' state]: target ui-view: '"+e.$uiViewName+"@"+e.$uiViewContextAnchor+"'"}(e))},t.prototype.traceViewServiceUIViewEvent=function(t,e){this.enabled(Ih.VIEWCONFIG)&&console.log("VIEWCONFIG: "+t+" "+Ch(e))},t}()),Dh=function(){function t(t){this.pattern=/.*/,this.inherit=!0,Af(this,t)}return t.prototype.is=function(t,e){return!0},t.prototype.encode=function(t,e){return t},t.prototype.decode=function(t,e){return t},t.prototype.equals=function(t,e){return t==e},t.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},t.prototype.toString=function(){return"{ParamType:"+this.name+"}"},t.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},t.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new Nh(this,t)},t}();function Nh(t,e){var n=this;function r(t){return yf(t)?t:df(t)?[t]:[]}function i(t,n){return function(i){if(yf(i)&&0===i.length)return i;var o=Wf(r(i),t);return!0===n?0===Uf(o,(function(t){return!t})).length:function(t){switch(t.length){case 0:return;case 1:return"auto"===e?t[0]:t;default:return t}}(o)}}function o(t){return function(e,n){var i=r(e),o=r(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!t(i[a],o[a]))return!1;return!0}}["encode","decode","equals","$normalize"].forEach((function(e){var r=t[e].bind(t);n[e]=("equals"===e?o:i)(r)})),Af(this,{dynamic:t.dynamic,name:t.name,pattern:t.pattern,inherit:t.inherit,raw:t.raw,is:i(t.is.bind(t),!0),$arrayMode:e})}var Rh,Lh=Object.prototype.hasOwnProperty,jh=function(t){return 0===["value","type","squash","array","dynamic"].filter(Lh.bind(t||{})).length},Fh=function(t){return t[t.PATH=0]="PATH",t[t.SEARCH=1]="SEARCH",t[t.CONFIG=2]="CONFIG",t}({}),Bh=function(){function t(t,e,n,r,i){var o=function(t,e,n){var r=qf([n.dynamic,!1===n.reloadOnSearch&&e===Fh.SEARCH||void 0],df),i=df(r)?{dynamic:r}:{},o=function(t){function e(){return t.value}t=jh(t)?{value:t}:t,e.__cacheable=!0;var n=wf(t.value)?t.value:e;return Af(t,{$$fn:n})}(n&&n.params&&n.params[t]);return Af(i,o)}(t,n,i);e=function(t,e,n,r,i){if(t.type&&e&&"string"!==e.name)throw new Error("Param '"+r+"' has two type configurations.");return t.type&&e&&"string"===e.name&&i.type(t.type)?i.type(t.type):e||(t.type?t.type instanceof Dh?t.type:i.type(t.type):i.type(n===Fh.CONFIG?"any":n===Fh.PATH?"path":n===Fh.SEARCH?"query":"string"))}(o,e,n,t,r.paramTypes);var a,s,c=(a={array:n===Fh.SEARCH&&"auto"},s=t.match(/\[\]$/)?{array:!0}:{},Af(a,s,o).array);e=c?e.$asArray(c,n===Fh.SEARCH):e;var u=void 0!==o.value||n===Fh.SEARCH,l=df(o.dynamic)?!!o.dynamic:!!e.dynamic,d=df(o.raw)?!!o.raw:!!e.raw,f=function(t,e,n){var r=t.squash;if(!e||!1===r)return!1;if(!df(r)||null==r)return n;if(!0===r||gf(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}(o,u,r.defaultSquashPolicy()),h=function(t,e,n,r){var i=[{from:"",to:n||e?void 0:""},{from:null,to:n||e?void 0:""}],o=yf(t.replace)?t.replace:[];gf(r)&&o.push({from:r,to:void 0});var a=Wf(o,Yd("from"));return Uf(i,(function(t){return-1===a.indexOf(t.from)})).concat(o)}(o,c,u,f),p=df(o.inherit)?!!o.inherit:!!e.inherit;Af(this,{id:t,type:e,location:n,isOptional:u,dynamic:l,raw:d,squash:f,replace:h,inherit:p,array:c,config:o})}return t.values=function(t,e){void 0===e&&(e={});for(var n={},r=0,i=t;r<i.length;r++){var o=i[r];n[o.id]=o.value(e[o.id])}return n},t.changed=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),t.filter((function(t){return!t.type.equals(e[t.id],n[t.id])}))},t.equals=function(e,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),0===t.changed(e,n,r).length},t.validates=function(t,e){return void 0===e&&(e={}),t.map((function(t){return t.validates(e[t.id])})).reduce(Kf,!0)},t.prototype.isDefaultValue=function(t){return this.isOptional&&this.type.equals(this.value(),t)},t.prototype.value=function(t){var e=this;return t=function(t){for(var n=0,r=e.replace;n<r.length;n++){var i=r[n];if(i.from===t)return i.to}return t}(t),lf(t)?function(){if(e._defaultValueCache)return e._defaultValueCache.defaultValue;if(!xf.$injector)throw new Error("Injectable functions cannot be called at configuration time");var t=xf.$injector.invoke(e.config.$$fn);if(null!=t&&!e.type.is(t))throw new Error("Default value ("+t+") for parameter '"+e.id+"' is not an instance of ParamType ("+e.type.name+")");return e.config.$$fn.__cacheable&&(e._defaultValueCache={defaultValue:t}),t}():this.type.$normalize(t)},t.prototype.isSearch=function(){return this.location===Fh.SEARCH},t.prototype.validates=function(t){if((lf(t)||null===t)&&this.isOptional)return!0;var e=this.type.$normalize(t);if(!this.type.is(e))return!1;var n=this.type.encode(e);return!(gf(n)&&!this.type.pattern.exec(n))},t.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},t}(),Vh=function(){function t(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=Vf(t.prototype,["hash","string","query","path","int","bool","date","json","any"]),this.types=Nf(Wf(this.defaultTypes,(function(t,e){return new Dh(Af({name:e},t))})),{})}return t.prototype.dispose=function(){this.types={}},t.prototype.type=function(t,e,n){if(!df(e))return this.types[t];if(this.types.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return this.types[t]=new Dh(Af({name:t},e)),n&&(this.typeQueue.push({name:t,def:n}),this.enqueue||this._flushTypeQueue()),this},t.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var t=this.typeQueue.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");Af(this.types[t.name],xf.$injector.invoke(t.def))}},t}();Rh=function(t){var e=function(t){return null!=t?t.toString():t},n={encode:e,decode:e,is:nf(String),pattern:/.*/,equals:function(t,e){return t==e}};return Af({},n,t)},Af(Vh.prototype,{string:Rh({}),path:Rh({pattern:/[^/]*/}),query:Rh({}),hash:Rh({inherit:!1}),int:Rh({decode:function(t){return parseInt(t,10)},is:function(t){return!hf(t)&&this.decode(t.toString())===t},pattern:/-?\d+/}),bool:Rh({encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:nf(Boolean),pattern:/0|1/}),date:Rh({encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):void 0},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):void 0},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return["getFullYear","getMonth","getDate"].reduce((function(n,r){return n&&t[r]()===e[r]()}),!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:Rh({encode:Pf,decode:Tf,is:nf(Object),equals:Of,pattern:/[^/]*/}),any:Rh({encode:$f,decode:$f,is:function(){return!0},equals:Of})});var Hh=function(){function t(t){void 0===t&&(t={}),Af(this,t)}return t.prototype.$inherit=function(t,e,n){var r,i=function(t,e){var n=[];for(var r in t.path){if(t.path[r]!==e.path[r])break;n.push(t.path[r])}return n}(e,n),o={},a=[];for(var s in i)if(i[s]&&i[s].params&&(r=Object.keys(i[s].params)).length)for(var c in r)a.indexOf(r[c])>=0||(a.push(r[c]),o[r[c]]=this[r[c]]);return Af({},o,t)},t}(),Uh=function(){function t(e){if(e instanceof t){var n=e;this.state=n.state,this.paramSchema=n.paramSchema.slice(),this.paramValues=Af({},n.paramValues),this.resolvables=n.resolvables.slice(),this.views=n.views&&n.views.slice()}else{var r=e;this.state=r,this.paramSchema=r.parameters({inherit:!1}),this.paramValues={},this.resolvables=r.resolvables.map((function(t){return t.clone()}))}}return t.prototype.clone=function(){return new t(this)},t.prototype.applyRawParams=function(t){return this.paramValues=this.paramSchema.reduce((function(e,n){return nh(e,[(r=n).id,r.value(t[r.id])]);var r}),{}),this},t.prototype.parameter=function(t){return qf(this.paramSchema,Xd("id",t))},t.prototype.equals=function(t,e){var n=this.diff(t,e);return n&&0===n.length},t.prototype.diff=function(t,e){if(this.state!==t.state)return!1;var n=e?e(this):this.paramSchema;return Bh.changed(n,this.paramValues,t.paramValues)},t.clone=function(t){return t.clone()},t}(),qh=function(){function t(t,e,n,r){this._stateRegistry=t,this._identifier=e,this._identifier=e,this._params=Af({},n||{}),this._options=Af({},r||{}),this._definition=t.matcher.find(e,this._options.relative)}return t.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},t.prototype.identifier=function(){return this._identifier},t.prototype.params=function(){return this._params},t.prototype.$state=function(){return this._definition},t.prototype.state=function(){return this._definition&&this._definition.self},t.prototype.options=function(){return this._options},t.prototype.exists=function(){return!(!this._definition||!this._definition.self)},t.prototype.valid=function(){return!this.error()},t.prototype.error=function(){var t=this.options().relative;if(!this._definition&&t){var e=t.name?t.name:t;return"Could not resolve '"+this.name()+"' from state '"+e+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},t.prototype.toString=function(){return"'"+this.name()+"'"+yh(this.params())},t.prototype.withState=function(e){return new t(this._stateRegistry,e,this._params,this._options)},t.prototype.withParams=function(e,n){void 0===n&&(n=!1);var r=n?e:Af({},this._params,e);return new t(this._stateRegistry,this._identifier,r,this._options)},t.prototype.withOptions=function(e,n){void 0===n&&(n=!1);var r=n?e:Af({},this._options,e);return new t(this._stateRegistry,this._identifier,this._params,r)},t.isDef=function(t){return t&&t.state&&(gf(t.state)||gf(t.state.name))},t}(),zh=function(){function t(){}return t.makeTargetState=function(t,e){var n=rh(e).state;return new qh(t,n,e.map(Yd("paramValues")).reduce(Bf,{}),{})},t.buildPath=function(t){var e=t.params();return t.$state().path.map((function(t){return new Uh(t).applyRawParams(e)}))},t.buildToPath=function(e,n){var r=t.buildPath(n);return n.options().inherit?t.inheritParams(e,r,Object.keys(n.params())):r},t.applyViewConfigs=function(e,n,r){n.filter((function(t){return Rf(r,t.state)})).forEach((function(r){var i=Gf(r.state.views||{}),o=t.subPath(n,(function(t){return t===r})),a=i.map((function(t){return e.createViewConfig(o,t)}));r.views=a.reduce(Yf,[])}))},t.inheritParams=function(t,e,n){void 0===n&&(n=[]);var r=t.map((function(t){return t.paramSchema})).reduce(Yf,[]).filter((function(t){return!t.inherit})).map(Yd("id"));return e.map((function(e){var i=Af({},e&&e.paramValues),o=Vf(i,n);i=Hf(i,n);var a,s=Hf((a=qf(t,Xd("state",e.state)),Af({},a&&a.paramValues)||{}),r),c=Af(i,s,o);return new Uh(e.state).applyRawParams(c)}))},t.treeChanges=function(e,n,r){for(var i,o,a,s,c=Math.min(e.length,n.length),u=0;u<c&&e[u].state!==r&&e[u].equals(n[u],t.nonDynamicParams);)u++;o=(i=e).slice(0,u),a=i.slice(u);var l=o.map((function(t,e){var r=t.clone();return r.paramValues=n[e].paramValues,r}));return s=n.slice(u),{from:i,to:l.concat(s),retained:o,retainedWithToParams:l,exiting:a,entering:s}},t.matching=function(t,e,n){var r=!1;return eh(t,e).reduce((function(t,e){var i=e[0];return(r=r||!i.equals(e[1],n))?t:t.concat(i)}),[])},t.equals=function(e,n,r){return e.length===n.length&&t.matching(e,n,r).length===e.length},t.subPath=function(t,e){var n=qf(t,e),r=t.indexOf(n);return-1===r?void 0:t.slice(0,r+1)},t.nonDynamicParams=function(t){return t.state.parameters({inherit:!1}).filter((function(t){return!t.dynamic}))},t.paramValues=function(t){return t.reduce((function(t,e){return Af(t,e.paramValues)}),{})},t}(),Wh=function(){function t(e,n,r,i,o){if(this.resolved=!1,this.promise=void 0,e instanceof t)Af(this,e);else if(pf(n)){if(hf(e))throw new Error("new Resolvable(): token argument is required");if(!pf(n))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=e,this.policy=i,this.resolveFn=n,this.deps=r||[],this.data=o,this.resolved=void 0!==o,this.promise=this.resolved?xf.$q.when(this.data):void 0}else if(vf(e)&&e.token&&(e.hasOwnProperty("resolveFn")||e.hasOwnProperty("data")))return new t(e.token,e.resolveFn,e.deps,e.policy,e.data)}return t.prototype.getPolicy=function(t){var e=this.policy||{},n=t&&t.resolvePolicy||{};return{when:e.when||n.when||"LAZY",async:e.async||n.async||"WAIT"}},t.prototype.resolve=function(t,e){var n=this,r=xf.$q,i=t.findNode(this),o=this.getPolicy(i&&i.state).async,a=pf(o)?o:$f;return this.promise=r.when().then((function(){return r.all(t.getDependencies(n).map((function(n){return n.get(t,e)})))})).then((function(t){return n.resolveFn.apply(null,t)})).then(a).then((function(t){return n.data=t,n.resolved=!0,n.resolveFn=null,Mh.traceResolvableResolved(n,e),n.data}))},t.prototype.get=function(t,e){return this.promise||this.resolve(t,e)},t.prototype.toString=function(){return"Resolvable(token: "+yh(this.token)+", requires: ["+this.deps.map(yh)+"])"},t.prototype.clone=function(){return new t(this)},t.fromData=function(e,n){return new t(e,(function(){return n}),null,null,n)},t}(),Gh=["EAGER","LAZY"],Kh=["EAGER"],Qh="Native Injector",Yh=function(){function t(t){this._path=t}return t.prototype.getTokens=function(){return this._path.reduce((function(t,e){return t.concat(e.resolvables.map((function(t){return t.token})))}),[]).reduce(Jf,[])},t.prototype.getResolvable=function(t){return rh(this._path.map((function(t){return t.resolvables})).reduce(Yf,[]).filter((function(e){return e.token===t})))},t.prototype.getPolicy=function(t){var e=this.findNode(t);return t.getPolicy(e.state)},t.prototype.subContext=function(e){return new t(zh.subPath(this._path,(function(t){return t.state===e})))},t.prototype.addResolvables=function(t,e){var n=qf(this._path,Xd("state",e)),r=t.map((function(t){return t.token}));n.resolvables=n.resolvables.filter((function(t){return-1===r.indexOf(t.token)})).concat(t)},t.prototype.resolvePath=function(t,e){var n=this;void 0===t&&(t="LAZY");var r="EAGER"===(Rf(Gh,t)?t:"LAZY")?Kh:Gh;Mh.traceResolvePath(this._path,t,e);var i=function(t,e){return function(r){return Rf(t,n.getPolicy(r)[e])}},o=this._path.reduce((function(t,o){var a=o.resolvables.filter(i(r,"when")),s=a.filter(i(["NOWAIT"],"async")),c=a.filter(Jd(i(["NOWAIT"],"async"))),u=n.subContext(o.state),l=function(t){return t.get(u,e).then((function(e){return{token:t.token,value:e}}))};return s.forEach(l),t.concat(c.map(l))}),[]);return xf.$q.all(o)},t.prototype.injector=function(){return this._injector||(this._injector=new Xh(this))},t.prototype.findNode=function(t){return qf(this._path,(function(e){return Rf(e.resolvables,t)}))},t.prototype.getDependencies=function(t){var e=this,n=this.findNode(t),r=(zh.subPath(this._path,(function(t){return t===n}))||this._path).reduce((function(t,e){return t.concat(e.resolvables)}),[]).filter((function(e){return e!==t}));return t.deps.map((function(t){var n=r.filter((function(e){return e.token===t}));if(n.length)return rh(n);var i=e.injector().getNative(t);if(lf(i))throw new Error("Could not find Dependency Injection token: "+yh(t));return new Wh(t,(function(){return i}),[],i)}))},t}(),Xh=function(){function t(t){this.context=t,this.native=this.get(Qh)||xf.$injector}return t.prototype.get=function(t){var e=this.context.getResolvable(t);if(e){if("NOWAIT"===this.context.getPolicy(e).async)return e.get(this.context);if(!e.resolved)throw new Error("Resolvable async .get() not complete:"+yh(e.token));return e.data}return this.getNative(t)},t.prototype.getAsync=function(t){var e=this.context.getResolvable(t);return e?e.get(this.context):xf.$q.when(this.native.get(t))},t.prototype.getNative=function(t){return this.native&&this.native.get(t)},t}();function Zh(t){return t.name}function Jh(t){return t.self.$$state=function(){return t},t.self}function tp(t){return t.parent&&t.parent.data&&(t.data=t.self.data=Nf(t.parent.data,t.data)),t.data}var ep=function(t,e){return function(n){var r=n.self;if(r&&r.url&&r.name&&r.name.match(/\.\*\*$/)){var i={};ih(r,i),i.url+="{remainder:any}",r=i}var o=n.parent,a=function(t){if(!gf(t))return!1;var e="^"===t.charAt(0);return{val:e?t.substring(1):t,root:e}}(r.url),s=a?t.compile(a.val,{state:r}):r.url;if(!s)return null;if(!t.isMatcher(s))throw new Error("Invalid url '"+s+"' in state '"+n+"'");return a&&a.root?s:(o&&o.navigable||e()).url.append(s)}},np=function(t){return function(e){return!t(e)&&e.url?e:e.parent?e.parent.navigable:null}},rp=function(t){return function(e){var n=e.url&&e.url.parameters({inherit:!1})||[],r=Gf(zf(Hf(e.params||{},n.map(Yd("id"))),(function(n,r){return t.fromConfig(r,null,e.self)})));return n.concat(r).map((function(t){return[t.id,t]})).reduce(nh,{})}};function ip(t){return t.parent?t.parent.path.concat(t):[t]}function op(t){var e=t.parent?Af({},t.parent.includes):{};return e[t.name]=!0,e}function ap(t){var e,n,r=function(t){return t.provide||t.token},i=of([[Yd("resolveFn"),function(t){return new Wh(r(t),t.resolveFn,t.deps,t.policy)}],[Yd("useFactory"),function(t){return new Wh(r(t),t.useFactory,t.deps||t.dependencies,t.policy)}],[Yd("useClass"),function(t){return new Wh(r(t),(function(){return new t.useClass}),[],t.policy)}],[Yd("useValue"),function(t){return new Wh(r(t),(function(){return t.useValue}),[],t.policy,t.useValue)}],[Yd("useExisting"),function(t){return new Wh(r(t),$f,[t.useExisting],t.policy)}]]),o=of([[Qd(Yd("val"),gf),function(t){return new Wh(t.token,$f,[t.val],t.policy)}],[Qd(Yd("val"),yf),function(t){return new Wh(t.token,rh(t.val),t.val.slice(0,-1),t.policy)}],[Qd(Yd("val"),pf),function(t){return new Wh(t.token,t.val,(n=xf.$injector,(e=t.val).$inject||n&&n.annotate(e,n.strictDi)||"deferred"),t.policy);var e,n}]]),a=of([[nf(Wh),function(t){return t}],[function(t){return!(!t.token||!t.resolveFn)},i],[function(t){return!(!t.provide&&!t.token||!(t.useValue||t.useFactory||t.useExisting||t.useClass))},i],[function(t){return!!(t&&t.val&&(gf(t.val)||yf(t.val)||pf(t.val)))},o],[rf(!0),function(t){throw new Error("Invalid resolve value: "+yh(t))}]]),s=t.resolve;return(yf(s)?s:(e=s,n=t.resolvePolicy||{},Object.keys(e||{}).map((function(t){return{token:t,val:e[t],deps:void 0,policy:n[t]}})))).map(a)}var sp=function(){function t(t,e){this.matcher=t;var n=this,r=function(){return t.find("")},i=function(t){return""===t.name};this.builders={name:[Zh],self:[Jh],parent:[function(e){return i(e)?null:t.find(n.parentName(e))||r()}],data:[tp],url:[ep(e,r)],navigable:[np(i)],params:[rp(e.paramFactory)],views:[],path:[ip],includes:[op],resolvables:[ap]}}return t.prototype.builder=function(t,e){var n=this.builders,r=n[t]||[];return gf(t)&&!df(e)?r.length>1?r:r[0]:gf(t)&&pf(e)?(n[t]=r,n[t].push(e),function(){return n[t].splice(n[t].indexOf(e,1))&&null}):void 0},t.prototype.build=function(t){var e=this.matcher,n=this.builders,r=this.parentName(t);if(r&&!e.find(r,void 0,!1))return null;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i].reduce((function(t,e){return function(n){return e(n,t)}}),Mf);t[i]=o(t)}return t},t.prototype.parentName=function(t){var e=t.name||"",n=e.split(".");if("**"===n.pop()&&n.pop(),n.length){if(t.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+e+")");return n.join(".")}return t.parent?gf(t.parent)?t.parent:t.parent.name:""},t.prototype.name=function(t){var e=t.name;if(-1!==e.indexOf(".")||!t.parent)return e;var n=gf(t.parent)?t.parent:t.parent.name;return n?n+"."+e:e},t}(),cp=function(){function t(e){return t.create(e||{})}return t.create=function(e){e=t.isStateClass(e)?new e:e;var n=Nf(Nf(e,t.prototype));return e.$$state=function(){return n},n.self=e,n.__stateObjectCache={nameGlob:sh.fromString(n.name)},n},t.prototype.is=function(t){return this===t||this.self===t||this.fqn()===t},t.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var t=this.parent.fqn();return t?t+"."+this.name:this.name},t.prototype.root=function(){return this.parent&&this.parent.root()||this},t.prototype.parameters=function(t){return((t=Ff(t,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[]).concat(Gf(this.params)).filter((function(e){return!t.matchingKeys||t.matchingKeys.hasOwnProperty(e.id)}))},t.prototype.parameter=function(t,e){return void 0===e&&(e={}),this.url&&this.url.parameter(t,e)||qf(Gf(this.params),Xd("id",t))||e.inherit&&this.parent&&this.parent.parameter(t)},t.prototype.toString=function(){return this.fqn()},t.isStateClass=function(t){return pf(t)&&!0===t.__uiRouterState},t.isState=function(t){return vf(t.__stateObjectCache)},t}(),up=function(){function t(t){this._states=t}return t.prototype.isRelative=function(t){return 0===(t=t||"").indexOf(".")||0===t.indexOf("^")},t.prototype.find=function(t,e,n){if(void 0===n&&(n=!0),t||""===t){var r=gf(t),i=r?t:t.name;this.isRelative(i)&&(i=this.resolvePath(i,e));var o=this._states[i];if(o&&(r||!(r||o!==t&&o.self!==t)))return o;if(r&&n){var a=Gf(this._states).filter((function(t){return t.__stateObjectCache.nameGlob&&t.__stateObjectCache.nameGlob.matches(i)}));return a.length>1&&console.log("stateMatcher.find: Found multiple matches for "+i+" using glob: ",a.map((function(t){return t.name}))),a[0]}}},t.prototype.resolvePath=function(t,e){if(!e)throw new Error("No reference point given for path '"+t+"'");for(var n=this.find(e),r=t.split("."),i=r.length,o=0,a=n;o<i;o++)if(""!==r[o]||0!==o){if("^"!==r[o])break;if(!a.parent)throw new Error("Path '"+t+"' not valid for state '"+n.name+"'");a=a.parent}else a=n;var s=r.slice(o).join(".");return a.name+(a.name&&s?".":"")+s},t}(),lp=function(){function t(t,e,n,r){this.router=t,this.states=e,this.builder=n,this.listeners=r,this.queue=[]}return t.prototype.dispose=function(){this.queue=[]},t.prototype.register=function(t){var e=this.queue,n=cp.create(t),r=n.name;if(!gf(r))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(r)||Rf(e.map(Yd("name")),r))throw new Error("State '"+r+"' is already defined");return e.push(n),this.flush(),n},t.prototype.flush=function(){for(var t=this,e=this.queue,n=this.states,r=this.builder,i=[],o=[],a={},s=function(e){return t.states.hasOwnProperty(e)&&t.states[e]},c=function(){i.length&&t.listeners.forEach((function(t){return t("registered",i.map((function(t){return t.self})))}))};e.length>0;){var u=e.shift(),l=u.name,d=r.build(u),f=o.indexOf(u);if(d){var h=s(l);if(h&&h.name===l)throw new Error("State '"+l+"' is already defined");var p=s(l+".**");p&&this.router.stateRegistry.deregister(p),n[l]=u,this.attachRoute(u),f>=0&&o.splice(f,1),i.push(u)}else{var m=a[l];if(a[l]=e.length,f>=0&&m===e.length)return e.push(u),c(),n;f<0&&o.push(u),e.push(u)}}return c(),n},t.prototype.attachRoute=function(t){if(!t.abstract&&t.url){var e=this.router.urlService.rules;e.rule(e.urlRuleFactory.create(t))}},t}(),dp=function(){function t(t){this.router=t,this.states={},this.listeners=[],this.matcher=new up(this.states),this.builder=new sp(this.matcher,t.urlMatcherFactory),this.stateQueue=new lp(t,this.states,this.builder,this.listeners),this._registerRoot()}return t.prototype._registerRoot=function(){(this._root=this.stateQueue.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0})).navigable=null},t.prototype.dispose=function(){var t=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach((function(e){return t.get(e)&&t.deregister(e)}))},t.prototype.onStatesChanged=function(t){return this.listeners.push(t),(function(){Lf(this.listeners)(t)}).bind(this)},t.prototype.root=function(){return this._root},t.prototype.register=function(t){return this.stateQueue.register(t)},t.prototype._deregisterTree=function(t){var e=this,n=this.get().map((function(t){return t.$$state()})),r=function(t){var e=n.filter((function(e){return-1!==t.indexOf(e.parent)}));return 0===e.length?e:e.concat(r(e))},i=r([t]),o=[t].concat(i).reverse();return o.forEach((function(t){var n=e.router.urlService.rules;n.rules().filter(Xd("state",t)).forEach((function(t){return n.removeRule(t)})),delete e.states[t.name]})),o},t.prototype.deregister=function(t){var e=this.get(t);if(!e)throw new Error("Can't deregister state; not found: "+t);var n=this._deregisterTree(e.$$state());return this.listeners.forEach((function(t){return t("deregistered",n.map((function(t){return t.self})))})),n},t.prototype.get=function(t,e){var n=this;if(0===arguments.length)return Object.keys(this.states).map((function(t){return n.states[t].self}));var r=this.matcher.find(t,e);return r&&r.self||null},t.prototype.decorator=function(t,e){return this.builder.builder(t,e)},t}(),fp=function(t){return t[t.CREATE=0]="CREATE",t[t.BEFORE=1]="BEFORE",t[t.RUN=2]="RUN",t[t.SUCCESS=3]="SUCCESS",t[t.ERROR=4]="ERROR",t}({}),hp=function(t){return t[t.TRANSITION=0]="TRANSITION",t[t.STATE=1]="STATE",t}({}),pp={current:Mf,transition:null,traceData:{},bind:null},mp=function(){function t(t,e,n,r){var i=this;this.transition=t,this.stateContext=e,this.registeredHook=n,this.options=r,this.isSuperseded=function(){return i.type.hookPhase===fp.RUN&&!i.options.transition.isActive()},this.options=Ff(r,pp),this.type=n.eventType}return t.chain=function(t,e){return t.reduce((function(t,e){return t.then((function(){return e.invokeHook()}))}),e||xf.$q.when())},t.invokeHooks=function(e,n){for(var r=0;r<e.length;r++){var i=e[r].invokeHook();if(Sf(i)){var o=e.slice(r+1);return t.chain(o,i).then(n)}}return n()},t.runAllHooks=function(t){t.forEach((function(t){return t.invokeHook()}))},t.prototype.logError=function(t){this.transition.router.stateService.defaultErrorHandler()(t)},t.prototype.invokeHook=function(){var t=this,e=this.registeredHook;if(!e._deregistered){var n=this.getNotCurrentRejection();if(n)return n;var r=this.options;Mh.traceHookInvocation(this,this.transition,r);var i=function(n){return e.eventType.getErrorHandler(t)(n)},o=function(n){return e.eventType.getResultHandler(t)(n)};try{var a=e.callback.call(r.bind,t.transition,t.stateContext);return!this.type.synchronous&&Sf(a)?a.catch((function(t){return dh.normalize(t).toPromise()})).then(o,i):o(a)}catch(s){return i(dh.normalize(s))}finally{e.invokeLimit&&++e.invokeCount>=e.invokeLimit&&e.deregister()}}},t.prototype.handleHookResult=function(t){var e=this;return this.getNotCurrentRejection()||(Sf(t)?t.then((function(t){return e.handleHookResult(t)})):(Mh.traceHookResult(t,this.transition,this.options),!1===t?dh.aborted("Hook aborted transition").toPromise():nf(qh)(t)?dh.redirected(t).toPromise():void 0))},t.prototype.getNotCurrentRejection=function(){var t=this.transition.router;return t._disposed?dh.aborted("UIRouter instance #"+t.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?dh.aborted().toPromise():this.isSuperseded()?dh.superseded(this.options.current()).toPromise():void 0},t.prototype.toString=function(){var t=this.options,e=this.registeredHook;return(Zd("traceData.hookType")(t)||"internal")+" context: "+(Zd("traceData.context.state.name")(t)||Zd("traceData.context")(t)||"unknown")+", "+fh(200,mh(e.callback))},t.HANDLE_RESULT=function(t){return function(e){return t.handleHookResult(e)}},t.LOG_REJECTED_RESULT=function(t){return function(e){Sf(e)&&e.catch((function(e){return t.logError(dh.normalize(e))}))}},t.LOG_ERROR=function(t){return function(e){return t.logError(e)}},t.REJECT_ERROR=function(t){return function(t){return ah(t)}},t.THROW_ERROR=function(t){return function(t){throw t}},t}();function gp(t,e,n){var r=gf(e)?[e]:e;return!!(pf(r)?r:function(t){for(var e=r,n=0;n<e.length;n++){var i=new sh(e[n]);if(i&&i.matches(t.name)||!i&&e[n]===t.name)return!0}return!1})(t,n)}var vp=function(){function t(t,e,n,r,i,o){void 0===o&&(o={}),this.tranSvc=t,this.eventType=e,this.callback=n,this.matchCriteria=r,this.removeHookFromRegistry=i,this.invokeCount=0,this._deregistered=!1,this.priority=o.priority||0,this.bind=o.bind||null,this.invokeLimit=o.invokeLimit}return t.prototype._matchingNodes=function(t,e,n){if(!0===e)return t;var r=t.filter((function(t){return gp(t.state,e,n)}));return r.length?r:null},t.prototype._getDefaultMatchCriteria=function(){return zf(this.tranSvc._pluginapi._getPathTypes(),(function(){return!0}))},t.prototype._getMatchingNodes=function(t,e){var n=this,r=Af(this._getDefaultMatchCriteria(),this.matchCriteria);return Gf(this.tranSvc._pluginapi._getPathTypes()).reduce((function(i,o){var a=t[o.name]||[],s=o.scope===hp.STATE?a:[rh(a)];return i[o.name]=n._matchingNodes(s,r[o.name],e),i}),{})},t.prototype.matches=function(t,e){var n=this._getMatchingNodes(t,e);return Gf(n).every($f)?n:null},t.prototype.deregister=function(){this.removeHookFromRegistry(this),this._deregistered=!0},t}();function yp(t,e,n){var r=(t._registeredHooks=t._registeredHooks||{})[n.name]=[],i=Lf(r);function o(t,o,a){void 0===a&&(a={});var s=new vp(e,n,o,t,i,a);return r.push(s),s.deregister.bind(s)}return(t[n.name]=o,o)}var bp=function(){function t(t){this.transition=t}return t.prototype.buildHooksForPhase=function(t){var e=this;return this.transition.router.transitionService._pluginapi._getEvents(t).map((function(t){return e.buildHooks(t)})).reduce(Yf,[]).filter($f)},t.prototype.buildHooks=function(t){var e=this.transition,n=e.treeChanges(),r=this.getMatchingHooks(t,n,e);if(!r)return[];var i,o={transition:e,current:e.options().current};return r.map((function(r){return r.matches(n,e)[t.criteriaMatchPath.name].map((function(n){var i=Af({bind:r.bind,traceData:{hookType:t.name,context:n}},o),a=new mp(e,t.criteriaMatchPath.scope===hp.STATE?n.state.self:null,r,i);return{hook:r,node:n,transitionHook:a}}))})).reduce(Yf,[]).sort((i=t.reverseSort,void 0===i&&(i=!1),function(t,e){var n=(t.node.state.path.length-e.node.state.path.length)*(i?-1:1);return 0!==n?n:e.hook.priority-t.hook.priority})).map((function(t){return t.transitionHook}))},t.prototype.getMatchingHooks=function(t,e,n){var r,i,o=this.transition.router.transitionService;return(t.hookPhase===fp.CREATE?[o]:[this.transition,o]).map((function(e){return e.getHooks(t.name)})).filter((r=yf,i="broken event named: "+t.name,void 0===i&&(i="assert failure"),function(t){var e=r(t);if(!e)throw new Error(pf(i)?i(t):i);return e})).reduce(Yf,[]).filter((function(t){return t.matches(e,n)}))},t}(),_p=Yd("self"),wp=function(){function t(t,e,n){var r=this;if(this._deferred=xf.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new bp(this),this.isActive=function(){return r.router.globals.transition===r},this.router=n,this._targetState=e,!e.valid())throw new Error(e.error());this._options=Af({current:rf(this)},e.options()),this.$id=n.transitionService._transitionCount++;var i=zh.buildToPath(t,e);this._treeChanges=zh.treeChanges(t,i,this._options.reloadState),this.createTransitionHookRegFns();var o=this._hookBuilder.buildHooksForPhase(fp.CREATE);mp.invokeHooks(o,(function(){return null})),this.applyViewConfigs(n)}return t.prototype.onBefore=function(t,e,n){},t.prototype.onStart=function(t,e,n){},t.prototype.onExit=function(t,e,n){},t.prototype.onRetain=function(t,e,n){},t.prototype.onEnter=function(t,e,n){},t.prototype.onFinish=function(t,e,n){},t.prototype.onSuccess=function(t,e,n){},t.prototype.onError=function(t,e,n){},t.prototype.createTransitionHookRegFns=function(){var t=this;this.router.transitionService._pluginapi._getEvents().filter((function(t){return t.hookPhase!==fp.CREATE})).forEach((function(e){return yp(t,t.router.transitionService,e)}))},t.prototype.getHooks=function(t){return this._registeredHooks[t]},t.prototype.applyViewConfigs=function(t){var e=this._treeChanges.entering.map((function(t){return t.state}));zh.applyViewConfigs(t.transitionService.$view,this._treeChanges.to,e)},t.prototype.$from=function(){return rh(this._treeChanges.from).state},t.prototype.$to=function(){return rh(this._treeChanges.to).state},t.prototype.from=function(){return this.$from().self},t.prototype.to=function(){return this.$to().self},t.prototype.targetState=function(){return this._targetState},t.prototype.is=function(e){return e instanceof t?this.is({to:e.$to().name,from:e.$from().name}):!(e.to&&!gp(this.$to(),e.to,this)||e.from&&!gp(this.$from(),e.from,this))},t.prototype.params=function(t){return void 0===t&&(t="to"),Object.freeze(this._treeChanges[t].map(Yd("paramValues")).reduce(Bf,{}))},t.prototype.paramsChanged=function(){var t=this.params("from"),e=this.params("to"),n=[].concat(this._treeChanges.to).concat(this._treeChanges.from).map((function(t){return t.paramSchema})).reduce(Xf,[]).reduce(Jf,[]);return Bh.changed(n,t,e).reduce((function(t,n){return t[n.id]=e[n.id],t}),{})},t.prototype.injector=function(t,e){void 0===e&&(e="to");var n=this._treeChanges[e];return t&&(n=zh.subPath(n,(function(e){return e.state===t||e.state.name===t}))),new Yh(n).injector()},t.prototype.getResolveTokens=function(t){return void 0===t&&(t="to"),new Yh(this._treeChanges[t]).getTokens()},t.prototype.addResolvable=function(t,e){void 0===e&&(e=""),t=nf(Wh)(t)?t:new Wh(t);var n="string"==typeof e?e:e.name,r=this._treeChanges.to,i=qf(r,(function(t){return t.state.name===n}));new Yh(r).addResolvables([t],i.state)},t.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},t.prototype.originalTransition=function(){var t=this.redirectedFrom();return t&&t.originalTransition()||this},t.prototype.options=function(){return this._options},t.prototype.entering=function(){return Wf(this._treeChanges.entering,Yd("state")).map(_p)},t.prototype.exiting=function(){return Wf(this._treeChanges.exiting,Yd("state")).map(_p).reverse()},t.prototype.retained=function(){return Wf(this._treeChanges.retained,Yd("state")).map(_p)},t.prototype.views=function(t,e){void 0===t&&(t="entering");var n=this._treeChanges[t];return(n=e?n.filter(Xd("state",e)):n).map(Yd("views")).filter($f).reduce(Yf,[])},t.prototype.treeChanges=function(t){return t?this._treeChanges[t]:this._treeChanges},t.prototype.redirect=function(t){for(var e=1,n=this;null!=(n=n.redirectedFrom());)if(++e>20)throw new Error("Too many consecutive Transition redirects (20+)");var r={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==t.options().location&&(r.location="replace");var i=Af({},this.options(),t.options(),r);t=t.withOptions(i,!0);var o,a=this.router.transitionService.create(this._treeChanges.from,t),s=this._treeChanges.entering;return zh.matching(a._treeChanges.entering,s,zh.nonDynamicParams).filter(Jd((o=t.options().reloadState,function(t){return o&&t.state.includes[o.name]}))).forEach((function(t,e){t.resolvables=s[e].resolvables})),a},t.prototype._changedParams=function(){var t=this._treeChanges;if(!(this._options.reload||t.exiting.length||t.entering.length||t.to.length!==t.from.length||eh(t.to,t.from).map((function(t){return t[0].state!==t[1].state})).reduce(Qf,!1))){var e=t.to.map((function(t){return t.paramSchema})),n=[t.to,t.from].map((function(t){return t.map((function(t){return t.paramValues}))}));return eh(e,n[0],n[1]).map((function(t){return Bh.changed(t[0],t[1],t[2])})).reduce(Yf,[])}},t.prototype.dynamic=function(){var t=this._changedParams();return!!t&&t.map((function(t){return t.dynamic})).reduce(Qf,!1)},t.prototype.ignored=function(){return!!this._ignoredReason()},t.prototype._ignoredReason=function(){var t=this.router.globals.transition,e=this._options.reloadState,n=function(t,n){if(t.length!==n.length)return!1;var r=zh.matching(t,n);return t.length===r.filter((function(t){return!e||!t.state.includes[e.name]})).length},r=this.treeChanges(),i=t&&t.treeChanges();return i&&n(i.to,r.to)&&n(i.exiting,r.exiting)?"SameAsPending":0===r.exiting.length&&0===r.entering.length&&n(r.from,r.to)?"SameAsCurrent":void 0},t.prototype.run=function(){var t=this,e=mp.runAllHooks,n=function(e){return t._hookBuilder.buildHooksForPhase(e)},r=n(fp.BEFORE);return mp.invokeHooks(r,(function(){var e=t.router.globals;return e.lastStartedTransitionId=t.$id,e.transition=t,e.transitionHistory.enqueue(t),Mh.traceTransitionStart(t),xf.$q.when(void 0)})).then((function(){var t=n(fp.RUN);return mp.invokeHooks(t,(function(){return xf.$q.when(void 0)}))})).then((function(){Mh.traceSuccess(t.$to(),t),t.success=!0,t._deferred.resolve(t.to()),e(n(fp.SUCCESS))}),(function(r){Mh.traceError(r,t),t.success=!1,t._deferred.reject(r),t._error=r,e(n(fp.ERROR))})),this.promise},t.prototype.valid=function(){return!this.error()||void 0!==this.success},t.prototype.abort=function(){lf(this.success)&&(this._aborted=!0)},t.prototype.error=function(){var t=this.$to();if(t.self.abstract)return dh.invalid("Cannot transition to abstract state '"+t.name+"'");var e=t.parameters(),n=this.params(),r=e.filter((function(t){return!t.validates(n[t.id])}));if(r.length){var i=r.map((function(t){return"["+t.id+":"+yh(n[t.id])+"]"})).join(", ");return dh.invalid("The following parameter values are not valid for state '"+t.name+"': "+i)}return!1===this.success?this._error:void 0},t.prototype.toString=function(){var t=this.from(),e=this.to(),n=function(t){return null!=t["#"]?t:Hf(t,["#"])};return"Transition#"+this.$id+"( '"+(vf(t)?t.name:t)+"'"+yh(n(this._treeChanges.from.map(Yd("paramValues")).reduce(Bf,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(vf(e)?e.name:e)+"'"+yh(n(this.params()))+" )"},t.diToken=t,t}();function Sp(t,e){var n=["",""],r=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return r;switch(e.squash){case!1:n=["(",")"+(e.isOptional?"?":"")];break;case!0:r=r.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+e.squash+"|",")?"]}return r+n[0]+e.type.pattern.source+n[1]}var Ep,xp,Cp=(Ep=new RegExp("(/)","g"),function(t){return t.split(Ep).filter($f)}),kp={state:{params:{}},strict:!0,caseInsensitive:!0},Tp=function(){function t(e,n,r,i){var o=this;this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.config=i=Ff(i,kp),this.pattern=e;for(var a,s,c,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d=[],f=0,h=function(n){if(!t.nameValidator.test(n))throw new Error("Invalid parameter name '"+n+"' in pattern '"+e+"'");if(qf(o._params,Xd("id",n)))throw new Error("Duplicate parameter name '"+n+"' in pattern '"+e+"'")},p=function(t,r){var i,a=r?t[4]:t[4]||("*"===t[1]?"[\\s\\S]*":null);return{id:t[2]||t[3],regexp:a,segment:e.substring(f,t.index),type:a?n.type(a)||(i=a,Nf(n.type(r?"query":"path"),{pattern:new RegExp(i,o.config.caseInsensitive?"i":void 0)})):null}};(a=u.exec(e))&&!((s=p(a,!1)).segment.indexOf("?")>=0);)h(s.id),this._params.push(r.fromPath(s.id,s.type,i.state)),this._segments.push(s.segment),d.push([s.segment,rh(this._params)]),f=u.lastIndex;var m=(c=e.substring(f)).indexOf("?");if(m>=0){var g=c.substring(m);if(c=c.substring(0,m),g.length>0)for(f=0;a=l.exec(g);)h((s=p(a,!0)).id),this._params.push(r.fromSearch(s.id,s.type,i.state)),f=u.lastIndex}this._segments.push(c),this._compiled=d.map((function(t){return Sp.apply(null,t)})).concat(Sp(c))}return t.encodeDashes=function(t){return encodeURIComponent(t).replace(/-/g,(function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()}))},t.pathSegmentsAndParams=function(t){return eh(t._segments,t._params.filter((function(t){return t.location===Fh.PATH})).concat(void 0)).reduce(Yf,[]).filter((function(t){return""!==t&&df(t)}))},t.queryParams=function(t){return t._params.filter((function(t){return t.location===Fh.SEARCH}))},t.compare=function(e,n){var r=function(e){return e._cache.weights=e._cache.weights||function(e){return e._cache.segments=e._cache.segments||e._cache.path.map(t.pathSegmentsAndParams).reduce(Yf,[]).reduce(xh,[]).map((function(t){return gf(t)?Cp(t):t})).reduce(Yf,[])}(e).map((function(t){return"/"===t?1:gf(t)?2:t instanceof Bh?3:void 0}))},i=r(e),o=r(n);!function(t,e,n){for(var r=Math.max(t.length,e.length);t.length<r;)t.push(0);for(;e.length<r;)e.push(0)}(i,o);var a,s,c=eh(i,o);for(s=0;s<c.length;s++)if(0!=(a=c[s][0]-c[s][1]))return a;return 0},t.prototype.append=function(t){return this._children.push(t),t._cache={path:this._cache.path.concat(t),parent:this,pattern:null},t},t.prototype.isRoot=function(){return this._cache.path[0]===this},t.prototype.toString=function(){return this.pattern},t.prototype.exec=function(t,e,n,r){var i=this;void 0===e&&(e={}),void 0===r&&(r={});var o,a,s=(o=this._cache,a=function(){return new RegExp(["^",th(i._cache.path.map(Yd("_compiled"))).join(""),!1===i.config.strict?"/?":"","$"].join(""),i.config.caseInsensitive?"i":void 0)},o.pattern=o.pattern||a()).exec(t);if(!s)return null;var c,u,l=this.parameters(),d=l.filter((function(t){return!t.isSearch()})),f=l.filter((function(t){return t.isSearch()})),h=this._cache.path.map((function(t){return t._segments.length-1})).reduce((function(t,e){return t+e})),p={};if(h!==s.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var m=0;m<h;m++){for(var g=d[m],v=s[m+1],y=0;y<g.replace.length;y++)g.replace[y].from===v&&(v=g.replace[y].to);v&&!0===g.array&&(u=Wf((c=function(t){return t.split("").reverse().join("")})(v).split(/-(?!\\)/),c),v=Wf(u,(function(t){return t.replace(/\\-/g,"-")})).reverse()),df(v)&&(v=g.type.decode(v)),p[g.id]=g.value(v)}return f.forEach((function(t){for(var n=e[t.id],r=0;r<t.replace.length;r++)t.replace[r].from===n&&(n=t.replace[r].to);df(n)&&(n=t.type.decode(n)),p[t.id]=t.value(n)})),n&&(p["#"]=n),p},t.prototype.parameters=function(t){return void 0===t&&(t={}),!1===t.inherit?this._params:th(this._cache.path.map((function(t){return t._params})))},t.prototype.parameter=function(t,e){var n=this;void 0===e&&(e={});var r=this._cache.parent;return function(){for(var e=0,r=n._params;e<r.length;e++){var i=r[e];if(i.id===t)return i}}()||!1!==e.inherit&&r&&r.parameter(t,e)||null},t.prototype.validates=function(t){return t=t||{},this.parameters().filter((function(e){return t.hasOwnProperty(e.id)})).map((function(e){return!(n=e)||n.validates(t[e.id]);var n})).reduce(Kf,!0)},t.prototype.format=function(e){void 0===e&&(e={});var n=this._cache.path,r=n.map(t.pathSegmentsAndParams).reduce(Yf,[]).map((function(t){return gf(t)?t:o(t)})),i=n.map(t.queryParams).reduce(Yf,[]).map(o);if(r.concat(i).filter((function(t){return!1===t.isValid})).length)return null;function o(t){var n=t.value(e[t.id]),r=t.validates(n),i=t.isDefaultValue(n),o=!!i&&t.squash,a=t.type.encode(n);return{param:t,value:n,isValid:r,isDefaultValue:i,squash:o,encoded:a}}var a=r.reduce((function(e,n){if(gf(n))return e+n;var r=n.squash,i=n.encoded,o=n.param;return!0===r?e.match(/\/$/)?e.slice(0,-1):e:gf(r)?e+r:!1!==r?e:null==i?e:yf(i)?e+Wf(i,t.encodeDashes).join("-"):o.raw?e+i:e+encodeURIComponent(i)}),""),s=i.map((function(t){var e=t.param,n=t.encoded;if(!(null==n||t.isDefaultValue&&!1!==t.squash)&&(yf(n)||(n=[n]),0!==n.length))return e.raw||(n=Wf(n,encodeURIComponent)),n.map((function(t){return e.id+"="+t}))})).filter($f).reduce(Yf,[]).join("&");return a+(s?"?"+s:"")+(e["#"]?"#"+e["#"]:"")},t.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,t}(),Pp=function(){return(Pp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Ip=function(){function t(t){this.router=t}return t.prototype.fromConfig=function(t,e,n){return new Bh(t,e,Fh.CONFIG,this.router.urlService.config,n)},t.prototype.fromPath=function(t,e,n){return new Bh(t,e,Fh.PATH,this.router.urlService.config,n)},t.prototype.fromSearch=function(t,e,n){return new Bh(t,e,Fh.SEARCH,this.router.urlService.config,n)},t}(),Ap=function(){function t(t){var e=this;this.router=t,this.paramFactory=new Ip(this.router),this.caseInsensitive=function(t){return e.router.urlService.config.caseInsensitive(t)},this.defaultSquashPolicy=function(t){return e.router.urlService.config.defaultSquashPolicy(t)},this.strictMode=function(t){return e.router.urlService.config.strictMode(t)},this.type=function(t,n,r){return e.router.urlService.config.type(t,n,r)||e},Af(this,{UrlMatcher:Tp,Param:Bh})}return t.prototype.compile=function(t,e){var n=this.router.urlService.config,r=e&&!e.state&&e.params;return e=r?Pp({state:{params:r}},e):e,new Tp(t,n.paramTypes,this.paramFactory,Af({strict:n._isStrictMode,caseInsensitive:n._isCaseInsensitive},e))},t.prototype.isMatcher=function(t){if(!vf(t))return!1;var e=!0;return If(Tp.prototype,(function(n,r){pf(n)&&(e=e&&df(t[r])&&pf(t[r]))})),e},t.prototype.$get=function(){var t=this.router.urlService.config;return t.paramTypes.enqueue=!1,t.paramTypes._flushTypeQueue(),this},t}(),Op=function(){function t(t){this.router=t}return t.prototype.compile=function(t){return this.router.urlMatcherFactory.compile(t)},t.prototype.create=function(t,e){var n=this,r=cp.isState,i=of([[gf,function(t){return i(n.compile(t))}],[nf(Tp),function(t){return n.fromUrlMatcher(t,e)}],[r,function(t){return n.fromState(t,n.router)}],[nf(RegExp),function(t){return n.fromRegExp(t,e)}],[pf,function(t){return new $p(t,e)}]]),o=i(t);if(!o)throw new Error("invalid 'what' in when()");return o},t.prototype.fromUrlMatcher=function(t,e){var n=e;gf(e)&&(e=this.router.urlMatcherFactory.compile(e)),nf(Tp)(e)&&(n=function(t){return e.format(t)});var r={urlMatcher:t,matchPriority:function(e){var n=t.parameters().filter((function(t){return t.isOptional}));return n.length?n.filter((function(t){return e[t.id]})).length/n.length:1e-6},type:"URLMATCHER"};return Af(new $p((function(e){var n=t.exec(e.path,e.search,e.hash);return t.validates(n)&&n}),n),r)},t.prototype.fromState=function(t,e){var n={state:t,type:"STATE"};return Af(this.fromUrlMatcher(t.url,(function(n){var r=e.stateService,i=e.globals;r.href(t,n)!==r.href(i.current,i.params)&&r.transitionTo(t,n,{inherit:!0,source:"url"})})),n)},t.prototype.fromRegExp=function(t,e){if(t.global||t.sticky)throw new Error("Rule RegExp must not be global or sticky");var n=gf(e)?function(t){return e.replace(/\$(\$|\d{1,2})/,(function(e,n){return t["$"===n?0:Number(n)]}))}:e,r={regexp:t,type:"REGEXP"};return Af(new $p((function(e){return t.exec(e.path)}),n),r)},t.isUrlRule=function(t){return t&&["type","match","handler"].every((function(e){return df(t[e])}))},t}(),$p=function(){return function(t,e){var n=this;this.match=t,this.type="RAW",this.matchPriority=function(t){return 0-n.$id},this.handler=e||$f}}(),Mp=function(){function t(t){var e=this;this.router=t,this.sync=function(t){return e.router.urlService.sync(t)},this.listen=function(t){return e.router.urlService.listen(t)},this.deferIntercept=function(t){return e.router.urlService.deferIntercept(t)},this.match=function(t){return e.router.urlService.match(t)},this.initial=function(t){return e.router.urlService.rules.initial(t)},this.otherwise=function(t){return e.router.urlService.rules.otherwise(t)},this.removeRule=function(t){return e.router.urlService.rules.removeRule(t)},this.rule=function(t){return e.router.urlService.rules.rule(t)},this.rules=function(){return e.router.urlService.rules.rules()},this.sort=function(t){return e.router.urlService.rules.sort(t)},this.when=function(t,n,r){return e.router.urlService.rules.when(t,n,r)},this.urlRuleFactory=new Op(t)}return t.prototype.update=function(t){var e=this.router.locationService;t?this.location=e.url():e.url()!==this.location&&e.url(this.location,!0)},t.prototype.push=function(t,e,n){var r=n&&!!n.replace;this.router.urlService.url(t.format(e||{}),r)},t.prototype.href=function(t,e,n){var r=t.format(e);if(null==r)return null;n=n||{absolute:!1};var i=this.router.urlService.config,o=i.html5Mode();if(o||null===r||(r="#"+i.hashPrefix()+r),r=function(t,e,n,r){return"/"===r?t:e?_h(r)+t:n?r.slice(1)+t:t}(r,o,n.absolute,i.baseHref()),!n.absolute||!r)return r;var a=!o&&r?"/":"",s=i.port(),c=80===s||443===s?"":":"+s;return[i.protocol(),"://",i.host(),c,a,r].join("")},Object.defineProperty(t.prototype,"interceptDeferred",{get:function(){return this.router.urlService.interceptDeferred},enumerable:!0,configurable:!0}),t}(),Dp=function(){function t(t){var e=this;this.router=t,this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._listeners=[],this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIView:function(t){return qf(e._uiViews,(function(n){return e.router.$id+"."+n.id===t}))},_registeredUIViews:function(){return e._uiViews},_activeViewConfigs:function(){return e._viewConfigs},_onSync:function(t){return e._listeners.push(t),function(){return Lf(e._listeners,t)}}}}return t.normalizeUIViewTarget=function(t,e){void 0===e&&(e="");var n=e.split("@"),r=n[0]||"$default",i=gf(n[1])?n[1]:"^",o=/^(\^(?:\.\^)*)\.(.*$)/.exec(r);if(o&&(i=o[1],r=o[2]),"!"===r.charAt(0)&&(r=r.substr(1),i=""),/^(\^(?:\.\^)*)$/.exec(i)){var a=i.split(".").reduce((function(t,e){return t.parent}),t);i=a.name}else"."===i&&(i=t.name);return{uiViewName:r,uiViewContextAnchor:i}},t.prototype._rootViewContext=function(t){return this._rootContext=t||this._rootContext},t.prototype._viewConfigFactory=function(t,e){this._viewConfigFactories[t]=e},t.prototype.createViewConfig=function(t,e){var n=this._viewConfigFactories[e.$type];if(!n)throw new Error("ViewService: No view config factory registered for type "+e.$type);var r=n(t,e);return yf(r)?r:[r]},t.prototype.deactivateViewConfig=function(t){Mh.traceViewServiceEvent("<- Removing",t),Lf(this._viewConfigs,t)},t.prototype.activateViewConfig=function(t){Mh.traceViewServiceEvent("-> Registering",t),this._viewConfigs.push(t)},t.prototype.sync=function(){var e=this,n=this._uiViews.map((function(t){return[t.fqn,t]})).reduce(nh,{});function r(t){for(var e=t.viewDecl.$context,n=0;++n&&e.parent;)e=e.parent;return n}var i=Gd((function(t,e,n,r){return e*(t(n)-t(r))})),o=this._uiViews.sort(i((function(t){var e=function(t){return t&&t.parent?e(t.parent)+1:1};return 1e4*t.fqn.split(".").length+e(t.creationContext)}),1)).map((function(o){var a=e._viewConfigs.filter(t.matches(n,o));return a.length>1&&a.sort(i(r,-1)),{uiView:o,viewConfig:a[0]}})),a=o.map((function(t){return t.viewConfig})),s=this._viewConfigs.filter((function(t){return!Rf(a,t)})).map((function(t){return{uiView:void 0,viewConfig:t}}));o.forEach((function(t){-1!==e._uiViews.indexOf(t.uiView)&&t.uiView.configUpdated(t.viewConfig)}));var c=o.concat(s);this._listeners.forEach((function(t){return t(c)})),Mh.traceViewSync(c)},t.prototype.registerUIView=function(t){Mh.traceViewServiceUIViewEvent("-> Registering",t);var e=this._uiViews;return e.filter((function(e){return e.fqn===t.fqn&&e.$type===t.$type})).length&&Mh.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",t),e.push(t),this.sync(),function(){-1!==e.indexOf(t)?(Mh.traceViewServiceUIViewEvent("<- Deregistering",t),Lf(e)(t)):Mh.traceViewServiceUIViewEvent("Tried removing non-registered uiView",t)}},t.prototype.available=function(){return this._uiViews.map(Yd("fqn"))},t.prototype.active=function(){return this._uiViews.filter(Yd("$config")).map(Yd("name"))},t.matches=function(t,e){return function(n){if(e.$type!==n.viewDecl.$type)return!1;var r=n.viewDecl,i=r.$uiViewName.split("."),o=e.fqn.split(".");if(!Of(i,o.slice(0-i.length)))return!1;var a=o.slice(0,1-i.length||void 0).join("."),s=t[a].creationContext;return r.$uiViewContextAnchor===(s&&s.name)}},t}(),Np=function(){function t(){this.params=new Hh,this.lastStartedTransitionId=-1,this.transitionHistory=new ch([],1),this.successfulTransitions=new ch([],1)}return t.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},t}();function Rp(t){if(!(pf(t)||gf(t)||nf(qh)(t)||qh.isDef(t)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return pf(t)?t:rf(t)}xp=function(t,e){var n=function(t,e){return(e.priority||0)-(t.priority||0)}(t,e);return 0!==n?n:0!==(n=function(t,e){var n={STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1};return(n[t.type]||0)-(n[e.type]||0)}(t,e))?n:0!==(n=function(t,e){return t.urlMatcher&&e.urlMatcher?Tp.compare(t.urlMatcher,e.urlMatcher):0}(t,e))?n:function(t,e){var n={STATE:!0,URLMATCHER:!0};return n[t.type]&&n[e.type]?0:(t.$id||0)-(e.$id||0)}(t,e)};var Lp=function(){function t(t){this.router=t,this._sortFn=xp,this._rules=[],this._id=0,this.urlRuleFactory=new Op(t)}return t.prototype.dispose=function(t){this._rules=[],delete this._otherwiseFn},t.prototype.initial=function(t){var e=Rp(t);this.rule(this.urlRuleFactory.create((function(t,e){return 0===e.globals.transitionHistory.size()&&!!/^\/?$/.exec(t.path)}),e))},t.prototype.otherwise=function(t){var e=Rp(t);this._otherwiseFn=this.urlRuleFactory.create(rf(!0),e),this._sorted=!1},t.prototype.removeRule=function(t){Lf(this._rules,t)},t.prototype.rule=function(t){var e=this;if(!Op.isUrlRule(t))throw new Error("invalid rule");return t.$id=this._id++,t.priority=t.priority||0,this._rules.push(t),this._sorted=!1,function(){return e.removeRule(t)}},t.prototype.rules=function(){return this.ensureSorted(),this._rules.concat(this._otherwiseFn?[this._otherwiseFn]:[])},t.prototype.sort=function(t){for(var e=this.stableSort(this._rules,this._sortFn=t||this._sortFn),n=0,r=0;r<e.length;r++)e[r]._group=n,r<e.length-1&&0!==this._sortFn(e[r],e[r+1])&&n++;this._rules=e,this._sorted=!0},t.prototype.ensureSorted=function(){this._sorted||this.sort()},t.prototype.stableSort=function(t,e){var n=t.map((function(t,e){return{elem:t,idx:e}}));return n.sort((function(t,n){var r=e(t.elem,n.elem);return 0===r?t.idx-n.idx:r})),n.map((function(t){return t.elem}))},t.prototype.when=function(t,e,n){var r=this.urlRuleFactory.create(t,e);return df(n&&n.priority)&&(r.priority=n.priority),this.rule(r),r},t}(),jp=function(){function t(t){var e=this;this.router=t,this.paramTypes=new Vh,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this.dispose=function(){return e.paramTypes.dispose()},this.baseHref=function(){return e.router.locationConfig.baseHref()},this.hashPrefix=function(t){return e.router.locationConfig.hashPrefix(t)},this.host=function(){return e.router.locationConfig.host()},this.html5Mode=function(){return e.router.locationConfig.html5Mode()},this.port=function(){return e.router.locationConfig.port()},this.protocol=function(){return e.router.locationConfig.protocol()}}return t.prototype.caseInsensitive=function(t){return this._isCaseInsensitive=df(t)?t:this._isCaseInsensitive},t.prototype.defaultSquashPolicy=function(t){if(df(t)&&!0!==t&&!1!==t&&!gf(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=df(t)?t:this._defaultSquashPolicy},t.prototype.strictMode=function(t){return this._isStrictMode=df(t)?t:this._isStrictMode},t.prototype.type=function(t,e,n){var r=this.paramTypes.type(t,e,n);return df(e)?this:r},t}(),Fp=function(){function t(t){var e=this;this.router=t,this.interceptDeferred=!1,this.rules=new Lp(this.router),this.config=new jp(this.router),this.url=function(t,n,r){return e.router.locationService.url(t,n,r)},this.path=function(){return e.router.locationService.path()},this.search=function(){return e.router.locationService.search()},this.hash=function(){return e.router.locationService.hash()},this.onChange=function(t){return e.router.locationService.onChange(t)}}return t.prototype.dispose=function(){this.listen(!1),this.rules.dispose()},t.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},t.prototype.sync=function(t){if(!t||!t.defaultPrevented){var e=this.router,n=e.urlService,r=e.stateService,i={path:n.path(),search:n.search(),hash:n.hash()},o=this.match(i);of([[gf,function(t){return n.url(t,!0)}],[qh.isDef,function(t){return r.go(t.state,t.params,t.options)}],[nf(qh),function(t){return r.go(t.state(),t.params(),t.options())}]])(o&&o.rule.handler(o.match,i,this.router))}},t.prototype.listen=function(t){var e=this;if(!1!==t)return this._stopListeningFn=this._stopListeningFn||this.router.urlService.onChange((function(t){return e.sync(t)}));this._stopListeningFn&&this._stopListeningFn(),delete this._stopListeningFn},t.prototype.deferIntercept=function(t){void 0===t&&(t=!0),this.interceptDeferred=t},t.prototype.match=function(t){t=Af({path:"",search:{},hash:""},t);for(var e,n,r,i=this.rules.rules(),o=0;o<i.length&&(!e||e.rule._group===i[o]._group);o++){var a=(r=(n=i[o]).match(t,this.router))&&{match:r,rule:n,weight:n.matchPriority(r)};e=!e||a&&a.weight>e.weight?a:e}return e},t}(),Bp=0,Vp=Ef("LocationServices",["url","path","search","hash","onChange"]),Hp=Ef("LocationConfig",["port","protocol","host","baseHref","html5Mode","hashPrefix"]),Up=function(){function t(t,e){void 0===t&&(t=Vp),void 0===e&&(e=Hp),this.locationService=t,this.locationConfig=e,this.$id=Bp++,this._disposed=!1,this._disposables=[],this.trace=Mh,this.viewService=new Dp(this),this.globals=new Np,this.transitionService=new dm(this),this.urlMatcherFactory=new Ap(this),this.urlRouter=new Mp(this),this.urlService=new Fp(this),this.stateRegistry=new dp(this),this.stateService=new fm(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlService),this.disposable(t),this.disposable(e)}return t.prototype.disposable=function(t){this._disposables.push(t)},t.prototype.dispose=function(t){var e=this;t&&pf(t.dispose)?t.dispose(this):(this._disposed=!0,this._disposables.slice().forEach((function(t){try{"function"==typeof t.dispose&&t.dispose(e),Lf(e._disposables,t)}catch(n){}})))},t.prototype.plugin=function(t,e){void 0===e&&(e={});var n=new t(this,e);if(!n.name)throw new Error("Required property `name` missing on plugin: "+n);return this._disposables.push(n),this._plugins[n.name]=n},t.prototype.getPlugin=function(t){return t?this._plugins[t]:Gf(this._plugins)},t}();function qp(t){t.addResolvable(Wh.fromData(Up,t.router),""),t.addResolvable(Wh.fromData(wp,t),""),t.addResolvable(Wh.fromData("$transition$",t),""),t.addResolvable(Wh.fromData("$stateParams",t.params()),""),t.entering().forEach((function(e){t.addResolvable(Wh.fromData("$state$",e),e)}))}var zp=Rf(["$transition$",wp]),Wp=function(t){var e=Gf(t.treeChanges()).reduce(Yf,[]).reduce(Jf,[]),n=function(t){return zp(t.token)?Wh.fromData(t.token,null):t};e.forEach((function(t){t.resolvables=t.resolvables.map(n)}))},Gp=function(t){var e=t.to().redirectTo;if(e){var n=t.router.stateService;return pf(e)?xf.$q.when(e(t)).then(r):r(e)}function r(e){if(e)return e instanceof qh?e:gf(e)?n.target(e,t.params(),t.options()):e.state||e.params?n.target(e.state||t.to(),e.params||t.params(),t.options()):void 0}};function Kp(t){return function(e,n){return(0,n.$$state()[t])(e,n)}}var Qp=Kp("onExit"),Yp=Kp("onRetain"),Xp=Kp("onEnter"),Zp=function(t){return new Yh(t.treeChanges().to).resolvePath("EAGER",t).then(Mf)},Jp=function(t,e){return new Yh(t.treeChanges().to).subContext(e.$$state()).resolvePath("LAZY",t).then(Mf)},tm=function(t){return new Yh(t.treeChanges().to).resolvePath("LAZY",t).then(Mf)},em=function(t){var e=xf.$q,n=t.views("entering");if(n.length)return e.all(n.map((function(t){return e.when(t.load())}))).then(Mf)},nm=function(t){var e=t.views("entering"),n=t.views("exiting");if(e.length||n.length){var r=t.router.viewService;n.forEach((function(t){return r.deactivateViewConfig(t)})),e.forEach((function(t){return r.activateViewConfig(t)})),r.sync()}},rm=function(t){var e=t.router.globals,n=function(){e.transition===t&&(e.transition=null)};t.onSuccess({},(function(){e.successfulTransitions.enqueue(t),e.$current=t.$to(),e.current=e.$current.self,ih(t.params(),e.params)}),{priority:1e4}),t.promise.then(n,n)},im=function(t){var e=t.options(),n=t.router.stateService,r=t.router.urlRouter;"url"!==e.source&&e.location&&n.$current.navigable&&r.push(n.$current.navigable.url,n.params,{replace:"replace"===e.location}),r.update(!0)},om=function(t){var e=t.router,n=t.entering().filter((function(t){return!!t.$$state().lazyLoad})).map((function(e){return am(t,e)}));return xf.$q.all(n).then((function(){if("url"!==t.originalTransition().options().source){var n=t.targetState();return e.stateService.target(n.identifier(),n.params(),n.options())}var r=e.urlService,i=r.match(r.parts()),o=i&&i.rule;if(o&&"STATE"===o.type)return e.stateService.target(o.state,i.match,t.options());e.urlService.sync()}))};function am(t,e){var n=e.$$state().lazyLoad,r=n._promise;return r||(r=n._promise=xf.$q.when(n(t,e)).then((function(e){return e&&Array.isArray(e.states)&&e.states.forEach((function(e){return t.router.stateRegistry.register(e)})),e})).then((function(t){return delete e.lazyLoad,delete e.$$state().lazyLoad,delete n._promise,t}),(function(t){return delete n._promise,xf.$q.reject(t)}))),r}var sm=function(){return function(t,e,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=mp.HANDLE_RESULT),void 0===a&&(a=mp.REJECT_ERROR),void 0===s&&(s=!1),this.name=t,this.hookPhase=e,this.hookOrder=n,this.criteriaMatchPath=r,this.reverseSort=i,this.getResultHandler=o,this.getErrorHandler=a,this.synchronous=s}}();function cm(t){var e=t._ignoredReason();if(e){Mh.traceTransitionIgnored(t);var n=t.router.globals.transition;return"SameAsCurrent"===e&&n&&n.abort(),dh.ignored().toPromise()}}function um(t){if(!t.valid())throw new Error(t.error().toString())}var lm={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"},dm=function(){function t(t){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=t,this.$view=t.viewService,this._deregisterHookFns={},this._pluginapi=Df(rf(this),{},rf(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks(),t.globals.successfulTransitions.onEvict(Wp)}return t.prototype.onCreate=function(t,e,n){},t.prototype.onBefore=function(t,e,n){},t.prototype.onStart=function(t,e,n){},t.prototype.onExit=function(t,e,n){},t.prototype.onRetain=function(t,e,n){},t.prototype.onEnter=function(t,e,n){},t.prototype.onFinish=function(t,e,n){},t.prototype.onSuccess=function(t,e,n){},t.prototype.onError=function(t,e,n){},t.prototype.dispose=function(t){Gf(this._registeredHooks).forEach((function(t){return t.forEach((function(e){e._deregistered=!0,Lf(t,e)}))}))},t.prototype.create=function(t,e){return new wp(t,e,this._router)},t.prototype._defineCoreEvents=function(){var t=fp,e=mp,n=this._criteriaPaths;this._defineEvent("onCreate",t.CREATE,0,n.to,!1,e.LOG_REJECTED_RESULT,e.THROW_ERROR,!0),this._defineEvent("onBefore",t.BEFORE,0,n.to),this._defineEvent("onStart",t.RUN,0,n.to),this._defineEvent("onExit",t.RUN,100,n.exiting,!0),this._defineEvent("onRetain",t.RUN,200,n.retained),this._defineEvent("onEnter",t.RUN,300,n.entering),this._defineEvent("onFinish",t.RUN,400,n.to),this._defineEvent("onSuccess",t.SUCCESS,0,n.to,!1,e.LOG_REJECTED_RESULT,e.LOG_ERROR,!0),this._defineEvent("onError",t.ERROR,0,n.to,!1,e.LOG_REJECTED_RESULT,e.LOG_ERROR,!0)},t.prototype._defineCorePaths=function(){var t=hp.STATE,e=hp.TRANSITION;this._definePathType("to",e),this._definePathType("from",e),this._definePathType("exiting",t),this._definePathType("retained",t),this._definePathType("entering",t)},t.prototype._defineEvent=function(t,e,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=mp.HANDLE_RESULT),void 0===a&&(a=mp.REJECT_ERROR),void 0===s&&(s=!1);var c=new sm(t,e,n,r,i,o,a,s);this._eventTypes.push(c),yp(this,this,c)},t.prototype._getEvents=function(t){return(df(t)?this._eventTypes.filter((function(e){return e.hookPhase===t})):this._eventTypes.slice()).sort((function(t,e){var n=t.hookPhase-e.hookPhase;return 0===n?t.hookOrder-e.hookOrder:n}))},t.prototype._definePathType=function(t,e){this._criteriaPaths[t]={name:t,scope:e}},t.prototype._getPathTypes=function(){return this._criteriaPaths},t.prototype.getHooks=function(t){return this._registeredHooks[t]},t.prototype._registerCoreTransitionHooks=function(){var t=this._deregisterHookFns;t.addCoreResolves=this.onCreate({},qp),t.ignored=function(t){return t.onBefore({},cm,{priority:-9999})}(this),t.invalid=function(t){return t.onBefore({},um,{priority:-1e4})}(this),t.redirectTo=function(t){return t.onStart({to:function(t){return!!t.redirectTo}},Gp)}(this),t.onExit=function(t){return t.onExit({exiting:function(t){return!!t.onExit}},Qp)}(this),t.onRetain=function(t){return t.onRetain({retained:function(t){return!!t.onRetain}},Yp)}(this),t.onEnter=function(t){return t.onEnter({entering:function(t){return!!t.onEnter}},Xp)}(this),t.eagerResolve=function(t){return t.onStart({},Zp,{priority:1e3})}(this),t.lazyResolve=function(t){return t.onEnter({entering:rf(!0)},Jp,{priority:1e3})}(this),t.resolveAll=function(t){return t.onFinish({},tm,{priority:1e3})}(this),t.loadViews=function(t){return t.onFinish({},em)}(this),t.activateViews=function(t){return t.onSuccess({},nm)}(this),t.updateGlobals=function(t){return t.onCreate({},rm)}(this),t.updateUrl=function(t){return t.onSuccess({},im,{priority:9999})}(this),t.lazyLoad=function(t){return t.onBefore({entering:function(t){return!!t.lazyLoad}},om)}(this)},t}(),fm=function(){function t(e){this.router=e,this.invalidCallbacks=[],this._defaultErrorHandler=function(t){t instanceof Error&&t.stack?(console.error(t),console.error(t.stack)):t instanceof dh?(console.error(t.toString()),t.detail&&t.detail.stack&&console.error(t.detail.stack)):console.error(t)};var n=Object.keys(t.prototype).filter(Jd(Rf(["current","$current","params","transition"])));Df(rf(t.prototype),this,rf(this),n)}return Object.defineProperty(t.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.defaultErrorHandler(Mf),this.invalidCallbacks=[]},t.prototype._handleInvalidTargetState=function(t,e){var n=this,r=zh.makeTargetState(this.router.stateRegistry,t),i=this.router.globals,o=function(){return i.transitionHistory.peekTail()},a=o(),s=new ch(this.invalidCallbacks.slice()),c=new Yh(t).injector(),u=function(t){if(t instanceof qh){var e=t;return(e=n.target(e.identifier(),e.params(),e.options())).valid()?o()!==a?dh.superseded().toPromise():n.transitionTo(e.identifier(),e.params(),e.options()):dh.invalid(e.error()).toPromise()}};return function t(){var n=s.dequeue();return void 0===n?dh.invalid(e.error()).toPromise():xf.$q.when(n(e,r,c)).then(u).then((function(e){return e||t()}))}()},t.prototype.onInvalid=function(t){return this.invalidCallbacks.push(t),(function(){Lf(this.invalidCallbacks)(t)}).bind(this)},t.prototype.reload=function(t){return this.transitionTo(this.current,this.params,{reload:!df(t)||t,inherit:!1,notify:!1})},t.prototype.go=function(t,e,n){var r=Ff(n,{relative:this.$current,inherit:!0},lm);return this.transitionTo(t,e,r)},t.prototype.target=function(t,e,n){if(void 0===n&&(n={}),vf(n.reload)&&!n.reload.name)throw new Error("Invalid reload state object");var r=this.router.stateRegistry;if(n.reloadState=!0===n.reload?r.root():r.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(gf(n.reload)?n.reload:n.reload.name)+"'");return new qh(this.router.stateRegistry,t,e,n)},t.prototype.getCurrentPath=function(){var t=this.router.globals.successfulTransitions.peekTail();return t?t.treeChanges().to:[new Uh(this.router.stateRegistry.root())]},t.prototype.transitionTo=function(t,e,n){var r=this;void 0===e&&(e={}),void 0===n&&(n={});var i=this.router,o=i.globals;n=Ff(n,lm),n=Af(n,{current:function(){return o.transition}});var a=this.target(t,e,n),s=this.getCurrentPath();if(!a.exists())return this._handleInvalidTargetState(s,a);if(!a.valid())return ah(a.error());var c=function(t){return function(e){if(e instanceof dh){var n=i.globals.lastStartedTransitionId<=t.$id;if(e.type===uh.IGNORED)return n&&i.urlRouter.update(),xf.$q.when(o.current);var a=e.detail;if(e.type===uh.SUPERSEDED&&e.redirected&&a instanceof qh){var s=t.redirect(a);return s.run().catch(c(s))}if(e.type===uh.ABORTED)return n&&i.urlRouter.update(),xf.$q.reject(e)}return r.defaultErrorHandler()(e),xf.$q.reject(e)}},u=this.router.transitionService.create(s,a),l=u.run().catch(c(u));return oh(l),Af(l,{transition:u})},t.prototype.is=function(t,e,n){n=Ff(n,{relative:this.$current});var r=this.router.stateRegistry.matcher.find(t,n.relative);if(df(r)){if(this.$current!==r)return!1;if(!e)return!0;var i=r.parameters({inherit:!0,matchingKeys:e});return Bh.equals(i,Bh.values(i,e),this.params)}},t.prototype.includes=function(t,e,n){n=Ff(n,{relative:this.$current});var r=gf(t)&&sh.fromString(t);if(r){if(!r.matches(this.$current.name))return!1;t=this.$current.name}var i=this.router.stateRegistry.matcher.find(t,n.relative),o=this.$current.includes;if(df(i)){if(!df(o[i.name]))return!1;if(!e)return!0;var a=i.parameters({inherit:!0,matchingKeys:e});return Bh.equals(a,Bh.values(a,e),this.params)}},t.prototype.href=function(t,e,n){n=Ff(n,{lossy:!0,inherit:!0,absolute:!1,relative:this.$current}),e=e||{};var r=this.router.stateRegistry.matcher.find(t,n.relative);if(!df(r))return null;n.inherit&&(e=this.params.$inherit(e,this.$current,r));var i=r&&n.lossy?r.navigable:r;return i&&null!=i.url?this.router.urlRouter.href(i.url,e,{absolute:n.absolute}):null},t.prototype.defaultErrorHandler=function(t){return this._defaultErrorHandler=t||this._defaultErrorHandler},t.prototype.get=function(t,e){var n=this.router.stateRegistry;return 0===arguments.length?n.get():n.get(t,e||this.$current)},t.prototype.lazyLoad=function(t,e){var n=this.get(t);if(!n||!n.lazyLoad)throw new Error("Can not lazy load "+t);var r=this.getCurrentPath(),i=zh.makeTargetState(this.router.stateRegistry,r);return am(e=e||this.router.transitionService.create(r,i),n)},t}(),hm=function(t,e){var n=e[0],r=e[1];return t.hasOwnProperty(n)?yf(t[n])?t[n].push(r):t[n]=[t[n],r]:t[n]=r,t},pm=function(t){return t.split("&").filter($f).map(Eh).reduce(hm,{})};function mm(t){var e=function(t){return t||""},n=wh(t).map(e),r=n[1],i=Sh(n[0]).map(e);return{path:i[0],search:i[1],hash:r,url:t}}function gm(t,e,n,r){return function(i){var o=i.locationService=new n(i),a=i.locationConfig=new r(i,e);return{name:t,service:o,configuration:a,dispose:function(t){t.dispose(o),t.dispose(a)}}}}var vm,ym=function(){function t(t,e){var n=this;this.fireAfterUpdate=e,this._listeners=[],this._listener=function(t){return n._listeners.forEach((function(e){return e(t)}))},this.hash=function(){return mm(n._get()).hash},this.path=function(){return mm(n._get()).path},this.search=function(){return pm(mm(n._get()).search)},this._location=Cf.location,this._history=Cf.history}return t.prototype.url=function(t,e){return void 0===e&&(e=!0),df(t)&&t!==this._get()&&(this._set(null,null,t,e),this.fireAfterUpdate&&this._listeners.forEach((function(e){return e({url:t})}))),r=(n=this).path(),i=n.search(),o=n.hash(),r+((a=Object.keys(i).map((function(t){var e=i[t];return(yf(e)?e:[e]).map((function(e){return t+"="+e}))})).reduce(Yf,[]).join("&"))?"?"+a:"")+(o?"#"+o:"");var n,r,i,o,a},t.prototype.onChange=function(t){var e=this;return this._listeners.push(t),function(){return Lf(e._listeners,t)}},t.prototype.dispose=function(t){var e;(e=this._listeners).slice().forEach((function(t){"function"==typeof t&&t(),Lf(e,t)}))},t}(),bm=(vm=function(t,e){return(vm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}vm(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_m=function(t){function e(e){var n=t.call(this,e,!1)||this;return Cf.addEventListener("hashchange",n._listener,!1),n}return bm(e,t),e.prototype._get=function(){return(t=this._location.hash)?t.replace(/^#/,""):"";var t},e.prototype._set=function(t,e,n,r){this._location.hash=n},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),Cf.removeEventListener("hashchange",this._listener)},e}(ym),wm=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sm=function(t){function e(e){return t.call(this,e,!0)||this}return wm(e,t),e.prototype._get=function(){return this._url},e.prototype._set=function(t,e,n,r){this._url=n},e}(ym),Em=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xm=function(t){function e(e){var n=t.call(this,e,!0)||this;return n._config=e.urlService.config,Cf.addEventListener("popstate",n._listener,!1),n}return Em(e,t),e.prototype._getBasePrefix=function(){return _h(this._config.baseHref())},e.prototype._get=function(){var t=this._location,e=t.pathname,n=t.hash,r=t.search;r=Sh(r)[1],n=wh(n)[1];var i=this._getBasePrefix(),o=e===this._config.baseHref(),a=e.substr(0,i.length)===i;return(e=o?"/":a?e.substring(i.length):e)+(r?"?"+r:"")+(n?"#"+n:"")},e.prototype._set=function(t,e,n,r){var i=this._getBasePrefix(),o=n&&"/"!==n[0]?"/":"",a=""===n||"/"===n?this._config.baseHref():i+o+n;r?this._history.replaceState(t,e,a):this._history.pushState(t,e,a)},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),Cf.removeEventListener("popstate",this._listener)},e}(ym),Cm=function(){return function(){var t=this;this.dispose=Mf,this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return t._port},this.protocol=function(){return t._protocol},this.host=function(){return t._host},this.baseHref=function(){return t._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(e){return df(e)?t._hashPrefix=e:t._hashPrefix}}}(),km=function(){function t(t,e){void 0===e&&(e=!1),this._isHtml5=e,this._baseHref=void 0,this._hashPrefix=""}return t.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},t.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},t.prototype.host=function(){return location.hostname},t.prototype.html5Mode=function(){return this._isHtml5},t.prototype.hashPrefix=function(t){return df(t)?this._hashPrefix=t:this._hashPrefix},t.prototype.baseHref=function(t){return df(t)&&(this._baseHref=t),lf(this._baseHref)&&(this._baseHref=this.getBaseHref()),this._baseHref},t.prototype.getBaseHref=function(){var t=document.getElementsByTagName("base")[0];return t&&t.href?t.href.replace(/^([^/:]*:)?\/\/[^/]*/,""):this._isHtml5?"/":location.pathname||"/"},t.prototype.dispose=function(){},t}();gm("vanilla.hashBangLocation",!1,_m,km),gm("vanilla.pushStateLocation",!0,xm,km),gm("vanilla.memoryLocation",!1,Sm,Cm);var Tm=function(t,e){return t.reduce((function(t,n){return t||df(e[n])}),!1)};function Pm(t){if(!t.parent)return{};var e=["component","bindings","componentProvider"],n=["templateProvider","templateUrl","template","notify","async"].concat(["controller","controllerProvider","controllerAs","resolveAs"]),r=e.concat(n);if(df(t.views)&&Tm(r,t))throw new Error("State '"+t.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+r.filter((function(e){return df(t[e])})).join(", "));var i={},o=t.views||{$default:Vf(t,r)};return If(o,(function(r,o){if(o=o||"$default",gf(r)&&(r={component:r}),r=Af({},r),Tm(e,r)&&Tm(n,r))throw new Error("Cannot combine: "+e.join("|")+" with: "+n.join("|")+" in stateview: '"+o+"@"+t.name+"'");r.resolveAs=r.resolveAs||"$resolve",r.$type="ng1",r.$context=t,r.$name=o;var a=Dp.normalizeUIViewTarget(r.$context,r.$name);r.$uiViewName=a.uiViewName,r.$uiViewContextAnchor=a.uiViewContextAnchor,i[o]=r})),i}var Im=0,Am=function(){function t(t,e,n){var r=this;this.path=t,this.viewDecl=e,this.factory=n,this.$id=Im++,this.loaded=!1,this.getTemplate=function(t,e){return r.component?r.factory.makeComponentTemplate(t,e,r.component,r.viewDecl.bindings):r.template}}return t.prototype.load=function(){var t=this,e=xf.$q,n=new Yh(this.path),r=this.path.reduce((function(t,e){return Af(t,e.paramValues)}),{}),i={template:e.when(this.factory.fromConfig(this.viewDecl,r,n)),controller:e.when(this.getController(n))};return e.all(i).then((function(e){return Mh.traceViewServiceEvent("Loaded",t),t.controller=e.controller,Af(t,e.template),t}))},t.prototype.getController=function(t){var e=this.viewDecl.controllerProvider;if(!wf(e))return this.viewDecl.controller;var n=xf.$injector.annotate(e),r=yf(e)?rh(e):e;return new Wh("",r,n).get(t)},t}(),Om=function(){function t(){var t=this;this._useHttp=Wd.version.minor<3,this.$get=["$http","$templateCache","$injector",function(e,n,r){return t.$templateRequest=r.has&&r.has("$templateRequest")&&r.get("$templateRequest"),t.$http=e,t.$templateCache=n,t}]}return t.prototype.useHttpService=function(t){this._useHttp=t},t.prototype.fromConfig=function(t,e,n){var r=function(t){return xf.$q.when(t).then((function(t){return{template:t}}))},i=function(t){return xf.$q.when(t).then((function(t){return{component:t}}))};return df(t.template)?r(this.fromString(t.template,e)):df(t.templateUrl)?r(this.fromUrl(t.templateUrl,e)):df(t.templateProvider)?r(this.fromProvider(t.templateProvider,e,n)):df(t.component)?i(t.component):df(t.componentProvider)?i(this.fromComponentProvider(t.componentProvider,e,n)):r("<ui-view></ui-view>")},t.prototype.fromString=function(t,e){return pf(t)?t(e):t},t.prototype.fromUrl=function(t,e){return pf(t)&&(t=t(e)),null==t?null:this._useHttp?this.$http.get(t,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then((function(t){return t.data})):this.$templateRequest(t)},t.prototype.fromProvider=function(t,e,n){var r=xf.$injector.annotate(t),i=yf(t)?rh(t):t;return new Wh("",i,r).get(n)},t.prototype.fromComponentProvider=function(t,e,n){var r=xf.$injector.annotate(t),i=yf(t)?rh(t):t;return new Wh("",i,r).get(n)},t.prototype.makeComponentTemplate=function(t,e,n,r){r=r||{};var i=Wd.version.minor>=3?"::":"",o=function(t){var e=hh(t);return/^(x|data)-/.exec(e)?"x-"+e:e},a=function(t){var e=xf.$injector.get(t+"Directive");if(!e||!e.length)throw new Error("Unable to find component named '"+t+"'");return e.map($m).reduce(Yf,[])}(n).map((function(n){var a=n.name,s=n.type,c=o(a);if(t.attr(c)&&!r[a])return c+"='"+t.attr(c)+"'";var u=r[a]||a;if("@"===s)return c+"='{{"+i+"$resolve."+u+"}}'";if("&"===s){var l=e.getResolvable(u),d=l&&l.data,f=d&&xf.$injector.annotate(d)||[];return c+"='$resolve."+u+(yf(d)?"["+(d.length-1)+"]":"")+"("+f.join(",")+")'"}return c+"='"+i+"$resolve."+u+"'"})).join(" "),s=o(n);return"<"+s+" "+a+"></"+s+">"},t}(),$m=function(t){return vf(t.bindToController)?Mm(t.bindToController):Mm(t.scope)},Mm=function(t){return Object.keys(t||{}).map((function(e){return[e,/^([=<@&])[?]?(.*)/.exec(t[e])]})).filter((function(t){return df(t)&&yf(t[1])})).map((function(t){return{name:t[1][2]||t[0],type:t[1][1]}}))},Dm=function(){function t(e,n){this.stateRegistry=e,this.stateService=n,Df(rf(t.prototype),this,rf(this))}return t.prototype.decorator=function(t,e){return this.stateRegistry.decorator(t,e)||this},t.prototype.state=function(t,e){return vf(t)?e=t:e.name=t,this.stateRegistry.register(e),this},t.prototype.onInvalid=function(t){return this.stateService.onInvalid(t)},t}(),Nm=function(t){return function(e,n){var r=e[t],i="onExit"===t?"from":"to";return r?function(t,e){var n=new Yh(t.treeChanges(i)).subContext(e.$$state()),o=Af(Zm(n),{$state$:e,$transition$:t});return xf.$injector.invoke(r,this,o)}:void 0}},Rm=function(){function t(t){this._urlListeners=[],this.$locationProvider=t;var e=rf(t);Df(e,this,e,["hashPrefix"])}return t.monkeyPatchPathParameterType=function(t){var e=t.urlMatcherFactory.type("path");e.encode=function(t){return null!=t?t.toString().replace(/(~|\/)/g,(function(t){return{"~":"~~","/":"~2F"}[t]})):t},e.decode=function(t){return null!=t?t.toString().replace(/(~~|~2F)/g,(function(t){return{"~~":"~","~2F":"/"}[t]})):t}},t.prototype.dispose=function(){},t.prototype.onChange=function(t){var e=this;return this._urlListeners.push(t),function(){return Lf(e._urlListeners)(t)}},t.prototype.html5Mode=function(){var t=this.$locationProvider.html5Mode();return(t=vf(t)?t.enabled:t)&&this.$sniffer.history},t.prototype.baseHref=function(){return this._baseHref||(this._baseHref=this.$browser.baseHref()||this.$window.location.pathname)},t.prototype.url=function(t,e,n){return void 0===e&&(e=!1),df(t)&&this.$location.url(t),e&&this.$location.replace(),n&&this.$location.state(n),this.$location.url()},t.prototype._runtimeServices=function(t,e,n,r,i){var o=this;this.$location=e,this.$sniffer=n,this.$browser=r,this.$window=i,t.$on("$locationChangeSuccess",(function(t){return o._urlListeners.forEach((function(e){return e(t)}))}));var a=rf(e);Df(a,this,a,["replace","path","search","hash"]),Df(a,this,a,["port","protocol","host"])},t}(),Lm=function(){function t(t){this.router=t}return t.injectableHandler=function(t,e){return function(n){return xf.$injector.invoke(e,null,{$match:n,$stateParams:t.globals.params})}},t.prototype.$get=function(){var t=this.router.urlService;return this.router.urlRouter.update(!0),t.interceptDeferred||t.listen(),this.router.urlRouter},t.prototype.rule=function(t){var e=this;if(!pf(t))throw new Error("'rule' must be a function");var n=new $p((function(){return t(xf.$injector,e.router.locationService)}),$f);return this.router.urlService.rules.rule(n),this},t.prototype.otherwise=function(t){var e=this,n=this.router.urlService.rules;if(gf(t))n.otherwise(t);else{if(!pf(t))throw new Error("'rule' must be a string or function");n.otherwise((function(){return t(xf.$injector,e.router.locationService)}))}return this},t.prototype.when=function(e,n){return(yf(n)||pf(n))&&(n=t.injectableHandler(this.router,n)),this.router.urlService.rules.when(e,n),this},t.prototype.deferIntercept=function(t){this.router.urlService.deferIntercept(t)},t}();Wd.module("ui.router.angular1",[]);var jm=Wd.module("ui.router.init",["ng"]),Fm=Wd.module("ui.router.util",["ui.router.init"]),Bm=Wd.module("ui.router.router",["ui.router.util"]),Vm=Wd.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),Hm=Wd.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),Um=(Wd.module("ui.router.compat",["ui.router"]),null);function qm(t){var e;(Um=this.router=new Up).stateProvider=new Dm(Um.stateRegistry,Um.stateService),Um.stateRegistry.decorator("views",Pm),Um.stateRegistry.decorator("onExit",Nm("onExit")),Um.stateRegistry.decorator("onRetain",Nm("onRetain")),Um.stateRegistry.decorator("onEnter",Nm("onEnter")),Um.viewService._pluginapi._viewConfigFactory("ng1",(e=null,function(t,n){return e=e||xf.$injector.get("$templateFactory"),[new Am(t,n,e)]}));var n=Um.locationService=Um.locationConfig=new Rm(t);function r(t,e,r,i,o,a,s){return n._runtimeServices(o,t,i,e,r),delete Um.router,delete Um.$get,Um}return Rm.monkeyPatchPathParameterType(Um),Um.router=Um,Um.$get=r,r.$inject=["$location","$browser","$window","$sniffer","$rootScope","$http","$templateCache"],Um}qm.$inject=["$locationProvider"];var zm=function(t){return["$uiRouterProvider",function(e){var n=e.router[t];return n.$get=function(){return n},n}]};function Wm(t,e,n){if(xf.$injector=t,xf.$q=e,!t.hasOwnProperty("strictDi"))try{t.invoke((function(t){}))}catch(r){t.strictDi=!!/strict mode/.exec(r&&r.toString())}n.stateRegistry.get().map((function(t){return t.$$state().resolvables})).reduce(Yf,[]).filter((function(t){return"deferred"===t.deps})).forEach((function(e){return e.deps=t.annotate(e.resolveFn,t.strictDi)}))}function Gm(t){t.$watch((function(){Mh.approximateDigests++}))}Wm.$inject=["$injector","$q","$uiRouter"],Gm.$inject=["$rootScope"],jm.provider("$uiRouter",qm),Bm.provider("$urlRouter",["$uiRouterProvider",function(t){return t.urlRouterProvider=new Lm(t)}]),Fm.provider("$urlService",zm("urlService")),Fm.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return Um.urlMatcherFactory}]),Fm.provider("$templateFactory",(function(){return new Om})),Vm.provider("$stateRegistry",zm("stateRegistry")),Vm.provider("$uiRouterGlobals",zm("globals")),Vm.provider("$transitions",zm("transitionService")),Vm.provider("$state",["$uiRouterProvider",function(){return Af(Um.stateProvider,{$get:function(){return Um.stateService}})}]),Vm.factory("$stateParams",["$uiRouter",function(t){return t.globals.params}]),Hm.factory("$view",(function(){return Um.viewService})),Hm.service("$trace",(function(){return Mh})),Hm.run(Gm),Fm.run(["$urlMatcherFactory",function(t){}]),Vm.run(["$state",function(t){}]),Bm.run(["$urlRouter",function(t){}]),jm.run(Wm);var Km,Qm,Ym,Xm,Zm=function(t){return t.getTokens().filter(gf).map((function(e){var n=t.getResolvable(e);return[e,"NOWAIT"===t.getPolicy(n).async?n.promise:n.data]})).reduce(nh,{})};function Jm(t){var e,n=t.match(/^\s*({[^}]*})\s*$/);if(n&&(t="("+n[1]+")"),!(e=t.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==e.length)throw new Error("Invalid state ref '"+t+"'");return{state:e[1]||null,paramExpr:e[3]||null}}function tg(t){var e=t.parent().inheritedData("$uiView"),n=Zd("$cfg.path")(e);return n?rh(n).state.name:void 0}function eg(t,e,n){var r=n.uiState||t.current.name,i=Af(function(t,e){return{relative:tg(t)||e.$current,inherit:!0,source:"sref"}}(e,t),n.uiStateOpts||{}),o=t.href(r,n.uiStateParams,i);return{uiState:r,uiStateParams:n.uiStateParams,uiStateOpts:i,href:o}}function ng(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function rg(t,e,n,r,i){return function(o){var a=o.which||o.button,s=i();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var c=n((function(){t.attr("disabled")||e.go(s.uiState,s.uiStateParams,s.uiStateOpts)}));o.preventDefault();var u=r.isAnchor&&!s.href?1:0;o.preventDefault=function(){u--<=0&&n.cancel(c)}}}}function ig(t,e,n,r){var i;r&&(i=r.events),yf(i)||(i=["click"]);for(var o=t.on?"on":"bind",a=0,s=i;a<s.length;a++)t[o](s[a],n);e.$on("$destroy",(function(){for(var e=t.off?"off":"unbind",r=0,o=i;r<o.length;r++)t[e](o[r],n)}))}function og(t){var e=function(e,n,r){return t.is(e,n,r)};return e.$stateful=!0,e}function ag(t){var e=function(e,n,r){return t.includes(e,n,r)};return e.$stateful=!0,e}function sg(t,e,n,r,i,o){var a=Zd("viewDecl.controllerAs"),s=Zd("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(r){var o=r.html();return r.empty(),function(r,c){var u=c.data("$uiView");if(!u)return c.html(o),void t(c.contents())(r);var l=u.$cfg||{viewDecl:{},getTemplate:Mf},d=l.path&&new Yh(l.path);c.html(l.getTemplate(c,d)||o),Mh.traceUIViewFill(u.$uiView,c.html());var f=t(c.contents()),h=l.controller,p=a(l),m=s(l),g=d&&Zm(d);if(r[m]=g,h){var v=e(h,Af({},g,{$scope:r,$element:c}));p&&(r[p]=v,r[p][m]=g),c.data("$ngControllerController",v),c.children().data("$ngControllerController",v),lg(i,n,v,r,l)}if(gf(l.component))var y=hh(l.component),b=new RegExp("^(x-|data-)?"+y+"$","i"),_=r.$watch((function(){var t=[].slice.call(c[0].children).filter((function(t){return t&&t.tagName&&b.exec(t.tagName)}));return t&&Wd.element(t).data("$"+l.component+"Controller")}),(function(t){t&&(lg(i,n,t,r,l),_())}));f(r)}}}}n("CBwr"),Km=["$uiRouter","$timeout",function(t,e){var n=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,i,o,a){var s,c=ng(i),u=a[1]||a[0],l=null,d={},f=function(){return eg(n,i,d)},h=Jm(o.uiSref);function p(){var t=f();l&&l(),u&&(l=u.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&&o.$set(c.attr,t.href)}d.uiState=h.state,d.uiStateOpts=o.uiSrefOpts?r.$eval(o.uiSrefOpts):{},h.paramExpr&&(r.$watch(h.paramExpr,(function(t){d.uiStateParams=Af({},t),p()}),!0),d.uiStateParams=Af({},r.$eval(h.paramExpr))),p(),r.$on("$destroy",t.stateRegistry.onStatesChanged(p)),r.$on("$destroy",t.transitionService.onSuccess({},p)),c.clickable&&(s=rg(i,n,e,c,f),ig(i,r,s,d.uiStateOpts))}}}],Qm=["$uiRouter","$timeout",function(t,e){var n=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,i,o,a){var s,c=ng(i),u=a[1]||a[0],l=null,d={},f=function(){return eg(n,i,d)},h=["uiState","uiStateParams","uiStateOpts"],p=h.reduce((function(t,e){return t[e]=Mf,t}),{});function m(){var t=f();l&&l(),u&&(l=u.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&&o.$set(c.attr,t.href)}h.forEach((function(t){d[t]=o[t]?r.$eval(o[t]):null,o.$observe(t,(function(e){p[t](),p[t]=r.$watch(e,(function(e){d[t]=e,m()}),!0)}))})),m(),r.$on("$destroy",t.stateRegistry.onStatesChanged(m)),r.$on("$destroy",t.transitionService.onSuccess({},m)),c.clickable&&(s=rg(i,n,e,c,f),ig(i,r,s,d.uiStateOpts))}}}],Ym=["$state","$stateParams","$interpolate","$uiRouter",function(t,e,n,r){return{restrict:"A",controller:["$scope","$element","$attrs",function(e,i,o){var a,s,c,u,l,d=[];a=n(o.uiSrefActiveEq||"",!1)(e);try{s=e.$eval(o.uiSrefActive)}catch(g){}function f(t){t.promise.then(m,Mf)}function h(t){vf(t)&&(d=[],If(t,(function(t,n){var r=function(t,n){var r=Jm(t);p(r.state,e.$eval(r.paramExpr),n)};gf(t)?r(t,n):yf(t)&&If(t,(function(t){r(t,n)}))})))}function p(e,n,r){var o={state:t.get(e,tg(i))||{name:e},params:n,activeClass:r};return d.push(o),function(){Lf(d)(o)}}function m(){var n=function(t){return t.split(/\s/).filter($f)},r=function(t){return t.map((function(t){return t.activeClass})).map(n).reduce(Yf,[])},o=r(d).concat(n(a)).reduce(Jf,[]),s=r(d.filter((function(e){return t.includes(e.state.name,e.params)}))),c=d.filter((function(e){return t.is(e.state.name,e.params)})).length?n(a):[],u=s.concat(c).reduce(Jf,[]),l=o.filter((function(t){return!Rf(u,t)}));e.$evalAsync((function(){u.forEach((function(t){return i.addClass(t)})),l.forEach((function(t){return i.removeClass(t)}))}))}h(s=s||n(o.uiSrefActive||"",!1)(e)),this.$$addStateInfo=function(t,e){if(!(vf(s)&&d.length>0)){var n=p(t,e,s);return m(),n}},e.$on("$destroy",(c=r.stateRegistry.onStatesChanged((function(){h(s)})),u=r.transitionService.onStart({},f),l=e.$on("$stateChangeSuccess",m),function(){c(),u(),l()})),r.globals.transition&&f(r.globals.transition),m()}]}}],Wd.module("ui.router.state").directive("uiSref",Km).directive("uiSrefActive",Ym).directive("uiSrefActiveEq",Ym).directive("uiState",Qm),og.$inject=["$state"],ag.$inject=["$state"],Wd.module("ui.router.state").filter("isState",og).filter("includedByState",ag),Xm=["$view","$animate","$uiViewScroll","$interpolate","$q",function(t,e,n,r,i){var o={$cfg:{viewDecl:{$context:t._pluginapi._rootViewContext()}},$uiView:{}},a={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(s,c,u){return function(s,c,l){var d,f,h,p,m,g=l.onload||"",v=l.autoscroll,y={enter:function(t,n,r){Wd.version.minor>2?e.enter(t,null,n).then(r):e.enter(t,null,n,r)},leave:function(t,n){Wd.version.minor>2?e.leave(t).then(n):e.leave(t,n)}},b=c.inheritedData("$uiView")||o,_=r(l.uiView||l.name||"")(s)||"$default",w={$type:"ng1",id:a.count++,name:_,fqn:b.$uiView.fqn?b.$uiView.fqn+"."+_:_,config:null,configUpdated:function(t){(!t||t instanceof Am)&&p!==t&&(Mh.traceUIViewConfigUpdated(w,t&&t.viewDecl&&t.viewDecl.$context),p=t,S(t))},get creationContext(){var t=Zd("$cfg.viewDecl.$context")(b),e=Zd("$uiView.creationContext")(b);return t||e}};function S(t){var e=s.$new(),r=i.defer(),o=i.defer(),a={$cfg:t,$uiView:w},l={$animEnter:r.promise,$animLeave:o.promise,$$animLeave:o};e.$emit("$viewContentLoading",_);var m=u(e,(function(t){t.data("$uiViewAnim",l),t.data("$uiView",a),y.enter(t,c,(function(){r.resolve(),h&&h.$emit("$viewContentAnimationEnded"),(df(v)&&!v||s.$eval(v))&&n(t)})),function(){if(d&&(Mh.traceUIViewEvent("Removing (previous) el",d.data("$uiView")),d.remove(),d=null),h&&(Mh.traceUIViewEvent("Destroying scope",w),h.$destroy(),h=null),f){var t=f.data("$uiViewAnim");Mh.traceUIViewEvent("Animate out",t),y.leave(f,(function(){t.$$animLeave.resolve(),d=null})),d=f,f=null}}()}));f=m,(h=e).$emit("$viewContentLoaded",t||p),h.$eval(g)}Mh.traceUIViewEvent("Linking",w),c.data("$uiView",{$uiView:w}),S(),m=t.registerUIView(w),s.$on("$destroy",(function(){Mh.traceUIViewEvent("Destroying/Unregistering",w),m()}))}}};return a}],sg.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var cg="function"==typeof Wd.module("ui.router").component,ug=0;function lg(t,e,n,r,i){!pf(n.$onInit)||(i.viewDecl.component||i.viewDecl.componentProvider)&&cg||n.$onInit();var o=rh(i.path).state.self,a={bind:n};if(pf(n.uiOnParamsChanged)){var s=new Yh(i.path).getResolvable("$transition$").data;r.$on("$destroy",e.onSuccess({},(function(t){if(t!==s&&-1===t.exiting().indexOf(o)){var e=t.params("to"),r=t.params("from"),i=function(t){return t.paramSchema},a=t.treeChanges("to").map(i).reduce(Yf,[]),c=t.treeChanges("from").map(i).reduce(Yf,[]),u=a.filter((function(t){var n=c.indexOf(t);return-1===n||!c[n].type.equals(e[t.id],r[t.id])}));if(u.length){var l=u.map((function(t){return t.id})),d=Uf(e,(function(t,e){return-1!==l.indexOf(e)}));n.uiOnParamsChanged(d,t)}}}),a))}if(pf(n.uiCanExit)){var c=ug++,u=function(t){return!!t&&(t._uiCanExitIds&&!0===t._uiCanExitIds[c]||u(t.redirectedFrom()))};r.$on("$destroy",e.onBefore({exiting:o.name},(function(e){var r,i=e._uiCanExitIds=e._uiCanExitIds||{};return u(e)||(r=t.when(n.uiCanExit(e))).then((function(t){return i[c]=!1!==t})),r}),a))}}Wd.module("ui.router.state").directive("uiView",Xm),Wd.module("ui.router.state").directive("uiView",sg),Wd.module("ui.router.state").provider("$uiViewScroll",(function(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n((function(){t[0].scrollIntoView()}),0,!1)}}]})),n("9HG0");var dg,fg,hg,pg,mg=Object(i.__assign)(Object(i.__assign)({},(dg={test:!1,production:!1,environmentName:"screencastly"},Object(i.__assign)(Object(i.__assign)({},dg),{environmentName:"production",firebaseConfig:{apiKey:"AIzaSyDraAcnfh7TewzYJS9yt8Togm6_VzB_RJE",authDomain:"castify-storage.firebaseapp.com",databaseURL:"wss://castify-storage.firebaseio.com",projectId:"castify-storage",storageBucket:"castify-storage.appspot.com",messagingSenderId:"37637381719"}}))),{production:!0}),gg=function(){if(!hg){if(!fg)throw new Error("fbWrapper.configure() not called before using wrapper. Make sure you only import the main edit-models module (no direct file imports)");var t=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(fg(),2);n=t[1],hg={api:function(){return e},app:function(){return n},database:function(){return n.database()},auth:function(){return e.auth()},messaging:function(){return n.messaging()},storage:function(t){return n.storage(t)},NOW:(e=t[0]).database.ServerValue.TIMESTAMP,GoogleAuthProvider:e.auth.GoogleAuthProvider,EmailAuthProvider:e.auth.EmailAuthProvider}}var e,n;return hg},vg=n("vEql"),yg=n("plFh"),bg=n.n(yg);function _g(){return te("$injector")}(function(){var t,e=e||{},n=this;function r(t){return"string"==typeof t}function i(t){return"boolean"==typeof t}var o=/^[\w+/_-]+[=]{0,2}$/,a=null;function s(){}function c(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function u(t){return null===t}function l(t){return"array"==c(t)}function d(t){var e=c(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==c(t)}function h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var p="closure_uid_"+(1e9*Math.random()>>>0),m=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function y(t,e,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:v).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var _=Date.now||function(){return+new Date};function w(t,e){function n(){}n.prototype=e.prototype,t.pb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.gd=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function S(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function E(t){if(Error.captureStackTrace)Error.captureStackTrace(this,E);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function x(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");E.call(this,n+t[r])}function C(t,e){throw new x("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function k(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function T(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function P(){this.b=this.a=null}w(E,Error),E.prototype.name="CustomError",w(x,E),x.prototype.name="AssertionError",k.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var I=new k((function(){return new O}),(function(t){t.reset()}));function A(){var t=ht,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function O(){this.next=this.b=this.a=null}P.prototype.add=function(t,e){var n=I.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},O.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},O.prototype.reset=function(){this.next=this.b=this.a=null};var $=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(r(t))return r(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},M=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=r(t)?t.split(""):t,a=0;a<i;a++)a in o&&e.call(n,o[a],a,t)},D=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),o=r(t)?t.split(""):t,a=0;a<n;a++)a in o&&(i[a]=e.call(void 0,o[a],a,t));return i},N=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=r(t)?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t))return!0;return!1};function R(t,e){return 0<=$(t,e)}function L(t,e){var n;return(n=0<=(e=$(t,e)))&&Array.prototype.splice.call(t,e,1),n}function j(t,e){!function(t,e){for(var n=r(t)?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function F(t){return Array.prototype.concat.apply([],arguments)}function B(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var V,H=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},U=/&/g,q=/</g,z=/>/g,W=/"/g,G=/'/g,K=/\x00/g,Q=/[\x00&<>"']/;function Y(t,e){return-1!=t.indexOf(e)}function X(t,e){return t<e?-1:t>e?1:0}t:{var Z=n.navigator;if(Z){var J=Z.userAgent;if(J){V=J;break t}}V=""}function tt(t){return Y(V,t)}function et(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function nt(t){for(var e in t)return!1;return!0}function rt(t){var e,n={};for(e in t)n[e]=t[e];return n}var it,ot,at="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<at.length;o++)n=at[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ct(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function ut(t){return Q.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(U,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(q,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(z,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(W,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(G,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(K,"&#0;"))),t}function lt(t){n.setTimeout((function(){throw t}),0)}function dt(t,e){ot||function(){if(n.Promise&&n.Promise.resolve){var t=n.Promise.resolve(void 0);ot=function(){t.then(pt)}}else ot=function(){var t=pt;!f(n.setImmediate)||n.Window&&n.Window.prototype&&!tt("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(it||(it=function(){var t=n.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!tt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=y((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!tt("Trident")&&!tt("MSIE")){var e=new t,r={},i=r;return e.port1.onmessage=function(){if(void 0!==r.next){var t=(r=r.next).xb;r.xb=null,t()}},function(t){i.next={xb:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}}()),it(t)):n.setImmediate(t)}}(),ft||(ot(),ft=!0),ht.add(t,e)}var ft=!1,ht=new P;function pt(){for(var t;t=A();){try{t.a.call(t.b)}catch(e){lt(e)}T(I,t)}ft=!1}function mt(t,e){if(this.a=gt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=s)try{var n=this;t.call(e,(function(t){Pt(n,vt,t)}),(function(t){if(!(t instanceof Nt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Pt(n,yt,t)}))}catch(r){Pt(this,yt,r)}}var gt=0,vt=2,yt=3;function bt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}bt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var _t=new k((function(){return new bt}),(function(t){t.reset()}));function wt(t,e,n){var r=_t.get();return r.g=t,r.b=e,r.f=n,r}function St(t){if(t instanceof mt)return t;var e=new mt(s);return Pt(e,vt,t),e}function Et(t){return new mt((function(e,n){n(t)}))}function xt(t,e,n){It(t,e,n,null)||dt(b(e,t))}function Ct(t){return new mt((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Eb:!0,value:o}:{Eb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)xt(t[o],b(i,o,!0),b(i,o,!1));else e(r)}))}function kt(t,e){t.b||t.a!=vt&&t.a!=yt||At(t),t.f?t.f.next=e:t.b=e,t.f=e}function Tt(t,e,n,r){var i=wt(null,null,null);return i.a=new mt((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Nt?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,kt(t,i),i.a}function Pt(t,e,n){t.a==gt&&(t===n&&(e=yt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,It(n,t.Pc,t.Qc,t)||(t.i=n,t.a=e,t.c=null,At(t),e!=yt||n instanceof Nt||function(t,e){t.g=!0,dt((function(){t.g&&Dt.call(null,e)}))}(t,n)))}function It(t,e,n,r){if(t instanceof mt)return kt(t,wt(e||s,n||null,r)),!0;if(S(t))return t.then(e,n,r),!0;if(h(t))try{var i=t.then;if(f(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(i,t))}),o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function At(t){t.h||(t.h=!0,dt(t.Yb,t))}function Ot(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function $t(t,e,n,r){if(n==yt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Mt(e,n,r);else try{e.c?e.g.call(e.f):Mt(e,n,r)}catch(i){Dt.call(null,i)}T(_t,e)}function Mt(t,e,n){e==vt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}mt.prototype.then=function(t,e,n){return Tt(this,f(t)?t:null,f(e)?e:null,n)},mt.prototype.$goog_Thenable=!0,(t=mt.prototype).ia=function(t,e){return(t=wt(t,t,e)).c=!0,kt(this,t),this},t.s=function(t,e){return Tt(this,null,t,e)},t.cancel=function(t){this.a==gt&&dt((function(){!function t(e,n){if(e.a==gt)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==gt&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Ot(r),$t(r,o,yt,n)))}e.c=null}else Pt(e,yt,n)}(this,new Nt(t))}),this)},t.Pc=function(t){this.a=gt,Pt(this,vt,t)},t.Qc=function(t){this.a=gt,Pt(this,yt,t)},t.Yb=function(){for(var t;t=Ot(this);)$t(this,t,this.a,this.i);this.h=!1};var Dt=lt;function Nt(t){E.call(this,t)}function Rt(){0!=Lt&&(jt[this[p]||(this[p]=++m)]=this),this.qa=this.qa,this.ja=this.ja}w(Nt,E),Nt.prototype.name="cancel";var Lt=0,jt={};function Ft(t){if(!t.qa&&(t.qa=!0,t.va(),0!=Lt)){var e=t[p]||(t[p]=++m);if(0!=Lt&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete jt[e]}}function Bt(t){return Bt[" "](t),t}Rt.prototype.qa=!1,Rt.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},Bt[" "]=s;var Vt,Ht,Ut=tt("Opera"),qt=tt("Trident")||tt("MSIE"),zt=tt("Edge"),Wt=zt||qt,Gt=tt("Gecko")&&!(Y(V.toLowerCase(),"webkit")&&!tt("Edge"))&&!(tt("Trident")||tt("MSIE"))&&!tt("Edge"),Kt=Y(V.toLowerCase(),"webkit")&&!tt("Edge");function Qt(){var t=n.document;return t?t.documentMode:void 0}t:{var Yt="",Xt=(Ht=V,Gt?/rv:([^\);]+)(\)|;)/.exec(Ht):zt?/Edge\/([\d\.]+)/.exec(Ht):qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ht):Kt?/WebKit\/(\S+)/.exec(Ht):Ut?/(?:Version)[ \/]?(\S+)/.exec(Ht):void 0);if(Xt&&(Yt=Xt?Xt[1]:""),qt){var Zt=Qt();if(null!=Zt&&Zt>parseFloat(Yt)){Vt=String(Zt);break t}}Vt=Yt}var Jt,te={};function ee(t){return function(t,e){var n=te;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=H(String(Vt)).split("."),r=H(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=X(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||X(0==a[2].length,0==s[2].length)||X(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var ne=n.document;Jt=ne&&qt?Qt()||("CSS1Compat"==ne.compatMode?parseInt(Vt,10):5):void 0;var re=Object.freeze||function(t){return t},ie=!qt||9<=Number(Jt),oe=qt&&!ee("9"),ae=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{n.addEventListener("test",s,e),n.removeEventListener("test",s,e)}catch(r){}return t}();function se(t,e){this.type=t,this.b=this.target=e,this.Kb=!0}function ce(t,e){if(se.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Gt){t:{try{Bt(e.nodeName);var o=!0;break t}catch(a){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=r(t.pointerType)?t.pointerType:ue[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}se.prototype.preventDefault=function(){this.Kb=!1},w(ce,se);var ue=re({2:"touch",3:"pen",4:"mouse"});ce.prototype.preventDefault=function(){ce.pb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,oe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},ce.prototype.f=function(){return this.a};var le="closure_listenable_"+(1e6*Math.random()|0),de=0;function fe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ma=i,this.key=++de,this.oa=this.Ia=!1}function he(t){t.oa=!0,t.listener=null,t.proxy=null,t.src=null,t.Ma=null}function pe(t){this.src=t,this.a={},this.b=0}function me(t,e){var n=e.type;n in t.a&&L(t.a[n],e)&&(he(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function ge(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.oa&&o.listener==e&&o.capture==!!n&&o.Ma==r)return i}return-1}pe.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ge(t,e,r,i);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new fe(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var ve="closure_lm_"+(1e6*Math.random()|0),ye={};function be(t,e,n,r,i){if(r&&r.once)we(t,e,n,r,i);else if(l(e))for(var o=0;o<e.length;o++)be(t,e[o],n,r,i);else n=Ae(n),t&&t[le]?$e(t,e,n,h(r)?!!r.capture:!!r,i):_e(t,e,n,!1,r,i)}function _e(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=h(i)?!!i.capture:!!i,s=Pe(t);if(s||(t[ve]=s=new pe(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=Te,e=ie?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ae||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(xe(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function we(t,e,n,r,i){if(l(e))for(var o=0;o<e.length;o++)we(t,e[o],n,r,i);else n=Ae(n),t&&t[le]?Me(t,e,n,h(r)?!!r.capture:!!r,i):_e(t,e,n,!0,r,i)}function Se(t,e,n,r,i){if(l(e))for(var o=0;o<e.length;o++)Se(t,e[o],n,r,i);else r=h(r)?!!r.capture:!!r,n=Ae(n),t&&t[le]?(t=t.o,(e=String(e).toString())in t.a&&-1<(n=ge(o=t.a[e],n,r,i))&&(he(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Pe(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ge(e,n,r,i)),(n=-1<t?e[t]:null)&&Ee(n))}function Ee(t){if("number"!=typeof t&&t&&!t.oa){var e=t.src;if(e&&e[le])me(e.o,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xe(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Pe(e))?(me(n,t),0==n.b&&(n.src=null,e[ve]=null)):he(t)}}}function xe(t){return t in ye?ye[t]:ye[t]="on"+t}function Ce(t,e,n,r){var i=!0;if((t=Pe(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.oa&&(o=ke(o,r),i=i&&!1!==o)}return i}function ke(t,e){var n=t.listener,r=t.Ma||t.src;return t.Ia&&Ee(t),n.call(r,e)}function Te(t,e){if(t.oa)return!0;if(!ie){if(!e)t:{e=["window","event"];for(var r=n,i=0;i<e.length;i++)if(null==(r=r[e[i]])){e=null;break t}e=r}if(e=new ce(i=e,this),r=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(s){o=!0}(o||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=e.b;o;o=o.parentNode)i.push(o);for(t=t.type,o=i.length-1;0<=o;o--){e.b=i[o];var a=Ce(i[o],t,!0,e);r=r&&a}for(o=0;o<i.length;o++)e.b=i[o],a=Ce(i[o],t,!1,e),r=r&&a}return r}return ke(t,new ce(e,this))}function Pe(t){return(t=t[ve])instanceof pe?t:null}var Ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ae(t){return f(t)?t:(t[Ie]||(t[Ie]=function(e){return t.handleEvent(e)}),t[Ie])}function Oe(){Rt.call(this),this.o=new pe(this),this.Rb=this,this.Wa=null}function $e(t,e,n,r,i){t.o.add(String(e),n,!1,r,i)}function Me(t,e,n,r,i){t.o.add(String(e),n,!0,r,i)}function De(t,e,n,r){if(!(e=t.o.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.oa&&a.capture==n){var s=a.listener,c=a.Ma||a.src;a.Ia&&me(t.o,a),i=!1!==s.call(c,r)&&i}}return i&&0!=r.Kb}function Ne(t,e,r){if(f(t))r&&(t=y(t,r));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=y(t.handleEvent,t)}return 2147483647<Number(e)?-1:n.setTimeout(t,e||0)}function Re(t){var e=null;return new mt((function(n,r){-1==(e=Ne((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw n.clearTimeout(e),t}))}function Le(t){if(t.S&&"function"==typeof t.S)return t.S();if(r(t))return t.split("");if(d(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function je(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(d(t)||r(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function Fe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Fe)for(n=t.U(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Be(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ve(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ve(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ve(t,e){return Object.prototype.hasOwnProperty.call(t,e)}w(Oe,Rt),Oe.prototype[le]=!0,Oe.prototype.addEventListener=function(t,e,n,r){be(this,t,e,n,r)},Oe.prototype.removeEventListener=function(t,e,n,r){Se(this,t,e,n,r)},Oe.prototype.dispatchEvent=function(t){var e,n=this.Wa;if(n)for(e=[];n;n=n.Wa)e.push(n);n=this.Rb;var i=t.type||t;if(r(t))t=new se(t,n);else if(t instanceof se)t.target=t.target||n;else{var o=t;st(t=new se(i,n),o)}if(o=!0,e)for(var a=e.length-1;0<=a;a--){var s=t.b=e[a];o=De(s,i,!0,t)&&o}if(o=De(s=t.b=n,i,!0,t)&&o,o=De(s,i,!1,t)&&o,e)for(a=0;a<e.length;a++)o=De(s=t.b=e[a],i,!1,t)&&o;return o},Oe.prototype.va=function(){if(Oe.pb.va.call(this),this.o){var t,e=this.o;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)he(n[r]);delete e.a[t],e.b--}}this.Wa=null},(t=Fe.prototype).S=function(){Be(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.U=function(){return Be(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Ve(this.b,t)?this.b[t]:e},t.set=function(t,e){Ve(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var He=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ue(t,e){if(this.b=this.o=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof Ue){this.f=void 0!==e?e:t.f,qe(this,t.c),this.o=t.o,this.b=t.b,ze(this,t.i),this.g=t.g,e=t.a;var n=new an;n.c=e.c,e.a&&(n.a=new Fe(e.a),n.b=e.b),We(this,n),this.h=t.h}else t&&(n=String(t).match(He))?(this.f=!!e,qe(this,n[1]||"",!0),this.o=Xe(n[2]||""),this.b=Xe(n[3]||"",!0),ze(this,n[4]),this.g=Xe(n[5]||"",!0),We(this,n[6]||"",!0),this.h=Xe(n[7]||"")):(this.f=!!e,this.a=new an(null,this.f))}function qe(t,e,n){t.c=n?Xe(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function ze(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function We(t,e,n){e instanceof an?(t.a=e,function(t,e){e&&!t.f&&(sn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(un(this,e),dn(this,n,t))}),t)),t.f=e}(t.a,t.f)):(n||(e=Ze(e,rn)),t.a=new an(e,t.f))}function Ge(t,e,n){t.a.set(e,n)}function Ke(t,e){return t.a.get(e)}function Qe(t){return t instanceof Ue?new Ue(t):new Ue(t,void 0)}function Ye(t,e){var n=new Ue(null,void 0);return qe(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function Xe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ze(t,e,n){return r(t)?(t=encodeURI(t).replace(e,Je),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Je(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ue.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Ze(e,tn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(Ze(e,tn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ze(n,"/"==n.charAt(0)?nn:en,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Ze(n,on)),t.join("")};var tn=/[#\/\?@]/g,en=/[#\?:]/g,nn=/[#\?]/g,rn=/[#\?@]/g,on=/#/g;function an(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function sn(t){t.a||(t.a=new Fe,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function cn(t){var e=je(t);if(void 0===e)throw Error("Keys are undefined");var n=new an(null,void 0);t=Le(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];l(o)?dn(n,i,o):n.add(i,o)}return n}function un(t,e){sn(t),e=fn(t,e),Ve(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ve((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Be(t)))}function ln(t,e){return sn(t),e=fn(t,e),Ve(t.a.b,e)}function dn(t,e,n){un(t,e),0<n.length&&(t.c=null,t.a.set(fn(t,e),B(n)),t.b+=n.length)}function fn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=an.prototype).add=function(t,e){sn(this),this.c=null,t=fn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){sn(this),this.a.forEach((function(n,r){M(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.U=function(){sn(this);for(var t=this.a.S(),e=this.a.U(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.S=function(t){sn(this);var e=[];if(r(t))ln(this,t)&&(e=F(e,this.a.get(fn(this,t))));else{t=this.a.S();for(var n=0;n<t.length;n++)e=F(e,t[n])}return e},t.set=function(t,e){return sn(this),this.c=null,ln(this,t=fn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.S(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var hn=!qt||9<=Number(Jt);function pn(t,e){this.a=t===vn&&e||"",this.b=gn}function mn(t){return t instanceof pn&&t.constructor===pn&&t.b===gn?t.a:(C("expected object of type Const, got '"+t+"'"),"type_error:Const")}pn.prototype.na=!0,pn.prototype.ma=function(){return this.a},pn.prototype.toString=function(){return"Const{"+this.a+"}"};var gn={},vn={};function yn(){this.a="",this.b=En}function bn(t){return t instanceof yn&&t.constructor===yn&&t.b===En?t.a:(C("expected object of type TrustedResourceUrl, got '"+t+"' of type "+c(t)),"type_error:TrustedResourceUrl")}function _n(t,e){var n=mn(t);if(!Sn.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=new yn;return e.a=t,e}(t=n.replace(wn,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof pn?mn(t):encodeURIComponent(String(t))})))}yn.prototype.na=!0,yn.prototype.ma=function(){return this.a.toString()},yn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var wn=/%{(\w+)}/g,Sn=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,En={};function xn(){this.a="",this.b=Pn}function Cn(t){return t instanceof xn&&t.constructor===xn&&t.b===Pn?t.a:(C("expected object of type SafeUrl, got '"+t+"' of type "+c(t)),"type_error:SafeUrl")}xn.prototype.na=!0,xn.prototype.ma=function(){return this.a.toString()},xn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var kn=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Tn(t){return t instanceof xn?t:(t="object"==typeof t&&t.na?t.ma():String(t),kn.test(t)||(t="about:invalid#zClosurez"),In(t))}var Pn={};function In(t){var e=new xn;return e.a=t,e}function An(){this.a="",this.b=On}In("about:blank"),An.prototype.na=!0,An.prototype.ma=function(){return this.a.toString()},An.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var On={};function $n(t){var e=new An;return e.a=t,e}function Mn(t){var e=document;return r(t)?e.getElementById(t):t}function Dn(t,e){et(e,(function(e,n){e&&"object"==typeof e&&e.na&&(e=e.ma()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Nn.hasOwnProperty(n)?t.setAttribute(Nn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}$n("<!DOCTYPE html>"),$n(""),$n("<br>");var Nn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Rn(t){if(t&&"number"==typeof t.length){if(h(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}function Ln(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(l(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Vn(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Vn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new jn,t,e),e.join("")}function jn(){}var Fn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Bn=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Vn(t,e){e.push('"',t.replace(Bn,(function(t){var e=Fn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Fn[t]=e),e})),'"')}function Hn(){var t=sr();return qt&&!!Jt&&11==Jt||/Edge\/\d+/.test(t)}function Un(){return n.window&&n.window.location.href||self&&self.location&&self.location.href||""}function qn(t,e){e=e||n.window;var r="about:blank";t&&(r=Cn(Tn(t)).toString()),e.location.href=r}function zn(t){return!!((t=(t||sr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Wn(t){t=t||n.window;try{t.close()}catch(e){}}function Gn(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=sr().toLowerCase(),r&&(e.target=r,Y(n,"crios/")&&(e.target="_blank")),ir(sr())==nr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof xn?n:Tn(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((tt("iPhone")&&!tt("iPod")&&!tt("iPad")||tt("iPad")||tt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),e instanceof xn||e instanceof xn||(e="object"==typeof e&&e.na?e.ma():String(e),kn.test(e)||(e="about:invalid#zClosurez"),e=In(e)),a.href=Cn(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=Cn(e).toString(),a&&(Wt&&Y(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=$n('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ut(t)+'">'),a.document.write(function(t){return t instanceof An&&t.constructor===An&&t.b===On?t.a:(C("expected object of type SafeHtml, got '"+t+"' of type "+c(t)),"type_error:SafeHtml")}(t)),a.document.close())):(a=r.open(Cn(e).toString(),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var Kn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qn=/^[^@]+@[^@]+$/;function Yn(){var t=null;return new mt((function(e){"complete"==n.document.readyState?e():(t=function(){e()},we(window,"load",t))})).s((function(e){throw Se(window,"load",t),e}))}function Xn(t){return t=t||sr(),!("file:"!==fr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zn(){var t=n.window;try{return!(!t||t==t.top)}catch(e){return!1}}function Jn(){return void 0!==n.WorkerGlobalScope&&"function"==typeof n.importScripts}function tr(){return bg.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":bg.a.INTERNAL.hasOwnProperty("node")?"Node":Jn()?"Worker":"Browser"}function er(){var t=tr();return"ReactNative"===t||"Node"===t}var nr="Firefox",rr="Chrome";function ir(t){var e=t.toLowerCase();return Y(e,"opera/")||Y(e,"opr/")||Y(e,"opios/")?"Opera":Y(e,"iemobile")?"IEMobile":Y(e,"msie")||Y(e,"trident/")?"IE":Y(e,"edge/")?"Edge":Y(e,"firefox/")?nr:Y(e,"silk/")?"Silk":Y(e,"blackberry")?"Blackberry":Y(e,"webos")?"Webos":!Y(e,"safari/")||Y(e,"chrome/")||Y(e,"crios/")||Y(e,"android")?!Y(e,"chrome/")&&!Y(e,"crios/")||Y(e,"edge/")?Y(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":rr:"Safari"}var or={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};function ar(t,e){e=e||[];var n,r=[],i={};for(n in or)i[or[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=tr())?r=ir(i=sr()):"Worker"===r&&(r=ir(i=sr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function sr(){return n.navigator&&n.navigator.userAgent||""}function cr(t,e){t=t.split("."),e=e||n;for(var r=0;r<t.length&&"object"==typeof e&&null!=e;r++)e=e[t[r]];return r!=t.length&&(e=void 0),e}function ur(){try{var t=n.localStorage,e=vr();if(t)return t.setItem(e,"1"),t.removeItem(e),!Hn()||!!n.indexedDB}catch(r){return Jn()&&!!n.indexedDB}return!1}function lr(){return(dr()||"chrome-extension:"===fr()||Xn())&&!er()&&ur()&&!Jn()}function dr(){return"http:"===fr()||"https:"===fr()}function fr(){return n.location&&n.location.protocol||null}function hr(t){return!zn(t=t||sr())&&ir(t)!=nr}function pr(t){return void 0===t?null:Ln(t)}function mr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function gr(t){if(null!==t)return JSON.parse(t)}function vr(t){return t||Math.floor(1e9*Math.random()).toString()}function yr(t){return"Safari"!=ir(t=t||sr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function br(){var t=n.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var r=0;r<t.CP.length;r++)t.CP[r]=null}function _r(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=sr(),e=tr(),this.b=zn(t)||"ReactNative"===e}function wr(){var t=n.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Sr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Er(){return!(!cr("fireauth.oauthhelper",n)&&!cr("fireauth.iframe",n))}_r.prototype.get=function(){var t=n.navigator;return!t||"boolean"!=typeof t.onLine||!dr()&&"chrome-extension:"!==fr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var xr,Cr={};function kr(t){Cr[t]||(Cr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Tr={};Object.defineProperty(Tr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Tr,"abcd",{configurable:!0,enumerable:!0,value:2}),xr=2==Tr.abcd}catch(Ht){xr=!1}function Pr(t,e,n){xr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Ir(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Pr(t,n,e[n])}function Ar(t){var e={};return Ir(e,t),e}function Or(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Pr(e,n,Or(t[n]));return e}function $r(t){var e={},n=t[Dr],r=t[Nr];if(!(t=t[Rr])||t!=Mr&&!n)throw Error("Invalid provider user info!");e[jr]=r||null,e[Lr]=n||null,Pr(this,Br,t),Pr(this,Fr,Or(e))}var Mr="EMAIL_SIGNIN",Dr="email",Nr="newEmail",Rr="requestType",Lr="email",jr="fromEmail",Fr="data",Br="operation";function Vr(t,e){this.code=Ur+t,this.message=e||qr[t]||""}function Hr(t){var e=t&&t.code;return e?new Vr(e.substring(Ur.length),t.message):null}w(Vr,Error),Vr.prototype.w=function(){return{code:this.code,message:this.message}},Vr.prototype.toJSON=function(){return this.w()};var Ur="auth/",qr={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function zr(t){var e=t[Yr];if(void 0===e)throw new Vr("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Vr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Wr];if(n&&"object"==typeof n){e=n[Jr];var r=n[Xr];if(n=n[Zr],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Vr("argument-error",Xr+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Vr("argument-error",Zr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Vr("argument-error",Jr+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Vr("missing-android-pkg-name")}}else if(void 0!==n)throw new Vr("argument-error",Wr+" property must be a non null object when specified.");if(this.f=null,(e=t[Qr])&&"object"==typeof e){if("string"==typeof(e=e[ti])&&e.length)this.f=e;else if(void 0!==e)throw new Vr("argument-error",ti+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Vr("argument-error",Qr+" property must be a non null object when specified.");if(void 0!==(e=t[Kr])&&"boolean"!=typeof e)throw new Vr("argument-error",Kr+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Gr])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Vr("argument-error",Gr+" property must be a non empty string when specified.");this.i=t||null}var Wr="android",Gr="dynamicLinkDomain",Kr="handleCodeInApp",Qr="iOS",Yr="url",Xr="installApp",Zr="minimumVersion",Jr="packageName",ti="bundleId";function ei(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var ni=null,ri=null;function ii(t){this.c=t.sub,_(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function oi(t){return(t=ai(t))&&t.sub&&t.iss&&t.aud&&t.exp?new ii(t):null}function ai(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=ri[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!ni){ni={},ri={};for(var t=0;65>t;t++)ni[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),ri[ni[t]]=t,62<=t&&(ri["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(r){}return null}ii.prototype.f=function(){return this.b};var si,ci={bd:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",jb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function ui(t){for(var e in ci)if(ci[e].id===t)return{firebaseEndpoint:(t=ci[e]).bb,secureTokenEndpoint:t.jb};return null}si=ui("__EID__")?"__EID__":void 0;var li="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),di=["client_id","response_type","scope","redirect_uri","state"],fi={Xc:{Na:"locale",Ba:500,Aa:600,Oa:"facebook.com",ib:di},Zc:{Na:null,Ba:500,Aa:620,Oa:"github.com",ib:di},$c:{Na:"hl",Ba:515,Aa:680,Oa:"google.com",ib:di},fd:{Na:"lang",Ba:485,Aa:705,Oa:"twitter.com",ib:li}};function hi(t){for(var e in fi)if(fi[e].Oa==t)return fi[e];return null}function pi(t){var e={};e["facebook.com"]=bi,e["google.com"]=wi,e["github.com"]=_i,e["twitter.com"]=Si;var n=t&&t[gi];try{if(n)return e[n]?new e[n](t):new yi(t);if(void 0!==t[mi])return new vi(t)}catch(r){}return null}var mi="idToken",gi="providerId";function vi(t){var e=t[gi];if(!e&&t[mi]){var n=oi(t[mi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Pr(this,"providerId",e),Pr(this,"isNewUser",n)}function yi(t){vi.call(this,t),Pr(this,"profile",Or((t=gr(t.rawUserInfo||"{}"))||{}))}function bi(t){if(yi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function _i(t){if(yi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Pr(this,"username",this.profile&&this.profile.login||null)}function wi(t){if(yi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Si(t){if(yi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Pr(this,"username",t.screenName||null)}function Ei(t){this.a=Qe(t)}function xi(t){var e=Qe(t),n=Ke(e,"link"),r=Ke(Qe(n),"link");return e=Ke(e,"deep_link_id"),Ke(Qe(e),"link")||e||r||n||t}function Ci(){}function ki(t,e){return t.then((function(t){if(t[fa]){var n=oi(t[fa]);if(!n||e!=n.c)throw new Vr("user-mismatch");return t}throw new Vr("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==Ur+"user-not-found"?new Vr("user-mismatch"):t}))}function Ti(t,e){if(!e)throw new Vr("internal-error","failed to construct a credential");this.a=e,Pr(this,"providerId",t),Pr(this,"signInMethod",t)}function Pi(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Ii(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Ti(t.providerId,t.pendingToken)}catch(e){}return null}function Ai(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Pr(this,"idToken",e.idToken),e.accessToken&&Pr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Pr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Vr("internal-error","failed to construct a credential");Pr(this,"accessToken",e.oauthToken),Pr(this,"secret",e.oauthTokenSecret)}Pr(this,"providerId",t),Pr(this,"signInMethod",n)}function Oi(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:cn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function $i(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Ai(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Mi(t,e){this.Fc=e||[],Ir(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.eb=(hi(t)||{}).Na||null,this.ab=null}function Di(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new Vr("argument-error",'SAML provider IDs must be prefixed with "saml."');Mi.call(this,t,[])}function Ni(t){Mi.call(this,t,di),this.a=[]}function Ri(){Ni.call(this,"facebook.com")}function Li(t){if(!t)throw new Vr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return h(t)&&(e=t.accessToken),(new Ri).credential({accessToken:e})}function ji(){Ni.call(this,"github.com")}function Fi(t){if(!t)throw new Vr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return h(t)&&(e=t.accessToken),(new ji).credential({accessToken:e})}function Bi(){Ni.call(this,"google.com"),this.ua("profile")}function Vi(t,e){var n=t;return h(t)&&(n=t.idToken,e=t.accessToken),(new Bi).credential({idToken:n,accessToken:e})}function Hi(){Mi.call(this,"twitter.com",li)}function Ui(t,e){var n=t;if(h(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Vr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ai("twitter.com",n,"twitter.com")}function qi(t,e,n){this.a=t,this.c=e,Pr(this,"providerId","password"),Pr(this,"signInMethod",n===Wi.EMAIL_LINK_SIGN_IN_METHOD?Wi.EMAIL_LINK_SIGN_IN_METHOD:Wi.EMAIL_PASSWORD_SIGN_IN_METHOD)}function zi(t){return t&&t.email&&t.password?new qi(t.email,t.password,t.signInMethod):null}function Wi(){Ir(this,{providerId:"password",isOAuthProvider:!1})}function Gi(t,e){if(!(e=Ki(e)))throw new Vr("argument-error","Invalid email link!");return new qi(t,e,Wi.EMAIL_LINK_SIGN_IN_METHOD)}function Ki(t){var e=Ke((t=new Ei(t=xi(t))).a,"oobCode")||null;return"signIn"===(Ke(t.a,"mode")||null)&&e?e:null}function Qi(t){if(!(t.Ua&&t.Ta||t.Fa&&t.$))throw new Vr("internal-error");this.a=t,Pr(this,"providerId","phone"),Pr(this,"signInMethod","phone")}function Yi(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return M(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Qi(e)}return null}function Xi(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Ua,code:t.a.Ta}}function Zi(t){try{this.a=t||bg.a.auth()}catch(e){throw new Vr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ir(this,{providerId:"phone",isOAuthProvider:!1})}function Ji(t,e){if(!t)throw new Vr("missing-verification-id");if(!e)throw new Vr("missing-verification-code");return new Qi({Ua:t,Ta:e})}function to(t){if(t.temporaryProof&&t.phoneNumber)return new Qi({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Vi(o,n);case"facebook.com":return Li(n);case"github.com":return Fi(n);case"twitter.com":return Ui(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new Ti(e,a):new Ai(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Ni(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function eo(t){if(!t.isOAuthProvider)throw new Vr("invalid-oauth-provider")}function no(t,e,n,r,i,o){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.h=o||null,this.a=i||null,!this.g&&!this.a)throw new Vr("invalid-auth-event");if(this.g&&this.a)throw new Vr("invalid-auth-event");if(this.g&&!this.f)throw new Vr("invalid-auth-event")}function ro(t){return(t=t||{}).type?new no(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Hr(t.error),t.postBody):null}function io(){this.b=null,this.a=[]}w(yi,vi),w(bi,yi),w(_i,yi),w(wi,yi),w(Si,yi),Ti.prototype.la=function(t){return Aa(t,Pi(this))},Ti.prototype.b=function(t,e){var n=Pi(this);return n.idToken=e,Oa(t,n)},Ti.prototype.f=function(t,e){return ki($a(t,Pi(this)),e)},Ti.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Ai.prototype.la=function(t){return Aa(t,Oi(this))},Ai.prototype.b=function(t,e){var n=Oi(this);return n.idToken=e,Oa(t,n)},Ai.prototype.f=function(t,e){return ki($a(t,Oi(this)),e)},Ai.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Mi.prototype.Da=function(t){return this.zb=rt(t),this},w(Di,Mi),w(Ni,Mi),Ni.prototype.ua=function(t){return R(this.a,t)||this.a.push(t),this},Ni.prototype.Fb=function(){return B(this.a)},Ni.prototype.credential=function(t,e){var n;if(!(n=h(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new Vr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ai(this.providerId,n,this.providerId)},w(Ri,Ni),Pr(Ri,"PROVIDER_ID","facebook.com"),Pr(Ri,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),w(ji,Ni),Pr(ji,"PROVIDER_ID","github.com"),Pr(ji,"GITHUB_SIGN_IN_METHOD","github.com"),w(Bi,Ni),Pr(Bi,"PROVIDER_ID","google.com"),Pr(Bi,"GOOGLE_SIGN_IN_METHOD","google.com"),w(Hi,Mi),Pr(Hi,"PROVIDER_ID","twitter.com"),Pr(Hi,"TWITTER_SIGN_IN_METHOD","twitter.com"),qi.prototype.la=function(t){return this.signInMethod==Wi.EMAIL_LINK_SIGN_IN_METHOD?ss(t,Ba,{email:this.a,oobCode:this.c}):ss(t,rs,{email:this.a,password:this.c})},qi.prototype.b=function(t,e){return this.signInMethod==Wi.EMAIL_LINK_SIGN_IN_METHOD?ss(t,Va,{idToken:e,email:this.a,oobCode:this.c}):ss(t,Xa,{idToken:e,email:this.a,password:this.c})},qi.prototype.f=function(t,e){return ki(this.la(t),e)},qi.prototype.w=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Ir(Wi,{PROVIDER_ID:"password"}),Ir(Wi,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ir(Wi,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Qi.prototype.la=function(t){return t.Va(Xi(this))},Qi.prototype.b=function(t,e){var n=Xi(this);return n.idToken=e,ss(t,os,n)},Qi.prototype.f=function(t,e){var n=Xi(this);return n.operation="REAUTH",ki(t=ss(t,as,n),e)},Qi.prototype.w=function(){var t={providerId:"phone"};return this.a.Ua&&(t.verificationId=this.a.Ua),this.a.Ta&&(t.verificationCode=this.a.Ta),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},Zi.prototype.Va=function(t,e){var n=this.a.b;return St(e.verify()).then((function(i){if(!r(i))throw new Vr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return ss(t,Qa,e)}(n,{phoneNumber:t,recaptchaToken:i}).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new Vr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Ir(Zi,{PROVIDER_ID:"phone"}),Ir(Zi,{PHONE_SIGN_IN_METHOD:"phone"}),no.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.i&&t.push(this.i),t.join("-")},no.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,error:this.a&&this.a.w()}};var oo,ao=null;function so(t){var e="unauthorized-domain",n=void 0,r=Qe(t);t=r.b,"chrome-extension"==(r=r.c)?n=ct("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=ct("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Vr.call(this,e,n)}function co(t,e,n){Vr.call(this,t,n),(t=e||{}).Ab&&Pr(this,"email",t.Ab),t.$&&Pr(this,"phoneNumber",t.$),t.credential&&Pr(this,"credential",t.credential)}function uo(t){if(t.code){var e=t.code||"";0==e.indexOf(Ur)&&(e=e.substring(Ur.length));var n={credential:to(t)};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.$=t.phoneNumber;else if(!n.credential)return new Vr(e,t.message||void 0);return new co(e,n,t.message)}return null}function lo(){}function fo(){}function ho(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function po(){}function mo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=y(this.fc,this),this.a.onerror=y(this.Gb,this),this.a.onprogress=y(this.gc,this),this.a.ontimeout=y(this.kc,this)}function go(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function vo(t,e,n){this.reset(t,e,n,void 0,void 0)}function yo(t){this.f=t,this.b=this.c=this.a=null}function bo(t,e){this.name=t,this.value=e}io.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=cr("universalLinks.subscribe",n))&&t(null,this.b))},io.prototype.unsubscribe=function(t){j(this.a,(function(e){return e==t}))},w(so,Vr),w(co,Vr),co.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.w();return e&&st(t,e),t},co.prototype.toJSON=function(){return this.w()},lo.prototype.c=null,w(fo,lo),fo.prototype.a=function(){var t=ho(this);return t?new ActiveXObject(t):new XMLHttpRequest},fo.prototype.b=function(){var t={};return ho(this)&&(t[0]=!0,t[1]=!0),t},oo=new fo,w(po,lo),po.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new mo;throw Error("Unsupported browser")},po.prototype.b=function(){return{}},(t=mo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,go(this,4)},t.Gb=function(){this.status=500,this.response=this.responseText="",go(this,4)},t.kc=function(){this.Gb()},t.gc=function(){this.status=200,go(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},vo.prototype.a=null,vo.prototype.reset=function(t,e,n,r,i){r||_(),delete this.a},bo.prototype.toString=function(){return this.name};var _o=new bo("SEVERE",1e3),wo=new bo("WARNING",900),So=new bo("CONFIG",700),Eo=new bo("FINE",500);yo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(C("Root logger has no level set."),null)}(this).value)for(f(e)&&(e=e()),t=new vo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var xo={},Co=null;function ko(t){var e;if(Co||(Co=new yo(""),xo[""]=Co,Co.c=So),!(e=xo[t])){e=new yo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ko(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,xo[t]=e}return e}function To(t,e){t&&t.log(Eo,e,void 0)}function Po(t){this.f=t}function Io(t){Oe.call(this),this.u=t,this.readyState=Ao,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ko("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}w(Po,lo),Po.prototype.a=function(){return new Io(this.f)},Po.prototype.b=function(t){return function(){return t}}({}),w(Io,Oe);var Ao=0;function Oo(t){t.c.read().then(t.ec.bind(t)).catch(t.La.bind(t))}function $o(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,Mo(t)}function Mo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Do(t){Oe.call(this),this.headers=new Fe,this.D=t||null,this.c=!1,this.A=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.m=No,this.v=this.O=!1}(t=Io.prototype).open=function(t,e){if(this.readyState!=Ao)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,Mo(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.g,e)).then(this.jc.bind(this),this.La.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,$o(this,!1)),this.readyState=Ao},t.jc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,Mo(this)),this.a&&(this.readyState=3,Mo(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.hc.bind(this),this.La.bind(this)):void 0!==n.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,Oo(this)):t.text().then(this.ic.bind(this),this.La.bind(this)))))},t.ec=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?$o(this,!0):Mo(this),3==this.readyState&&Oo(this)}},t.ic=function(t){this.a&&(this.response=this.responseText=t,$o(this,!0))},t.hc=function(t){this.a&&(this.response=t,$o(this,!0))},t.La=function(t){var e=this.h;e&&e.log(wo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&$o(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(wo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(wo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},w(Do,Oe);var No="";Do.prototype.b=ko("goog.net.XhrIo");var Ro=/^https?$/i,Lo=["POST","PUT"];function jo(t){return"content-type"==t.toLowerCase()}function Fo(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Bo(t),Ho(t)}function Bo(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Vo(t){if(t.c&&void 0!==e)if(t.A[1]&&4==qo(t)&&2==zo(t))To(t.b,Wo(t,"Local request error detected and ignored"));else if(t.i&&4==qo(t))Ne(t.Jb,0,t);else if(t.dispatchEvent("readystatechange"),4==qo(t)){To(t.b,Wo(t,"Request complete")),t.c=!1;try{var r,i=zo(t);t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break t;default:o=!1}if(!(r=o)){var a;if(a=0===i){var s=String(t.l).match(He)[1]||null;if(!s&&n.self&&n.self.location){var c=n.self.location.protocol;s=c.substr(0,c.length-1)}a=!Ro.test(s?s.toLowerCase():"")}r=a}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<qo(t)?t.a.statusText:""}catch(l){To(t.b,"Can not get status: "+l.message),u=""}t.h=u+" ["+zo(t)+"]",Bo(t)}}finally{Ho(t)}}}function Ho(t,e){if(t.a){Uo(t);var n=t.a,r=t.A[0]?s:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(_o,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Uo(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(n.clearTimeout(t.u),t.u=null)}function qo(t){return t.a?t.a.readyState:0}function zo(t){try{return 2<qo(t)?t.a.status:-1}catch(e){return-1}}function Wo(t,e){return e+" ["+t.N+" "+t.l+" "+zo(t)+"]"}function Go(t){var e=ia;this.g=[],this.v=e,this.u=t||null,this.f=this.a=!1,this.c=void 0,this.l=this.A=this.i=!1,this.h=0,this.b=null,this.o=0}function Ko(t,e,n){t.a=!0,t.c=n,t.f=!e,Zo(t)}function Qo(t){if(t.a){if(!t.l)throw new Jo(t);t.l=!1}}function Yo(t,e,n,r){t.g.push([e,n,r]),t.a&&Zo(t)}function Xo(t){return N(t.g,(function(t){return f(t[1])}))}function Zo(t){if(t.h&&t.a&&Xo(t)){var e=t.h,r=na[e];r&&(n.clearTimeout(r.a),delete na[e]),t.h=0}t.b&&(t.b.o--,delete t.b),e=t.c;for(var i=r=!1;t.g.length&&!t.i;){var o=t.g.shift(),a=o[0],s=o[1];if(o=o[2],a=t.f?s:a)try{var c=a.call(o||t.u,e);void 0!==c&&(t.f=t.f&&(c==e||c instanceof Error),t.c=e=c),(S(e)||"function"==typeof n.Promise&&e instanceof n.Promise)&&(i=!0,t.i=!0)}catch(u){e=u,t.f=!0,Xo(t)||(r=!0)}}t.c=e,i&&(c=y(t.m,t,!0),i=y(t.m,t,!1),e instanceof Go?(Yo(e,c,i),e.A=!0):e.then(c,i)),r&&(e=new ea(e),na[e.a]=e,t.h=e.a)}function Jo(){E.call(this)}function ta(){E.call(this)}function ea(t){this.a=n.setTimeout(y(this.c,this),0),this.b=t}(t=Do.prototype).Ga=function(){void 0!==e&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",To(this.b,Wo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(To(this.b,Wo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ho(this))},t.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ho(this,!0)),Do.pb.va.call(this)},t.Jb=function(){this.qa||(this.I||this.i||this.f?Vo(this):this.yc())},t.yc=function(){Vo(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case No:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(_o,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return To(this.b,"Can not get response: "+e.message),null}},Go.prototype.cancel=function(t){if(this.a)this.c instanceof Go&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.o--,0>=e.o&&e.cancel())}this.v?this.v.call(this.u,this):this.l=!0,this.a||(t=new ta(this),Qo(this),Ko(this,!1,t))}},Go.prototype.m=function(t,e){this.i=!1,Ko(this,t,e)},Go.prototype.then=function(t,e,n){var r,i,o=new mt((function(t,e){r=t,i=e}));return Yo(this,r,(function(t){t instanceof ta?o.cancel():i(t)})),o.then(t,e,n)},Go.prototype.$goog_Thenable=!0,w(Jo,E),Jo.prototype.message="Deferred has already fired",Jo.prototype.name="AlreadyCalledError",w(ta,E),ta.prototype.message="Deferred was canceled",ta.prototype.name="CanceledError",ea.prototype.c=function(){throw delete na[this.a],this.b};var na={};function ra(t){var e={},r=e.document||document,i=bn(t).toString(),s=document.createElement("SCRIPT"),c={Lb:s,Ga:void 0},u=new Go(c),l=null,d=null!=e.timeout?e.timeout:5e3;return 0<d&&(l=window.setTimeout((function(){oa(s,!0);var t=new ca(sa,"Timeout reached for loading script "+i);Qo(u),Ko(u,!1,t)}),d),c.Ga=l),s.onload=s.onreadystatechange=function(){s.readyState&&"loaded"!=s.readyState&&"complete"!=s.readyState||(oa(s,e.hd||!1,l),Qo(u),Ko(u,!0,null))},s.onerror=function(){oa(s,!0,l);var t=new ca(aa,"Error while loading script "+i);Qo(u),Ko(u,!1,t)},st(c=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Dn(s,c),function(t,e){t.src=bn(e),null===a&&(a=(e=(e=n.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&o.test(e)?e:""),(e=a)&&t.setAttribute("nonce",e)}(s,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(r).appendChild(s),u}function ia(){if(this&&this.Lb){var t=this.Lb;t&&"SCRIPT"==t.tagName&&oa(t,!0,this.Ga)}}function oa(t,e,r){null!=r&&n.clearTimeout(r),t.onload=s,t.onerror=s,t.onreadystatechange=s,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var aa=0,sa=1;function ca(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),E.call(this,n),this.code=t}function ua(t){this.f=t}function la(t,e,r){if(this.b=t,this.i=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.o=t.secureTokenTimeout||ha,this.f=rt(t.secureTokenHeaders||pa),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||ma,this.a=rt(t.firebaseHeaders||ga),r&&(this.a["X-Client-Version"]=r,this.f["X-Client-Version"]=r),r="Node"==tr(),!(r=n.XMLHttpRequest||r&&bg.a.INTERNAL.node&&bg.a.INTERNAL.node.XMLHttpRequest)&&!Jn())throw new Vr("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,this.c=Jn()?new Po(self):er()?new ua(r):new po}w(ca,E),w(ua,lo),ua.prototype.a=function(){return new this.f},ua.prototype.b=function(){return{}};var da,fa="idToken",ha=new _r(3e4,6e4),pa={"Content-Type":"application/x-www-form-urlencoded"},ma=new _r(3e4,6e4),ga={"Content-Type":"application/json"};function va(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ya(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function ba(t,e,r,i,o,a,s){(function(){var t=sr();return!((t=ir(t)!=rr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||qt&&Jt&&!(9<Jt))})()||Jn()?t=y(t.m,t):(da||(da=new mt((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(n[wa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Yo(t,null,e,void 0)}(ra(_n(_a,{onload:wa})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=y(t.l,t)),t(e,r,i,o,a,s)}la.prototype.m=function(t,e,i,o,a,s){if(Jn()&&(void 0===n.fetch||void 0===n.Headers||void 0===n.Request))throw new Vr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var c=new Do(this.c);if(s){c.g=Math.max(0,s);var u=setTimeout((function(){c.dispatchEvent("timeout")}),s)}$e(c,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return To(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),Me(c,"ready",(function(){u&&clearTimeout(u),Ft(this)})),Me(c,"timeout",(function(){u&&clearTimeout(u),Ft(this),e&&e(null)})),function(t,e,i,o,a){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);i=i?i.toUpperCase():"GET",t.l=e,t.h="",t.N=i,t.G=!1,t.c=!0,t.a=t.D?t.D.a():oo.a(),t.A=function(t){return t.c||(t.c=t.b())}(t.D?t.D:oo),t.a.onreadystatechange=y(t.Jb,t);try{To(t.b,Wo(t,"Opening Xhr")),t.I=!0,t.a.open(i,String(e),!0),t.I=!1}catch(c){return To(t.b,Wo(t,"Error opening Xhr: "+c.message)),void Fo(t,c)}e=o||"";var s=new Fe(t.headers);a&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||r(t))M(t,e,void 0);else for(var n=je(t),i=Le(t),o=i.length,a=0;a<o;a++)e.call(void 0,i[a],n&&n[a],t)}(a,(function(t,e){s.set(e,t)})),a=function(t){t:{for(var e=jo,n=t.length,i=r(t)?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:r(t)?t.charAt(e):t[e]}(s.U()),o=n.FormData&&e instanceof n.FormData,!R(Lo,i)||a||o||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{Uo(t),0<t.g&&(t.v=function(t){return qt&&ee(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),To(t.b,Wo(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=y(t.Ga,t)):t.u=Ne(t.Ga,t.g,t)),To(t.b,Wo(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(c){To(t.b,Wo(t,"Send error: "+c.message)),Fo(t,c)}}(c,t,i,o,a)};var _a=new pn(vn,"https://apis.google.com/js/client.js?onload=%{onload}"),wa="__fcb"+Math.floor(1e6*Math.random()).toString();function Sa(t){if(!r(t=t.email)||!Qn.test(t))throw new Vr("invalid-email")}function Ea(t){"email"in t&&Sa(t)}function xa(t){if(!t[fa])throw new Vr("internal-error")}function Ca(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Vr("internal-error")}else{if(!t.sessionInfo)throw new Vr("missing-verification-id");if(!t.code)throw new Vr("missing-verification-code")}}la.prototype.l=function(t,e,n,r,i){var o=this;da.then((function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},la.prototype.Ra=function(){return ss(this,Za,{})},la.prototype.qb=function(t,e){return ss(this,Ya,{idToken:t,email:e})},la.prototype.rb=function(t,e){return ss(this,Xa,{idToken:t,password:e})};var ka={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ta(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Vr("internal-error")}function Pa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&ln(t=new an(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function Ia(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=uo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=uo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=uo(t)):t.errorMessage&&(e=cs(t.errorMessage)),e)throw e;if(!t[fa])throw new Vr("internal-error")}function Aa(t,e){return e.returnIdpCredential=!0,ss(t,Ja,e)}function Oa(t,e){return e.returnIdpCredential=!0,ss(t,es,e)}function $a(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ss(t,ts,e)}function Ma(t){if(!t.oobCode)throw new Vr("invalid-action-code")}(t=la.prototype).sb=function(t,e){var n={idToken:t},r=[];return et(ka,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ss(this,Ya,n)},t.lb=function(t,e){return st(t={requestType:"PASSWORD_RESET",email:t},e),ss(this,za,t)},t.mb=function(t,e){return st(t={requestType:"EMAIL_SIGNIN",email:t},e),ss(this,Ua,t)},t.kb=function(t,e){return st(t={requestType:"VERIFY_EMAIL",idToken:t},e),ss(this,qa,t)},t.Va=function(t){return ss(this,is,t)},t.$a=function(t,e){return ss(this,Ka,{oobCode:t,newPassword:e})},t.Ja=function(t){return ss(this,Na,{oobCode:t})},t.Xa=function(t){return ss(this,Da,{oobCode:t})};var Da={endpoint:"setAccountInfo",C:Ma,da:"email"},Na={endpoint:"resetPassword",C:Ma,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Vr("internal-error")}},Ra={endpoint:"signupNewUser",C:function(t){if(Sa(t),!t.password)throw new Vr("weak-password")},J:xa,R:!0},La={endpoint:"createAuthUri"},ja={endpoint:"deleteAccount",T:["idToken"]},Fa={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],C:function(t){if(!l(t.deleteProvider))throw new Vr("internal-error")}},Ba={endpoint:"emailLinkSignin",T:["email","oobCode"],C:Sa,J:xa,R:!0},Va={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],C:Sa,J:xa,R:!0},Ha={endpoint:"getAccountInfo"},Ua={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Vr("internal-error");Sa(t)},da:"email"},qa={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],C:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Vr("internal-error")},da:"email"},za={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Vr("internal-error");Sa(t)},da:"email"},Wa={vb:!0,endpoint:"getProjectConfig",Ib:"GET"},Ga={vb:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new Vr("internal-error")}},Ka={endpoint:"resetPassword",C:Ma,da:"email"},Qa={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},Ya={endpoint:"setAccountInfo",T:["idToken"],C:Ea,R:!0},Xa={endpoint:"setAccountInfo",T:["idToken"],C:function(t){if(Ea(t),!t.password)throw new Vr("weak-password")},J:xa,R:!0},Za={endpoint:"signupNewUser",J:xa,R:!0},Ja={endpoint:"verifyAssertion",C:Ta,Pa:Pa,J:Ia,R:!0},ts={endpoint:"verifyAssertion",C:Ta,Pa:Pa,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Vr("user-not-found");if(t.errorMessage)throw cs(t.errorMessage);if(!t[fa])throw new Vr("internal-error")},R:!0},es={endpoint:"verifyAssertion",C:function(t){if(Ta(t),!t.idToken)throw new Vr("internal-error")},Pa:Pa,J:Ia,R:!0},ns={endpoint:"verifyCustomToken",C:function(t){if(!t.token)throw new Vr("invalid-custom-token")},J:xa,R:!0},rs={endpoint:"verifyPassword",C:function(t){if(Sa(t),!t.password)throw new Vr("wrong-password")},J:xa,R:!0},is={endpoint:"verifyPhoneNumber",C:Ca,J:xa},os={endpoint:"verifyPhoneNumber",C:function(t){if(!t.idToken)throw new Vr("internal-error");Ca(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",uo(t);xa(t)}},as={Xb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",C:Ca,J:xa};function ss(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.T))return Et(new Vr("internal-error"));var r,i=e.Ib||"POST";return St(n).then(e.C).then((function(){return e.R&&(n.returnSecureToken=!0),function(t,e,n,r,i,o){var a=Qe(t.g+e);Ge(a,"key",t.b),o&&Ge(a,"cb",_().toString());var s="GET"==n;if(s)for(var c in r)r.hasOwnProperty(c)&&Ge(a,c,r[c]);return new mt((function(e,o){ba(t,a.toString(),(function(t){t?t.error?o(us(t,i||{})):e(t):o(new Vr("network-request-failed"))}),n,s?void 0:Ln(mr(r)),t.a,t.h.get())}))}(t,e.endpoint,i,n,e.Xb,e.vb||!1)})).then((function(t){return r=t,e.Pa?e.Pa(n,r):r})).then(e.J).then((function(){if(!e.da)return r;if(!(e.da in r))throw new Vr("internal-error");return r[e.da]}))}function cs(t){return us({error:{errors:[{message:t}],code:400,message:t}})}function us(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Vr(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",st(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Vr(r[i],e);return!e&&t&&(e=pr(t)),new Vr("internal-error",e)}function ls(t){this.b=t,this.a=null,this.gb=function(t){return(ps||(ps=new mt((function(t,e){function r(){br(),cr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){br(),e(Error("Network Error"))},timeout:fs.get()})}if(cr("gapi.iframes.Iframe"))t();else if(cr("gapi.load"))r();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[i]=function(){cr("gapi.load")?r():e(Error("Network Error"))},St(ra(i=_n(ds,{onload:i}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw ps=null,t})))).then((function(){return new mt((function(e,n){cr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),hs.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var ds=new pn(vn,"https://apis.google.com/js/api.js?onload=%{onload}"),fs=new _r(3e4,6e4),hs=new _r(5e3,15e3),ps=null;function ms(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Ye(this.i,"/__/auth/iframe"),Ge(this.a,"apiKey",this.g),Ge(this.a,"appName",this.h),this.b=null,this.c=[]}function gs(t,e,n,r,i){this.m=t,this.l=e,this.c=n,this.o=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function vs(t){try{return bg.a.app(t).auth().ya()}catch(e){return[]}}function ys(t,e,n,r,i){this.l=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.u=this.v=null,this.g=[],this.o=this.a=null}function bs(t){var e=Un();return function(t){return ss(t,Wa,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Qe(e),r=n.c;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Qe(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Kn.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new so(Un())}))}function _s(t){return t.o?t.o:(t.o=Yn().then((function(){if(!t.u){var e=t.c,n=t.h,r=vs(t.b),i=new ms(t.l,t.f,t.b);i.f=e,i.b=n,i.c=B(r||[]),t.u=i.toString()}t.i=new ls(t.u),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.gb.then((function(){t.a.register("authEvent",e,cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=ro(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",St(n)}return n.status="ERROR",St(n)}))}(t)})),t.o)}function ws(t){return t.m||(t.v=t.c?ar(t.c,vs(t.b)):null,t.m=new la(t.f,ui(t.h),t.v)),t.m}function Ss(t,e,n,r,i,o,a,s,c,u){return(t=new gs(t,e,n,r,i)).i=o,t.g=a,t.h=s,t.b=rt(c||null),t.f=u,t.toString()}function Es(t){if(this.a=t||bg.a.INTERNAL.reactNative&&bg.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Vr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function xs(t){this.b=t,this.a={},this.c=y(this.f,this)}ms.prototype.toString=function(){return this.f?Ge(this.a,"v",this.f):un(this.a.a,"v"),this.b?Ge(this.a,"eid",this.b):un(this.a.a,"eid"),this.c.length?Ge(this.a,"fw",this.c.join(",")):un(this.a.a,"fw"),this.a.toString()},gs.prototype.toString=function(){var t=Ye(this.m,"/__/auth/handler");if(Ge(t,"apiKey",this.l),Ge(t,"appName",this.c),Ge(t,"authType",this.o),this.a.isOAuthProvider){var e=this.a;try{var n=bg.a.app(this.c).auth().ea()}catch(s){n=null}for(var r in e.ab=n,Ge(t,"providerId",this.a.providerId),n=mr((e=this.a).zb))n[r]=n[r].toString();r=e.Fc,n=rt(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.eb&&e.ab&&!n[e.eb]&&(n[e.eb]=e.ab),nt(n)||Ge(t,"customParameters",pr(n))}if("function"==typeof this.a.Fb&&(e=this.a.Fb()).length&&Ge(t,"scopes",e.join(",")),this.i?Ge(t,"redirectUrl",this.i):un(t.a,"redirectUrl"),this.g?Ge(t,"eventId",this.g):un(t.a,"eventId"),this.h?Ge(t,"v",this.h):un(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Ke(t,a)&&Ge(t,a,this.b[a]);return this.f?Ge(t,"eid",this.f):un(t.a,"eid"),(a=vs(this.c)).length&&Ge(t,"fw",a.join(",")),t.toString()},(t=ys.prototype).Ea=function(t,e,n){var r=new Vr("popup-closed-by-user"),i=new Vr("web-storage-unsupported"),o=this,a=!1;return this.ga().then((function(){(function(t){var e={type:"webStorageSupport"};return _s(t).then((function(){return function(t,e){return t.gb.then((function(){return new mt((function(n){t.a.send(e.type,e,n,cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&Wn(t),e(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(t){return new mt((function(e){return function n(){Re(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return Re(n).then((function(){e(r)}))}))},t.Mb=function(){var t=sr();return!hr(t)&&!yr(t)},t.Hb=function(){return!1},t.Db=function(t,e,n,r,i,o,a){if(!t)return Et(new Vr("popup-blocked"));if(a&&!hr())return this.ga().s((function(e){Wn(t),i(e)})),r(),St();this.a||(this.a=bs(ws(this)));var s=this;return this.a.then((function(){var e=s.ga().s((function(e){throw Wn(t),i(e),e}));return r(),e})).then((function(){eo(n),a||qn(Ss(s.l,s.f,s.b,e,n,null,o,s.c,void 0,s.h),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t}))},t.Ca=function(t,e,n){this.a||(this.a=bs(ws(this)));var r=this;return this.a.then((function(){eo(e),qn(Ss(r.l,r.f,r.b,t,e,Un(),n,r.c,void 0,r.h))})).s((function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t}))},t.ga=function(){var t=this;return _s(this).then((function(){return t.i.gb})).s((function(){throw t.a=null,new Vr("network-request-failed")}))},t.Qb=function(){return!0},t.wa=function(t){this.g.push(t)},t.Ka=function(t){j(this.g,(function(e){return e==t}))},(t=Es.prototype).get=function(t){return St(this.a.getItem(t)).then((function(t){return t&&gr(t)}))},t.set=function(t,e){return St(this.a.setItem(t,pr(e)))},t.P=function(t){return St(this.a.removeItem(t))},t.Y=function(){},t.ca=function(){};var Cs,ks=[];function Ts(t){this.a=t}function Ps(t){this.c=t,this.b=!1,this.a=[]}function Is(t,e,n,r){var i,o,a,s,c=n||{},u=null;if(t.b)return Et(Error("connection_unavailable"));var l=r?800:50,d="undefined"!=typeof MessageChannel?new MessageChannel:null;return new mt((function(n,r){d?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),d.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),t.a.push(u={messageChannel:d,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),d.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:c},[d.port2])):r(Error("connection_unavailable"))})).then((function(e){return As(t,u),e})).s((function(e){throw As(t,u),e}))}function As(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),j(t.a,(function(t){return t==e}))}}function Os(){if(!Ms())throw new Vr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.l=n.indexedDB,this.type="indexedDB",this.g=this.o=this.f=this.i=null,this.u=!1,this.h=null;var t=this;Jn()&&self?(this.o=function(){var t=Jn()?self:null;if(M(ks,(function(n){n.b==t&&(e=n)})),!e){var e=new xs(t);ks.push(e)}return e}(),this.o.subscribe("keyChanged",(function(e,n){return js(t).then((function(e){return 0<e.length&&M(t.a,(function(t){t(e)})),{keyProcessed:R(e,n.key)}}))})),this.o.subscribe("ping",(function(){return St(["keyChanged"])}))):function(){var t=n.navigator;return t&&t.serviceWorker?St().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):St(null)}().then((function(e){(t.h=e)&&(t.g=new Ps(new Ts(e)),Is(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&R(e[0].value,"keyChanged")&&(t.u=!0)})).s((function(){})))}))}function $s(t){return t.m||(t.m=function t(e){return new mt((function(n,r){var i=e.l.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new mt((function(e,n){var r=t.l.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).s((function(t){r(t)}))}}))}(t)),t.m}function Ms(){try{return!!n.indexedDB}catch(Ht){return!1}}function Ds(t){return t.objectStore("firebaseLocalStorage")}function Ns(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Rs(t){return new mt((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Ls(t,e){return t.g&&t.h&&function(){var t=n.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Is(t.g,"keyChanged",{key:e},t.u).then((function(){})).s((function(){})):St()}function js(t){return $s(t).then((function(t){var e=Ds(Ns(t,!1));return e.getAll?Rs(e.getAll()):new mt((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Fs(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Bs(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=St().then((function(){if(Ms()){var t=vr(),r="__sak"+t;return Cs||(Cs=new Os),(n=Cs).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.P(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.Y((function(t){M(e.a,(function(e){e(t)}))})),t}))}function Vs(){this.a={},this.type="inMemory"}function Hs(){if(!function(){var t="Node"==tr();if(!(t=Us()||t&&bg.a.INTERNAL.node&&bg.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==tr())throw new Vr("internal-error","The LocalStorage compatibility library was not found.");throw new Vr("web-storage-unsupported")}this.a=Us()||bg.a.INTERNAL.node.localStorage,this.type="localStorage"}function Us(){try{var t=n.localStorage,e=vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(r){return null}}function qs(){this.type="nullStorage"}function zs(){if(!function(){var t="Node"==tr();if(!(t=Ws()||t&&bg.a.INTERNAL.node&&bg.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==tr())throw new Vr("internal-error","The SessionStorage compatibility library was not found.");throw new Vr("web-storage-unsupported")}this.a=Ws()||bg.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ws(){try{var t=n.sessionStorage,e=vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(r){return null}}function Gs(){var t={};t.Browser=Ys,t.Node=Xs,t.ReactNative=Zs,t.Worker=Js,this.a=t[tr()]}xs.prototype.f=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];M(r,(function(e){i.push(St().then((function(){return e(t.origin,t.data.data)})))})),Ct(i).then((function(r){var i=[];M(r,(function(t){i.push({fulfilled:t.Eb,value:t.value,reason:t.reason?t.reason.message:void 0})})),M(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},xs.prototype.subscribe=function(t,e){nt(this.a)&&this.b.addEventListener("message",this.c),void 0===this.a[t]&&(this.a[t]=[]),this.a[t].push(e)},xs.prototype.unsubscribe=function(t,e){void 0!==this.a[t]&&e?(j(this.a[t],(function(t){return t==e})),0==this.a[t].length&&delete this.a[t]):e||delete this.a[t],nt(this.a)&&this.b.removeEventListener("message",this.c)},Ts.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Ps.prototype.close=function(){for(;0<this.a.length;)As(this,this.a[0]);this.b=!0},(t=Os.prototype).set=function(t,e){var n,r=!1,i=this;return $s(this).then((function(e){return Rs((e=Ds(Ns(n=e,!0))).get(t))})).then((function(o){var a=Ds(Ns(n,!0));return o?(o.value=e,Rs(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Rs(a.add(o)))})).then((function(){return i.c[t]=e,Ls(i,t)})).ia((function(){r&&i.b--}))},t.get=function(t){return $s(this).then((function(e){return Rs(Ds(Ns(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.P=function(t){var e=!1,n=this;return $s(this).then((function(r){return e=!0,n.b++,Rs(Ds(Ns(r,!0)).delete(t))})).then((function(){return delete n.c[t],Ls(n,t)})).ia((function(){e&&n.b--}))},t.Y=function(t){0==this.a.length&&function(t){Fs(t),function e(){t.f=setTimeout((function(){t.i=js(t).then((function(e){0<e.length&&M(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ca=function(t){j(this.a,(function(e){return e==t})),0==this.a.length&&Fs(this)},(t=Bs.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.P=function(t){return this.b.then((function(e){return e.P(t)}))},t.Y=function(t){this.a.push(t)},t.ca=function(t){j(this.a,(function(e){return e==t}))},(t=Vs.prototype).get=function(t){return St(this.a[t])},t.set=function(t,e){return this.a[t]=e,St()},t.P=function(t){return delete this.a[t],St()},t.Y=function(){},t.ca=function(){},(t=Hs.prototype).get=function(t){var e=this;return St().then((function(){return gr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return St().then((function(){var r=pr(e);null===r?n.P(t):n.a.setItem(t,r)}))},t.P=function(t){var e=this;return St().then((function(){e.a.removeItem(t)}))},t.Y=function(t){n.window&&be(n.window,"storage",t)},t.ca=function(t){n.window&&Se(n.window,"storage",t)},(t=qs.prototype).get=function(){return St(null)},t.set=function(){return St()},t.P=function(){return St()},t.Y=function(){},t.ca=function(){},(t=zs.prototype).get=function(t){var e=this;return St().then((function(){return gr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return St().then((function(){var r=pr(e);null===r?n.P(t):n.a.setItem(t,r)}))},t.P=function(t){var e=this;return St().then((function(){e.a.removeItem(t)}))},t.Y=function(){},t.ca=function(){};var Ks,Qs,Ys={B:Hs,Sa:zs},Xs={B:Hs,Sa:zs},Zs={B:Es,Sa:qs},Js={B:Hs,Sa:qs},tc={ad:"local",NONE:"none",cd:"session"};function ec(){var t=!(yr(sr())||!Zn()),e=hr(),r=ur();this.m=t,this.h=e,this.o=r,this.a={},Ks||(Ks=new Gs),t=Ks;try{this.g=!Hn()&&Er()||!n.indexedDB?new t.a.B:new Bs(Jn()?new Vs:new t.a.B)}catch(i){this.g=new Vs,this.h=!0}try{this.i=new t.a.Sa}catch(i){this.i=new Vs}this.l=new Vs,this.f=y(this.Pb,this),this.b={}}function nc(){return Qs||(Qs=new ec),Qs}function rc(t,e){switch(e){case"session":return t.i;case"none":return t.l;default:return t.g}}function ic(t,e){return"firebase:"+t.name+(e?":"+e:"")}function oc(t,e,n){return n=ic(e,n),"local"==e.B&&(t.b[n]=null),rc(t,e.B).P(n)}function ac(t){t.c&&(clearInterval(t.c),t.c=null)}function sc(t){this.a=t,this.b=nc()}(t=ec.prototype).get=function(t,e){return rc(this,t.B).get(ic(t,e))},t.set=function(t,e,n){var r=ic(t,n),i=this,o=rc(this,t.B);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.B&&(i.b[r]=e)}))},t.addListener=function(t,e,r){t=ic(t,e),this.o&&(this.b[t]=n.localStorage.getItem(t)),nt(this.a)&&(rc(this,"local").Y(this.f),this.h||(Hn()||!Er())&&n.indexedDB||!this.o||function(t){ac(t),t.c=setInterval((function(){for(var e in t.a){var r=n.localStorage.getItem(e),i=t.b[e];r!=i&&(t.b[e]=r,r=new ce({type:"storage",key:e,target:window,oldValue:i,newValue:r,a:!0}),t.Pb(r))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(r)},t.removeListener=function(t,e,n){t=ic(t,e),this.a[t]&&(j(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),nt(this.a)&&(rc(this,"local").ca(this.f),ac(this))},t.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var r in this.a){var i=this.b[r];void 0===i&&(i=null);var o=n.localStorage.getItem(r);o!==i&&(this.b[r]=o,this.Ya(r))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?rc(this,"local").ca(this.f):ac(this),this.m)if(r=n.localStorage.getItem(e),(i=t.a.newValue)!==r)null!==i?n.localStorage.setItem(e,i):n.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var a=this;r=function(){void 0===t.a.a&&a.b[e]===n.localStorage.getItem(e)||(a.b[e]=n.localStorage.getItem(e),a.Ya(e))},qt&&Jt&&10==Jt&&n.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(r,10):r()}}else M(t,y(this.Ya,this))},t.Ya=function(t){this.a[t]&&M(this.a[t],(function(t){t()}))};var cc,uc={name:"authEvent",B:"local"};function lc(){this.a=nc()}function dc(t,e){this.b=fc,this.f=n.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.o=n.Int32Array?new Int32Array(64):Array(64),void 0!==cc||(cc=n.Int32Array?new Int32Array(bc):bc),this.reset()}w(dc,(function(){this.b=-1}));for(var fc=64,hc=fc-1,pc=[],mc=0;mc<hc;mc++)pc[mc]=0;var gc=F(128,pc);function vc(t){for(var e=t.f,n=t.o,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],c=0|t.a[3],u=0|t.a[4],l=0|t.a[5],d=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((a=(a=u&l^~u&d)+(0|cc[e])|0)+(0|n[e])|0)|0,o=d,d=l,l=u,u=c+a|0,c=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+c|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+d|0,t.a[7]=t.a[7]+o|0}function yc(t,e,n){void 0===n&&(n=e.length);var i=0,o=t.c;if(r(e))for(;i<n;)t.f[o++]=e.charCodeAt(i++),o==t.b&&(vc(t),o=0);else{if(!d(e))throw Error("message must be string or array");for(;i<n;){var a=e[i++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");t.f[o++]=a,o==t.b&&(vc(t),o=0)}}t.c=o,t.g+=n}dc.prototype.reset=function(){this.g=this.c=0,this.a=n.Int32Array?new Int32Array(this.h):B(this.h)};var bc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _c(){dc.call(this,8,wc)}w(_c,dc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Sc(t,e,n,r,i){this.l=t,this.i=e,this.o=n,this.m=r||null,this.u=i||null,this.h=e+":"+n,this.v=new lc,this.g=new sc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ec(t){return new Vr("invalid-cordova-configuration",t)}function xc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Cc(t){return t.f||(t.f=t.ga().then((function(){return new mt((function(e){t.wa((function n(r){return e(r),t.Ka(n),!1})),function(t){function e(e){i=!0,o&&o.cancel(),kc(t).then((function(n){var i=r;if(n&&e&&e.url){var o=null;-1!=(i=xi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=gr(Ke(o=Qe(i),"firebaseError")||null))?Hr(o):null)?new no(n.c,n.b,null,null,o):new no(n.c,n.b,i,n.f)),i=o||r}xc(t,i)}))}var r=new no("unknown",null,null,null,new Vr("no-auth-event")),i=!1,o=Re(500).then((function(){return kc(t).then((function(){i||xc(t,r)}))})),a=n.handleOpenURL;n.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(cr("BuildInfo.packageName",n).toLowerCase()+"://")&&e({url:t}),"function"==typeof a)try{a(t)}catch(r){console.error(r)}},ao||(ao=new io),ao.subscribe(e)}(t)}))}))),t.f}function kc(t){var e=null;return function(t){return t.b.get(uc,t.a).then((function(t){return ro(t)}))}(t.g).then((function(n){return e=n,oc((n=t.g).b,uc,n.a)})).then((function(){return e}))}function Tc(t){this.a=t,this.b=nc()}(t=Sc.prototype).ga=function(){return this.za?this.za:this.za=(Xn(void 0)?Yn().then((function(){return new mt((function(t,e){var r=n.document,i=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);r.addEventListener("deviceready",(function(){clearTimeout(i),t()}),!1)}))})):Et(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof cr("universalLinks.subscribe",n))throw Ec("cordova-universal-links-plugin-fix is not installed");if(void 0===cr("BuildInfo.packageName",n))throw Ec("cordova-plugin-buildinfo is not installed");if("function"!=typeof cr("cordova.plugins.browsertab.openUrl",n))throw Ec("cordova-plugin-browsertab is not installed");if("function"!=typeof cr("cordova.InAppBrowser.open",n))throw Ec("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Vr("cordova-not-ready")}))},t.Ea=function(t,e){return e(new Vr("operation-not-supported-in-this-environment")),St()},t.Db=function(){return Et(new Vr("operation-not-supported-in-this-environment"))},t.Qb=function(){return!1},t.Mb=function(){return!0},t.Hb=function(){return!0},t.Ca=function(t,e,r){if(this.c)return Et(new Vr("redirect-operation-pending"));var i=this,o=n.document,a=null,s=null,c=null,u=null;return this.c=St().then((function(){return eo(e),Cc(i)})).then((function(){return function(t,e,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new no(e,i,null,o,new Vr("no-auth-event")),s=cr("BuildInfo.packageName",n);if("string"!=typeof s)throw new Vr("invalid-cordova-configuration");var c=cr("BuildInfo.displayName",n),u={};if(sr().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=s;else{if(!sr().toLowerCase().match(/android/))return Et(new Vr("operation-not-supported-in-this-environment"));u.apn=s}c&&(u.appDisplayName=c),o=function(t){var e=new _c;yc(e,t),t=[];var n=8*e.g;yc(e,gc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(vc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return D(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),u.sessionId=o;var l=Ss(t.l,t.i,t.o,e,r,null,i,t.m,u,t.u);return t.ga().then((function(){var e=t.h;return t.v.a.set(uc,a.w(),e)})).then((function(){var e=cr("cordova.plugins.browsertab.isAvailable",n);if("function"!=typeof e)throw new Vr("invalid-cordova-configuration");var r=null;e((function(e){if(e){if("function"!=typeof(r=cr("cordova.plugins.browsertab.openUrl",n)))throw new Vr("invalid-cordova-configuration");r(l)}else{if("function"!=typeof(r=cr("cordova.InAppBrowser.open",n)))throw new Vr("invalid-cordova-configuration");e=sr(),t.a=r(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,r)})).then((function(){return new mt((function(t,e){s=function(){var e=cr("cordova.plugins.browsertab.close",n);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.wa(s),u=function(){wr()&&c()},o.addEventListener("resume",c=function(){a||(a=Re(2e3).then((function(){e(new Vr("redirect-cancelled-by-user"))})))},!1),sr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",u,!1)})).s((function(t){return kc(i).then((function(){throw t}))}))})).ia((function(){c&&o.removeEventListener("resume",c,!1),u&&o.removeEventListener("visibilitychange",u,!1),a&&a.cancel(),s&&i.Ka(s),i.c=null}))},t.wa=function(t){this.b.push(t),Cc(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new no("unknown",null,null,null,new Vr("no-auth-event")),t(e))}))},t.Ka=function(t){j(this.b,(function(e){return e==t}))};var Pc={name:"pendingRedirect",B:"session"};function Ic(t){return oc(t.b,Pc,t.a)}function Ac(t,e,n){this.i={},this.u=0,this.A=t,this.l=e,this.m=n,this.h=[],this.f=!1,this.o=y(this.cb,this),this.b=new Bc,this.v=new qc,this.g=new Tc(this.l+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.v,this.c.linkViaPopup=this.v,this.c.reauthViaPopup=this.v,this.a=Oc(this.A,this.l,this.m,si)}function Oc(t,e,n,r){var i=bg.a.SDK_VERSION||null;return Xn()?new Sc(t,e,n,i,r):new ys(t,e,n,i,r)}function $c(t){t.f||(t.f=!0,t.a.wa(t.o));var e=t.a;return t.a.ga().s((function(n){throw t.a==e&&t.reset(),n}))}function Mc(t){t.a.Mb()&&$c(t).s((function(e){var n=new no("unknown",null,null,null,new Vr("operation-not-supported-in-this-environment"));Lc(e)&&t.cb(n)})),t.a.Hb()||Vc(t.b)}(t=Ac.prototype).reset=function(){this.f=!1,this.a.Ka(this.o),this.a=Oc(this.A,this.l,this.m),this.i={}},t.Za=function(){this.b.Za()},t.subscribe=function(t){if(R(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(Pc,t.a).then((function(t){return"pending"==t}))})(this.g).then((function(t){t?Ic(e.g).then((function(){$c(e).s((function(t){var n=new no("unknown",null,null,null,new Vr("operation-not-supported-in-this-environment"));Lc(t)&&e.cb(n)}))})):Mc(e)})).s((function(){Mc(e)}))}},t.unsubscribe=function(t){j(this.h,(function(e){return e==t}))},t.cb=function(t){if(!t)throw new Vr("invalid-auth-event");if(6e5<=_()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.wb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=_())),e=!0;break}}return Vc(this.b),e};var Dc=new _r(2e3,1e4),Nc=new _r(3e4,6e4);function Rc(t,e,n,r,i,o){return t.a.Db(e,n,r,(function(){t.f||(t.f=!0,t.a.wa(t.o))}),(function(){t.reset()}),i,o)}function Lc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}Ac.prototype.fa=function(){return this.b.fa()},Ac.prototype.Ca=function(t,e,n){var r,i=this;return function(t){return t.b.set(Pc,"pending",t.a)}(this.g).then((function(){return i.a.Ca(t,e,n).s((function(t){if(Lc(t))throw new Vr("operation-not-supported-in-this-environment");return r=t,Ic(i.g).then((function(){throw r}))})).then((function(){return i.a.Qb()?new mt((function(){})):Ic(i.g).then((function(){return i.fa()})).then((function(){})).s((function(){}))}))}))},Ac.prototype.Ea=function(t,e,n,r){return this.a.Ea(n,(function(n){t.ha(e,null,n,r)}),Dc.get())};var jc={};function Fc(t,e,n){var r=e+":"+n;return jc[r]||(jc[r]=new Ac(t,e,n)),jc[r]}function Bc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Vc(t){t.g||(t.g=!0,Uc(t,!1,null,null))}function Hc(t,e){if(t.b=function(){return St(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Uc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Et(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Hc(t,n):Hc(t,{user:null}),t.f=[],t.c=[]}function qc(){}function zc(){this.tb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.tb},set:function(t){this.tb=t},enumerable:!1})}function Wc(t,e){this.a=e,Pr(this,"verificationId",t)}function Gc(t,e,n,r){return new Zi(t).Va(e,n).then((function(t){return new Wc(t,r)}))}function Kc(t){var e=ai(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Vr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ir(this,{token:t,expirationTime:Sr(1e3*e.exp),authTime:Sr(1e3*e.auth_time),issuedAtTime:Sr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function Qc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Yc(t){this.f=t,this.b=this.a=null,this.c=0}function Xc(t,e){var n=e[fa],r=e.refreshToken;e=Zc(e.expiresIn),t.b=n,t.c=e,t.a=r}function Zc(t){return _()+1e3*parseInt(t,10)}function Jc(t,e){this.a=t||null,this.b=e||null,Ir(this,{lastSignInTime:Sr(e||null),creationTime:Sr(t||null)})}function tu(t,e,n,r,i,o){Ir(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function eu(t,e){for(var n in se.call(this,t),e)this[n]=e[n]}function nu(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.u=t.authDomain||null,t=bg.a.SDK_VERSION?ar(bg.a.SDK_VERSION):null,this.b=new la(this.l,ui(si),t),this.h=new Yc(this.b),uu(this,e[fa]),Xc(this.h,e),Pr(this,"refreshToken",this.h.a),fu(this,n||{}),Oe.call(this),this.I=!1,this.u&&lr()&&(this.a=Fc(this.u,this.l,this.m)),this.N=[],this.i=null,this.A=function(t){return new Qc((function(){return t.F(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-_()-3e5;return 0<e?e:0}))}(this),this.V=y(this.Ha,this);var r=this;this.ka=null,this.ta=function(t){r.pa(t.g)},this.X=null,this.O=[],this.sa=function(t){iu(r,t.c)},this.W=null}function ru(t,e){t.X&&Se(t.X,"languageCodeChanged",t.ta),(t.X=e)&&be(e,"languageCodeChanged",t.ta)}function iu(t,e){t.O=e,ya(t.b,bg.a.SDK_VERSION?ar(bg.a.SDK_VERSION,t.O):null)}function ou(t,e){t.W&&Se(t.W,"frameworkChanged",t.sa),(t.W=e)&&be(e,"frameworkChanged",t.sa)}function au(t){try{return bg.a.app(t.m).auth()}catch(e){throw new Vr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function su(t){t.D||t.A.b||(t.A.start(),Se(t,"tokenChanged",t.V),be(t,"tokenChanged",t.V))}function cu(t){Se(t,"tokenChanged",t.V),t.A.stop()}function uu(t,e){t.ra=e,Pr(t,"_lat",e)}function lu(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return Ct(e).then((function(){return t}))}function du(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function fu(t,e){Ir(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new Jc(e.createdAt,e.lastLoginAt),providerData:[]})}function hu(){}function pu(t){return St().then((function(){if(t.D)throw new Vr("app-deleted")}))}function mu(t){return D(t.providerData,(function(t){return t.providerId}))}function gu(t,e){e&&(vu(t,e.providerId),t.providerData.push(e))}function vu(t,e){j(t.providerData,(function(t){return t.providerId==e}))}function yu(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Pr(t,e,n)}function bu(t,e){t!=e&&(Ir(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),Pr(t,"metadata",e.metadata?function(t){return new Jc(t.a,t.b)}(e.metadata):new Jc),M(e.providerData,(function(e){gu(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Pr(t,"refreshToken",t.h.a))}function _u(t){return t.F().then((function(e){var n=t.isAnonymous;return function(t,e){return ss(t.b,Ha,{idToken:e}).then(y(t.zc,t))}(t,e).then((function(){return n||yu(t,"isAnonymous",!1),e}))}))}function wu(t,e){e[fa]&&t.ra!=e[fa]&&(Xc(t.h,e),t.dispatchEvent(new eu("tokenChanged")),uu(t,e[fa]),yu(t,"refreshToken",t.h.a))}function Su(t,e){return _u(t).then((function(){if(R(mu(t),e))return lu(t).then((function(){throw new Vr("provider-already-linked")}))}))}function Eu(t,e,n){return Ar({user:t,credential:to(e),additionalUserInfo:e=pi(e),operationType:n})}function xu(t,e){return wu(t,e),t.reload().then((function(){return t}))}function Cu(t,e,n,r,i){if(!lr())return Et(new Vr("operation-not-supported-in-this-environment"));if(t.i&&!i)return Et(t.i);var o=hi(n.providerId),a=vr(t.uid+":::"),s=null;(!hr()||Zn())&&t.u&&n.isOAuthProvider&&(s=Ss(t.u,t.l,t.m,e,n,null,a,bg.a.SDK_VERSION||null));var c=Gn(s,o&&o.Ba,o&&o.Aa);return r=r().then((function(){if(Tu(t),!i)return t.F().then((function(){}))})).then((function(){return Rc(t.a,c,e,n,a,!!s)})).then((function(){return new mt((function(n,r){t.ha(e,null,new Vr("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=a,t.c=t.a.Ea(t,e,c,a)}))})).then((function(t){return c&&Wn(c),t?Ar(t):null})).s((function(t){throw c&&Wn(c),t})),Pu(t,r,i)}function ku(t,e,n,r,i){if(!lr())return Et(new Vr("operation-not-supported-in-this-environment"));if(t.i&&!i)return Et(t.i);var o=null,a=vr(t.uid+":::");return r=r().then((function(){if(Tu(t),!i)return t.F().then((function(){}))})).then((function(){return t.aa=a,lu(t)})).then((function(e){return t.ba&&(e=(e=t.ba).b.set(Ou,t.w(),e.a)),e})).then((function(){return t.a.Ca(e,n,a)})).s((function(e){if(o=e,t.ba)return $u(t.ba);throw o})).then((function(){if(o)throw o})),Pu(t,r,i)}function Tu(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new Vr("internal-error");throw new Vr("auth-domain-config-required")}}function Pu(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Et(t.i)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new eu("userInvalidated")),t.i=e),e}))}(t,e,n);return t.G.push(r),r.ia((function(){L(t.G,r)})),r}function Iu(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[fa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-_())/1e3;var r=new nu(e,n,t);return t.providerData&&M(t.providerData,(function(t){t&&gu(r,Ar(t))})),t.redirectEventId&&(r.aa=t.redirectEventId),r}function Au(t){this.a=t,this.b=nc()}Bc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Uc(this,!0,null,t.a),St()):e.xa(n,r)?function(t,e,n){n=n.xa(e.c,e.b);var r=e.g,i=e.f,o=e.h,a=!!e.c.match(/Redirect$/);n(r,i,o).then((function(e){Uc(t,a,e,null)})).s((function(e){Uc(t,a,null,e)}))}(this,t,e):Et(new Vr("invalid-auth-event")):(Uc(this,!1,null,null),St())}else Et(new Vr("invalid-auth-event"))},Bc.prototype.Za=function(){this.g&&!this.i&&Uc(this,!1,null,null)},Bc.prototype.fa=function(){var t=this;return new mt((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Vr("timeout");t.a&&t.a.cancel(),t.a=Re(Nc.get()).then((function(){t.b||(t.g=!0,Uc(t,!0,null,e))}))}(t))}))},qc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ha(t.c,null,t.a,t.b),St()):e.xa(n,r)?function(t,e){var n=t.b,r=t.c;e.xa(r,n)(t.g,t.f,t.h).then((function(t){e.ha(r,t,null,n)})).s((function(t){e.ha(r,null,t,n)}))}(t,e):Et(new Vr("invalid-auth-event"))}else Et(new Vr("invalid-auth-event"))},Wc.prototype.confirm=function(t){return t=Ji(this.verificationId,t),this.a(t)},Qc.prototype.start=function(){this.a=this.c,function t(e,r){e.stop(),e.b=Re(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,r)).then((function(){return function(){var t=n.document,e=null;return wr()||!t?St():new mt((function(n){e=function(){wr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).s((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},Qc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Yc.prototype.w=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Yc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Et(new Vr("user-token-expired")):t||!this.b||_()>this.c-3e4?this.a?function(t,e){return function(t,e){return new mt((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ba(t,t.i+"?key="+encodeURIComponent(t.b),(function(t){t?t.error?r(us(t)):t.access_token&&t.refresh_token?n(t):r(new Vr("internal-error")):r(new Vr("network-request-failed"))}),"POST",cn(e).toString(),t.f,t.o.get()):r(new Vr("internal-error"))}))}(t.f,e).then((function(e){return t.b=e.access_token,t.c=Zc(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):St(null):St({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Jc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},w(eu,se),w(nu,Oe),nu.prototype.pa=function(t){this.ka=t,va(this.b,t)},nu.prototype.ea=function(){return this.ka},nu.prototype.ya=function(){return B(this.O)},nu.prototype.Ha=function(){this.A.b&&(this.A.stop(),this.A.start())},Pr(nu.prototype,"providerId","firebase"),(t=nu.prototype).reload=function(){var t=this;return Pu(this,pu(this).then((function(){return _u(t).then((function(){return lu(t)})).then(hu)})))},t.dc=function(t){return this.F(t).then((function(t){return new Kc(t)}))},t.F=function(t){var e=this;return Pu(this,pu(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new Vr("internal-error");return t.accessToken!=e.ra&&(uu(e,t.accessToken),e.dispatchEvent(new eu("tokenChanged"))),yu(e,"refreshToken",t.refreshToken),t.accessToken})))},t.zc=function(t){if(!(t=t.users)||!t.length)throw new Vr("internal-error");fu(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?D(t,(function(t){return new tu(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)gu(this,e[n]);yu(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.hb=function(t){var e=this,n=null;return Pu(this,t.f(this.b,this.uid).then((function(t){return wu(e,t),n=Eu(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.Ac=function(t){return kr("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.hb(t).then((function(){}))},t.fb=function(t){var e=this,n=null;return Pu(this,Su(this,t.providerId).then((function(){return e.F()})).then((function(n){return t.b(e.b,n)})).then((function(t){return n=Eu(e,t,"link"),xu(e,t)})).then((function(){return n})))},t.rc=function(t){return kr("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.fb(t).then((function(t){return t.user}))},t.sc=function(t,e){var n=this;return Pu(this,Su(this,"phone").then((function(){return Gc(au(n),t,e,y(n.fb,n))})))},t.Bc=function(t,e){var n=this;return Pu(this,St().then((function(){return Gc(au(n),t,e,y(n.hb,n))})),!0)},t.qb=function(t){var e=this;return Pu(this,this.F().then((function(n){return e.b.qb(n,t)})).then((function(t){return wu(e,t),e.reload()})))},t.Tc=function(t){var e=this;return Pu(this,this.F().then((function(n){return t.b(e.b,n)})).then((function(t){return wu(e,t),e.reload()})))},t.rb=function(t){var e=this;return Pu(this,this.F().then((function(n){return e.b.rb(n,t)})).then((function(t){return wu(e,t),e.reload()})))},t.sb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return pu(this);var e=this;return Pu(this,this.F().then((function(n){return e.b.sb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return wu(e,t),yu(e,"displayName",t.displayName||null),yu(e,"photoURL",t.photoUrl||null),M(e.providerData,(function(t){"password"===t.providerId&&(Pr(t,"displayName",e.displayName),Pr(t,"photoURL",e.photoURL))})),lu(e)})).then(hu))},t.Rc=function(t){var e=this;return Pu(this,_u(this).then((function(n){return R(mu(e),t)?function(t,e,n){return ss(t,Fa,{idToken:e,deleteProvider:n})}(e.b,n,[t]).then((function(t){var n={};return M(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),M(mu(e),(function(t){n[t]||vu(e,t)})),n[Zi.PROVIDER_ID]||Pr(e,"phoneNumber",null),lu(e)})):lu(e).then((function(){throw new Vr("no-such-provider")}))})))},t.delete=function(){var t=this;return Pu(this,this.F().then((function(e){return ss(t.b,ja,{idToken:e})})).then((function(){t.dispatchEvent(new eu("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");ru(t,null),ou(t,null),t.G=[],t.D=!0,cu(t),Pr(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)}))},t.wb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)},t.ha=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.xa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?y(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?y(this.Cb,this):"linkViaRedirect"==t&&(this.aa||null)==e?y(this.Bb,this):"reauthViaRedirect"==t&&(this.aa||null)==e?y(this.Cb,this):null},t.tc=function(t){var e=this;return Cu(this,"linkViaPopup",t,(function(){return Su(e,t.providerId).then((function(){return lu(e)}))}),!1)},t.Cc=function(t){return Cu(this,"reauthViaPopup",t,(function(){return St()}),!0)},t.uc=function(t){var e=this;return ku(this,"linkViaRedirect",t,(function(){return Su(e,t.providerId)}),!1)},t.Dc=function(t){return ku(this,"reauthViaRedirect",t,(function(){return St()}),!0)},t.Bb=function(t,e,n){var r=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return Pu(this,this.F().then((function(i){return Oa(r.b,{requestUri:t,postBody:n,sessionId:e,idToken:i})})).then((function(t){return i=Eu(r,t,"link"),xu(r,t)})).then((function(){return i})))},t.Cb=function(t,e,n){var r=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return Pu(this,St().then((function(){return ki($a(r.b,{requestUri:t,sessionId:e,postBody:n}),r.uid)})).then((function(t){return i=Eu(r,t,"reauthenticate"),wu(r,t),r.i=null,r.reload()})).then((function(){return i})),!0)},t.kb=function(t){var e=this,n=null;return Pu(this,this.F().then((function(e){return n=e,void 0===t||nt(t)?{}:ei(new zr(t))})).then((function(t){return e.b.kb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.u,stsTokenManager:this.h.w(),redirectEventId:this.aa||null};return this.metadata&&st(t,this.metadata.w()),M(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),t};var Ou={name:"redirectUser",B:"session"};function $u(t){return oc(t.b,Ou,t.a)}function Mu(t){this.a=t,this.b=nc(),this.c=null,this.f=function(t){var e=Ru("local"),r=Ru("session"),i=Ru("none");return function(t,e,r){var i=ic(e,r),o=rc(t,e.B);return t.get(e,r).then((function(a){var s=null;try{s=gr(n.localStorage.getItem(i))}catch(c){}if(s&&!a)return n.localStorage.removeItem(i),t.set(e,s,r);s&&a&&"localStorage"!=o.type&&n.localStorage.removeItem(i)}))}(t.b,e,t.a).then((function(){return t.b.get(r,t.a)})).then((function(n){return n?r:t.b.get(i,t.a).then((function(n){return n?i:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Nu,t.a).then((function(t){return t?Ru(t):e}))}))}))})).then((function(e){return t.c=e,Du(t,e.B)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Ru("local"),this.a,y(this.g,this))}function Du(t,e){var n,r=[];for(n in tc)tc[n]!==e&&r.push(oc(t.b,Ru(tc[n]),t.a));return r.push(oc(t.b,Nu,t.a)),function(t){return new mt((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)xt(t[s],b(o,s),a);else e(i)}))}(r)}Mu.prototype.g=function(){var t=this,e=Ru("local");Bu(this,(function(){return St().then((function(){return t.c&&"local"!=t.c.B?t.b.get(e,t.a):null})).then((function(n){if(n)return Du(t,"local").then((function(){t.c=e}))}))}))};var Nu={name:"persistence",B:"session"};function Ru(t){return{name:"authUser",B:t}}function Lu(t,e){return Bu(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function ju(t){return Bu(t,(function(){return oc(t.b,t.c,t.a)}))}function Fu(t,e){return Bu(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Iu(t||{})}))}))}function Bu(t,e){return t.f=t.f.then(e,e),t.f}function Vu(t){if(this.l=!1,Pr(this,"settings",new zc),Pr(this,"app",t),!Ku(this).options||!Ku(this).options.apiKey)throw new Vr("invalid-api-key");t=bg.a.SDK_VERSION?ar(bg.a.SDK_VERSION):null,this.b=new la(Ku(this).options&&Ku(this).options.apiKey,ui(si),t),this.N=[],this.m=[],this.I=[],this.Tb=bg.a.INTERNAL.createSubscribe(y(this.oc,this)),this.O=void 0,this.Ub=bg.a.INTERNAL.createSubscribe(y(this.pc,this)),Wu(this,null),this.h=new Mu(Ku(this).options.apiKey+":"+Ku(this).name),this.A=new Au(Ku(this).options.apiKey+":"+Ku(this).name),this.V=Zu(this,function(t){var e=Ku(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Ou,t.a).then((function(t){return t&&e&&(t.authDomain=e),Iu(t||{})}))}(t.A,Ku(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ba=t.A),$u(t.A)}));return Zu(t,e)}(t).then((function(){return Fu(t.h,e)})).then((function(e){return e?(e.ba=t.A,t.D&&(t.D.aa||null)==(e.aa||null)?e:e.reload().then((function(){return Lu(t.h,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:ju(t.h)}))):null})).then((function(e){Wu(t,e||null)}));return Zu(t,n)}(this)),this.i=Zu(this,function(t){return t.V.then((function(){return t.fa()})).s((function(){})).then((function(){if(!t.l)return t.ka()})).s((function(){})).then((function(){if(!t.l){t.X=!0;var e=t.h;e.b.addListener(Ru("local"),e.a,t.ka)}}))}(this)),this.X=!1,this.ka=y(this.Oc,this),this.Ha=y(this.Z,this),this.ra=y(this.bc,this),this.sa=y(this.mc,this),this.ta=y(this.nc,this),function(t){var e=Ku(t).options.authDomain,n=Ku(t).options.apiKey;e&&lr()&&(t.Sb=t.V.then((function(){if(!t.l){if(t.a=Fc(e,n,Ku(t).name),t.a.subscribe(t),Qu(t)&&du(Qu(t)),t.D){du(t.D);var r=t.D;r.pa(t.ea()),ru(r,t),iu(r=t.D,t.G),ou(r,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=y(this.delete,this),this.INTERNAL.logFramework=y(this.vc,this),this.u=0,Oe.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.pa(t)},enumerable:!1}),t.W=null}(this),this.G=[]}function Hu(t){se.call(this,"languageCodeChanged"),this.g=t}function Uu(t){se.call(this,"frameworkChanged"),this.c=t}function qu(t){return t.Sb||Et(new Vr("auth-domain-config-required"))}function zu(t,e){var n={};return n.apiKey=Ku(t).options.apiKey,n.authDomain=Ku(t).options.authDomain,n.appName=Ku(t).name,t.V.then((function(){return function(t,e,n,r){var i=new nu(t,e);return n&&(i.ba=n),r&&iu(i,r),i.reload().then((function(){return i}))}(n,e,t.A,t.ya())})).then((function(e){return Qu(t)&&e.uid==Qu(t).uid?(bu(Qu(t),e),t.Z(e)):(Wu(t,e),du(e),t.Z(e))})).then((function(){Xu(t)}))}function Wu(t,e){Qu(t)&&(function(t,e){j(t.N,(function(t){return t==e}))}(Qu(t),t.Ha),Se(Qu(t),"tokenChanged",t.ra),Se(Qu(t),"userDeleted",t.sa),Se(Qu(t),"userInvalidated",t.ta),cu(Qu(t))),e&&(e.N.push(t.Ha),be(e,"tokenChanged",t.ra),be(e,"userDeleted",t.sa),be(e,"userInvalidated",t.ta),0<t.u&&su(e)),Pr(t,"currentUser",e),e&&(e.pa(t.ea()),ru(e,t),iu(e,t.G),ou(e,t))}function Gu(t,e){var n=null,r=null;return Zu(t,e.then((function(e){return n=to(e),r=pi(e),zu(t,e)})).then((function(){return Ar({user:Qu(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Ku(t){return t.app}function Qu(t){return t.currentUser}function Yu(t){return Qu(t)&&Qu(t)._lat||null}function Xu(t){if(t.X){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Yu(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](Yu(t))}}function Zu(t,e){return t.N.push(e),e.ia((function(){L(t.N,e)})),e}function Ju(){}function tl(){this.a={},this.b=1e12}Mu.prototype.nb=function(t){var e=null,n=this;return function(t){var e=new Vr("invalid-persistence-type"),n=new Vr("unsupported-persistence-type");t:{for(r in tc)if(tc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(tr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!ur()&&"none"!==t)throw n}}(t),Bu(this,(function(){return t!=n.c.B?n.b.get(n.c,n.a).then((function(r){return e=r,Du(n,t)})).then((function(){if(n.c=Ru(t),e)return n.b.set(n.c,e,n.a)})):St()}))},w(Vu,Oe),w(Hu,se),w(Uu,se),(t=Vu.prototype).nb=function(t){return Zu(this,t=this.h.nb(t))},t.pa=function(t){this.W===t||this.l||(this.W=t,va(this.b,this.W),this.dispatchEvent(new Hu(this.ea())))},t.ea=function(){return this.W},t.Uc=function(){var t=n.navigator;this.pa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.vc=function(t){this.G.push(t),ya(this.b,bg.a.SDK_VERSION?ar(bg.a.SDK_VERSION,this.G):null),this.dispatchEvent(new Uu(this.G))},t.ya=function(){return B(this.G)},t.toJSON=function(){return{apiKey:Ku(this).options.apiKey,authDomain:Ku(this).options.authDomain,appName:Ku(this).name,currentUser:Qu(this)&&Qu(this).w()}},t.wb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ha=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.xa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?y(this.ac,this):null},t.ac=function(t,e,n){var r=this;t={requestUri:t,postBody:n,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var i=null,o=null,a=Aa(r.b,t).then((function(t){return i=to(t),o=pi(t),t}));return Zu(this,t=r.V.then((function(){return a})).then((function(t){return zu(r,t)})).then((function(){return Ar({user:Qu(r),credential:i,additionalUserInfo:o,operationType:"signIn"})})))},t.Mc=function(t){if(!lr())return Et(new Vr("operation-not-supported-in-this-environment"));var e=this,n=hi(t.providerId),r=vr(),i=null;(!hr()||Zn())&&Ku(this).options.authDomain&&t.isOAuthProvider&&(i=Ss(Ku(this).options.authDomain,Ku(this).options.apiKey,Ku(this).name,"signInViaPopup",t,null,r,bg.a.SDK_VERSION||null));var o=Gn(i,n&&n.Ba,n&&n.Aa);return Zu(this,n=qu(this).then((function(e){return Rc(e,o,"signInViaPopup",t,r,!!i)})).then((function(){return new mt((function(t,n){e.ha("signInViaPopup",null,new Vr("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.c=e.a.Ea(e,"signInViaPopup",o,r)}))})).then((function(t){return o&&Wn(o),t?Ar(t):null})).s((function(t){throw o&&Wn(o),t})))},t.Nc=function(t){if(!lr())return Et(new Vr("operation-not-supported-in-this-environment"));var e=this;return Zu(this,qu(this).then((function(){return function(t){return Bu(t,(function(){return t.b.set(Nu,t.c.B,t.a)}))}(e.h)})).then((function(){return e.a.Ca("signInViaRedirect",t)})))},t.fa=function(){if(!lr())return Et(new Vr("operation-not-supported-in-this-environment"));var t=this;return Zu(this,qu(this).then((function(){return t.a.fa()})).then((function(t){return t?Ar(t):null})))},t.Sc=function(t){if(!t)return Et(new Vr("null-user"));var e=this,n={};n.apiKey=Ku(this).options.apiKey,n.authDomain=Ku(this).options.authDomain,n.appName=Ku(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.u,appName:t.m};var i=t.h,o={};return o[fa]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-_())/1e3,e=new nu(e,o),n&&(e.ba=n),r&&iu(e,r),bu(e,t),e}(t,n,e.A,e.ya());return Zu(this,this.i.then((function(){if(Ku(e).options.apiKey!=t.l)return r.reload()})).then((function(){return Qu(e)&&t.uid==Qu(e).uid?(bu(Qu(e),t),e.Z(t)):(Wu(e,r),du(r),e.Z(r))})).then((function(){Xu(e)})))},t.ob=function(){var t=this;return Zu(this,this.i.then((function(){return Qu(t)?(Wu(t,null),ju(t.h).then((function(){Xu(t)}))):St()})))},t.Oc=function(){var t=this;return Fu(this.h,Ku(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=Qu(t)&&e){n=Qu(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return bu(Qu(t),e),Qu(t).F();(Qu(t)||e)&&(Wu(t,e),e&&(du(e),e.ba=t.A),t.a&&t.a.subscribe(t),Xu(t))}}))},t.Z=function(t){return Lu(this.h,t)},t.bc=function(){Xu(this),this.Z(Qu(this))},t.mc=function(){this.ob()},t.nc=function(){this.ob()},t.oc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(Qu(e))}))},t.pc=function(t){var e=this;!function(t,e){t.I.push(e),Zu(t,t.i.then((function(){!t.l&&R(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(Yu(t)))})))}(this,(function(){t.next(Qu(e))}))},t.xc=function(t,e,n){var r=this;return this.X&&bg.a.Promise.resolve().then((function(){f(t)?t(Qu(r)):f(t.next)&&t.next(Qu(r))})),this.Tb(t,e,n)},t.wc=function(t,e,n){var r=this;return this.X&&bg.a.Promise.resolve().then((function(){r.O=r.getUid(),f(t)?t(Qu(r)):f(t.next)&&t.next(Qu(r))})),this.Ub(t,e,n)},t.cc=function(t){var e=this;return Zu(this,this.i.then((function(){return Qu(e)?Qu(e).F(t).then((function(t){return{accessToken:t}})):null})))},t.Nb=function(t){var e=this;return this.i.then((function(){return Gu(e,ss(e.b,ns,{token:t}))})).then((function(t){var n=t.user;return yu(n,"isAnonymous",!1),e.Z(n),t}))},t.Gc=function(t){return kr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Nb(t)},t.Hc=function(t,e){return kr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Ob(t,e)},t.Ob=function(t,e){var n=this;return this.i.then((function(){return Gu(n,ss(n.b,rs,{email:t,password:e}))}))},t.yb=function(t,e){var n=this;return this.i.then((function(){return Gu(n,ss(n.b,Ra,{email:t,password:e}))}))},t.Wb=function(t,e){return kr("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.yb(t,e)},t.Jc=function(t){return kr("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Qa(t).then((function(t){return t.user}))},t.Qa=function(t){var e=this;return this.i.then((function(){return Gu(e,t.la(e.b))}))},t.Ra=function(){var t=this;return this.i.then((function(){var e=Qu(t);if(e&&e.isAnonymous){var n=Ar({providerId:null,isNewUser:!1});return Ar({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Gu(t,t.b.Ra()).then((function(e){var n=e.user;return yu(n,"isAnonymous",!0),t.Z(n),e}))}))},t.Ic=function(){return kr("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Ra()},t.getUid=function(){return Qu(this)&&Qu(this).uid||null},t.Vb=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&Qu(this)&&su(Qu(this))},t.Ec=function(t){var e=this;M(this.m,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&Qu(this)&&cu(Qu(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),Zu(this,this.i.then((function(){e.l||R(e.m,t)&&t(Yu(e))})))},t.removeAuthTokenListener=function(t){j(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h).b.removeListener(Ru("local"),t.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Za()),bg.a.Promise.resolve()},t.Zb=function(t){return kr("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),Zu(this,function(t,e){return ss(t,La,{identifier:e,continueUri:dr()?Un():"http://localhost"}).then((function(t){return t.allProviders||[]}))}(this.b,t))},t.$b=function(t){return Zu(this,function(t,e){return ss(t,La,{identifier:e,continueUri:dr()?Un():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.qc=function(t){return!!Ki(t)},t.mb=function(t,e){var n=this;return Zu(this,St().then((function(){var t=new zr(e);if(!t.c)throw new Vr("argument-error",Kr+" must be true when sending sign in link to email");return ei(t)})).then((function(e){return n.b.mb(t,e)})).then((function(){})))},t.Vc=function(t){return this.Ja(t).then((function(t){return t.data.email}))},t.$a=function(t,e){return Zu(this,this.b.$a(t,e).then((function(){})))},t.Ja=function(t){return Zu(this,this.b.Ja(t).then((function(t){return new $r(t)})))},t.Xa=function(t){return Zu(this,this.b.Xa(t).then((function(){})))},t.lb=function(t,e){var n=this;return Zu(this,St().then((function(){return void 0===e||nt(e)?{}:ei(new zr(e))})).then((function(e){return n.b.lb(t,e)})).then((function(){})))},t.Lc=function(t,e){return Zu(this,Gc(this,t,e,y(this.Qa,this)))},t.Kc=function(t,e){var n=this;return Zu(this,St().then((function(){var r=Gi(t,e||Un());return n.Qa(r)})))},Ju.prototype.render=function(){},Ju.prototype.reset=function(){},Ju.prototype.getResponse=function(){},Ju.prototype.execute=function(){};var el=null;function nl(t,e){return(e=rl(e))&&t.a[e]||null}function rl(t){return(t=void 0===t?1e12:t)?t.toString():null}function il(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Mn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():be(this.f,"click",this.i)}function ol(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function al(){}tl.prototype.render=function(t,e){return this.a[this.b.toString()]=new il(t,e),this.b++},tl.prototype.reset=function(t){var e=nl(this,t);t=rl(t),e&&t&&(e.delete(),delete this.a[t])},tl.prototype.getResponse=function(t){return(t=nl(this,t))?t.getResponse():null},tl.prototype.execute=function(t){(t=nl(this,t))&&t.execute()},il.prototype.getResponse=function(){return ol(this),this.b},il.prototype.execute=function(){ol(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},il.prototype.delete=function(){ol(this),this.g=!0,clearTimeout(this.a),this.a=null,Se(this.f,"click",this.i)},al.prototype.g=function(){return el||(el=new tl),St(el)},al.prototype.c=function(){};var sl=null;function cl(){this.b=n.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var ul=new pn(vn,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),ll=new _r(3e4,6e4);cl.prototype.g=function(t){var e=this;return new mt((function(r,i){var o=setTimeout((function(){i(new Vr("network-request-failed"))}),ll.get());!n.grecaptcha||t!==e.f&&!e.b?(n[e.a]=function(){if(n.grecaptcha){e.f=t;var a=n.grecaptcha.render;n.grecaptcha.render=function(t,n){return t=a(t,n),e.b++,t},clearTimeout(o),r(n.grecaptcha)}else clearTimeout(o),i(new Vr("internal-error"));delete n[e.a]},St(ra(_n(ul,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(o),i(new Vr("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(o),r(n.grecaptcha))}))},cl.prototype.c=function(){this.b--};var dl=null;function fl(t,e,r,i,o,a,s){if(Pr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.l=e,this.g=null,s?(sl||(sl=new al),s=sl):(dl||(dl=new cl),s=dl),this.m=s,this.a=r||{theme:"light",type:"image"},this.h=[],this.a[ml])throw new Vr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[gl],!n.document)throw new Vr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Mn(e)||!this.i&&Mn(e).hasChildNodes())throw new Vr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new la(t,a||null,o||null),this.v=i||function(){return null};var c=this;this.o=[];var u=this.a[hl];this.a[hl]=function(t){if(vl(c,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=cr(u,n);"function"==typeof e&&e(t)}};var l=this.a[pl];this.a[pl]=function(){if(vl(c,null),"function"==typeof l)l();else if("string"==typeof l){var t=cr(l,n);"function"==typeof t&&t()}}}var hl="callback",pl="expired-callback",ml="sitekey",gl="size";function vl(t,e){for(var n=0;n<t.o.length;n++)try{t.o[n](e)}catch(r){}}function yl(t,e){return t.h.push(e),e.ia((function(){L(t.h,e)})),e}function bl(t){if(t.D)throw new Vr("internal-error","RecaptchaVerifier instance has been destroyed.")}function _l(t,e,n){var r=!1;try{this.b=n||bg.a.app()}catch(a){throw new Vr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Vr("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().ya()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=bg.a.SDK_VERSION?ar(bg.a.SDK_VERSION,o):null,fl.call(this,n,t,e,(function(){try{var t=i.b.auth().ea()}catch(e){t=null}return t}),o,ui(si),r)}function wl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Vr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Sl.length)throw new Vr("internal-error","Argument validator received an unsupported number of arguments.");n=Sl[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new Vr("argument-error",t+" failed: "+r)}(t=fl.prototype).za=function(){var t=this;return this.f?this.f:this.f=yl(this,St().then((function(){if(dr()&&!Jn())return Yn();throw new Vr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.v())})).then((function(e){return t.g=e,ss(t.u,Ga,{})})).then((function(e){t.a[ml]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){bl(this);var t=this;return yl(this,this.za().then((function(){if(null===t.c){var e=t.l;if(!t.i){var n=Mn(e);e=function(t,e,n){var i=arguments,o=document,a=String(i[0]),s=i[1];if(!hn&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',ut(s.name),'"'),s.type){a.push(' type="',ut(s.type),'"');var c={};st(c,s),delete c.type,s=c}a.push(">"),a=a.join("")}return a=o.createElement(a),s&&(r(s)?a.className=s:l(s)?a.className=s.join(" "):Dn(a,s)),2<i.length&&function(t,e,n){function i(n){n&&e.appendChild(r(n)?t.createTextNode(n):n)}for(var o=2;o<n.length;o++){var a=n[o];!d(a)||h(a)&&0<a.nodeType?i(a):M(Rn(a)?B(a):a,i)}}(o,a,i),a}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){bl(this);var t=this;return yl(this,this.render().then((function(e){return new mt((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){j(t.o,(function(t){return t==e}))}(t,i),n(e))};t.o.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){bl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){bl(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Mn(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}},w(_l,fl);var Sl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function El(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:r}}function xl(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:i}}function Cl(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:h}}function kl(t,e){return{name:t||"",K:"a function",optional:!!e,M:f}}function Tl(t,e){return{name:t||"",K:"null",optional:!!e,M:u}}function Pl(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.la||t&&e.providerId!==t)}}}function Il(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&r(t.type)&&f(t.verify))}}}function Al(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Ol(t,e){for(var n in e){var r=e[n].name;t[r]=Dl(r,t[n],e[n].j)}}function $l(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:b((function(t){return this[t]}),n),set:b((function(t,e,n,r){wl(t,[n],[r],!0),this[e]=r}),r,n,e[n].ub),enumerable:!0})}}function Ml(t,e,n,r){t[e]=Dl(e,n,r)}function Dl(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return wl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Ol(Vu.prototype,{Xa:{name:"applyActionCode",j:[El("code")]},Ja:{name:"checkActionCode",j:[El("code")]},$a:{name:"confirmPasswordReset",j:[El("code"),El("newPassword")]},yb:{name:"createUserWithEmailAndPassword",j:[El("email"),El("password")]},Wb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[El("email"),El("password")]},Zb:{name:"fetchProvidersForEmail",j:[El("email")]},$b:{name:"fetchSignInMethodsForEmail",j:[El("email")]},fa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[El("emailLink")]},wc:{name:"onAuthStateChanged",j:[Al(Cl(),kl(),"nextOrObserver"),kl("opt_error",!0),kl("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[Al(Cl(),kl(),"nextOrObserver"),kl("opt_error",!0),kl("opt_completed",!0)]},lb:{name:"sendPasswordResetEmail",j:[El("email"),Al(Cl("opt_actionCodeSettings",!0),Tl(null,!0),"opt_actionCodeSettings",!0)]},mb:{name:"sendSignInLinkToEmail",j:[El("email"),Cl("actionCodeSettings")]},nb:{name:"setPersistence",j:[El("persistence")]},Qa:{name:"signInAndRetrieveDataWithCredential",j:[Pl()]},Ra:{name:"signInAnonymously",j:[]},Ic:{name:"signInAnonymouslyAndRetrieveData",j:[]},Jc:{name:"signInWithCredential",j:[Pl()]},Nb:{name:"signInWithCustomToken",j:[El("token")]},Gc:{name:"signInAndRetrieveDataWithCustomToken",j:[El("token")]},Ob:{name:"signInWithEmailAndPassword",j:[El("email"),El("password")]},Kc:{name:"signInWithEmailLink",j:[El("email"),El("emailLink",!0)]},Hc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[El("email"),El("password")]},Lc:{name:"signInWithPhoneNumber",j:[El("phoneNumber"),Il()]},Mc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Sc:{name:"updateCurrentUser",j:[Al({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof nu)}},Tl(),"user")]},ob:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[El(null,!0)]},Uc:{name:"useDeviceLanguage",j:[]},Vc:{name:"verifyPasswordResetCode",j:[El("code")]}}),$l(Vu.prototype,{lc:{name:"languageCode",ub:Al(El(),Tl(),"languageCode")}}),(Vu.Persistence=tc).LOCAL="local",Vu.Persistence.SESSION="session",Vu.Persistence.NONE="none",Ol(nu.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[xl("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[xl("opt_forceRefresh",!0)]},fb:{name:"linkAndRetrieveDataWithCredential",j:[Pl()]},rc:{name:"linkWithCredential",j:[Pl()]},sc:{name:"linkWithPhoneNumber",j:[El("phoneNumber"),Il()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},hb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Pl()]},Ac:{name:"reauthenticateWithCredential",j:[Pl()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[El("phoneNumber"),Il()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},kb:{name:"sendEmailVerification",j:[Al(Cl("opt_actionCodeSettings",!0),Tl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[El(null,!0)]},Rc:{name:"unlink",j:[El("provider")]},qb:{name:"updateEmail",j:[El("email")]},rb:{name:"updatePassword",j:[El("password")]},Tc:{name:"updatePhoneNumber",j:[Pl("phone")]},sb:{name:"updateProfile",j:[Cl("profile")]}}),Ol(tl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ol(Ju.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ol(mt.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),$l(zc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",ub:xl("appVerificationDisabledForTesting")}}),Ol(Wc.prototype,{confirm:{name:"confirm",j:[El("verificationCode")]}}),Ml(Ci,"fromJSON",(function(t){t=r(t)?JSON.parse(t):t;for(var e,n=[$i,zi,Yi,Ii],i=0;i<n.length;i++)if(e=n[i](t))return e;return null}),[Al(El(),Cl(),"json")]),Ml(Wi,"credential",(function(t,e){return new qi(t,e)}),[El("email"),El("password")]),Ol(qi.prototype,{w:{name:"toJSON",j:[El(null,!0)]}}),Ol(Ri.prototype,{ua:{name:"addScope",j:[El("scope")]},Da:{name:"setCustomParameters",j:[Cl("customOAuthParameters")]}}),Ml(Ri,"credential",Li,[Al(El(),Cl(),"token")]),Ml(Wi,"credentialWithLink",Gi,[El("email"),El("emailLink")]),Ol(ji.prototype,{ua:{name:"addScope",j:[El("scope")]},Da:{name:"setCustomParameters",j:[Cl("customOAuthParameters")]}}),Ml(ji,"credential",Fi,[Al(El(),Cl(),"token")]),Ol(Bi.prototype,{ua:{name:"addScope",j:[El("scope")]},Da:{name:"setCustomParameters",j:[Cl("customOAuthParameters")]}}),Ml(Bi,"credential",Vi,[Al(El(),Al(Cl(),Tl()),"idToken"),Al(El(),Tl(),"accessToken",!0)]),Ol(Hi.prototype,{Da:{name:"setCustomParameters",j:[Cl("customOAuthParameters")]}}),Ml(Hi,"credential",Ui,[Al(El(),Cl(),"token"),El("secret",!0)]),Ol(Ni.prototype,{ua:{name:"addScope",j:[El("scope")]},credential:{name:"credential",j:[Al(El(),Al(Cl(),Tl()),"optionsOrIdToken"),Al(El(),Tl(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[Cl("customOAuthParameters")]}}),Ol(Ai.prototype,{w:{name:"toJSON",j:[El(null,!0)]}}),Ol(Ti.prototype,{w:{name:"toJSON",j:[El(null,!0)]}}),Ml(Zi,"credential",Ji,[El("verificationId"),El("verificationCode")]),Ol(Zi.prototype,{Va:{name:"verifyPhoneNumber",j:[El("phoneNumber"),Il()]}}),Ol(Qi.prototype,{w:{name:"toJSON",j:[El(null,!0)]}}),Ol(Vr.prototype,{toJSON:{name:"toJSON",j:[El(null,!0)]}}),Ol(co.prototype,{toJSON:{name:"toJSON",j:[El(null,!0)]}}),Ol(so.prototype,{toJSON:{name:"toJSON",j:[El(null,!0)]}}),Ol(_l.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===bg.a||!bg.a.INTERNAL||!bg.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:Vu,AuthCredential:Ci,Error:Vr};Ml(t,"EmailAuthProvider",Wi,[]),Ml(t,"FacebookAuthProvider",Ri,[]),Ml(t,"GithubAuthProvider",ji,[]),Ml(t,"GoogleAuthProvider",Bi,[]),Ml(t,"TwitterAuthProvider",Hi,[]),Ml(t,"OAuthProvider",Ni,[El("providerId")]),Ml(t,"SAMLAuthProvider",Di,[El("providerId")]),Ml(t,"PhoneAuthProvider",Zi,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Vu)}}]),Ml(t,"RecaptchaVerifier",_l,[Al(El(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Cl("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof bg.a.app.App)}}]),bg.a.INTERNAL.registerService("auth",(function(t,e){return e({INTERNAL:{getUid:y((t=new Vu(t)).getUid,t),getToken:y(t.cc,t),addAuthTokenListener:y(t.Vb,t),removeAuthTokenListener:y(t.Ec,t)}}),t}),t,(function(t,e){if("create"===t)try{e.auth()}catch(n){}})),bg.a.INTERNAL.extendNamespace({User:nu})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),n("Ua55"),n("AmJI"),function(t){if(hg)throw new Error("fbWrapper.configure cannot be called after wrapper was used");fg=function(){return[vg,(pg||(pg=vg.initializeApp(mg.firebaseConfig)),pg)]}}();var wg=new Bt("ajs.analytics",{providedIn:"root",factory:function(){return _g().get("analytics")}}),Sg=new Bt("ajs.backgroundTool",{providedIn:"root",factory:function(){return _g().get("backgroundTool")}}),Eg=(new Bt("ajs.castifyConfig",{providedIn:"root",factory:function(){return _g().get("castifyConfig")}}),new Bt("ajs.chromeEventPublisher",{providedIn:"root",factory:function(){return _g().get("chromeEventPublisher")}}),new Bt("ajs.chromePersistentLogger",{providedIn:"root",factory:function(){return _g().get("chromePersistentLogger")}}),new Bt("ajs.connectService",{providedIn:"root",factory:function(){return _g().get("connectService")}})),xg=new Bt("ajs.appOptions",{providedIn:"root",factory:function(){return _g().get("appOptions")}}),Cg=new Bt("ajs.chromeRuntime",{providedIn:"root",factory:function(){return _g().get("chromeRuntime")}}),kg=new Bt("ajs.chromeWindows",{providedIn:"root",factory:function(){return _g().get("chromeWindows")}}),Tg=new Bt("ajs.chromeTabs",{providedIn:"root",factory:function(){return _g().get("chromeTabs")}}),Pg=new Bt("ajs.driveUtils",{providedIn:"root",factory:function(){return _g().get("driveUtils")}}),Ig=new Bt("ajs.fileDbClient",{providedIn:"root",factory:function(){return _g().get("fileDbClient")}}),Ag=new Bt("ajs.webEditUtils",{providedIn:"root",factory:function(){return _g().get("webEditUtils")}}),Og=(new Bt("ajs.$log",{providedIn:"root",factory:function(){return _g().get("$log")}}),new Bt("ajs.shareUtils",{providedIn:"root",factory:function(){return _g().get("shareUtils")}})),$g=new Bt("ajs.simpleBgServiceConsumer",{providedIn:"root",factory:function(){return _g().get("simpleBgServiceConsumer")}}),Mg=new Bt("ajs.youtubeAuth",{providedIn:"root",factory:function(){return _g().get("youtubeAuth")}}),Dg=new Bt("ajs.syncStatusClient",{providedIn:"root",factory:function(){return _g().get("syncStatusClient")}}),Ng=new Bt("ajs.helpCenter",{providedIn:"root",factory:function(){return _g().get("helpCenter")}}),Rg=(new Bt("ajs.bgUserAccount",{providedIn:"root",factory:function(){return _g().get("bgUserAccount")}}),new Bt("ajs.bgCastifyAuth",{providedIn:"root",factory:function(){return _g().get("bgCastifyAuth")}}),new Bt("ajs.bgFiles",{providedIn:"root",factory:function(){return _g().get("bgFiles")}}),new Bt("ajs.deployConfig",{providedIn:"root",factory:function(){return _g().get("deployConfig")}}),new Bt("ajs.UploadBase",{providedIn:"root",factory:function(){return _g().get("UploadBase")}}),new Bt("ajs.$http",{providedIn:"root",factory:function(){return _g().get("$http")}})),Lg=new Bt("ajs.$state",{providedIn:"root",factory:function(){return _g().get("$state")}}),jg=new Bt("ajs.rootScope",{providedIn:"root",factory:function(){return _g().get("$rootScope")}}),Fg=new Bt("ajs.$stateParams",{providedIn:"root",factory:function(){return _g().get("$stateParams")}}),Bg=new Bt("ajs.$location",{providedIn:"root",factory:function(){return _g().get("$location")}}),Vg=new Bt("ajs.appRegistry",{providedIn:"root",factory:function(){return _g().get("appRegistry")}}),Hg=n("nco3"),Ug=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();function qg(t,e){return function(n){return n.lift(new zg(t,e))}}var zg=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Wg(t,this.predicate,this.thisArg))},t}(),Wg=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return i.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(g),Gg=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Kg=new w((function(t){return t.complete()}));function Qg(t){return t?function(t){return new w((function(e){return t.schedule((function(){return e.complete()}))}))}(t):Kg}function Yg(t){return function(e){return 0===t?Qg():e.lift(new Xg(t))}}var Xg=function(){function t(t){if(this.total=t,this.total<0)throw new Gg}return t.prototype.call=function(t,e){return e.subscribe(new Zg(t,this.total))},t}(),Zg=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return i.__extends(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(g);function Jg(t){return void 0===t&&(t=null),function(e){return e.lift(new rv(t))}}var tv,ev,nv,rv=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new iv(t,this.defaultValue))},t}(),iv=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return i.__extends(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(g),ov=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new av(t,this.errorFactory))},t}(),av=function(t){function e(e,n){var r=t.call(this,e)||this;return r.errorFactory=n,r.hasValue=!1,r}return i.__extends(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(g);function sv(){return new Ug}function cv(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?qg((function(e,n){return t(e,n,r)})):W,Yg(1),n?Jg(e):(void 0===(i=function(){return new Ug})&&(i=sv),function(t){return t.lift(new ov(i))}));var i}}function uv(t,e,n,r){var i={videoTitleNamingScheme:"tabTitle",notifyAudio:!0,notifyFramerate:!1,notifyTabFocus:!0,uploadPrivacy:"public",autoOpen:!0,autoPlay:!0,driveSync:!1,enableDiskSpaceWatcher:!0,notifySyncProgress:!1,notifyEditProgress:!0,enableAnalytics:!0,showEditToolsHint:!0,enableWindowPicker:!0,encoder:null,audioCodec:null,bitRateOption:"high",hwEncoding:!1,hideRestartAlert:!1,hideDiscardAlert:!1,featureRolloutRand:null,hasUsedAudioExport:!1,enableEditorTrial:!1,enableInlinePopupUi:!1,enablePiP:!1,enableAudioExport:!1,hasSilencedTrimConfirm:!1,hasVisitedNewVDP:!1,enableVDPForVariants:!1,enableVDP:!1,showDriveIssueBar:!1,enableQRCode:!1,enableGifExport:!1,useVideoExportForAudioExport:!1,enableTimeLimitWarning:!1},o=!1,a={},s={},c={};function u(t){return r.options.hasOwnProperty(t)}return a.localValues=qd.copy({micGain:1,micAudioProcessing:!0}),a.loadedPromise=n.all({sync:t.sync.getSingle("options"),local:t.local.getSingle("options"),rollout:t.sync.getSingle("rolloutOptions"),managed:r.loadedPromise}).then((function(t){qd.extend(s,t.sync),qd.extend(c,t.rollout),qd.extend(a.localValues,t.local),o=!0})),a.values={},Object.keys(i).forEach((function(t){Object.defineProperty(a.values,t,{enumerable:!0,get:function(){return u(t)?function(t){return r.options[t]}(t):s.hasOwnProperty(t)?s[t]:c.hasOwnProperty(t)?c[t]:i[t]},set:function(e){s[t]=e}})})),a.setRolloutValues=function(e){return t.sync.setSingle("rolloutOptions",c=e)},a.save=function(){return t.sync.setSingle("options",s)},a.saveLocal=function(){return t.local.setSingle("options",a.localValues)},a.isLoaded=function(){return o},a.isSetByEnterprisePolicy=function(t){return u(t)},t.onChanged.addListener((function(t,n){"sync"===n&&t.options&&(qd.extend(s,t.options.newValue),e.$$phase||e.$digest()),"sync"===n&&t.rolloutOptions&&(qd.extend(c,t.rolloutOptions.newValue),e.$$phase||e.$digest()),"local"===n&&t.options&&(qd.extend(a.localValues,t.options.newValue),e.$$phase||e.$digest())})),a}ev=tv||(tv={}),nv=0,ev.ensureOnline=function(){0===nv&&vg.database().goOnline(),nv++},ev.goOfflineIfIdle=function(){0==--nv&&vg.database().goOffline()},n("wIp5"),n("q6u/"),n("9br6"),n("babd"),uv.$inject=["cf2ChromeStorageService","$rootScope","$q","enterprisePolicy"],qd.module("castifyExt.appOptions",["cf2.chromeStorageService","castifyExt.enterprisePolicy"]).factory("appOptions",uv),n("KE3a"),n("Z0Xy"),n("LHv7"),n("PA9X"),n("Gn4E"),n("My7p"),qd.module("castifyExt.ui.fileDetail",["castifyExt.fileDbClient","castifyExt.ui.fileActions","castifyExt.ui.share","castifyExt.ui.pixelResolution","w69b.timeutil","castifyExt.ui.editableText","w69b.ui.focus","castifyExt.ui.uploadInfo","castifyExt.ui.fileSyncInfo","cf2.upgradeHelperService","castifyExt.ui.videoPlayer","castifyExt.ui.fileComment","castifyExt.ui.share.shareUtils","castifyExt.ui.classroomShare","castifyExt.enterprisePolicy","castifyExt.ui.connectShareProgress","castifyWebEdit.webEditUtils","castifyExt.syncDownloaderClient","cf2.uploader","castifyExt.appOptions","cf2.ratingService"]).controller("FileDetailCtrl",["$scope","$transition$","fileDbClient","$location","$mdDialog","cf2UploaderService","enterprisePolicy","$window","$mdToast","$mdSidenav","shareUtils","$log","analytics","webEditUtils","cf2UpgradeHelperService","syncDownloaderClient","appOptions","cf2RatingService",function(t,e,n,r,i,o,a,s,c,u,l,d,f,h,p,m,g,v){t.enterprisePolicy=a,t.cf2UpgradeHelperService=p,t.file=null,t.item={isRenaming:!1};var y=!1;t.openShared=function(t){s.open(t.link)},t.openWebEditor=function(t){f.trackEvent("video_details","toolbar -> new_editor","click"),h.openEditor(t)},t.hasEditorAccess=function(){return g.values.enableEditorTrial||p.license.editorAlpha||p.license.editorTrial},t.showDriveIssueBar=function(){return g.values.showDriveIssueBar},t.openCropEditor=function(t){f.trackEvent("video_details","toolbar -> crop_trim","click"),h.openCropEditor(t)},t.copyShareLink=function(e){y||(f.trackEvent("video_details","sidebar -> copy_drive_link","click"),y=!0,c.show(c.simple({hideDelay:0,position:"top right"}).content("Enabling link sharing...")),l.enableLinkSharing(t.file,{target:e.target}).then((function(){l.copyLink(e.link,{position:"top right"})})).catch((function(t){d.warn("enableLinkSharing failed:",t),c.show(c.simple({position:"top right"}).content("Failed to enable link sharing, try the share button instead."))})).finally((function(){y=!1})))},t.showInfo=function(){u("info").open()},n.getFileDescriptor(e.params().fileId).then((function(e){t.file=e,t.$root.pageTitle=e.title})).catch((function(t){d.debug("file not found",t),r.path("/files")})),t.showShareDialog=function(e){f.trackEvent("video_details","toolbar -> share","click");var n=t.$new(!0);n.file=t.file,i.show({targetEvent:e,scope:n,clickOutsideToClose:!0,templateUrl:"components/castifyExt/ui/share/share-dialog.html",controller:"ShareDialogCtrl"}).then((function(){t.showInfo()}))},t.$watch("file.deleted",(function(t){t&&r.path("/files")})),t.editTitle=function(e){e.preventDefault(),t.item.isRenaming=!0},t.$watchGroup(["file.youtubeInfo.id","file.driveInfo"],(function(){var e=[],n=t.file;n&&(n.youtubeInfo&&e.push({target:"youtube",title:"YouTube",icon:"youtube",link:l.getLink(n,"youtube"),linkShare:!!n.youtubeInfo.channelId}),n.driveInfo&&e.push({target:"drive",title:"Google Drive",icon:"drive",link:l.getLink(n,"drive"),linkShare:!0})),t.sharedItems=e})),t.rename=function(e){var r=t.$new(!0);r.title=t.file.title,i.show({targetEvent:e,scope:r,preserveScope:!0,controller:["$mdDialog","$scope",function(t,e){e.$mdDialog=t}],templateUrl:"components/castifyExt/ui/file-detail/rename-dialog.html",clickOutsideToClose:!0}).finally((function(){var e=r.title;e&&n.rename(t.file.id,e)}))},p.onIsStudent().pipe(cv()).subscribe(e=>{e||(v.startAskRatingFlow(),t.$on("$destroy",()=>v.closeSnackBar()))}),p.onComboVariantExceeded().subscribe(e=>t.comboVariantExceeded=e),t.upgrade=function(){p.openBuy("video_review_page")};var b=m.downloads;t.$watch((function(){return[t.fileId,b[t.fileId]]}),(function(){t.download=b[t.fileId]}),!0),m.update(),t.$watch((function(){return t.file?o.getFileState(t.file.id):null}),(function(e){t.uploads=e?Object.keys(e).map((function(t){return e[t]})).filter((function(t){return!t.isSyncUpload})):null})),t.$watch((function(){const e=t.file;if(!e||!n.isSyncEnabled()||e.isSynced)return null;const r=o.getTargetState(e.id,"drive");return r?{state:r.state,progress:r.progress,complete:r.progress>=1}:{state:"queued"}}),(function(e){t.syncInfo=e}),!0)}]),n("XrfD"),n("qvan"),n("nwDU");var lv=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return i.__extends(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return i.__extends(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(u)),dv=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),fv=function(t){function e(n,r){void 0===r&&(r=dv.now);var i=t.call(this,n,(function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return i.__extends(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(dv),hv=new fv(lv);function pv(t){return!o(t)&&t-parseFloat(t)+1>=0}function mv(t,e){return void 0===t&&(t=0),void 0===e&&(e=hv),(!pv(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=hv),new w((function(n){return n.add(e.schedule(gv,t,{subscriber:n,counter:0,period:t})),n}))}function gv(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}n("/b8I"),qd.module("castifyExt.ui.fileActions",["ngMaterial","w69b.chromeAnalytics","castifyExt.fileDbClient","castifyExt.appOptions","castifyExt.recordTool","castifyExt.driveUtils","cf2.downloadHelperService","w69b.spawn","castifyExt.ui.upgradeButton","castifyExt.ui.fpsSelector","cf2.editJobSchedulerClientService"]).controller("FileActionsCtrl",["fileDbClient","$mdDialog","$log",function(t,e,n){this.remove=function(r,i){var o;return i.stopPropagation(),o=t.isSyncEnabled()?'Deleting will remove "'+r.title+'" from your device and also from your Drive account.':'Deleting will remove "'+r.title+'" from your device.',e.show(e.confirm().title("Delete Screencast?").content(o).cancel("Cancel").ok("Delete")).then((function(){n.debug("fileActions.remove()",r.id),t.remove(r.id)}))}}]).component("cfSaveFileButton",{bindings:{file:"<?"},templateUrl:"components/castifyExt/ui/file-actions/save-file-button.html",controller:["fileDbClient","$location","$mdDialog","analytics","spawn","cf2DownloadHelperService","cf2EditJobSchedulerClientService","driveUtils","appOptions","cf2UpgradeHelperService","$log",function(t,e,n,r,o,a,s,c,u,l,d){var f=this;function h(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return t=document.querySelector("cf-video-player video"),[4,mv(300).pipe(qg((function(){return t.webkitDecodedFrameCount>0})),j((function(){return t.webkitAudioDecodedByteCount>0})),cv()).toPromise()];case 1:return e=n.sent(),d.debug("hasAudio",e),[2,e]}}))}))}f.loading=!1,f.hasAudioTrack=!1,f.enableAudioExport=!1,f.$onInit=o.wrap((function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,u.loadedPromise];case 1:return t.sent(),f.showAudioNewBadge=!u.values.hasUsedAudioExport,f.enableAudioExport=u.values.enableAudioExport,[2]}}))})),f.$onChanges=o.wrap((function(){var t;return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return f.file?(t=f,[4,h()]):[3,2];case 1:t.hasAudioTrack=e.sent(),e.label=2;case 2:return[2]}}))})),f.openMenu=function(t){r.trackEvent("video_details","toolbar -> save_menu","click"),t.open()},f.exportGif=function(t){r.trackEvent("video_details","toolbar -> save_menu -> export_gif","click"),n.show({targetEvent:t,bindToController:!0,controllerAs:"$ctrl",clickOutsideToClose:!0,locals:{file:f.file},templateUrl:"components/castifyExt/ui/file-actions/gif-export-dialog.html",controller:"GifExportDialogCtrl"}).then((function(){e.path("/files")}))},f.exportMp4=function(t){r.trackEvent("video_details","toolbar -> save_menu -> export_mp4","click"),n.show({targetEvent:t,bindToController:!0,controllerAs:"$ctrl",clickOutsideToClose:!0,locals:{file:f.file},templateUrl:"components/castifyExt/ui/file-actions/mp4-export-dialog.html",controller:"Mp4ExportDialogCtrl"}).then((function(){e.path("/files")}))},f.exportAudio=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var o,a;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return r.trackEvent("video_details","toolbar -> save_menu -> export_audio","click"),f.showAudioNewBadge=!1,u.values.hasUsedAudioExport=!0,u.save(),(o=f.file.driveInfo)&&l.hasFeature("hasExport")?[3,2]:[4,n.show({targetEvent:t,bindToController:!0,controllerAs:"$ctrl",clickOutsideToClose:!0,locals:{file:f.file},templateUrl:"components/castifyExt/ui/file-actions/audio-export-dialog.html",controller:"AudioExportDialogCtrl"}).catch((function(){return!1}))];case 1:if(!i.sent())return[2];if(!(o=f.file.driveInfo))throw new Error("driveInfo not available after audio export dialog closed");i.label=2;case 2:return[4,c.getDriveUploadParentId()];case 3:return a=i.sent(),s.addJob({type:"audioExport",driveFileId:o.id,fileName:f.file.title+".mp3",outFormat:"mp3",driveFolderId:a,meta:{fileId:f.file.id}}),e.path("/files"),[2]}}))}))},f.isMp4=function(){return f.file&&"video/mp4"===f.file.mimeType},f.save=function(){r.trackEvent("video_details","toolbar -> save_menu -> save_to_disk","click");var e=f.file;e&&(f.loading=!0,t.reload(e.id).then((function(){return e.getUrl(!0)})).then((function(t){var n=e.title.replace(/[/,\\]/g,""),r=f.isMp4()?".mp4":".webm";n.endsWith(r)||(n+=r),a.download(t,n)})).finally((function(){f.loading=!1})))}}]}).controller("Mp4ExportDialogCtrl",["$scope","$mdDialog","cf2EditJobSchedulerClientService","cf2UpgradeHelperService","appOptions","recordTool",function(t,e,n,r,i,o){var a=this;a.setMp4AsDefault=!1,a.recordConfig={},a.canSetMp4AsDefault=function(){return"mp4"!==a.recordConfig.exportFormat&&i.values.driveSync&&i.values.hwEncoding&&i.values.instantUpload},a.isStoredOnDrive=function(){return!!a.file.driveInfo},a.canExport=function(){return a.isStoredOnDrive()&&r.hasFeature("hasExport")},a.export=function(){r.hasFeature("hasExport")&&(n.addJob({meta:{copy:!0,fileId:a.file.id},outFormat:"mp4",fps:a.fps}),a.setMp4AsDefault&&(a.recordConfig.exportFormat="mp4",o.setRecordConfig(a.recordConfig),i.values.instantUpload=!0,i.values.driveSync=!0,i.values.hwEncoding=!0,i.save()),e.hide())},t.cf2UpgradeHelperService=r,t.$mdDialog=e,t.$on("$locationChangeStart",(function(){return e.cancel()})),o.getRecordConfig().then((function(t){a.recordConfig=t,a.setMp4AsDefault="mp4"===t.exportFormat}))}]).controller("GifExportDialogCtrl",["$scope","$mdDialog","cf2EditJobSchedulerClientService","cf2UpgradeHelperService","appOptions",function(t,e,n,r,i){var o=this;o.canExportGifSize=function(){return n.canExportGif(o.file,t.exportSize)},o.canExportGif=function(){return o.canExportGifSize()&&r.hasFeature("hasExport")&&(o.isStoredOnDrive()||!o.isHwEncodingEnabled())},o.isHwEncodingEnabled=function(){return i.values.hwEncoding},o.isStoredOnDrive=function(){return!!o.file.driveInfo},o.export=function(){r.hasFeature("hasExport")&&(n.addJob({meta:{fileId:o.file.id},scale:t.exportSize,outFormat:"gif"}),e.hide())},function(){t.cf2UpgradeHelperService=r,t.$mdDialog=e;var n=o.file;t.scale=Math.min(1,640/n.width,480/n.height),t.minScale=Math.max(10/n.width,10/n.height),t.$watch("scale",(function(e){t.exportSize={width:Math.floor(n.width*e),height:Math.floor(n.height*e)}})),t.$on("$locationChangeStart",(function(){return e.cancel()}))}()}]).controller("AudioExportDialogCtrl",["$scope","$mdDialog","cf2UpgradeHelperService",function(t,e,n){this.canExport=function(){return n.hasFeature("hasExport")&&this.file.driveInfo&&this.file.driveInfo.id},t.cf2UpgradeHelperService=n,t.$mdDialog=e,t.$on("$locationChangeStart",(function(){return e.cancel()})),t.$watch("$ctrl.file.driveInfo.id",(function(t){t&&n.isPaid&&e.hide(!0)}))}]).component("cfExportDriveStorageHint",{templateUrl:"components/castifyExt/ui/file-actions/export-drive-storage-hint.html",transclude:!0,bindings:{file:"<"},controller:["appOptions",function(t){var e=this;e.isSyncEnabled=function(){return t.values.driveSync},e.isStoredOnDrive=function(){return!!e.file.driveInfo}}]}),n("xsy1"),n("SnNh"),angular.module("castifyExt.ui.share.shareUtils",["castifyExt.youtubeUtils","castifyExt.driveUtils","cf2.userAccount","castifyExt.castifyAuth","cf2.uploader","w69b.spawn","w69b.clipboard","cf2.uploader","ngMaterial"]).factory("shareUtils",["youtubeUtils","driveUtils","spawn","userAccount","castifyAuth","cf2UploaderService","clipboard","$mdToast","$q",function(t,e,n,r,i,o,a,s,c){var u={};function l(t){return"drive"===t}function d(t){return"youtube"===t}function f(t,e){return l(e)?!!t.driveInfo:!!d(e)&&!!t.youtubeInfo}return u.onDrivePrivacyChanged=new k,u.enableLinkSharing=function(t,e){let{privacy:r}=e;return n((function*(){if(r||(r=yield u.getPrivacy(t,e.target,e.channelId)),l(e.target)||f(t,e.target))return u.isLinkShareable(r)||(r=yield u.setPrivacy(t,angular.extend({},e,{privacy:"unlisted"}))),{privacy:r,link:u.getLink(t,e.target)};throw new Error("not supported yet")}))},u.getDriveEmbedLink=function(t){return u.enableLinkSharing(t,{target:"drive"}).then(()=>u.getLink(t,"drive","preview"))},u.upload=n.wrap((function*(t,e){var n={fileId:t.id,target:e.target,title:t.title,privacy:e.privacy,domain:e.domain,channelId:e.channelId,description:e.description||""};return(yield r.getAccount()).license.branding&&(n.description="Recorded with ScreenCastify (https://www.screencastify.com), the screen video recorder for Chrome"),yield i.getAuthToken({interactive:!0}),o.upload(n)})),u.getPrivacy=function(n,r,i){let o=f(n,r);return l(r)&&o?e.getSimplePrivacy(n.driveInfo.id):l(r)&&!o?c.resolve(n.tmpDrivePrivacy):d(r)&&o?i||n.youtubeInfo.channelId?t.getPrivacy(n.youtubeInfo.id,i||n.youtubeInfo.channelId):c.reject("channel unknown"):d(r)&&!o?c.resolve("private"):void 0},u.isLinkShareable=function(t){return["public","unlisted","domain_unlisted","domain_public"].includes(t)},u.setPrivacy=function(i,a){let s=f(i,a.target);if(d(a.target)&&s)return t.setPrivacy(i.youtubeInfo.id,a.privacy,a.channelId||i.youtubeInfo.channelId).then(()=>a.privacy);if(l(a.target)&&s)return function(t,i){return n((function*(){let o=i.privacy;const a=yield function(t){return n((function*(){if(t)return t;const e=yield r.getAccount();return e.user&&e.user.me?e.user.me.domain:null}))}(i.domain),s=()=>e.setSimplePrivacy(t.driveInfo.id,o,a);try{yield s()}catch(c){if(!a)throw c;o="domain_unlisted",yield s()}return u.onDrivePrivacyChanged.next({id:t.id,privacy:o}),o}))}(i,a);if(l(a.target)&&!s)return o.setDrivePrivacy(i.id,a.privacy),c.resolve(a.privacy);throw new Error("unknown target")},u.getLink=function(n,r,i="view"){return d(r)&&f(n,r)?t.getLink(n.youtubeInfo.id):l(r)&&n.driveFileId&&"view"===i?e.getLink(n.driveFileId):l(r)&&n.driveFileId&&"preview"===i?e.getEmbedLink(n.driveFileId):null},u.copyLink=function(t,e){if(a.copy(t),e){var n=navigator.userAgent.includes("Mac")?"CMD":"CTRL";s.show(s.simple(e).content(`Shareable link has been copied. Paste it with ${n}+V.`))}},u}]),n("05uf"),n("bIOq"),n("U/Wa"),n("tkyr"),n("lTpV"),n("MaI4"),n("4slr"),n("6Edt"),n("6NEH"),n("NZvQ"),n("LC77"),n("xYik"),n("nuLt"),n("rZqX"),n("uoNz"),n("FHnU"),n("XwOV"),n("WR+0"),n("gd1f"),n("TQWX"),n("VNoJ"),n("FKTW"),n("OeIB"),n("jOvN"),n("B+xm"),n("C00k"),n("b0vc"),n("S7RE"),n("gbmF"),n("vjUc"),n("lWAS"),n("BYIk"),qd.module("castifyExt.connect.appRegistry",["w69b.spawn","cf2.chromeStorageService"]).factory("appRegistry",["castifyConfig","$http","$q","spawn","cf2ChromeStorageService",function(t,e,n,r,o){var a=t.API_URL+"/apps",s={},c="appRegistry:cache",u=6e4;function l(){return o.local.getSingle(c,[])}function d(t){return l().then((function(e){return e.filter((function(e){return t.includes(e.id)}))}))}function f(t){return t.forEach((function(t){delete t._fetchTimestamp})),t}function h(t,e){return r((function(){var n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return t=new Set(t||[]),[4,l()];case 1:return n=r.sent(),e.forEach((function(e){t.add(e.id)})),n=n.filter((function(e){return!t.has(e.id)})),e.forEach((function(t){t._fetchTimestamp=Date.now()})),[4,(i=n=n.concat(e),o.local.setSingle(c,i))];case 2:return r.sent(),[2]}var i}))}))}function p(t){return r((function(){var r,o,s;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return t&&0!==t.length?[4,d(t)]:[2,n.when([])];case 1:if(function(t,e){var n=Date.now();return!t.some((function(t){return n>t._fetchTimestamp+u}))&&e.length===t.length}(o=i.sent(),t))return[2,f(o)];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,e.get(a,{params:{ids:t}})];case 3:return s=i.sent(),r=s.data,[3,5];case 4:return i.sent(),[2,f(o)];case 5:return[4,h(t,r)];case 6:return i.sent(),[2,f(r)]}}))}))}return s.getApps=function(t){return p(t)},s.getAppInfo=function(t){return p([t]).then((function(t){return t.length?t[0]:n.reject()}))},s}]),n("8iUY"),n("6PiA"),n("TSVP"),n("rq2D"),n("QP76"),n("44cV");var vv=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return i.__extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new E;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(k);function yv(t,e){return"function"==typeof e?function(n){return n.pipe(yv((function(n,r){return H(t(n,r)).pipe(j((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new bv(t))}}var bv=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new _v(t,this.project))},t}(),_v=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return i.__extends(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new I(this,void 0,void 0);this.destination.add(i),this.innerSubscription=R(this,t,e,n,i)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(L);function wv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(e){return j(function(t,e){return function(n){for(var r=n,i=0;i<e;i++){var o=r[t[i]];if(void 0===o)return;r=o}return r}}(t,n))(e)}}function Sv(t,e,n,r,o,a,s,c,u,l,d){var f={},h=null;function p(){return e.navigator.userAgent}function m(){return p().indexOf("CrOS aarch")>=0}function g(t){return n.getSources().then((function(e){function n(t,n){return e.some((function(e){return e.kind===t&&e.label&&(!n||n===e.id)}))}return t.audio.mic&&(n("audio")?t.audio.micSourceId&&!n("audio",t.audio.micSourceId)&&delete t.audio.micSourceId:t.audio.mic=!1),n("video")?t.camSourceId&&!n("video",t.camSourceId)&&delete t.camSourceId:("cam"===t.captureSource&&(t.captureSource="tab"),t.embedWebcam&&(t.embedWebcam=!1)),t}))}function v(t){return t.autoShareApp?r.isConnected(t.autoShareApp.id).then((function(e){return e||delete t.autoShareApp,t})):t}f.toResolution=function(t){return{width:t.width,height:t.height}},f.getResolutionLimit=function(t,e){return t.limitResolution?"tab"===t.captureSource?a.scaleResolution(a.toPhysicalResolution(e),t.maxResolution):t.maxResolution:null};var y=s.wrap((function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return h?[3,2]:[4,c.cpu.getInfo()];case 1:h=t.sent().numOfProcessors,t.label=2;case 2:return[2,h]}}))})),b=s.wrap((function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,y()];case 1:return t.sent()>=4?[2,{width:1920,height:1080}]:[2,{width:1280,height:720}]}}))})),_=s.wrap((function(){var t;return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return(t=m())?[3,2]:[4,y()];case 1:t=e.sent()<=4,e.label=2;case 2:return[2,t]}}))}));return f.canCaptureSystemAudio=function(){return p().indexOf("Windows")>=0||p().indexOf("CrOS")>=0&&Number((/Chrome\/(\d+)/.exec(window.navigator.userAgent)||[void 0,0])[1])>=46},f.getRecentlyConnectedApp=function(){return r.getRecent().then((function(t){return t?o.getAppInfo(t):null}))},f.clearRecentlyConnectedApp=function(){return r.clearRecent()},f.setRecordConfig=function(e){return t.local.setSingle("recordConfig",e)},f.isPreviewSupported=s.wrap((function(t){var e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return"tab"===(e=t.captureSource)?[2,!1]:"cam"!==e&&p().indexOf("Mac OS")>=0?[4,l.getCurrent()]:[2,!0];case 1:return[2,"fullscreen"!==n.sent().state&&!(d.values.hwEncoding||"webrtc"===d.values.encoder)&&t.embedWebcam]}}))})),f.isInjectable=function(t){return t&&(t.startsWith("https://")||t.startsWith("http://")||t.startsWith("file://"))&&!t.startsWith("https://chrome.google.com/webstore/")},f.getRecordConfigDefaults=function(){return{audio:{mic:!0,system:!1},draw:{showToolbox:!0,tool:"pointer"},embedWebcam:!1,captureSource:"desktop",targetFPS:m()?5:(p().indexOf("CrOS x86_64"),30),exportFormat:"webm",startDelay:u.IS_E2E?0:3,visualCountdown:!0}},f.getRecordConfig=s.wrap((function(){var e,n,r,o,a,s,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return e=f.getRecordConfigDefaults(),[4,t.local.getSingle("recordConfig",{})];case 1:return n=i.sent(),r=n,qd.isDefined(n.limitResolution)?(o=n.limitResolution,[3,4]):[3,2];case 2:return[4,_()];case 3:o=i.sent(),i.label=4;case 4:return r.limitResolution=o,a=n,n.maxResolution?(s=n.maxResolution,[3,7]):[3,5];case 5:return[4,b()];case 6:s=i.sent(),i.label=7;case 7:return a.maxResolution=s,n.audio=qd.isObject(n.audio)?n.audio:e.audio,n.draw=n.draw||e.draw,n.embedWebcam=n.embedWebcam||e.embedWebcam,n.captureSource=n.captureSource||e.captureSource,n.targetFPS=n.targetFPS||e.targetFPS,n.exportFormat=n.exportFormat||e.exportFormat,n.startDelay=qd.isDefined(n.startDelay)?n.startDelay:e.startDelay,n.visualCountdown=qd.isDefined(n.visualCountdown)?n.visualCountdown:e.visualCountdown,"desktop"!==n.captureSource&&"screen"!==n.captureSource||f.canCaptureSystemAudio()||(n.audio.system=!1),(c=n.showPreview)?[4,f.isPreviewSupported(n)]:[3,9];case 8:c=!i.sent(),i.label=9;case 9:return c&&(n.showPreview=!1),n.nonpersistent={},[4,g(n)];case 10:return[4,v(n=i.sent())];case 11:return[2,n=i.sent()]}}))})),f}qd.module("castifyExt.fileDbClient",["castifyExt.backgroundTool","castifyExt.appOptions","castifyExt.castifyAuth"]).factory("fileDbClient",["backgroundTool","$q","appOptions","castifyAuth","$log",function(t,e,n,r,o){var a=t.portHelper("files",!1),s=new vv({}),c={},u={},l=null,d=!1,f=0;function h(){return l||(l=e.defer(),a.postMessage("subscribe")),l.promise}function p(t){qd.extend(this,t),this.createdAt&&(this.createdAt=new Date(this.createdAt))}function m(t){var e=s.getValue(),n=e[t];n&&(n.deleted=!0,delete e[t],s.next(e))}function g(t,e){var n,r=s.getValue();e&&(n={},qd.forEach(r,(function(t,e){n[e]=!0}))),qd.forEach(t,(function(t,r){!function(t){var e=s.getValue(),n=e[t.id];n?qd.copy(t,n):e[t.id]=t,s.next(e)}(new p(t)),e&&delete n[r]})),e&&qd.forEach(n,(function(t,e){m(e)})),s.next(r)}return p.prototype.getUrl=function(t){return void 0===t&&(t=!1),Object(i.__awaiter)(this,void 0,void 0,(function(){var e,n,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return e=this,t&&e.driveInfo&&e.driveInfo.downloadUrl||e.urlRequiresAccessToken?(n=new URL(e.url).searchParams.get("cache_buster"),[4,r.getAuthToken({interactive:!1})]):[3,2];case 1:return o=i.sent(),[2,"/ng/app/driveProxy/"+encodeURIComponent(e.title)+"?fileId="+e.driveInfo.id+"&access_token="+o+"&cache_buster="+n];case 2:return[2,e.url]}}))}))},a.installHandlers({filesUpdate:function(t){t.remove&&t.remove.forEach(m),t.add&&g(t.add,!1),t.full?(g(t.full,!0),!d&&l&&(d=!0,l.resolve())):t.error&&(d=!1,l&&(l.reject(),l=null)),f++},reloadSuccess:function(t){u[t]&&(u[t].resolve(),delete u[t])},reloadError:function(t){u[t]&&(u[t].reject(),delete u[t])}}),c.getFileDescriptor=function(t){return h().then((function(){return s.getValue()[t]||e.reject()}))},c.onFileDescriptor=function(t){return H(h()).pipe(yv((function(){return s})),wv(t))},c.listFiles=function(){return h().then((function(){return s.getValue()}))},c.rename=function(t,e){var n=s.getValue()[t];n&&(n.title=e),a.postMessage("rename",{id:t,title:e})},c.reload=function(t){return u[t]||(u[t]=e.defer(),a.postMessage("reload",t)),u[t].promise},c.remove=function(t){o.debug("fileDbClient.remove",t),m(t),a.postMessage("remove",t)},c.removeAll=function(t){o.debug("fileDbClient.removeAll"),s.next({}),a.postMessage("removeAll",t)},c.isSyncEnabled=function(){return n.values.driveSync},c.getListVersionId=function(){return f},c}]),n("UmrE"),n("Xe46"),n("wngz"),n("gCzY"),n("6Mel"),n("tYv9"),n("5Lhf"),n("ARYM"),n("sSk+"),n("oRFD"),n("AOG9"),n("CL2r"),n("4lTB"),qd.module("castifyExt.crashReporterSetup",["cf2.sentryErrorHandler"]).factory("$exceptionHandler",["$injector",function(t){return function(e,n){t.get("$log").error(e,n),e&&t.get("sentryErrorHandler").handleError(e)}}]),n("m0eH"),n("C5ui"),Sv.$inject=["cf2ChromeStorageService","$window","webrtc","cf2ConnectedAppsService","appRegistry","hdpiTool","spawn","chromeSystem","castifyConfig","chromeWindows","appOptions"],qd.module("castifyExt.recordTool",["cf2.connectedAppsService","castifyExt.connect.appRegistry","castifyExt.hdpiTool","castifyExt.appOptions","w69b.webrtc","cf2.chromeStorageService","w69b.chromeWindows","w69b.spawn","w69b.chromeSystem"]).factory("recordTool",Sv),n("XRbf"),n("KGdM"),n("c4q8"),n("Ie/p"),n("IiHr"),n("vEZL"),n("J404"),n("sQ84"),n("oZqE"),n("HRCS"),n("cgCA"),n("rJTD"),n("G+hJ"),n("iTUk"),n("9I/G"),n("Al3/"),n("CO2U"),n("vn51"),n("qVZV"),n("a5Je"),n("CVq3"),n("7+qi"),n("d7dg"),n("QBW9"),n("zCuD"),n("WNYX");const Ev={name:"fileDetail",url:"/files/:fileId",templateUrl:"components/castifyExt/ui/file-detail/file-detail.html",controller:"FileDetailCtrl",pageTitle:"View Recording"},xv={name:"fileDetail",url:"/files/:id",redirectTo:async t=>{const e=t.injector().get("appOptions"),n=t.injector().get("userAccount"),r=t.injector().get("$log");let i=t.params().id,o=await n.getAccount();await e.loadedPromise;const a=function(t,e){return!!(e.enableVDP||e.enableVDPForVariants&&(t.user&&"default"!==t.user.planVariant||t.license&&t.license.isPaid))}(o,e.values);return t.options().location=!1,r.info("new VDP flag status",a),a?{state:"new-video-details",params:{id:i}}:{state:"oldFileDetail",params:{fileId:i}}}};angular.module("castifyExt.App",["ngAnimate","ui.router","castifyExt.commonConfig","castifyExt.crashReporterSetup","castifyExt.ui.options","castifyExt.ui.support","w69b.chromePersistentLogger","w69b.ui.locationChange","castifyExt.ui.fileList","castifyExt.ui.fileDetail","castifyExt.ui.topnav","castifyExt.ui.pageTitle","castifyExt.ui.searchHelp","castifyExt.ui.setup","castifyExt.authConfig","castifyExt.ui.fileEdit","castifyExt.ui.connectedApps","castifyExt.ui.themeConfig","ngMaterial","cf2.app","templates","castifyExt.deployConfig"]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state({name:"options",url:"/options",template:"<cf-options></cf-options>",pageTitle:"Options"}).state({name:"files",url:"/files",templateUrl:"components/castifyExt/ui/file-list/file-list.html",controller:"FileListCtrl",pageTitle:"Your Screencasts"}).state({name:"edit",url:"/edit/:fileId",templateUrl:"components/castifyExt/ui/file-edit/file-edit.html",controller:"FileEditCtrl",pageTitle:"Edit Recording"}).state({name:"support",url:"/support",templateUrl:"components/castifyExt/ui/support/support.html",controller:"SupportCtrl",pageTitle:"Screencastify Help"}).state({name:"about",url:"/about",templateUrl:"/components/castifyExt/ui/about/about.html",pageTitle:"About"}).state({name:"setup",url:"/setup",component:"cfSetup",pageTitle:"Setup"}).state({name:"connectedApps",url:"/connected-apps",templateUrl:"components/castifyExt/ui/connected-apps/connected-apps.html",controller:"ConnectedAppsCtrl",pageTitle:"Connected Apps"}).state({name:"e2eSignIn",url:"/e2e-signin",template:'<span id="sign-in-state">{{state}}</span>',controller:["castifyAuth","$scope","$location","deployConfig",function(t,e,n,r){const i=n.search();let o="staging"===r.env?i.stagingEmail:i.prodEmail,a="staging"===r.env?i.stagingClientToken:i.prodClientToken;e.state="not_signed_in",t.e2eSignIn({email:o,clientToken:a}).then((function(){e.state="signed_in"}))}]}).state({name:"new-video-details",url:"/hidden-video-details/:id",component:"cf2VideoDetails",pageTitle:"Video Details"}).state(xv).state({...Ev,name:"oldFileDetail",url:"/old-video-details/:fileId"}),e.otherwise(()=>"/files")}]).config(["chromePersistentLoggerProvider","$locationProvider",function(t,e){e.html5Mode(!1),t.setStorageKey("app"),t.enableGlobalHandler(!0),t.install()}]).run(["chromeTabs",function(t){t.setZoom(1).catch(angular.identity),t.setZoomSettings({mode:"disabled"})}]),n("/MJF");var Cv=function(){function t(t,e){this._name=t,this._options=e,this.value=null,this._lastSetValue=null,this._lastSetValueType=0,this._lastSetValueIdentityChange=!1}return t.prototype.setValue=function(t){if(Array.isArray(t))this._lastSetValueType=4;else if(t instanceof Set)this._lastSetValueType=8;else if(t&&"string"==typeof t){if(!(4&this._options))throw new Error(this._name+" string values are not allowed");this._lastSetValueType=1}else this._lastSetValueType=t?2:0;this._lastSetValueIdentityChange=!0,this._lastSetValue=t||null},t.prototype.hasValueChanged=function(){var t=this._lastSetValueIdentityChange;if(!(t||14&this._lastSetValueType))return!1;var e=null,n=!!(1&this._options),r=!!(8&this._options),i=!!(2&this._options);switch(this._lastSetValueType){case 1:var o=this._lastSetValue.split(/\s+/g);16&this._options?(e={},o.forEach((function(t,n){return e[t]=!0}))):e=o.reduce((function(t,e,n){return t+(n?" ":"")+e}));break;case 2:var a=this._lastSetValue,s=Object.keys(a);t||(t=!this.value||function(t,e,n){var r=t;if(!Av(Object.keys(e),r))return!0;for(var i=0;i<r.length;i++){var o=r[i];if(e[o]!==n[o])return!0}return!1}(s,this.value,a)),t&&(e=kv(this._name,n,r,i,a,s));break;case 4:case 8:var c=Array.from(this._lastSetValue);t||(t=!Av(Object.keys(this.value),c)),t&&(e=kv(this._name,n,r,i,c));break;default:e=null}return t&&(this.value=e),t},t}();function kv(t,e,n,r,i,o){var a={};if(o)for(var s=0;s<o.length;s++){var c=o[s];Pv(a,c=e?c.trim():c,u=i[c],n,r)}else for(s=0;s<i.length;s++){var u;Tv(t,u=i[s]),Pv(a,u=e?u.trim():u,!0,!1,r)}return a}function Tv(t,e){if("string"!=typeof e)throw new Error(t+" can only toggle CSS classes expressed as strings, got "+e)}function Pv(t,e,n,r,i){if(i&&e.indexOf(" ")>0)for(var o=e.split(/\s+/g),a=0;a<o.length;a++)Iv(t,o[a],n,r);else Iv(t,e,n,r)}function Iv(t,e,n,r){if(r){var i=function(t,e){var n=t.indexOf(".");if(n>0){var r=t.substr(n+1);t=t.substring(0,n),null!=e&&(e+=r)}return{key:t,value:e}}(e,n);n=i.value,e=i.key}t[e]=n}function Av(t,e){if(t&&e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(-1===e.indexOf(t[n]))return!1;return!0}return!1}var Ov=function(){return function(){}}(),$v={provide:Ov,useClass:function(){function t(){this._value=null,this._ngClassDiffer=new Cv("NgClass",23),this._classStringDiffer=null}return t.prototype.getValue=function(){return this._value},t.prototype.setClass=function(t){(t||this._classStringDiffer)&&(this._classStringDiffer=this._classStringDiffer||new Cv("class",20),this._classStringDiffer.setValue(t))},t.prototype.setNgClass=function(t){this._ngClassDiffer.setValue(t)},t.prototype.applyChanges=function(){var t=!!this._classStringDiffer&&this._classStringDiffer.hasValueChanged(),e=this._ngClassDiffer.hasValueChanged();if(t||e){var n=this._ngClassDiffer.value;if(this._classStringDiffer){var r=this._classStringDiffer.value;r&&(n=n?Object(i.__assign)(Object(i.__assign)({},r),n):r)}this._value=n}},t.ɵfac=function(e){return new(e||t)},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}()},Mv=Se({type:function(){},selectors:null,hostBindings:function(t,e,n){1&t&&tc(2),2&t&&wc(e.getValue())}}),Dv=function(){},Nv=function(t){function e(e){return t.call(this,e)||this}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"klass",{set:function(t){this._delegate.setClass(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClass",{set:function(t){this._delegate.setNgClass(t)},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){this._delegate.applyChanges()},e.ɵfac=function(t){return new(t||e)(mc(Ov))},e.ɵdir=Se({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},features:[Iu([$v]),fu]}),e}(function(){function t(t){this._delegate=t}return t.prototype.getValue=function(){return this._delegate.getValue()},t.ɵdir=Mv,t.ɵfac=Dv,t}()),Rv=function(){return function(){}}(),Lv={provide:Rv,useClass:function(){function t(){this._differ=new Cv("NgStyle",8),this._value=null}return t.prototype.getValue=function(){return this._value},t.prototype.setNgStyle=function(t){this._differ.setValue(t)},t.prototype.applyChanges=function(){this._differ.hasValueChanged()&&(this._value=this._differ.value)},t.ɵfac=function(e){return new(e||t)},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}()},jv=Se({type:function(){},selectors:null,hostBindings:function(t,e,n){var r,i,o,a,s,c,u;1&t&&tc(2),2&t&&(r=e.getValue(),o=wo(jn(),i=ln()),a=i[Pe].firstUpdatePass,s=Ic(o),c=ni(o),u=Pn(2),!$c()&&c&&r!==Pr&&(xc(s,i,o,u,r,!1,a),r=Pr),a&&(jr(o,16384),Mc(o,$c(),!1)),Ec(s,o,a,i,u,r,!1,c))}}),Fv=jv,Bv=jv,Vv=function(t){function e(e){return t.call(this,e)||this}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"ngStyle",{set:function(t){this._delegate.setNgStyle(t)},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){this._delegate.applyChanges()},e.ɵfac=function(t){return new(t||e)(mc(Rv))},e.ɵdir=Se({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},features:[Iu([Lv]),fu]}),e}(function(){function t(t){this._delegate=t}return t.prototype.getValue=function(){return this._delegate.getValue()},t.ɵdir=Fv,t.ɵfac=Bv,t}()),Hv=null;function Uv(){return Hv}var qv=function(){return function(){}}(),zv=new Bt("DocumentToken"),Wv=function(){function t(){}return t.ɵprov=ht({factory:Gv,token:t,providedIn:"platform"}),t.ɵfac=function(e){return new(e||t)},t}();function Gv(){return Jt(Kv)}var Kv=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(i.__extends)(e,t),e.prototype._init=function(){this.location=Uv().getLocation(),this._history=Uv().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return Uv().getBaseHref(this._doc)},e.prototype.onPopState=function(t){Uv().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){Uv().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"href",{get:function(){return this.location.href},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this.location.protocol},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostname",{get:function(){return this.location.hostname},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"port",{get:function(){return this.location.port},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){Qv()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){Qv()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.prototype.getState=function(){return this._history.state},e.ɵprov=ht({factory:Yv,token:e,providedIn:"platform"}),e.ɵfac=function(t){return new(t||e)(Jt(zv))},e}(Wv);function Qv(){return!!window.history.pushState}function Yv(){return new Kv(Jt(zv))}function Xv(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Zv(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Jv(t){return t&&"?"!==t[0]?"?"+t:t}var ty=function(){function t(){}return t.ɵprov=ht({factory:ey,token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)},t}();function ey(t){var e=Jt(zv).location;return new ry(Jt(Wv),e&&e.origin||"")}var ny=new Bt("appBaseHref"),ry=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(i.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return Xv(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+Jv(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Jv(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Jv(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e.ɵfac=function(t){return new(t||e)(Jt(Wv),Jt(ny,8))},e.ɵprov=ht({token:e,factory:function(t){return e.ɵfac(t)}}),e}(ty),iy=function(){function t(t,e){var n=this;this._subject=new Ol,this._urlChangeListeners=[],this._platformStrategy=t;var r=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Zv(ay(r)),this._platformStrategy.onPopState((function(t){n._subject.emit({url:n.path(!0),pop:!0,state:t.state,type:t.type})}))}var e;return e=t,t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.getState=function(){return this._platformLocation.getState()},t.prototype.isCurrentPathEqualTo=function(t,e){return void 0===e&&(e=""),this.path()==this.normalize(t+Jv(e))},t.prototype.normalize=function(t){return e.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ay(t)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Jv(e)),n)},t.prototype.replaceState=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Jv(e)),n)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.onUrlChange=function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))},t.prototype._notifyUrlChangeListeners=function(t,e){void 0===t&&(t=""),this._urlChangeListeners.forEach((function(n){return n(t,e)}))},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=Jv,t.joinWithSlash=Xv,t.stripTrailingSlash=Zv,t.ɵprov=ht({factory:oy,token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(Jt(ty),Jt(Wv))},t}();function oy(){return new iy(Jt(ty),Jt(Wv))}function ay(t){return t.replace(/\/index.html$/,"")}var sy=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),cy=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),uy=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),ly=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),dy=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),fy=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function hy(t,e){return yy(gl(t)[yl.DateFormat],e)}function py(t,e){return yy(gl(t)[yl.TimeFormat],e)}function my(t,e){return yy(gl(t)[yl.DateTimeFormat],e)}function gy(t,e){var n=gl(t),r=n[yl.NumberSymbols][e];if(void 0===r){if(e===fy.CurrencyDecimal)return n[yl.NumberSymbols][fy.Decimal];if(e===fy.CurrencyGroup)return n[yl.NumberSymbols][fy.Group]}return r}function vy(t){if(!t[yl.ExtraData])throw new Error('Missing extra locale data for the locale "'+t[yl.LocaleId]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function yy(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function by(t){var e=Object(i.__read)(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}var _y=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wy={},Sy=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Ey=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),xy=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),Cy=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function ky(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function Ty(t,e,n,r,i){void 0===n&&(n="-");var o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var a=String(t);a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function Py(t,e,n,r,i){return void 0===n&&(n=0),void 0===r&&(r=!1),void 0===i&&(i=!1),function(o,a){var s,c=function(t,e){switch(t){case xy.FullYear:return e.getFullYear();case xy.Month:return e.getMonth();case xy.Date:return e.getDate();case xy.Hours:return e.getHours();case xy.Minutes:return e.getMinutes();case xy.Seconds:return e.getSeconds();case xy.FractionalSeconds:return e.getMilliseconds();case xy.Day:return e.getDay();default:throw new Error('Unknown DateType value "'+t+'".')}}(t,o);if((n>0||c>-n)&&(c+=n),t===xy.Hours)0===c&&-12===n&&(c=12);else if(t===xy.FractionalSeconds)return s=e,Ty(c,3).substr(0,s);var u=gy(a,fy.MinusSign);return Ty(c,e,u,r,i)}}function Iy(t,e,n,r){return void 0===n&&(n=uy.Format),void 0===r&&(r=!1),function(i,o){return function(t,e,n,r,i,o){switch(n){case Cy.Months:return function(t,e,n){var r=gl(t),i=yy([r[yl.MonthsFormat],r[yl.MonthsStandalone]],e);return yy(i,n)}(e,i,r)[t.getMonth()];case Cy.Days:return function(t,e,n){var r=gl(t),i=yy([r[yl.DaysFormat],r[yl.DaysStandalone]],e);return yy(i,n)}(e,i,r)[t.getDay()];case Cy.DayPeriods:var a=t.getHours(),s=t.getMinutes();if(o){var c,u=function(t){var e=gl(t);return vy(e),(e[yl.ExtraData][2]||[]).map((function(t){return"string"==typeof t?by(t):[by(t[0]),by(t[1])]}))}(e),l=function(t,e,n){var r=gl(t);vy(r);var i=yy([r[yl.ExtraData][0],r[yl.ExtraData][1]],e)||[];return yy(i,n)||[]}(e,i,r);if(u.forEach((function(t,e){if(Array.isArray(t)){var n=t[0],r=t[1],i=r.hours;a>=n.hours&&s>=n.minutes&&(a<i||a===i&&s<r.minutes)&&(c=l[e])}else t.hours===a&&t.minutes===s&&(c=l[e])})),c)return c}return function(t,e,n){var r=gl(t),i=yy([r[yl.DayPeriodsFormat],r[yl.DayPeriodsStandalone]],e);return yy(i,n)}(e,i,r)[a<12?0:1];case Cy.Eras:return function(t,e){return yy(gl(t)[yl.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,t,e,n,r)}}function Ay(t){return function(e,n,r){var i=-1*r,o=gy(n,fy.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Ey.Short:return(i>=0?"+":"")+Ty(a,2,o)+Ty(Math.abs(i%60),2,o);case Ey.ShortGMT:return"GMT"+(i>=0?"+":"")+Ty(a,1,o);case Ey.Long:return"GMT"+(i>=0?"+":"")+Ty(a,2,o)+":"+Ty(Math.abs(i%60),2,o);case Ey.Extended:return 0===r?"Z":(i>=0?"+":"")+Ty(a,2,o)+":"+Ty(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'+t+'"')}}}var Oy=0,$y=4;function My(t,e){return void 0===e&&(e=!1),function(n,r){var i,o,a,s;if(e){var c=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,u=n.getDate();i=1+Math.floor((u+c)/7)}else{var l=(a=n.getFullYear(),s=new Date(a,Oy,1).getDay(),new Date(a,0,1+(s<=$y?$y:$y+7)-s)),d=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+($y-o.getDay()))).getTime()-l.getTime();i=1+Math.round(d/6048e5)}return Ty(i,t,gy(r,fy.MinusSign))}}var Dy={};function Ny(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Ry(t){return t instanceof Date&&!isNaN(t.valueOf())}var Ly=/^(\d+)?\.((\d+)(-(\d+))?)?$/,jy=22,Fy=".",By="0",Vy=";",Hy=",",Uy="#";function qy(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var zy=function(){return function(){}}(),Wy=function(t){function e(e){var n=t.call(this)||this;return n.locale=e,n}return Object(i.__extends)(e,t),e.prototype.getPluralCategory=function(t,e){switch(function(t){return gl(t)[yl.PluralCase]}(e||this.locale)(t)){case cy.Zero:return"zero";case cy.One:return"one";case cy.Two:return"two";case cy.Few:return"few";case cy.Many:return"many";default:return"other"}},e.ɵfac=function(t){return new(t||e)(Jt(ud))},e.ɵprov=ht({token:e,factory:function(t){return e.ɵfac(t)}}),e}(zy);function Gy(t,e){var n,r;e=encodeURIComponent(e);try{for(var o=Object(i.__values)(t.split(";")),a=o.next();!a.done;a=o.next()){var s=a.value,c=s.indexOf("="),u=Object(i.__read)(-1==c?[s,""]:[s.slice(0,c),s.slice(c+1)],2),l=u[1];if(u[0].trim()===e)return decodeURIComponent(l)}}catch(d){n={error:d}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}var Ky=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),Qy=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){this._ngForOf=t,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Fi()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Ky(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new Yy(t,o);n.push(a)}else null==i?e._viewContainer.remove(null===r?void 0:r):null!==r&&(o=e._viewContainer.get(r),e._viewContainer.move(o,i),a=new Yy(t,o),n.push(a))}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t.ngTemplateContextGuard=function(t,e){return!0},t.ɵfac=function(e){return new(e||t)(mc(al),mc(il),mc(Ju))},t.ɵdir=Se({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t}(),Yy=function(){return function(t,e){this.record=t,this.view=e}}(),Xy=function(){function t(t,e){this._viewContainer=t,this._context=new Zy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){Jy("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){Jy("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t.ngTemplateContextGuard=function(t,e){return!0},t.ɵfac=function(e){return new(e||t)(mc(al),mc(il))},t.ɵdir=Se({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t}(),Zy=function(){return function(){this.$implicit=null,this.ngIf=null}}();function Jy(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+St(e)+"'.")}var tb=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),eb=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}},t.ɵfac=function(e){return new(e||t)},t.ɵdir=Se({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t}(),nb=function(){function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new tb(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},t.ɵfac=function(e){return new(e||t)(mc(al),mc(il),mc(eb,1))},t.ɵdir=Se({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t}(),rb=function(){function t(t,e,n){n._addDefault(new tb(t,e))}return t.ɵfac=function(e){return new(e||t)(mc(al),mc(il),mc(eb,1))},t.ɵdir=Se({type:t,selectors:[["","ngSwitchDefault",""]]}),t}(),ib=function(){function t(t){this._localization=t,this._caseViews={}}return Object.defineProperty(t.prototype,"ngPlural",{set:function(t){this._switchValue=t,this._updateView()},enumerable:!0,configurable:!0}),t.prototype.addCase=function(t,e){this._caseViews[t]=e},t.prototype._updateView=function(){this._clearViews();var t=Object.keys(this._caseViews),e=function(t,e,n,r){var i="="+t;if(e.indexOf(i)>-1)return i;if(i=n.getPluralCategory(t,void 0),e.indexOf(i)>-1)return i;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'+t+'"')}(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])},t.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},t.prototype._activateView=function(t){t&&(this._activeView=t,this._activeView.create())},t.ɵfac=function(e){return new(e||t)(mc(zy))},t.ɵdir=Se({type:t,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),t}(),ob=function(){function t(t,e,n,r){this.value=t;var i=!isNaN(Number(t));r.addCase(i?"="+t:t,new tb(n,e))}return t.ɵfac=function(e){return new(e||t)(gc("ngPluralCase"),mc(il),mc(al),mc(ib,1))},t.ɵdir=Se({type:t,selectors:[["","ngPluralCase",""]]}),t}(),ab=function(){function t(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return t.prototype.ngOnChanges=function(t){if(this._shouldRecreateView(t)){var e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)},t.prototype._shouldRecreateView=function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)},t.prototype._hasContextShapeChanged=function(t){var e,n,r=Object.keys(t.previousValue||{}),o=Object.keys(t.currentValue||{});if(r.length===o.length){try{for(var a=Object(i.__values)(o),s=a.next();!s.done;s=a.next())if(-1===r.indexOf(s.value))return!0}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return!1}return!0},t.prototype._updateExistingContext=function(t){var e,n;try{for(var r=Object(i.__values)(Object.keys(t)),o=r.next();!o.done;o=r.next()){var a=o.value;this._viewRef.context[a]=this.ngTemplateOutletContext[a]}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.ɵfac=function(e){return new(e||t)(mc(al))},t.ɵdir=Se({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[yu()]}),t}();function sb(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+St(t)+"'")}var cb=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),ub=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,(function(t){throw t}))},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),lb=new cb,db=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}var e;return e=t,t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):rc(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,ic.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,(function(n){return e._updateLatestValue(t,n)}))},t.prototype._selectStrategy=function(t){if(Uc(t))return ub;if(qc(t))return lb;throw sb(e,t)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t.ɵfac=function(e){return new(e||t)(function(t){void 0===t&&(t=lt.Default);var e=Ms(!0);if(null!=e||t&lt.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}())},t.ɵpipe=Ee({name:"async",type:t,pure:!1}),t}(),fb=function(){function t(){}var e;return e=t,t.prototype.transform=function(t){if(!t)return t;if("string"!=typeof t)throw sb(e,t);return t.toUpperCase()},t.ɵfac=function(e){return new(e||t)},t.ɵpipe=Ee({name:"uppercase",type:t,pure:!0}),t}(),hb=function(){function t(t){this.locale=t}var e;return e=t,t.prototype.transform=function(t,n,r,o){if(void 0===n&&(n="mediumDate"),null==t||""===t||t!=t)return null;try{return function(t,e,n,r){var o=function(t){if(Ry(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var r=Object(i.__read)(t.split("-").map((function(t){return+t})),3);return new Date(r[0],r[1]-1,r[2])}if(e=t.match(_y))return function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var a=Number(t[4]||0)-n,s=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,s,c,u),e}(e)}var o=new Date(t);if(!Ry(o))throw new Error('Unable to convert "'+t+'" into a date');return o}(t);e=function t(e,n){var r=function(t){return gl(t)[yl.LocaleId]}(e);if(wy[r]=wy[r]||{},wy[r][n])return wy[r][n];var i="";switch(n){case"shortDate":i=hy(e,dy.Short);break;case"mediumDate":i=hy(e,dy.Medium);break;case"longDate":i=hy(e,dy.Long);break;case"fullDate":i=hy(e,dy.Full);break;case"shortTime":i=py(e,dy.Short);break;case"mediumTime":i=py(e,dy.Medium);break;case"longTime":i=py(e,dy.Long);break;case"fullTime":i=py(e,dy.Full);break;case"short":var o=t(e,"shortTime"),a=t(e,"shortDate");i=ky(my(e,dy.Short),[o,a]);break;case"medium":var s=t(e,"mediumTime"),c=t(e,"mediumDate");i=ky(my(e,dy.Medium),[s,c]);break;case"long":var u=t(e,"longTime"),l=t(e,"longDate");i=ky(my(e,dy.Long),[u,l]);break;case"full":var d=t(e,"fullTime"),f=t(e,"fullDate");i=ky(my(e,dy.Full),[d,f])}return i&&(wy[r][n]=i),i}(n,e)||e;for(var a,s=[];e;){if(!(a=Sy.exec(e))){s.push(e);break}var c=(s=s.concat(a.slice(1))).pop();if(!c)break;e=c}var u=o.getTimezoneOffset();r&&(u=Ny(r,u),o=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Ny(e,r)-r))}(o,r));var l="";return s.forEach((function(t){var e=function(t){if(Dy[t])return Dy[t];var e;switch(t){case"G":case"GG":case"GGG":e=Iy(Cy.Eras,ly.Abbreviated);break;case"GGGG":e=Iy(Cy.Eras,ly.Wide);break;case"GGGGG":e=Iy(Cy.Eras,ly.Narrow);break;case"y":e=Py(xy.FullYear,1,0,!1,!0);break;case"yy":e=Py(xy.FullYear,2,0,!0,!0);break;case"yyy":e=Py(xy.FullYear,3,0,!1,!0);break;case"yyyy":e=Py(xy.FullYear,4,0,!1,!0);break;case"M":case"L":e=Py(xy.Month,1,1);break;case"MM":case"LL":e=Py(xy.Month,2,1);break;case"MMM":e=Iy(Cy.Months,ly.Abbreviated);break;case"MMMM":e=Iy(Cy.Months,ly.Wide);break;case"MMMMM":e=Iy(Cy.Months,ly.Narrow);break;case"LLL":e=Iy(Cy.Months,ly.Abbreviated,uy.Standalone);break;case"LLLL":e=Iy(Cy.Months,ly.Wide,uy.Standalone);break;case"LLLLL":e=Iy(Cy.Months,ly.Narrow,uy.Standalone);break;case"w":e=My(1);break;case"ww":e=My(2);break;case"W":e=My(1,!0);break;case"d":e=Py(xy.Date,1);break;case"dd":e=Py(xy.Date,2);break;case"E":case"EE":case"EEE":e=Iy(Cy.Days,ly.Abbreviated);break;case"EEEE":e=Iy(Cy.Days,ly.Wide);break;case"EEEEE":e=Iy(Cy.Days,ly.Narrow);break;case"EEEEEE":e=Iy(Cy.Days,ly.Short);break;case"a":case"aa":case"aaa":e=Iy(Cy.DayPeriods,ly.Abbreviated);break;case"aaaa":e=Iy(Cy.DayPeriods,ly.Wide);break;case"aaaaa":e=Iy(Cy.DayPeriods,ly.Narrow);break;case"b":case"bb":case"bbb":e=Iy(Cy.DayPeriods,ly.Abbreviated,uy.Standalone,!0);break;case"bbbb":e=Iy(Cy.DayPeriods,ly.Wide,uy.Standalone,!0);break;case"bbbbb":e=Iy(Cy.DayPeriods,ly.Narrow,uy.Standalone,!0);break;case"B":case"BB":case"BBB":e=Iy(Cy.DayPeriods,ly.Abbreviated,uy.Format,!0);break;case"BBBB":e=Iy(Cy.DayPeriods,ly.Wide,uy.Format,!0);break;case"BBBBB":e=Iy(Cy.DayPeriods,ly.Narrow,uy.Format,!0);break;case"h":e=Py(xy.Hours,1,-12);break;case"hh":e=Py(xy.Hours,2,-12);break;case"H":e=Py(xy.Hours,1);break;case"HH":e=Py(xy.Hours,2);break;case"m":e=Py(xy.Minutes,1);break;case"mm":e=Py(xy.Minutes,2);break;case"s":e=Py(xy.Seconds,1);break;case"ss":e=Py(xy.Seconds,2);break;case"S":e=Py(xy.FractionalSeconds,1);break;case"SS":e=Py(xy.FractionalSeconds,2);break;case"SSS":e=Py(xy.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ay(Ey.Short);break;case"ZZZZZ":e=Ay(Ey.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ay(Ey.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ay(Ey.Long);break;default:return null}return Dy[t]=e,e}(t);l+=e?e(o,n,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),l}(t,n,o||this.locale,r)}catch(a){throw sb(e,a.message)}},t.ɵfac=function(e){return new(e||t)(mc(ud))},t.ɵpipe=Ee({name:"date",type:t,pure:!0}),t}(),pb=function(){function t(t){this.differs=t,this.keyValues=[]}return t.prototype.transform=function(t,e){var n=this;if(void 0===e&&(e=mb),!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());var r=this.differ.diff(t);return r&&(this.keyValues=[],r.forEachItem((function(t){n.keyValues.push({key:t.key,value:t.currentValue})})),this.keyValues.sort(e)),this.keyValues},t.ɵfac=function(e){return new(e||t)(mc(tl))},t.ɵpipe=Ee({name:"keyvalue",type:t,pure:!1}),t}();function mb(t,e){var n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;var i=String(n),o=String(r);return i==o?0:i<o?-1:1}var gb,vb=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},providers:[{provide:zy,useClass:Wy}]}),t}(),yb="browser",bb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.makeCurrent=function(){var t;t=new e,Hv||(Hv=t)},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.getValue=function(t){return t.value},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=_b||(_b=document.querySelector("base"))?_b.getAttribute("href"):null;return null==n?null:(e=n,gb||(gb=document.createElement("a")),gb.setAttribute("href",e),"/"===gb.pathname.charAt(0)?gb.pathname:"/"+gb.pathname)},e.prototype.resetBaseElement=function(){_b=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Gy(document.cookie,t)},e}(function(t){function e(){return t.call(this)||this}return Object(i.__extends)(e,t),e.prototype.supportsDOMEvents=function(){return!0},e}(qv)),_b=null,wb=new Bt("TRANSITION_ID"),Sb=[{provide:td,useFactory:function(t,e,n){return function(){n.get(ed).donePromise.then((function(){var n=Uv();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[wb,zv,Ys],multi:!0}],Eb=function(){function t(){}return t.init=function(){var e;e=new t,$d=e},t.prototype.addToWindow=function(t){$t.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},$t.getAllAngularTestabilities=function(){return t.getAllTestabilities()},$t.getAllAngularRootElements=function(){return t.getAllRootElements()},$t.frameworkStabilizers||($t.frameworkStabilizers=[]),$t.frameworkStabilizers.push((function(t){var e=$t.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(i)}))}))},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?Uv().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null},t}(),xb=new Bt("EventManagerPlugins"),Cb=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach((function(t){return t.manager=n})),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t.ɵfac=function(e){return new(e||t)(Jt(xb),Jt(wd))},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),kb=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=Uv().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),Tb=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t.ɵfac=function(e){return new(e||t)},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),Pb=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(i.__extends)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach((function(t){return Uv().remove(t)}))},e.ɵfac=function(t){return new(t||e)(Jt(zv))},e.ɵprov=ht({token:e,factory:function(t){return e.ɵfac(t)}}),e}(Tb),Ib={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ab=/%COMP%/g,Ob="_nghost-%COMP%",$b="_ngcontent-%COMP%";function Mb(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Mb(t,i,n):(i=i.replace(Ab,t),n.push(i))}return n}function Db(t){return function(e){if(e===Function)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Nb=function(){function t(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Rb(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case de.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Lb(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case de.Native:case de.ShadowDom:return new jb(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=Mb(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t.ɵfac=function(e){return new(e||t)(Jt(Cb),Jt(Pb),Jt(nd))},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),Rb=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(Ib[e]||e,t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'+t+'" did not match any elements');return e||(n.textContent=""),n},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=Ib[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=Ib[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&Lu.DashCase?t.style.setProperty(e,n,r&Lu.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&Lu.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Db(n)):this.eventManager.addEventListener(t,e,Db(n))},t}(),Lb=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.component=r;var a=Mb(i+"-"+r.id,r.styles,[]);return n.addStyles(a),o.contentAttr=$b.replace(Ab,i+"-"+r.id),o.hostAttr=function(t){return Ob.replace(Ab,t)}(i+"-"+r.id),o}return Object(i.__extends)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(Rb),jb=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=i.encapsulation===de.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var a=Mb(i.id,i.styles,[]),s=0;s<a.length;s++){var c=document.createElement("style");c.textContent=a[s],o.shadowRoot.appendChild(c)}return o}return Object(i.__extends)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(Rb),Fb=function(t){function e(e){return t.call(this,e)||this}return Object(i.__extends)(e,t),e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}},e.prototype.removeEventListener=function(t,e,n){return t.removeEventListener(e,n)},e.ɵfac=function(t){return new(t||e)(Jt(zv))},e.ɵprov=ht({token:e,factory:function(t){return e.ɵfac(t)}}),e}(kb),Bb=["alt","control","meta","shift"],Vb={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hb={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},Ub={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},qb=function(t){function e(e){return t.call(this,e)||this}var n;return Object(i.__extends)(e,t),n=e,e.prototype.supports=function(t){return null!=n.parseEventName(t)},e.prototype.addEventListener=function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Uv().onAndCancel(t,i.domEventName,o)}))},e.parseEventName=function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Bb.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Hb.hasOwnProperty(e)&&(e=Hb[e]))}return Vb[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Bb.forEach((function(r){r!=n&&(0,Ub[r])(t)&&(e+=r+".")})),e+=n},e.eventCallback=function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e.ɵfac=function(t){return new(t||e)(Jt(zv))},e.ɵprov=ht({token:e,factory:function(t){return e.ɵfac(t)}}),e}(kb),zb=function(){function t(){}return t.ɵprov=ht({factory:function(){return Jt(Wb)},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)},t}(),Wb=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(i.__extends)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case co.NONE:return e;case co.HTML:return kr(e,"HTML")?Cr(e):ao(this._doc,String(e));case co.STYLE:return kr(e,"Style")?Cr(e):fo(e);case co.SCRIPT:if(kr(e,"Script"))return Cr(e);throw new Error("unsafe value used in a script context");case co.URL:return Tr(e),kr(e,"URL")?Cr(e):Ui(String(e));case co.RESOURCE_URL:if(kr(e,"ResourceURL"))return Cr(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.bypassSecurityTrustHtml=function(t){return new _r(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new wr(t)},e.prototype.bypassSecurityTrustScript=function(t){return new Sr(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new Er(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new xr(t)},e.ɵprov=ht({factory:function(){return t=Jt(Vt),new Wb(t.get(zv));var t},token:e,providedIn:"root"}),e.ɵfac=function(t){return new(t||e)(Jt(zv))},e}(zb),Gb=Nd(Vd,"browser",[{provide:ad,useValue:yb},{provide:od,useValue:function(){bb.makeCurrent(),Eb.init()},multi:!0},{provide:zv,useFactory:function(){return function(t){er=t}(document),document},deps:[]}]),Kb=[[],{provide:Rs,useValue:"root"},{provide:Ri,useFactory:function(){return new Ri},deps:[]},{provide:xb,useClass:Fb,multi:!0,deps:[zv,wd,ad]},{provide:xb,useClass:qb,multi:!0,deps:[zv]},[],{provide:Nb,useClass:Nb,deps:[Cb,Pb,nd]},{provide:Ru,useExisting:Nb},{provide:Tb,useExisting:Pb},{provide:Pb,useClass:Pb,deps:[zv]},{provide:Ad,useClass:Ad,deps:[wd]},{provide:Cb,useClass:Cb,deps:[xb,wd]},[]],Qb=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=t,t.withServerTransition=function(t){return{ngModule:e,providers:[{provide:nd,useValue:t.appId},{provide:wb,useExisting:nd},Sb]}},t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(n){return new(n||t)(Jt(e,12))},providers:Kb,imports:[vb,Ud]}),t}();function Yb(){throw new Error("AngularJS v1.x is not loaded!")}"undefined"!=typeof window&&window;var Xb=function(){return Yb()};Xb.cleanData=Yb;var Zb={bootstrap:Yb,module:Yb,element:Xb,injector:Yb,version:void 0,resumeBootstrap:Yb,getTestability:Yb};try{window.hasOwnProperty("angular")&&(Zb=window.angular)}catch(rB){}var Jb=function(t,e){return Zb.module(t,e)},t_=function(t){return Zb.element(t)};t_.cleanData=function(t){return Zb.element.cleanData(t)};var e_="$compile",n_="$injector",r_="$parse",i_="$$angularDowngradedModuleCount",o_="$$angularInjector",a_="$$angularLazyModuleRef",s_="$$angularUpgradeAppType",c_="?^^"+o_,u_="?ngModel",l_=function(){function t(t,e){this.prop=t,this.attr=e,this.parseBinding()}return t.prototype.parseBinding=function(){this.bracketAttr="["+this.attr+"]",this.parenAttr="("+this.attr+")",this.bracketParenAttr="[("+this.attr+")]";var t=this.attr.charAt(0).toUpperCase()+this.attr.substr(1);this.onAttr="on"+t,this.bindAttr="bind"+t,this.bindonAttr="bindon"+t},t}();function d_(t){return"$"+t+"Controller"}function f_(t){return t.overriddenName||t.name||t.toString().split("\n")[0]}function h_(t){return t.has(i_)?t.get(i_):0}function p_(t){return t.has(s_)?t.get(s_):0}function m_(t){return"function"==typeof t}function g_(t,e,n,r){var i=p_(t),o=h_(t);switch(i){case 1:case 2:if(e)throw new Error("Error while "+r+": 'downgradedModule' unexpectedly specified.\nYou should not specify a value for 'downgradedModule', unless you are downgrading more than one Angular module (via 'downgradeModule()').");break;case 3:if(!e&&o>=2)throw new Error("Error while "+r+": 'downgradedModule' not specified.\nThis application contains more than one downgraded Angular module, thus you need to always specify 'downgradedModule' when downgrading components and injectables.");if(!t.has(n))throw new Error("Error while "+r+": Unable to find the specified downgraded module.\nDid you forget to downgrade an Angular module or include it in the AngularJS application?");break;default:throw new Error("Error while "+r+": Not a valid '@angular/upgrade' application.\nDid you forget to downgrade an Angular module or include it in the AngularJS application?")}}var v_,y_={__UNINITIALIZED__:!0},b_=function(){function t(t,e,n,r,i,o,a,s,c,u){this.element=t,this.attrs=e,this.scope=n,this.ngModel=r,this.parentInjector=i,this.$injector=o,this.$compile=a,this.$parse=s,this.componentFactory=c,this.wrapCallback=u,this.implementsOnChanges=!1,this.inputChangeCount=0,this.inputChanges={},this.componentScope=n.$new()}return t.prototype.compileContents=function(){var t=this,e=[],n=this.groupProjectableNodes().map((function(e){return t.$compile(e)}));return this.element.empty(),n.forEach((function(n){n(t.scope,(function(n){e.push(n),t.element.append(n)}))})),e},t.prototype.createComponent=function(t){var e=Ys.create({providers:[{provide:"$scope",useValue:this.componentScope}],parent:this.parentInjector,name:"DowngradeComponentAdapter"});this.componentRef=this.componentFactory.create(e,t,this.element[0]),this.viewChangeDetector=this.componentRef.injector.get(Ds),this.changeDetector=this.componentRef.changeDetectorRef,this.component=this.componentRef.instance;var n,r,i=this.componentRef.injector.get(Ad,null);i&&this.componentRef.injector.get(Od).registerApplication(this.componentRef.location.nativeElement,i),r=this.component,(n=this.ngModel)&&function(t){return"function"==typeof t.writeValue&&"function"==typeof t.registerOnChange}(r)&&(n.$render=function(){r.writeValue(n.$viewValue)},r.registerOnChange(n.$setViewValue.bind(n)),"function"==typeof r.registerOnTouched&&r.registerOnTouched(n.$setTouched.bind(n)))},t.prototype.setupInputs=function(t,e){var n=this;void 0===e&&(e=!0);for(var r=this.attrs,i=this.componentFactory.inputs||[],o=function(t){var e,o,s=new l_(i[t].propName,i[t].templateName),c=null;if(r.hasOwnProperty(s.attr)){var u=(e=s.prop,o=y_,function(t){var r,i;(r=o)===(i=t)||r!=r&&i!=i||(o===y_&&(o=t),n.updateInput(e,o,t),o=t)});r.$observe(s.attr,u);var l=a.componentScope.$watch((function(){l(),l=null,u(r[s.attr])}))}else r.hasOwnProperty(s.bindAttr)?c=r[s.bindAttr]:r.hasOwnProperty(s.bracketAttr)?c=r[s.bracketAttr]:r.hasOwnProperty(s.bindonAttr)?c=r[s.bindonAttr]:r.hasOwnProperty(s.bracketParenAttr)&&(c=r[s.bracketParenAttr]);if(null!=c){var d=function(t){return function(e,r){return n.updateInput(t,r,e)}}(s.prop);a.componentScope.$watch(c,d)}},a=this,s=0;s<i.length;s++)o(s);var c=function(){return n.changeDetector.detectChanges()},u=this.componentFactory.componentType.prototype;if(this.implementsOnChanges=!(!u||!u.ngOnChanges),this.componentScope.$watch((function(){return n.inputChangeCount}),this.wrapCallback((function(){if(n.implementsOnChanges){var t=n.inputChanges;n.inputChanges={},n.component.ngOnChanges(t)}n.viewChangeDetector.markForCheck(),e||c()}))),e&&this.componentScope.$watch(this.wrapCallback(c)),t||!e)var l=this.componentScope.$watch((function(){l(),l=null,n.parentInjector.get(Fd).attachView(n.componentRef.hostView)}))},t.prototype.setupOutputs=function(){for(var t=this.attrs,e=this.componentFactory.outputs||[],n=0;n<e.length;n++){var r=new l_(e[n].propName,e[n].templateName),i=r.bindonAttr.substring(0,r.bindonAttr.length-6),o="[("+r.bracketParenAttr.substring(2,r.bracketParenAttr.length-8)+")]";t.hasOwnProperty(i)&&this.subscribeToOutput(r,t[i],!0),t.hasOwnProperty(o)&&this.subscribeToOutput(r,t[o],!0),t.hasOwnProperty(r.onAttr)&&this.subscribeToOutput(r,t[r.onAttr]),t.hasOwnProperty(r.parenAttr)&&this.subscribeToOutput(r,t[r.parenAttr])}},t.prototype.subscribeToOutput=function(t,e,n){var r=this;void 0===n&&(n=!1);var i=this.$parse(e),o=i.assign;if(n&&!o)throw new Error("Expression '"+e+"' is not assignable!");var a=this.component[t.prop];if(!a)throw new Error("Missing emitter '"+t.prop+"' on component '"+f_(this.componentFactory.componentType)+"'!");a.subscribe({next:n?function(t){return o(r.scope,t)}:function(t){return i(r.scope,{$event:t})}})},t.prototype.registerCleanup=function(){var t=this,e=this.componentRef.injector.get(Od),n=this.wrapCallback((function(){return t.componentRef.destroy()})),r=!1;this.element.on("$destroy",(function(){return t.componentScope.$destroy()})),this.componentScope.$on("$destroy",(function(){r||(r=!0,e.unregisterApplication(t.componentRef.location.nativeElement),n())}))},t.prototype.getInjector=function(){return this.componentRef.injector},t.prototype.updateInput=function(t,e,n){this.implementsOnChanges&&(this.inputChanges[t]=new vu(e,n,e===n)),this.inputChangeCount++,this.component[t]=n},t.prototype.groupProjectableNodes=function(){return function(t,e){for(var n=[],r=0,i=t.length;r<i;++r)n[r]=[];for(var o=0,a=e.length;o<a;++o){var s=e[o],c=__(s,t);null!=c&&n[c].push(s)}return n}(this.componentFactory.ngContentSelectors,this.element.contents())},t}();function __(t,e){for(var n=[],r=-1,i=0;i<e.length;i++){var o=e[i];"*"===o?r=i:w_(t,o)&&n.push(i)}return n.sort(),-1!==r&&n.push(r),n.length?n[0]:null}function w_(t,e){if(!v_){var n=Element.prototype;v_=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}return t.nodeType===Node.ELEMENT_NODE&&v_.call(t,e)}var S_=function(){function t(){this.resolved=!1,this.callbacks=[]}return t.all=function(e){var n=new t,r=0,i=[],o=function(t,o){i[t]=o,++r===e.length&&n.resolve(i)};return e.forEach((function(t,e){var n;(n=t)&&m_(n.then)?t.then((function(t){return o(e,t)})):o(e,t)})),n},t.prototype.resolve=function(t){this.resolved||(this.value=t,this.resolved=!0,this.callbacks.forEach((function(e){return e(t)})),this.callbacks.length=0)},t.prototype.then=function(t){this.resolved?t(this.value):this.callbacks.push(t)},t}();function E_(t){var e=function(e,n,r){var o,a=3===p_(n),s=a?function(t){return function(){return wd.isInAngularZone()?t():o.run(t)}}:function(t){return t},c=a&&h_(n)>1;return{restrict:"E",terminal:!0,require:[c_,u_],link:function(u,l,d,f){var h=f[1],p=f[0],m=void 0,g=!1;if(!p||c){var v=t.downgradedModule||"",y=""+a_+v,b="instantiating component '"+f_(t.component)+"'";g_(n,v,y,b);var _=n.get(y);m=_.injector||_.promise}var w=function(i,o){var c=o.get(Mu).resolveComponentFactory(t.component);if(!c)throw new Error("Expecting ComponentFactory for: "+f_(t.component));var f=new x_(l),p=new b_(l,d,u,h,i,n,e,r,c,s),m=p.compileContents();p.createComponent(m),p.setupInputs(a,t.propagateDigest),p.setupOutputs(),p.registerCleanup(),f.resolve(p.getInjector()),g&&u.$evalAsync((function(){}))},S=a?function(t,e){o||(o=t.get(wd)),s((function(){return w(t,e)}))()}:w;S_.all([p||m,m||p]).then((function(t){var e=Object(i.__read)(t,2);return S(e[0],e[1])})),g=!0}}};return e.$inject=[e_,n_,r_],e}var x_=function(t){function e(e){var n=t.call(this)||this;return n.element=e,n.injectorKey=d_(o_),e.data(n.injectorKey,n),n}return Object(i.__extends)(e,t),e.prototype.resolve=function(e){this.element.data(this.injectorKey,e),this.element=null,t.prototype.resolve.call(this,e)},e}(S_);function C_(t,e){void 0===e&&(e="");var n=function(n){var r=""+o_+e,i=m_(t)?f_(t):String(t);return g_(n,e,r,"instantiating injectable '"+i+"'"),n.get(r).get(t)};return n.$inject=[n_],n}var k_=null,T_=[{provide:"$injector",useFactory:function(){if(!k_)throw new Error("Trying to get the AngularJS injector before it being set.");var t=k_;return k_=null,t},deps:[]},{provide:"$rootScope",useFactory:function(t){return t.get("$rootScope")},deps:["$injector"]},{provide:"$compile",useFactory:function(t){return t.get("$compile")},deps:["$injector"]},{provide:"$parse",useFactory:function(t){return t.get("$parse")},deps:["$injector"]}],P_=function(){function t(t){this.modInjector=t}return t.prototype.get=function(t,e){return e===cl?e:this.modInjector.get(t,e)},t}(),I_=function(){function t(t,e){this.ngZone=e,this.injector=new P_(t)}return t.prototype.bootstrap=function(t,e,n){var r=this;void 0===e&&(e=[]);var o="$$UpgradeModule.init",a=(Jb(o,[]).constant(s_,2).value(o_,this.injector).factory(a_,[o_,function(t){return{injector:t}}]).config(["$provide",n_,function(t,e){e.has("$$testability")&&t.decorator("$$testability",["$delegate",function(t){var e=t.whenStable,n=r.injector,i=function(r){e.call(t,(function(){var e=n.get(Ad);e.isStable()?r():e.whenStable(i.bind(t,r))}))};return t.whenStable=i,t}]),e.has("$interval")&&t.decorator("$interval",["$delegate",function(t){var e=function(e,n,o,a){for(var s=[],c=4;c<arguments.length;c++)s[c-4]=arguments[c];return r.ngZone.runOutsideAngular((function(){return t.apply(void 0,Object(i.__spread)([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];setTimeout((function(){r.ngZone.run((function(){return e.apply(void 0,Object(i.__spread)(t))}))}))},n,o,a],s))}))};return e.cancel=t.cancel,e}])}]).run([n_,function(e){r.$injector=e,k_=e,r.injector.get(n_),t_(t).data(d_(o_),r.injector),setTimeout((function(){var t=e.get("$rootScope"),n=r.ngZone.onMicrotaskEmpty.subscribe((function(){return t.$$phase?(Fi()&&console.warn("A digest was triggered while one was already in progress. This may mean that something is triggering digests outside the Angular zone."),t.$evalAsync()):t.$digest()}));t.$on("$destroy",(function(){n.unsubscribe()}))}),0)}]),Jb("$$UpgradeModule",[o].concat(e))),s=window.angular;if(s.resumeBootstrap=void 0,this.ngZone.run((function(){!function(t,e,n){Zb.bootstrap(t,e,n)}(t,[a.name],n)})),s.resumeBootstrap){var c=s.resumeBootstrap,u=this.ngZone;s.resumeBootstrap=function(){var t=this,e=arguments;return s.resumeBootstrap=c,u.run((function(){return s.resumeBootstrap.apply(t,e)}))}}},t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)(Jt(Ys),Jt(wd))},providers:[T_]}),t}(),A_=function(){return function(){}}(),O_=function(){return function(){}}(),$_="*";function M_(t,e){return{type:7,name:t,definitions:e,options:{}}}function D_(t,e){return void 0===e&&(e=null),{type:4,styles:e,timings:t}}function N_(t,e){return void 0===e&&(e=null),{type:3,steps:t,options:e}}function R_(t,e){return void 0===e&&(e=null),{type:2,steps:t,options:e}}function L_(t){return{type:6,styles:t,offset:null}}function j_(t,e,n){return{type:0,name:t,styles:e,options:n}}function F_(t){return{type:5,steps:t}}function B_(t,e,n){return void 0===n&&(n=null),{type:1,expr:t,animation:e,options:n}}function V_(t){return void 0===t&&(t=null),{type:9,options:t}}function H_(t,e,n){return void 0===n&&(n=null),{type:11,selector:t,animation:e,options:n}}function U_(t){Promise.resolve(null).then(t)}var q_=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.init=function(){},t.prototype.play=function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0},t.prototype.triggerMicrotask=function(){var t=this;U_((function(){return t._onFinish()}))},t.prototype._onStart=function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]},t.prototype.pause=function(){},t.prototype.restart=function(){},t.prototype.finish=function(){this._onFinish()},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])},t.prototype.reset=function(){},t.prototype.setPosition=function(t){},t.prototype.getPosition=function(){return 0},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0},t}(),z_=function(){function t(t){var e=this;this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var n=0,r=0,i=0,o=this.players.length;0==o?U_((function(){return e._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++n==o&&e._onFinish()})),t.onDestroy((function(){++r==o&&e._onDestroy()})),t.onStart((function(){++i==o&&e._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])},t.prototype.init=function(){this.players.forEach((function(t){return t.init()}))},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype._onStart=function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))},t.prototype.pause=function(){this.players.forEach((function(t){return t.pause()}))},t.prototype.restart=function(){this.players.forEach((function(t){return t.restart()}))},t.prototype.finish=function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))},t.prototype.destroy=function(){this._onDestroy()},t.prototype._onDestroy=function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])},t.prototype.reset=function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype.setPosition=function(t){var e=t*this.totalTime;this.players.forEach((function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)}))},t.prototype.getPosition=function(){var t=0;return this.players.forEach((function(e){var n=e.getPosition();t=Math.min(n,t)})),t},t.prototype.beforeDestroy=function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0},t}(),W_="!";function G_(){return"undefined"!=typeof process}function K_(t){switch(t.length){case 0:return new q_;case 1:return t[0];default:return new z_(t)}}function Q_(t,e,n,r,i,o){void 0===i&&(i={}),void 0===o&&(o={});var a=[],s=[],c=-1,u=null;if(r.forEach((function(t){var n=t.offset,r=n==c,l=r&&u||{};Object.keys(t).forEach((function(n){var r=n,s=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,a),s){case W_:s=i[n];break;case $_:s=o[n];break;default:s=e.normalizeStyleValue(n,r,s,a)}l[r]=s})),r||s.push(l),u=l,c=n})),a.length)throw new Error("Unable to animate due to the following errors:\n - "+a.join("\n - "));return s}function Y_(t,e,n,r){switch(e){case"start":t.onStart((function(){return r(n&&X_(n,"start",t))}));break;case"done":t.onDone((function(){return r(n&&X_(n,"done",t))}));break;case"destroy":t.onDestroy((function(){return r(n&&X_(n,"destroy",t))}))}}function X_(t,e,n){var r=n.totalTime,i=Z_(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function Z_(t,e,n,r,i,o,a){return void 0===i&&(i=""),void 0===o&&(o=0),{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function J_(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function tw(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var ew=function(t,e){return!1},nw=function(t,e){return!1},rw=function(t,e,n){return[]},iw=G_();(iw||"undefined"!=typeof Element)&&(ew=function(t,e){return t.contains(e)},nw=function(){if(iw||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:nw}(),rw=function(t,e,n){var r=[];if(n)r.push.apply(r,Object(i.__spread)(t.querySelectorAll(e)));else{var o=t.querySelector(e);o&&r.push(o)}return r});var ow=null,aw=!1;function sw(t){ow||(ow=("undefined"!=typeof document?document.body:null)||{},aw=!!ow.style&&"WebkitAppearance"in ow.style);var e=!0;return ow.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in ow.style)&&aw&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in ow.style),e}var cw=nw,uw=ew,lw=rw;function dw(t){var e={};return Object.keys(t).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]})),e}var fw=function(){function t(){}return t.prototype.validateStyleProperty=function(t){return sw(t)},t.prototype.matchesElement=function(t,e){return cw(t,e)},t.prototype.containsElement=function(t,e){return uw(t,e)},t.prototype.query=function(t,e,n){return lw(t,e,n)},t.prototype.computeStyle=function(t,e,n){return n||""},t.prototype.animate=function(t,e,n,r,i,o,a){return void 0===o&&(o=[]),new q_(n,r)},t.ɵfac=function(e){return new(e||t)},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),hw=function(){function t(){}return t.NOOP=new fw,t}(),pw=1e3;function mw(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:gw(parseFloat(e[1]),e[2])}function gw(t,e){switch(e){case"s":return t*pw;default:return t}}function vw(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'+t+'" is invalid.'),{duration:0,delay:0,easing:""};r=gw(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=gw(parseFloat(s),a[4]));var c=a[5];c&&(o=c)}else r=t;if(!n){var u=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),u=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),u=!0),u&&e.splice(l,0,'The provided timing value "'+t+'" is invalid.')}return{duration:r,delay:i,easing:o}}(t,e,n)}function yw(t,e){return void 0===e&&(e={}),Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function bw(t,e,n){if(void 0===n&&(n={}),e)for(var r in t)n[r]=t[r];else yw(t,n);return n}function _w(t,e,n){return n?e+":"+n+";":""}function ww(t){for(var e="",n=0;n<t.style.length;n++)e+=_w(0,r=t.style.item(n),t.style.getPropertyValue(r));for(var r in t.style)t.style.hasOwnProperty(r)&&!r.startsWith("_")&&(e+=_w(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[r]));t.setAttribute("style",e)}function Sw(t,e,n){t.style&&(Object.keys(e).forEach((function(r){var i=Aw(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]})),G_()&&ww(t))}function Ew(t,e){t.style&&(Object.keys(e).forEach((function(e){var n=Aw(e);t.style[n]=""})),G_()&&ww(t))}function xw(t){return Array.isArray(t)?1==t.length?t[0]:R_(t):t}var Cw=new RegExp("{{\\s*(.+?)\\s*}}","g");function kw(t){var e=[];if("string"==typeof t){for(var n=void 0;n=Cw.exec(t);)e.push(n[1]);Cw.lastIndex=0}return e}function Tw(t,e,n){var r=t.toString(),i=r.replace(Cw,(function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()}));return i==r?t:i}function Pw(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var Iw=/-+([a-z0-9])/g;function Aw(t){return t.replace(Iw,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[1].toUpperCase()}))}function Ow(t,e){return 0===t||0===e}function $w(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach((function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]})),o.length)for(var a=function(){var n=e[s];o.forEach((function(e){n[e]=Dw(t,e)}))},s=1;s<e.length;s++)a()}return e}function Mw(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Dw(t,e){return window.getComputedStyle(t)[e]}var Nw="*",Rw=new Set(["true","1"]),Lw=new Set(["false","0"]);function jw(t,e){var n=Rw.has(t)||Lw.has(t),r=Rw.has(e)||Lw.has(e);return function(i,o){var a=t==Nw||t==i,s=e==Nw||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?Rw.has(t):Lw.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?Rw.has(e):Lw.has(e)),a&&s}}var Fw=new RegExp("s*:selfs*,?","g");function Bw(t,e,n){return new Vw(t).build(e,n)}var Vw=function(){function t(t){this._driver=t}return t.prototype.build=function(t,e){var n=new Hw(e);return this._resetContextStyleTimingState(n),Mw(this,xw(t),n)},t.prototype._resetContextStyleTimingState=function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0},t.prototype.visitTrigger=function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,c=s.name;c.toString().split(/\s*,\s*/).forEach((function(t){s.name=t,o.push(n.visitState(s,e))})),s.name=c}else if(1==t.type){var u=n.visitTransition(t,e);r+=u.queryCount,i+=u.depCount,a.push(u)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}},t.prototype.visitState=function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(t){if(Uw(t)){var e=t;Object.keys(e).forEach((function(t){kw(e[t]).forEach((function(t){o.hasOwnProperty(t)||i.add(t)}))}))}})),i.size){var a=Pw(i.values());e.errors.push('state("'+t.name+'", ...) must define default values for all the following style substitutions: '+a.join(", "))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}},t.prototype.visitTransition=function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=Mw(this,xw(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'+t+'" is not supported'),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'+t+'" is not supported'),e;var o=i[1],a=i[2],s=i[3];e.push(jw(o,s)),"<"!=a[0]||o==Nw&&s==Nw||e.push(jw(s,o))}(t,i,r)})):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:qw(t.options)}},t.prototype.visitSequence=function(t,e){var n=this;return{type:2,steps:t.steps.map((function(t){return Mw(n,t,e)})),options:qw(t.options)}},t.prototype.visitGroup=function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map((function(t){e.currentTime=r;var o=Mw(n,t,e);return i=Math.max(i,e.currentTime),o}));return e.currentTime=i,{type:3,steps:o,options:qw(t.options)}},t.prototype.visitAnimate=function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return zw(vw(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var i=zw(0,0,"");return i.dynamic=!0,i.strValue=r,i}return zw((n=n||vw(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:L_({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=L_(s)}e.currentTime+=r.duration+r.delay;var c=this.visitStyle(o,e);c.isEmptyStep=a,n=c}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}},t.prototype.visitStyle=function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n},t.prototype._makeStyleAst=function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?t==$_?n.push(t):e.errors.push("The provided style string value "+t+" is not allowed."):n.push(t)})):n.push(t.styles);var r=!1,i=null;return n.forEach((function(t){if(Uw(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}},t.prototype._validateStyleAst=function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(r){if(n._driver.validateStyleProperty(r)){var a,s,c,u=e.collectedStyles[e.currentQuerySelector],l=u[r],d=!0;l&&(o!=i&&o>=l.startTime&&i<=l.endTime&&(e.errors.push('The CSS property "'+r+'" that exists between the times of "'+l.startTime+'ms" and "'+l.endTime+'ms" is also being animated in a parallel animation between the times of "'+o+'ms" and "'+i+'ms"'),d=!1),o=l.startTime),d&&(u[r]={startTime:o,endTime:i}),e.options&&(a=e.errors,s=e.options.params||{},(c=kw(t[r])).length&&c.forEach((function(t){s.hasOwnProperty(t)||a.push("Unable to resolve the local animation param "+t+" in the given list of values")})))}else e.errors.push('The provided animation property "'+r+'" is not a supported CSS property for animations')}))}))},t.prototype.visitKeyframes=function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,c=0,u=t.steps.map((function(t){var r=n._makeStyleAst(t,e),u=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(Uw(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}}));else if(Uw(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),l=0;return null!=u&&(i++,l=r.offset=u),s=s||l<0||l>1,a=a||l<c,c=l,o.push(l),r}));s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,d=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(d=1/(l-1));var f=l-1,h=e.currentTime,p=e.currentAnimateTimings,m=p.duration;return u.forEach((function(t,i){var a=d>0?i==f?1:d*i:o[i],s=a*m;e.currentTime=h+p.delay+s,p.duration=s,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)})),r},t.prototype.visitReference=function(t,e){return{type:8,animation:Mw(this,xw(t.animation),e),options:qw(t.options)}},t.prototype.visitAnimateChild=function(t,e){return e.depCount++,{type:9,options:qw(t.options)}},t.prototype.visitAnimateRef=function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:qw(t.options)}},t.prototype.visitQuery=function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var o=Object(i.__read)(function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return":self"==t}));return e&&(t=t.replace(Fw,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),a=o[0],s=o[1];e.currentQuerySelector=n.length?n+" "+a:a,J_(e.collectedStyles,e.currentQuerySelector,{});var c=Mw(this,xw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:c,originalSelector:t.selector,options:qw(t.options)}},t.prototype.visitStagger=function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:vw(t.timings,e.errors,!0);return{type:12,animation:Mw(this,xw(t.animation),e),timings:n,options:null}},t}(),Hw=function(){return function(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}();function Uw(t){return!Array.isArray(t)&&"object"==typeof t}function qw(t){var e;return t?(t=yw(t)).params&&(t.params=(e=t.params)?yw(e):null):t={},t}function zw(t,e,n){return{duration:t,delay:e,easing:n}}function Ww(t,e,n,r,i,o,a,s){return void 0===a&&(a=null),void 0===s&&(s=!1),{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var Gw=function(){function t(){this._map=new Map}return t.prototype.consume=function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e},t.prototype.append=function(t,e){var n=this._map.get(t);n||this._map.set(t,n=[]),n.push.apply(n,Object(i.__spread)(e))},t.prototype.has=function(t){return this._map.has(t)},t.prototype.clear=function(){this._map.clear()},t}(),Kw=new RegExp(":enter","g"),Qw=new RegExp(":leave","g");function Yw(t,e,n,r,i,o,a,s,c,u){return void 0===o&&(o={}),void 0===a&&(a={}),void 0===u&&(u=[]),(new Xw).buildKeyframes(t,e,n,r,i,o,a,s,c,u)}var Xw=function(){function t(){}return t.prototype.buildKeyframes=function(t,e,n,r,i,o,a,s,c,u){void 0===u&&(u=[]),c=c||new Gw;var l=new Jw(t,e,c,r,i,u,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),Mw(this,n,l);var d=l.timelines.filter((function(t){return t.containsAnimation()}));if(d.length&&Object.keys(a).length){var f=d[d.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return d.length?d.map((function(t){return t.buildKeyframes()})):[Ww(e,[],[],[],0,0,"",!1)]},t.prototype.visitTrigger=function(t,e){},t.prototype.visitState=function(t,e){},t.prototype.visitTransition=function(t,e){},t.prototype.visitAnimateChild=function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t},t.prototype.visitAnimateRef=function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t},t.prototype._visitSubInstructions=function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?mw(n.duration):null,o=null!=n.delay?mw(n.delay):null;return 0!==i&&t.forEach((function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)})),r},t.prototype.visitReference=function(t,e){e.updateOptions(t.options,!0),Mw(this,t.animation,e),e.previousNode=t},t.prototype.visitSequence=function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Zw);var a=mw(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach((function(t){return Mw(n,t,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t},t.prototype.visitGroup=function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?mw(t.options.delay):0;t.steps.forEach((function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),Mw(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)})),r.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(i),e.previousNode=t},t.prototype._visitTiming=function(t,e){if(t.dynamic){var n=t.strValue;return vw(e.params?Tw(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}},t.prototype.visitAnimate=function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t},t.prototype.visitStyle=function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t},t.prototype.visitKeyframes=function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach((function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t},t.prototype.visitQuery=function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?mw(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Zw);var a=r,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;var c=null;s.forEach((function(r,i){e.currentQueryIndex=i;var s=e.createSubContext(t.options,r);o&&s.delayNextStep(o),r===e.element&&(c=s.currentTimeline),Mw(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t},t.prototype.visitStagger=function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var c=e.currentTimeline;s&&c.delayNextStep(s);var u=c.currentTime;Mw(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)},t}(),Zw={},Jw=function(){function t(t,e,n,r,i,o,a,s){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Zw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=s||new tS(this._driver,e,0),a.push(this.currentTimeline)}return Object.defineProperty(t.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),t.prototype.updateOptions=function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=mw(r.duration)),null!=r.delay&&(i.delay=mw(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(t){e&&a.hasOwnProperty(t)||(a[t]=Tw(o[t],a,n.errors))}))}}},t.prototype._copyOptions=function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach((function(t){n[t]=e[t]}))}}return t},t.prototype.createSubContext=function(e,n,r){void 0===e&&(e=null);var i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o},t.prototype.transformIntoNewTimeline=function(t){return this.previousNode=Zw,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline},t.prototype.appendInstructionToTimeline=function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new eS(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r},t.prototype.incrementTime=function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)},t.prototype.delayNextStep=function(t){t>0&&this.currentTimeline.delayNextStep(t)},t.prototype.invokeQuery=function(t,e,n,r,o,a){var s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(Kw,"."+this._enterClassName)).replace(Qw,"."+this._leaveClassName);var c=this._driver.query(this.element,t,1!=n);0!==n&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),s.push.apply(s,Object(i.__spread)(c))}return o||0!=s.length||a.push('`query("'+e+'")` returned zero elements. (Use `query("'+e+'", { optional: true })` if you wish to allow this.)'),s},t}(),tS=function(){function t(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}return t.prototype.containsAnimation=function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}},t.prototype.getCurrentStyleProperties=function(){return Object.keys(this._currentKeyframe)},Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.startTime+this.duration},enumerable:!0,configurable:!0}),t.prototype.delayNextStep=function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t},t.prototype.fork=function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)},t.prototype._loadKeyframe=function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))},t.prototype.forwardFrame=function(){this.duration+=1,this._loadKeyframe()},t.prototype.forwardTime=function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()},t.prototype._updateStyle=function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}},t.prototype.allowOnlyTimelineStyles=function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe},t.prototype.applyEmptyStep=function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||$_,e._currentKeyframe[t]=$_})),this._currentEmptyStepKeyframe=this._currentKeyframe},t.prototype.setStyles=function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},a=function(t,e){var n,r={};return t.forEach((function(t){"*"===t?(n=n||Object.keys(e)).forEach((function(t){r[t]=$_})):bw(t,!1,r)})),r}(t,this._globalTimelineStyles);Object.keys(a).forEach((function(t){var e=Tw(a[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:$_),i._updateStyle(t,e)}))},t.prototype.applyStylesToKeyframe=function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){t._currentKeyframe[n]=e[n]})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))},t.prototype.snapshotCurrentStyles=function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)}))},t.prototype.getFinalKeyframe=function(){return this._keyframes.get(this.duration)},Object.defineProperty(t.prototype,"properties",{get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t},enumerable:!0,configurable:!0}),t.prototype.mergeTimelineCollectedStyles=function(t){var e=this;Object.keys(t._styleSummary).forEach((function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)}))},t.prototype.buildKeyframes=function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,a){var s=bw(o,!0);Object.keys(s).forEach((function(t){var r=s[t];r==W_?e.add(t):r==$_&&n.add(t)})),r||(s.offset=a/t.duration),i.push(s)}));var o=e.size?Pw(e.values()):[],a=n.size?Pw(n.values()):[];if(r){var s=i[0],c=yw(s);s.offset=0,c.offset=1,i=[s,c]}return Ww(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)},t}(),eS=function(t){function e(e,n,r,i,o,a,s){void 0===s&&(s=!1);var c=t.call(this,e,n,a.delay)||this;return c.element=n,c.keyframes=r,c.preStyleProps=i,c.postStyleProps=o,c._stretchStartingKeyframe=s,c.timings={duration:a.duration,delay:a.delay,easing:a.easing},c}return Object(i.__extends)(e,t),e.prototype.containsAnimation=function(){return this.keyframes.length>1},e.prototype.buildKeyframes=function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,c=bw(t[0],!1);c.offset=0,o.push(c);var u=bw(t[0],!1);u.offset=nS(s),o.push(u);for(var l=t.length-1,d=1;d<=l;d++){var f=bw(t[d],!1);f.offset=nS((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",t=o}return Ww(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)},e}(tS);function nS(t,e){void 0===e&&(e=3);var n=Math.pow(10,e-1);return Math.round(t*n)/n}var rS=function(){return function(){}}(),iS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.prototype.normalizePropertyName=function(t,e){return Aw(t)},e.prototype.normalizeStyleValue=function(t,e,n,r){var i="",o=n.toString().trim();if(oS[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for "+t+":"+n)}return o+i},e}(rS),oS=function(){return t="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),e={},t.forEach((function(t){return e[t]=!0})),e;var t,e}();function aS(t,e,n,r,i,o,a,s,c,u,l,d,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:d,errors:f}}var sS={},cS=function(){function t(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}return t.prototype.match=function(t,e,n,r){return function(t,e,n,r,i){return t.some((function(t){return t(e,n,r,i)}))}(this.ast.matchers,t,e,n,r)},t.prototype.buildStyles=function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o},t.prototype.build=function(t,e,n,r,o,a,s,c,u,l){var d=[],f=this.ast.options&&this.ast.options.params||sS,h=this.buildStyles(n,s&&s.params||sS,d),p=c&&c.params||sS,m=this.buildStyles(r,p,d),g=new Set,v=new Map,y=new Map,b="void"===r,_={params:Object(i.__assign)(Object(i.__assign)({},f),p)},w=l?[]:Yw(t,e,this.ast.animation,o,a,h,m,_,u,d),S=0;if(w.forEach((function(t){S=Math.max(t.duration+t.delay,S)})),d.length)return aS(e,this._triggerName,n,r,b,h,m,[],[],v,y,S,d);w.forEach((function(t){var n=t.element,r=J_(v,n,{});t.preStyleProps.forEach((function(t){return r[t]=!0}));var i=J_(y,n,{});t.postStyleProps.forEach((function(t){return i[t]=!0})),n!==e&&g.add(n)}));var E=Pw(g.values());return aS(e,this._triggerName,n,r,b,h,m,w,E,v,y,S)},t}(),uS=function(){function t(t,e){this.styles=t,this.defaultParams=e}return t.prototype.buildStyles=function(t,e){var n={},r=yw(this.defaultParams);return Object.keys(t).forEach((function(e){var n=t[e];null!=n&&(r[e]=n)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach((function(t){var o=i[t];o.length>1&&(o=Tw(o,r,e)),n[t]=o}))}})),n},t}(),lS=function(){function t(t,e){var n=this;this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach((function(t){n.states[t.name]=new uS(t.style,t.options&&t.options.params||{})})),dS(this.states,"true","1"),dS(this.states,"false","0"),e.transitions.forEach((function(e){n.transitionFactories.push(new cS(t,e,n.states))})),this.fallbackTransition=new cS(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return Object.defineProperty(t.prototype,"containsQueries",{get:function(){return this.ast.queryCount>0},enumerable:!0,configurable:!0}),t.prototype.matchTransition=function(t,e,n,r){return this.transitionFactories.find((function(i){return i.match(t,e,n,r)}))||null},t.prototype.matchStyles=function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)},t}();function dS(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var fS=new Gw,hS=function(){function t(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}return t.prototype.register=function(t,e){var n=[],r=Bw(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r},t.prototype._buildPlayer=function(t,e,n){var r=t.element,i=Q_(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)},t.prototype.create=function(t,e,n){var r=this;void 0===n&&(n={});var i,o=[],a=this._animations[t],s=new Map;if(a?(i=Yw(this._driver,e,a,"ng-enter","ng-leave",{},{},n,fS,o)).forEach((function(t){var e=J_(s,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),i=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach((function(t,e){Object.keys(t).forEach((function(n){t[n]=r._driver.computeStyle(e,n,$_)}))}));var c=K_(i.map((function(t){var e=s.get(t.element);return r._buildPlayer(t,{},e)})));return this._playersById[t]=c,c.onDestroy((function(){return r.destroy(t)})),this.players.push(c),c},t.prototype.destroy=function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)},t.prototype._getPlayer=function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e},t.prototype.listen=function(t,e,n,r){var i=Z_(e,"","","");return Y_(this._getPlayer(t),n,i,r),function(){}},t.prototype.command=function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])},t}(),pS=[],mS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},gS={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vS="__ng_removed",yS=function(){function t(t,e){void 0===e&&(e=""),this.namespaceId=e;var n,r=t&&t.hasOwnProperty("value");if(this.value=null!=(n=r?t.value:t)?n:null,r){var i=yw(t);delete i.value,this.options=i}else this.options={};this.options.params||(this.options.params={})}return Object.defineProperty(t.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),t.prototype.absorbOptions=function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(t){null==n[t]&&(n[t]=e[t])}))}},t}(),bS=new yS("void"),_S=function(){function t(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,PS(e,this._hostClassName)}return t.prototype.listen=function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'+n+'" because the animation trigger "'+e+"\" doesn't exist!");if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'+e+'" because the provided event is undefined!');if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'+n+'" for the animation trigger "'+e+'" is not supported!');var a=J_(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};a.push(s);var c=J_(this._engine.statesByElement,t,{});return c.hasOwnProperty(e)||(PS(t,"ng-trigger"),PS(t,"ng-trigger-"+e),c[e]=bS),function(){o._engine.afterFlush((function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete c[e]}))}},t.prototype.register=function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)},t.prototype._getTrigger=function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'+t+'" has not been registered!');return e},t.prototype.trigger=function(t,e,n,r){var i=this;void 0===r&&(r=!0);var o=this._getTrigger(e),a=new SS(this.id,e,t),s=this._engine.statesByElement.get(t);s||(PS(t,"ng-trigger"),PS(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var c=s[e],u=new yS(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),s[e]=u,c||(c=bS),"void"===u.value||c.value!==u.value){var l=J_(this._engine.playersByElement,t,[]);l.forEach((function(t){t.namespaceId==i.id&&t.triggerName==e&&t.queued&&t.destroy()}));var d=o.matchTransition(c.value,u.value,t,u.params),f=!1;if(!d){if(!r)return;d=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:d,fromState:c,toState:u,player:a,isFallbackTransition:f}),f||(PS(t,"ng-animate-queued"),a.onStart((function(){IS(t,"ng-animate-queued")}))),a.onDone((function(){var e=i.players.indexOf(a);e>=0&&i.players.splice(e,1);var n=i._engine.playersByElement.get(t);if(n){var r=n.indexOf(a);r>=0&&n.splice(r,1)}})),this.players.push(a),l.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(c.params,u.params)){var h=[],p=o.matchStyles(c.value,c.params,h),m=o.matchStyles(u.value,u.params,h);h.length?this._engine.reportError(h):this._engine.afterFlush((function(){Ew(t,p),Sw(t,m)}))}},t.prototype.deregister=function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,n){delete e[t]})),this._elementListeners.forEach((function(n,r){e._elementListeners.set(r,n.filter((function(e){return e.name!=t})))}))},t.prototype.clearElementCache=function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))},t.prototype._signalRemovalForInnerTriggers=function(t,e,n){var r=this;void 0===n&&(n=!1),this._engine.driver.query(t,".ng-trigger",!0).forEach((function(t){if(!t[vS]){var n=r._engine.fetchNamespacesByElement(t);n.size?n.forEach((function(n){return n.triggerLeaveAnimation(t,e,!1,!0)})):r.clearElementCache(t)}}))},t.prototype.triggerLeaveAnimation=function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach((function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&K_(a).onDone((function(){return i._engine.processLeaveNode(t)})),!0}return!1},t.prototype.prepareLeaveAnimationListeners=function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,a=e._engine.statesByElement.get(t)[i]||bS,s=new yS("void"),c=new SS(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:a,toState:s,player:c,isFallbackTransition:!0})}}))}},t.prototype.removeNode=function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}this.prepareLeaveAnimationListeners(t),i?r.markElementAsRemoved(this.id,t,!1,e):(r.afterFlush((function(){return n.clearElementCache(t)})),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}},t.prototype.insertNode=function(t,e){PS(t,this._hostClassName)},t.prototype.drainQueuedTransitions=function(t){var e=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach((function(e){if(e.name==r.triggerName){var n=Z_(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,Y_(r.player,e.phase,n,e.callback)}})),i.markedForDestroy?e._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1}))},t.prototype.destroy=function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)},t.prototype.elementContainsData=function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find((function(e){return e.element===t}))||e},t}(),wS=function(){function t(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return t.prototype._onRemovalComplete=function(t,e){this.onRemovalComplete(t,e)},Object.defineProperty(t.prototype,"queuedPlayers",{get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t},enumerable:!0,configurable:!0}),t.prototype.createNamespace=function(t,e){var n=new _S(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n},t.prototype._balanceNamespaceList=function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t},t.prototype.register=function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n},t.prototype.registerTrigger=function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++},t.prototype.destroy=function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(e)}))}},t.prototype._fetchNamespace=function(t){return this._namespaceLookup[t]},t.prototype.fetchNamespacesByElement=function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e},t.prototype.trigger=function(t,e,n,r){if(ES(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1},t.prototype.insertNode=function(t,e,n,r){if(ES(e)){var i=e[vS];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}},t.prototype.collectEnterElement=function(t){this.collectedEnterElements.push(t)},t.prototype.markElementAsDisabled=function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),PS(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),IS(t,"ng-animate-disabled"))},t.prototype.removeNode=function(t,e,n,r){if(ES(e)){var i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)},t.prototype.markElementAsRemoved=function(t,e,n,r){this.collectedLeaveElements.push(e),e[vS]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}},t.prototype.listen=function(t,e,n,r,i){return ES(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}},t.prototype._buildInstruction=function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)},t.prototype.destroyInnerAnimations=function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))},t.prototype.destroyActiveAnimationsForElement=function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))},t.prototype.finishActiveQueriedAnimationOnElement=function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))},t.prototype.whenRenderingDone=function(){var t=this;return new Promise((function(e){if(t.players.length)return K_(t.players).onDone((function(){return e()}));e()}))},t.prototype.processLeaveNode=function(t){var e=this,n=t[vS];if(n&&n.setForRemoval){if(t[vS]=mS,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))},t.prototype.flush=function(t){var e=this;void 0===t&&(t=-1);var n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)PS(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(r=0;r<i.length;r++)i[r]()}}else for(r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var o=this._whenQuietFns;this._whenQuietFns=[],n.length?K_(n).onDone((function(){o.forEach((function(t){return t()}))})):o.forEach((function(t){return t()}))}},t.prototype.reportError=function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))},t.prototype._flushAnimations=function(t,e){var n=this,r=new Gw,o=[],a=new Map,s=[],c=new Map,u=new Map,l=new Map,d=new Set;this.disabledNodes.forEach((function(t){d.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)d.add(e[r])}));var f=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=kS(h,this.collectedEnterElements),m=new Map,g=0;p.forEach((function(t,e){var n="ng-enter"+g++;m.set(e,n),t.forEach((function(t){return PS(t,n)}))}));for(var v=[],y=new Set,b=new Set,_=0;_<this.collectedLeaveElements.length;_++)(L=(R=this.collectedLeaveElements[_])[vS])&&L.setForRemoval&&(v.push(R),y.add(R),L.hasAnimation?this.driver.query(R,".ng-star-inserted",!0).forEach((function(t){return y.add(t)})):b.add(R));var w=new Map,S=kS(h,Array.from(y));S.forEach((function(t,e){var n="ng-leave"+g++;w.set(e,n),t.forEach((function(t){return PS(t,n)}))})),t.push((function(){p.forEach((function(t,e){var n=m.get(e);t.forEach((function(t){return IS(t,n)}))})),S.forEach((function(t,e){var n=w.get(e);t.forEach((function(t){return IS(t,n)}))})),v.forEach((function(t){n.processLeaveNode(t)}))}));for(var E=[],x=[],C=this._namespaceList.length-1;C>=0;C--)this._namespaceList[C].drainQueuedTransitions(e).forEach((function(t){var e=t.player,i=t.element;if(E.push(e),n.collectedEnterElements.length){var a=i[vS];if(a&&a.setForMove)return void e.destroy()}var d=!f||!n.driver.containsElement(f,i),h=w.get(i),p=m.get(i),g=n._buildInstruction(t,r,p,h,d);if(g.errors&&g.errors.length)x.push(g);else{if(d)return e.onStart((function(){return Ew(i,g.fromStyles)})),e.onDestroy((function(){return Sw(i,g.toStyles)})),void o.push(e);if(t.isFallbackTransition)return e.onStart((function(){return Ew(i,g.fromStyles)})),e.onDestroy((function(){return Sw(i,g.toStyles)})),void o.push(e);g.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),r.append(i,g.timelines),s.push({instruction:g,player:e,element:i}),g.queriedElements.forEach((function(t){return J_(c,t,[]).push(e)})),g.preStyleProps.forEach((function(t,e){var n=Object.keys(t);if(n.length){var r=u.get(e);r||u.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}})),g.postStyleProps.forEach((function(t,e){var n=Object.keys(t),r=l.get(e);r||l.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}))}}));if(x.length){var k=[];x.forEach((function(t){k.push("@"+t.triggerName+" has failed due to:\n"),t.errors.forEach((function(t){return k.push("- "+t+"\n")}))})),E.forEach((function(t){return t.destroy()})),this.reportError(k)}var T=new Map,P=new Map;s.forEach((function(t){var e=t.element;r.has(e)&&(P.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,T))})),o.forEach((function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){J_(T,e,[]).push(t),t.destroy()}))}));var I=v.filter((function(t){return OS(t,u,l)})),A=new Map;CS(A,this.driver,b,l,$_).forEach((function(t){OS(t,u,l)&&I.push(t)}));var O=new Map;p.forEach((function(t,e){CS(O,n.driver,new Set(t),u,W_)})),I.forEach((function(t){var e=A.get(t),n=O.get(t);A.set(t,Object(i.__assign)(Object(i.__assign)({},e),n))}));var $=[],M=[],D={};s.forEach((function(t){var e=t.element,i=t.player,s=t.instruction;if(r.has(e)){if(d.has(e))return i.onDestroy((function(){return Sw(e,s.toStyles)})),i.disabled=!0,i.overrideTotalTime(s.totalTime),void o.push(i);var c=D;if(P.size>1){for(var u=e,l=[];u=u.parentNode;){var f=P.get(u);if(f){c=f;break}l.push(u)}l.forEach((function(t){return P.set(t,c)}))}var h=n._buildAnimation(i.namespaceId,s,T,a,O,A);if(i.setRealPlayer(h),c===D)$.push(i);else{var p=n.playersByElement.get(c);p&&p.length&&(i.parentPlayer=K_(p)),o.push(i)}}else Ew(e,s.fromStyles),i.onDestroy((function(){return Sw(e,s.toStyles)})),M.push(i),d.has(e)&&o.push(i)})),M.forEach((function(t){var e=a.get(t.element);if(e&&e.length){var n=K_(e);t.setRealPlayer(n)}})),o.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var N=0;N<v.length;N++){var R,L=(R=v[N])[vS];if(IS(R,"ng-leave"),!L||!L.hasAnimation){var j=[];if(c.size){var F=c.get(R);F&&F.length&&j.push.apply(j,Object(i.__spread)(F));for(var B=this.driver.query(R,".ng-animating",!0),V=0;V<B.length;V++){var H=c.get(B[V]);H&&H.length&&j.push.apply(j,Object(i.__spread)(H))}}var U=j.filter((function(t){return!t.destroyed}));U.length?AS(this,R,U):this.processLeaveNode(R)}}return v.length=0,$.forEach((function(t){n.players.push(t),t.onDone((function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)})),t.play()})),$},t.prototype.elementContainsData=function(t,e){var n=!1,r=e[vS];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n},t.prototype.afterFlush=function(t){this._flushFns.push(t)},t.prototype.afterFlushAnimationsDone=function(t){this._whenQuietFns.push(t)},t.prototype._getPreviousPlayers=function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var c=!i||"void"==i;s.forEach((function(t){t.queued||(c||t.triggerName==r)&&o.push(t)}))}}return(n||r)&&(o=o.filter((function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)}))),o},t.prototype._beforeAnimationBuild=function(t,e,n){var r,o,a=e.element,s=e.isRemovalTransition?void 0:t,c=e.isRemovalTransition?void 0:e.triggerName,u=function(t){var r=t.element,i=r!==a,o=J_(n,r,[]);l._getPreviousPlayers(r,i,s,c,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),o.push(t)}))},l=this;try{for(var d=Object(i.__values)(e.timelines),f=d.next();!f.done;f=d.next())u(f.value)}catch(h){r={error:h}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}Ew(a,e.fromStyles)},t.prototype._buildAnimation=function(t,e,n,r,i,o){var a=this,s=e.triggerName,c=e.element,u=[],l=new Set,d=new Set,f=e.timelines.map((function(e){var f=e.element;l.add(f);var h=f[vS];if(h&&h.removedBeforeQueried)return new q_(e.duration,e.delay);var p,m,g=f!==c,v=(p=(n.get(f)||pS).map((function(t){return t.getRealPlayer()})),m=[],function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];i instanceof z_?t(i.players,n):n.push(i)}}(p,m),m).filter((function(t){return!!t.element&&t.element===f})),y=i.get(f),b=o.get(f),_=Q_(0,a._normalizer,0,e.keyframes,y,b),w=a._buildPlayer(e,_,v);if(e.subTimeline&&r&&d.add(f),g){var S=new SS(t,s,f);S.setRealPlayer(w),u.push(S)}return w}));u.forEach((function(t){J_(a.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else(r=t[e])&&(r.length&&(i=r.indexOf(n),r.splice(i,1)),0==r.length&&delete t[e]);return r}(a.playersByQueriedElement,t.element,t)}))})),l.forEach((function(t){return PS(t,"ng-animating")}));var h=K_(f);return h.onDestroy((function(){l.forEach((function(t){return IS(t,"ng-animating")})),Sw(c,e.toStyles)})),d.forEach((function(t){J_(r,t,[]).push(h)})),h},t.prototype._buildPlayer=function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new q_(t.duration,t.delay)},t}(),SS=function(){function t(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new q_,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return t.prototype.setRealPlayer=function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return Y_(t,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)},t.prototype.getRealPlayer=function(){return this._player},t.prototype.overrideTotalTime=function(t){this.totalTime=t},t.prototype.syncPlayerEvents=function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart((function(){return n.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))},t.prototype._queueEvent=function(t,e){J_(this._queuedCallbacks,t,[]).push(e)},t.prototype.onDone=function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)},t.prototype.onStart=function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)},t.prototype.onDestroy=function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)},t.prototype.init=function(){this._player.init()},t.prototype.hasStarted=function(){return!this.queued&&this._player.hasStarted()},t.prototype.play=function(){!this.queued&&this._player.play()},t.prototype.pause=function(){!this.queued&&this._player.pause()},t.prototype.restart=function(){!this.queued&&this._player.restart()},t.prototype.finish=function(){this._player.finish()},t.prototype.destroy=function(){this.destroyed=!0,this._player.destroy()},t.prototype.reset=function(){!this.queued&&this._player.reset()},t.prototype.setPosition=function(t){this.queued||this._player.setPosition(t)},t.prototype.getPosition=function(){return this.queued?0:this._player.getPosition()},t.prototype.triggerCallback=function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)},t}();function ES(t){return t&&1===t.nodeType}function xS(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function CS(t,e,n,r,i){var o=[];n.forEach((function(t){return o.push(xS(t))}));var a=[];r.forEach((function(n,r){var o={};n.forEach((function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[vS]=gS,a.push(r))})),t.set(r,o)}));var s=0;return n.forEach((function(t){return xS(t,o[s++])})),a}function kS(t,e){var n=new Map;if(t.forEach((function(t){return n.set(t,[])})),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var a=e.parentNode;return o=n.has(a)?a:r.has(a)?1:t(a),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)})),n}var TS="$$classes";function PS(t,e){if(t.classList)t.classList.add(e);else{var n=t[TS];n||(n=t[TS]={}),n[e]=!0}}function IS(t,e){if(t.classList)t.classList.remove(e);else{var n=t[TS];n&&delete n[e]}}function AS(t,e,n){K_(n).onDone((function(){return t.processLeaveNode(e)}))}function OS(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach((function(t){return i.add(t)})):e.set(t,r),n.delete(t),!0}var $S=function(){function t(t,e,n){var r=this;this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new wS(t,e,n),this._timelineEngine=new hS(t,e,n),this._transitionEngine.onRemovalComplete=function(t,e){return r.onRemovalComplete(t,e)}}return t.prototype.registerTrigger=function(t,e,n,r,i){var o=t+"-"+r,a=this._triggerCache[o];if(!a){var s=[],c=Bw(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'+r+'" has failed to build due to the following errors:\n - '+s.join("\n - "));a=function(t,e){return new lS(t,e)}(r,c),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)},t.prototype.register=function(t,e){this._transitionEngine.register(t,e)},t.prototype.destroy=function(t,e){this._transitionEngine.destroy(t,e)},t.prototype.onInsert=function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)},t.prototype.onRemove=function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)},t.prototype.disableAnimations=function(t,e){this._transitionEngine.markElementAsDisabled(t,e)},t.prototype.process=function(t,e,n,r){if("@"==n.charAt(0)){var o=Object(i.__read)(tw(n),2);this._timelineEngine.command(o[0],e,o[1],r)}else this._transitionEngine.trigger(t,e,n,r)},t.prototype.listen=function(t,e,n,r,o){if("@"==n.charAt(0)){var a=Object(i.__read)(tw(n),2);return this._timelineEngine.listen(a[0],e,a[1],o)}return this._transitionEngine.listen(t,e,n,r,o)},t.prototype.flush=function(t){void 0===t&&(t=-1),this._transitionEngine.flush(t)},Object.defineProperty(t.prototype,"players",{get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)},enumerable:!0,configurable:!0}),t.prototype.whenRenderingDone=function(){return this._transitionEngine.whenRenderingDone()},t}();function MS(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=NS(e[0]),e.length>1&&(r=NS(e[e.length-1]))):e&&(n=NS(e)),n||r?new DS(t,n,r):null}var DS=function(){function t(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}return t.prototype.start=function(){this._state<1&&(this._startStyles&&Sw(this._element,this._startStyles,this._initialStyles),this._state=1)},t.prototype.finish=function(){this.start(),this._state<2&&(Sw(this._element,this._initialStyles),this._endStyles&&(Sw(this._element,this._endStyles),this._endStyles=null),this._state=1)},t.prototype.destroy=function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Ew(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ew(this._element,this._endStyles),this._endStyles=null),Sw(this._element,this._initialStyles),this._state=3)},t.initialStylesByElement=new WeakMap,t}();function NS(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];RS(i)&&((e=e||{})[i]=t[i])}return e}function RS(t){return"display"===t||"position"===t}var LS="animation",jS="animationend",FS=function(){function t(t,e,n,r,i,o,a){var s=this;this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return s._handleCallback(t)}}return t.prototype.apply=function(){var t,e,n;e=this._duration+"ms "+this._easing+" "+this._delay+"ms 1 normal "+this._fillMode+" "+this._name,(n=zS(t=this._element,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)","===t.charAt(n)&&0}(n),e=n+", "+e),qS(t,"",e),US(this._element,this._eventFn,!1),this._startTime=Date.now()},t.prototype.pause=function(){BS(this._element,this._name,"paused")},t.prototype.resume=function(){BS(this._element,this._name,"running")},t.prototype.setPosition=function(t){var e=VS(this._element,this._name);this._position=t*this._duration,qS(this._element,"Delay","-"+this._position+"ms",e)},t.prototype.getPosition=function(){return this._position},t.prototype._handleCallback=function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()},t.prototype.finish=function(){this._finished||(this._finished=!0,this._onDoneFn(),US(this._element,this._eventFn,!0))},t.prototype.destroy=function(){var t,e,n,r;this._destroyed||(this._destroyed=!0,this.finish(),e=this._name,(r=HS(n=zS(t=this._element,"").split(","),e))>=0&&(n.splice(r,1),qS(t,"",n.join(","))))},t}();function BS(t,e,n){qS(t,"PlayState",n,VS(t,e))}function VS(t,e){var n=zS(t,"");return n.indexOf(",")>0?HS(n.split(","),e):HS([n],e)}function HS(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function US(t,e,n){n?t.removeEventListener(jS,e):t.addEventListener(jS,e)}function qS(t,e,n,r){var i=LS+e;if(null!=r){var o=t.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}t.style[i]=n}function zS(t,e){return t.style[LS+e]}var WS="linear",GS=function(){function t(t,e,n,r,i,o,a,s){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=a,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||WS,this.totalTime=r+i,this._buildStyler()}return t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.destroy=function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])},t.prototype._flushDoneFns=function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]},t.prototype._flushStartFns=function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]},t.prototype.finish=function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())},t.prototype.setPosition=function(t){this._styler.setPosition(t)},t.prototype.getPosition=function(){return this._styler.getPosition()},t.prototype.hasStarted=function(){return this._state>=2},t.prototype.init=function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())},t.prototype.play=function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()},t.prototype.pause=function(){this.init(),this._styler.pause()},t.prototype.restart=function(){this.reset(),this.play()},t.prototype.reset=function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()},t.prototype._buildStyler=function(){var t=this;this._styler=new FS(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0},t.prototype.beforeDestroy=function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:Dw(t.element,r))}))}this.currentSnapshot=e},t}(),KS=function(t){function e(e,n){var r=t.call(this)||this;return r.element=e,r._startingStyles={},r.__initialized=!1,r._styles=dw(n),r}return Object(i.__extends)(e,t),e.prototype.init=function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),t.prototype.init.call(this))},e.prototype.play=function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),t.prototype.play.call(this))},e.prototype.destroy=function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,t.prototype.destroy.call(this))},e}(q_),QS=function(){function t(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return t.prototype.validateStyleProperty=function(t){return sw(t)},t.prototype.matchesElement=function(t,e){return cw(t,e)},t.prototype.containsElement=function(t,e){return uw(t,e)},t.prototype.query=function(t,e,n){return lw(t,e,n)},t.prototype.computeStyle=function(t,e,n){return window.getComputedStyle(t)[e]},t.prototype.buildKeyframeElement=function(t,e,n){n=n.map((function(t){return dw(t)}));var r="@keyframes "+e+" {\n",i="";n.forEach((function(t){i=" ";var e=parseFloat(t.offset);r+=""+i+100*e+"% {\n",i+=" ",Object.keys(t).forEach((function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=i+"animation-timing-function: "+n+";\n"));default:return void(r+=""+i+e+": "+n+";\n")}})),r+=i+"}\n"})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o},t.prototype.animate=function(t,e,n,r,i,o,a){void 0===o&&(o=[]),a&&this._notifyFaultyScrubber();var s=o.filter((function(t){return t instanceof GS})),c={};Ow(n,r)&&s.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return c[t]=e[t]}))}));var u=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])}))})),e}(e=$w(t,e,c));if(0==n)return new KS(t,u);var l="gen_css_kf_"+this._count++,d=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(d);var f=MS(t,e),h=new GS(t,e,l,n,r,i,u,f);return h.onDestroy((function(){var t;(t=d).parentNode.removeChild(t)})),h},t.prototype._notifyFaultyScrubber=function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)},t}(),YS=function(){function t(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])},t.prototype.init=function(){this._buildPlayer(),this._preparePlayerBeforeStart()},t.prototype._buildPlayer=function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}},t.prototype._preparePlayerBeforeStart=function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()},t.prototype._triggerWebAnimation=function(t,e,n){return t.animate(e,n)},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.play=function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()},t.prototype.pause=function(){this.init(),this.domPlayer.pause()},t.prototype.finish=function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()},t.prototype.reset=function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype._resetDomPlayerState=function(){this.domPlayer&&this.domPlayer.cancel()},t.prototype.restart=function(){this.reset(),this.play()},t.prototype.hasStarted=function(){return this._started},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])},t.prototype.setPosition=function(t){this.domPlayer.currentTime=t*this.time},t.prototype.getPosition=function(){return this.domPlayer.currentTime/this.time},Object.defineProperty(t.prototype,"totalTime",{get:function(){return this._delay+this._duration},enumerable:!0,configurable:!0}),t.prototype.beforeDestroy=function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:Dw(t.element,n))})),this.currentSnapshot=e},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0},t}(),XS=function(){function t(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ZS().toString()),this._cssKeyframesDriver=new QS}return t.prototype.validateStyleProperty=function(t){return sw(t)},t.prototype.matchesElement=function(t,e){return cw(t,e)},t.prototype.containsElement=function(t,e){return uw(t,e)},t.prototype.query=function(t,e,n){return lw(t,e,n)},t.prototype.computeStyle=function(t,e,n){return window.getComputedStyle(t)[e]},t.prototype.overrideWebAnimationsSupport=function(t){this._isNativeImpl=t},t.prototype.animate=function(t,e,n,r,i,o,a){if(void 0===o&&(o=[]),!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var c={},u=o.filter((function(t){return t instanceof YS}));Ow(n,r)&&u.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return c[t]=e[t]}))}));var l=MS(t,e=$w(t,e=e.map((function(t){return bw(t,!1)})),c));return new YS(t,e,s,l)},t}();function ZS(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var JS=function(t){function e(e,n){var r=t.call(this)||this;return r._nextAnimationId=0,r._renderer=e.createRenderer(n.body,{id:"0",encapsulation:de.None,styles:[],data:{animation:[]}}),r}return Object(i.__extends)(e,t),e.prototype.build=function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?R_(t):t;return nE(this._renderer,null,e,"register",[n]),new tE(e,this._renderer)},e.ɵfac=function(t){return new(t||e)(Jt(Ru),Jt(zv))},e.ɵprov=ht({token:e,factory:function(t){return e.ɵfac(t)}}),e}(A_),tE=function(t){function e(e,n){var r=t.call(this)||this;return r._id=e,r._renderer=n,r}return Object(i.__extends)(e,t),e.prototype.create=function(t,e){return new eE(this._id,t,e||{},this._renderer)},e}(O_),eE=function(){function t(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}return t.prototype._listen=function(t,e){return this._renderer.listen(this.element,"@@"+this.id+":"+t,e)},t.prototype._command=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return nE(this._renderer,this.element,this.id,t,e)},t.prototype.onDone=function(t){this._listen("done",t)},t.prototype.onStart=function(t){this._listen("start",t)},t.prototype.onDestroy=function(t){this._listen("destroy",t)},t.prototype.init=function(){this._command("init")},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this._command("play"),this._started=!0},t.prototype.pause=function(){this._command("pause")},t.prototype.restart=function(){this._command("restart")},t.prototype.finish=function(){this._command("finish")},t.prototype.destroy=function(){this._command("destroy")},t.prototype.reset=function(){this._command("reset")},t.prototype.setPosition=function(t){this._command("setPosition",t)},t.prototype.getPosition=function(){return 0},t}();function nE(t,e,n,r,i){return t.setProperty(e,"@@"+n+":"+r,i)}var rE=function(){function t(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return t.prototype.createRenderer=function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new iE("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);var s=function(e){Array.isArray(e)?e.forEach(s):n.engine.registerTrigger(o,a,t,e.name,e)};return e.data.animation.forEach(s),new oE(this,a,r,this.engine)},t.prototype.begin=function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()},t.prototype._scheduleCountTask=function(){var t=this;this.promise.then((function(){t._microtaskId++}))},t.prototype.scheduleListenerCallback=function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return e(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(t){var e=Object(i.__read)(t,2);(0,e[0])(e[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([e,n]))},t.prototype.end=function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.engine.whenRenderingDone()},t.ɵfac=function(e){return new(e||t)(Jt(Ru),Jt($S),Jt(wd))},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),iE=function(){function t(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?function(t){return e.destroyNode(t)}:null}return Object.defineProperty(t.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()},t.prototype.createElement=function(t,e){return this.delegate.createElement(t,e)},t.prototype.createComment=function(t){return this.delegate.createComment(t)},t.prototype.createText=function(t){return this.delegate.createText(t)},t.prototype.appendChild=function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)},t.prototype.insertBefore=function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)},t.prototype.removeChild=function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)},t.prototype.selectRootElement=function(t,e){return this.delegate.selectRootElement(t,e)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setAttribute=function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)},t.prototype.setValue=function(t,e){this.delegate.setValue(t,e)},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.disableAnimations=function(t,e){this.engine.disableAnimations(t,e)},t}(),oE=function(t){function e(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.factory=e,o.namespaceId=n,o}return Object(i.__extends)(e,t),e.prototype.setProperty=function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)},e.prototype.listen=function(t,e,n){var r,o,a,s=this;if("@"==e.charAt(0)){var c=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),u=e.substr(1),l="";return"@"!=u.charAt(0)&&(u=(r=Object(i.__read)((o=u,a=o.indexOf("."),[o.substring(0,a),o.substr(a+1)]),2))[0],l=r[1]),this.engine.listen(this.namespaceId,c,u,l,(function(t){s.factory.scheduleListenerCallback(t._data||-1,n,t)}))}return this.delegate.listen(t,e,n)},e}(iE),aE=function(t){function e(e,n,r){return t.call(this,e.body,n,r)||this}return Object(i.__extends)(e,t),e.ɵfac=function(t){return new(t||e)(Jt(zv),Jt(hw),Jt(rS))},e.ɵprov=ht({token:e,factory:function(t){return e.ɵfac(t)}}),e}($S),sE=new Bt("AnimationModuleType"),cE=[{provide:A_,useClass:JS},{provide:rS,useFactory:function(){return new iS}},{provide:$S,useClass:aE},{provide:Ru,useFactory:function(t,e,n){return new rE(t,e,n)},deps:[Nb,$S,wd]}],uE=Object(i.__spread)([{provide:hw,useFactory:function(){return"function"==typeof ZS()?new XS:new QS}},{provide:sE,useValue:"BrowserAnimations"}],cE),lE=(Object(i.__spread)([{provide:hw,useClass:fw},{provide:sE,useValue:"NoopAnimations"}],cE),function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},providers:uE,imports:[Qb]}),t}()),dE=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[vb]]}),t}(),fE={};function hE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return P(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&o(t[0])&&(t=t[0]),K(t,r).lift(new pE(n))}var pE=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new mE(t,this.resultSelector))},t}(),mE=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return i.__extends(e,t),e.prototype._next=function(t){this.values.push(fE),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(R(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===fE?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(L),gE=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i.__extends(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(lv),vE=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(fv))(gE);function yE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return P(n)?(t.pop(),V(t,n)):K(t)}function bE(t,e){return new w(e?function(n){return e.schedule(_E,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function _E(t){t.subscriber.error(t.error)}var wE=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return yE(this.value);case"E":return bE(this.error);case"C":return Qg()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),SE=function(t){function e(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return i.__extends(e,t),e.dispatch=function(t){t.notification.observe(t.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new EE(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(wE.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(wE.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(wE.createComplete()),this.unsubscribe()},e}(g),EE=function(){return function(t,e){this.notification=t,this.destination=e}}(),xE=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return i.__extends(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new CE(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new E;if(this.isStopped||this.hasError?e=u.EMPTY:(this.observers.push(t),e=new x(this,t)),i&&t.add(t=new SE(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(a=0;a<o&&!t.closed;a++)t.next(r[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||vE).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(k),CE=function(){return function(t,e){this.time=t,this.value=e}}();function kE(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,c=t.scheduler,u=0,l=!1,d=!1;return function(t){u++,e&&!l||(l=!1,e=new xE(i,a,c),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){d=!0,e.complete()}}));var r=e.subscribe(this);this.add((function(){u--,r.unsubscribe(),n&&!d&&s&&0===u&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(r))}}function TE(t){return new w((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?H(n):Qg()).subscribe(e)}))}function PE(t){return function(e){var n=new IE(t),r=e.lift(n);return n.caught=r}}var IE=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new AE(t,this.selector,this.caught))},t}(),AE=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return i.__extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(i){return void t.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new I(this,void 0,void 0);this.add(r),R(this,n,void 0,void 0,r)}},e}(L),OE=function(){function t(t){this._sendFn=t,this._msgCnt=0,this._msgResolvers=new Map}return t.prototype.sendWithResponse=function(t,e){return this.sendWithResponseStream(t,e).toPromise()},t.prototype.sendWithResponseStream=function(t,e){var n=this;if("__arUnsubscribe"===t)throw new Error;return new w((function(r){var o=++n._msgCnt,a=!0;return function(r){var o,a=new k;return n._msgResolvers.set(r,a),TE((function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this._sendFn({type:t,data:e,msgId:r})];case 1:return[2,n.sent()]}}))}))})).pipe(PE((function(t){return delete n._msgResolvers[r],bE(t)})),(o=a.asObservable(),yv((function(){return o}))))}(o).subscribe((function(t){return r.next(t)}),(function(t){a=!1,r.error(t)}),(function(){a=!1,r.complete()})),function(){a&&n._sendFn({type:"__arUnsubscribe",msgId:o})}}))},t.prototype.send=function(t,e){if("__arUnsubscribe"===t)throw new Error;this._sendFn("object"==typeof t?t:{type:t,data:e})},t.prototype.handleResult=function(t){if(t&&"result"===t.type){var e=this._msgResolvers.get(t.msgId);if(!e)throw new Error("asyncResponse: no resolver");return t.hasOwnProperty("error")||t.isError?(e.error(t.data),this._msgResolvers.delete(t.msgId)):(t.isNext&&e.next(t.data),t.isComplete&&(e.complete(),this._msgResolvers.delete(t.msgId))),!0}return!1},t}(),$E=function(){function t(){}return t.create=function(t){var e,n=chrome.runtime.connect({name:"servify_"+t}),r=new OE((function(t){n.postMessage(t)}));(e=n.onMessage,function t(e,n,r){return r?t(e,n).pipe(j((function(t){return o(t)?r.apply(void 0,t):r(t)}))):new w((function(t){var r,i=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.next(1===e.length?e[0]:e)};try{r=e(i)}catch(o){return void t.error(o)}if(s(n))return function(){return n(i,r)}}))}((function(t){e.addListener(t)}),(function(t){return e.removeListener(t)}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t}))).subscribe((function(t){var e=Object(i.__read)(t,2);r.handleResult(e[0])}));var a=new Proxy({},{get:function(t,e){var n=e.toString();return n.startsWith("on")?function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.sendWithResponseStream(n,t)}:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.sendWithResponse(n,t)}}}),c=function(){};return c.prototype=a,c},t}();function ME(t){return $E.create(t)}var DE=Ai(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.ɵprov=ht({token:e,factory:e.ɵfac=function(t){return DE(t||e)},providedIn:"root"}),e}(ME("foo"))),NE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(e,t),e.ɵprov=ht({token:e,factory:e.ɵfac=function(t){return RE(t||e)},providedIn:"root"}),e}(ME("userAccount")),RE=Ai(NE),LE=function(){function t(t,e){this._userAccount=t,this._appOptions=e,this.hasUnlimitedStorage=!0,this.license={},this._init()}return t.prototype.hasFeature=function(t){return this.isPaid||this.license.planVariantSettings&&this.license.planVariantSettings[t]},t.prototype.getRecordingTimeLimit=function(){return this._appOptions.values.enableTimeLimitWarning&&this.license.limitLength?this.license.maxLength:0},t.prototype.getIsComboVariantExceeded=function(){return!window.localStorage.e2e&&this.onComboVariantExceeded().pipe(cv()).toPromise()},t.prototype.getIsVideoStorageLimitExceeded=function(){return!window.localStorage.e2e&&this.onVideoStorageLimitExceeded().pipe(cv()).toPromise()},t.prototype._init=function(){var t=this;this._account$=this._userAccount.onAccount().pipe(kE(1)),this._account$.subscribe((function(e){t.license=e.license})),this.onHasUnlimitedStorage().subscribe((function(e){return t.hasUnlimitedStorage=e})),this.onMaxRecordingsMonth().subscribe((function(e){return t.maxRecordingsMonth=e})),this.onMonthlyLimitExceeded().subscribe((function(e){return t.isMonthlyLimitExceeded=e})),this.onComboVariantExceeded().subscribe((function(e){return t.isComboVariantExceeded=e})),this.onVideoStorageLimitExceeded().subscribe((function(e){return t.videoStorageLimitExceeded=e})),this.onRecordingsRemainingMonth().subscribe((function(e){return t.recordingsRemainingMonth=e})),this.onHasDefaultVariant().subscribe((function(e){return t.hasDefaultVariant=e})),this.onIsPaid().subscribe((function(e){return t.isPaid=e})),this.onIsSignedIn().subscribe((function(e){return t.isSignedIn=e}))},t.prototype.onRecordingTimeLimit=function(){return this._account$.pipe(qg((function(t){return t.license&&t.license.limitLength})),j((function(t){return t.license.maxLength})))},t.prototype.onHasUnlimitedRecordingTime=function(){return this.onRecordingTimeRemainingMonth().pipe(j((function(t){return t>1e7})))},t.prototype.onHasUnlimitedRecordings=function(){return this.onRecordingsRemainingMonth().pipe(j((function(t){return t>1e7})))},t.prototype.onHasUnlimitedStorage=function(){return this.onRecordingStorageLimit().pipe(j((function(t){return t>1e5})))},t.prototype.onNumRecordingsMonth=function(){return this._account$.pipe(j((function(t){return t.numRecordingsMonth})))},t.prototype.onMaxRecordingsMonth=function(){return this._account$.pipe(j((function(t){return t.license.maxNumRecordings})))},t.prototype.onMonthlyLimitExceeded=function(){return hE(this.onMonthlyRecordingsLimitExceeded(),this.onMonthlyTimeLimitExceeded(),this.onVideoStorageLimitExceeded()).pipe(j((function(t){var e=Object(i.__read)(t,3);return e[0]||e[1]||e[2]})))},t.prototype.onComboVariantExceeded=function(){return hE(this.onHasDefaultVariant(),this.onMonthlyTimeLimitExceeded(),this.onVideoStorageLimitExceeded()).pipe(j((function(t){var e=Object(i.__read)(t,3);return!e[0]&&e[1]&&e[2]})))},t.prototype.onMonthlyRecordingsLimitExceeded=function(){return this._account$.pipe(j((function(t){return t.license.limitNumRecordings&&t.numRecordingsMonth>=t.license.maxNumRecordings})))},t.prototype.onMonthlyTimeLimitExceeded=function(){return this._account$.pipe(j((function(t){return t.license.planVariantSettings&&t.totalRecordingTimeMonth>=t.license.planVariantSettings.maxRecordingTimeMonth})))},t.prototype.onVideoStorageLimitExceeded=function(){return hE(this.onRecordingsStoredCount(),this.onRecordingStorageLimit()).pipe(j((function(t){var e=Object(i.__read)(t,2);return e[0]>=e[1]})))},t.prototype.onRecordingTimeRemainingMonth=function(){return this._account$.pipe(j((function(t){return Math.max(0,t.license.planVariantSettings?t.license.planVariantSettings.maxRecordingTimeMonth-t.totalRecordingTimeMonth:Number.MAX_SAFE_INTEGER)})))},t.prototype.onRecordingsRemainingMonth=function(){return this._account$.pipe(j((function(t){return Math.max(0,t.license.maxNumRecordings-t.numRecordingsMonth)})))},t.prototype.onRecordingsStoredCount=function(){return this._account$.pipe(j((function(t){return t.recordingsStoredCount})))},t.prototype.onRecordingStorageLimit=function(){return this._account$.pipe(j((function(t){return t.license.planVariantSettings?t.license.planVariantSettings.videoStorageLimit:Number.MAX_SAFE_INTEGER})))},t.prototype.onIsPaid=function(){return this._account$.pipe(j((function(t){return t.license.isPaid})))},t.prototype.onPlanVariant=function(){return this._onUser().pipe(j((function(t){return t.planVariant})))},t.prototype.onHasFeature=function(t){return this._account$.pipe(j((function(e){var n=e.license;return n.isPaid||n.planVariantSettings&&n.planVariantSettings[t]})))},t.prototype.onIsSignedIn=function(){return this._account$.pipe(j((function(t){return!!t.user})))},t.prototype._onUser=function(){return this._account$.pipe(qg((function(t){return!!t.user})),j((function(t){return t.user})))},t.prototype.onHasDefaultVariant=function(){return this.onPlanVariant().pipe(j((function(t){return!t||"default"===t})))},t.prototype.onIsStudent=function(){return this._onUser().pipe(j((function(t){return t.survey&&"student"===t.survey.user_type})))},t.prototype.onIsTeacher=function(){return this._onUser().pipe(j((function(t){return t.survey&&"educator"===t.survey.user_type})))},t.prototype.signIn=function(){return this._userAccount.signIn()},t.prototype.openBuy=function(t,e){window.open("https://www.screencastify.com/buy?utm_source=app&utm_source=app&utm_campaign="+t+"\n      "+(e?"&utm_content="+e:""),"_blank")},t.ɵprov=ht({token:t,factory:t.ɵfac=function(e){return new(e||t)(Jt(NE),Jt(xg))}}),t}();qd.module("cf2.upgradeHelperService",[]).factory("cf2UpgradeHelperService",C_(LE));var jE=27;function FE(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.length?e.some((function(e){return t[e]})):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function BE(t,e,n){return function(r){return r.lift(new VE(t,e,n))}}var VE=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new HE(t,this.nextOrObserver,this.error,this.complete))},t}(),HE=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=b,o._tapError=b,o._tapComplete=b,o._tapError=r||b,o._tapComplete=i||b,s(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||b,o._tapError=n.error||b,o._tapComplete=n.complete||b),o}return i.__extends(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(g);function UE(t,e){return void 0===e&&(e=hv),function(n){return n.lift(new zE(t,e))}}var qE,zE=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new WE(t,this.dueTime,this.scheduler))},t}(),WE=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return i.__extends(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(GE,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(g);function GE(t){t.debouncedNext()}function KE(t){return null!=t&&""+t!="false"}function QE(t,e){return void 0===e&&(e=0),function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function YE(t){return Array.isArray(t)?t:[t]}function XE(t){return null==t?"":"string"==typeof t?t:t+"px"}function ZE(t){return t instanceof Du?t.nativeElement:t}try{qE="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(rB){qE=!1}var JE,tx,ex=function(){function t(t){this._platformId=t,this.isBrowser=this._platformId?this._platformId===yb:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!qE)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}return t.ɵprov=ht({factory:function(){return new t(Jt(ad,8))},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(Jt(ad,8))},t}(),nx=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)}}),t}(),rx=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ix(){if(JE)return JE;if("object"!=typeof document||!document)return JE=new Set(rx);var t=document.createElement("input");return JE=new Set(rx.filter((function(e){return t.setAttribute("type",e),t.type===e})))}function ox(t){return function(){if(null==tx&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return tx=!0}}))}finally{tx=tx||!1}return tx}()?t:!!t.capture}var ax,sx=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}({});function cx(){if("object"!=typeof document||!document)return sx.NORMAL;if(!ax){var t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";var n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",t.appendChild(n),document.body.appendChild(t),ax=sx.NORMAL,0===t.scrollLeft&&(t.scrollLeft=1,ax=0===t.scrollLeft?sx.NEGATED:sx.INVERTED),t.parentNode.removeChild(t)}return ax}var ux=function(){function t(){}return t.prototype.create=function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)},t.ɵprov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)},t}(),lx=function(){function t(t){this._mutationObserverFactory=t,this._observedElements=new Map}return t.prototype.ngOnDestroy=function(){var t=this;this._observedElements.forEach((function(e,n){return t._cleanupObserver(n)}))},t.prototype.observe=function(t){var e=this,n=ZE(t);return new w((function(t){var r=e._observeElement(n).subscribe(t);return function(){r.unsubscribe(),e._unobserveElement(n)}}))},t.prototype._observeElement=function(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{var e=new k,n=this._mutationObserverFactory.create((function(t){return e.next(t)}));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream},t.prototype._unobserveElement=function(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))},t.prototype._cleanupObserver=function(t){if(this._observedElements.has(t)){var e=this._observedElements.get(t),n=e.observer,r=e.stream;n&&n.disconnect(),r.complete(),this._observedElements.delete(t)}},t.ɵprov=ht({factory:function(){return new t(Jt(ux))},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(Jt(ux))},t}(),dx=function(){function t(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new Ol,this._disabled=!1,this._currentSubscription=null}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=KE(t),this._disabled?this._unsubscribe():this._subscribe()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"debounce",{get:function(){return this._debounce},set:function(t){this._debounce=QE(t),this._subscribe()},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){this._currentSubscription||this.disabled||this._subscribe()},t.prototype.ngOnDestroy=function(){this._unsubscribe()},t.prototype._subscribe=function(){var t=this;this._unsubscribe();var e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular((function(){t._currentSubscription=(t.debounce?e.pipe(UE(t.debounce)):e).subscribe(t.event)}))},t.prototype._unsubscribe=function(){this._currentSubscription&&this._currentSubscription.unsubscribe()},t.ɵfac=function(e){return new(e||t)(mc(lx),mc(Du),mc(wd))},t.ɵdir=Se({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t}(),fx=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},providers:[ux]}),t}();function hx(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}var px=0,mx=new Map,gx=null,vx=function(){function t(t){this._document=t}return t.prototype.describe=function(t,e){this._canBeDescribed(t,e)&&("string"!=typeof e?(this._setMessageId(e),mx.set(e,{messageElement:e,referenceCount:0})):mx.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))},t.prototype.removeDescription=function(t,e){if(this._isElementNode(t)){if(this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e),"string"==typeof e){var n=mx.get(e);n&&0===n.referenceCount&&this._deleteMessageElement(e)}gx&&0===gx.childNodes.length&&this._deleteMessagesContainer()}},t.prototype.ngOnDestroy=function(){for(var t=this._document.querySelectorAll("[cdk-describedby-host]"),e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute("cdk-describedby-host");gx&&this._deleteMessagesContainer(),mx.clear()},t.prototype._createMessageElement=function(t){var e=this._document.createElement("div");this._setMessageId(e),e.textContent=t,this._createMessagesContainer(),gx.appendChild(e),mx.set(t,{messageElement:e,referenceCount:0})},t.prototype._setMessageId=function(t){t.id||(t.id="cdk-describedby-message-"+px++)},t.prototype._deleteMessageElement=function(t){var e=mx.get(t),n=e&&e.messageElement;gx&&n&&gx.removeChild(n),mx.delete(t)},t.prototype._createMessagesContainer=function(){if(!gx){var t=this._document.getElementById("cdk-describedby-message-container");t&&t.parentNode.removeChild(t),(gx=this._document.createElement("div")).id="cdk-describedby-message-container",gx.setAttribute("aria-hidden","true"),gx.style.display="none",this._document.body.appendChild(gx)}},t.prototype._deleteMessagesContainer=function(){gx&&gx.parentNode&&(gx.parentNode.removeChild(gx),gx=null)},t.prototype._removeCdkDescribedByReferenceIds=function(t){var e=hx(t,"aria-describedby").filter((function(t){return 0!=t.indexOf("cdk-describedby-message")}));t.setAttribute("aria-describedby",e.join(" "))},t.prototype._addMessageReference=function(t,e){var n,r,i,o=mx.get(e);r=o.messageElement.id,(i=hx(n=t,"aria-describedby")).some((function(t){return t.trim()==r.trim()}))||(i.push(r.trim()),n.setAttribute("aria-describedby",i.join(" "))),t.setAttribute("cdk-describedby-host",""),o.referenceCount++},t.prototype._removeMessageReference=function(t,e){var n,r,i,o,a=mx.get(e);a.referenceCount--,i=a.messageElement.id,(o=hx(n=t,r="aria-describedby").filter((function(t){return t!=i.trim()}))).length?n.setAttribute(r,o.join(" ")):n.removeAttribute(r),t.removeAttribute("cdk-describedby-host")},t.prototype._isElementDescribedByMessage=function(t,e){var n=hx(t,"aria-describedby"),r=mx.get(e),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)},t.prototype._canBeDescribed=function(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;var n=null==e?"":(""+e).trim(),r=t.getAttribute("aria-label");return!(!n||r&&r.trim()===n)},t.prototype._isElementNode=function(t){return t.nodeType===this._document.ELEMENT_NODE},t.ɵprov=ht({factory:function(){return new t(Jt(zv))},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(Jt(zv))},t}(),yx=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._origin="program",e}return Object(i.__extends)(e,t),e.prototype.setFocusOrigin=function(t){return this._origin=t,this},e.prototype.setActiveItem=function(e){t.prototype.setActiveItem.call(this,e),this.activeItem&&this.activeItem.focus(this._origin)},e}(function(){function t(t){var e=this;this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new k,this._typeaheadSubscription=u.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=function(t){return t.disabled},this._pressedLetters=[],this.tabOut=new k,this.change=new k,t instanceof Ml&&t.changes.subscribe((function(t){if(e._activeItem){var n=t.toArray().indexOf(e._activeItem);n>-1&&n!==e._activeItemIndex&&(e._activeItemIndex=n)}}))}return t.prototype.skipPredicate=function(t){return this._skipPredicateFn=t,this},t.prototype.withWrap=function(t){return void 0===t&&(t=!0),this._wrap=t,this},t.prototype.withVerticalOrientation=function(t){return void 0===t&&(t=!0),this._vertical=t,this},t.prototype.withHorizontalOrientation=function(t){return this._horizontal=t,this},t.prototype.withAllowedModifierKeys=function(t){return this._allowedModifierKeys=t,this},t.prototype.withTypeAhead=function(t){var e=this;if(void 0===t&&(t=200),this._items.length&&this._items.some((function(t){return"function"!=typeof t.getLabel})))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(BE((function(t){return e._pressedLetters.push(t)})),UE(t),qg((function(){return e._pressedLetters.length>0})),j((function(){return e._pressedLetters.join("")}))).subscribe((function(t){for(var n=e._getItemsArray(),r=1;r<n.length+1;r++){var i=(e._activeItemIndex+r)%n.length,o=n[i];if(!e._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){e.setActiveItem(i);break}}e._pressedLetters=[]})),this},t.prototype.setActiveItem=function(t){var e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)},t.prototype.onKeydown=function(t){var e=this,n=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every((function(n){return!t[n]||e._allowedModifierKeys.indexOf(n)>-1}));switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((r||FE(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],t.preventDefault()},Object.defineProperty(t.prototype,"activeItemIndex",{get:function(){return this._activeItemIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeItem",{get:function(){return this._activeItem},enumerable:!0,configurable:!0}),t.prototype.isTyping=function(){return this._pressedLetters.length>0},t.prototype.setFirstItemActive=function(){this._setActiveItemByIndex(0,1)},t.prototype.setLastItemActive=function(){this._setActiveItemByIndex(this._items.length-1,-1)},t.prototype.setNextItemActive=function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)},t.prototype.setPreviousItemActive=function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)},t.prototype.updateActiveItem=function(t){var e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n},t.prototype._setActiveItemByDelta=function(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)},t.prototype._setActiveInWrapMode=function(t){for(var e=this._getItemsArray(),n=1;n<=e.length;n++){var r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}},t.prototype._setActiveInDefaultMode=function(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)},t.prototype._setActiveItemByIndex=function(t,e){var n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}},t.prototype._getItemsArray=function(){return this._items instanceof Ml?this._items.toArray():this._items},t}()),bx=function(){function t(t){this._platform=t}return t.prototype.isDisabled=function(t){return t.hasAttribute("disabled")},t.prototype.isVisible=function(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility},t.prototype.isTabbable=function(t){if(!this._platform.isBrowser)return!1;var e,n=function(t){try{return t.frameElement}catch(rB){return null}}((e=t).ownerDocument&&e.ownerDocument.defaultView||window);if(n){var r=n&&n.nodeName.toLowerCase();if(-1===wx(n))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===r)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(n))return!1}var i=t.nodeName.toLowerCase(),o=wx(t);if(t.hasAttribute("contenteditable"))return-1!==o;if("iframe"===i)return!1;if("audio"===i){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===i){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==i||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){var e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0},t.prototype.isFocusable=function(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){var e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||_x(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)},t.ɵprov=ht({factory:function(){return new t(Jt(ex))},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(Jt(ex))},t}();function _x(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;var e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function wx(t){if(!_x(t))return null;var e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}var Sx=function(){function t(t,e,n,r,i){var o=this;void 0===i&&(i=!1),this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=function(){return o.focusLastTabbableElement()},this.endAnchorListener=function(){return o.focusFirstTabbableElement()},this._enabled=!0,i||this.attachAnchors()}return Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){var t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null},t.prototype.attachAnchors=function(){var t=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular((function(){t._startAnchor||(t._startAnchor=t._createAnchor(),t._startAnchor.addEventListener("focus",t.startAnchorListener)),t._endAnchor||(t._endAnchor=t._createAnchor(),t._endAnchor.addEventListener("focus",t.endAnchorListener))})),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)},t.prototype.focusInitialElementWhenReady=function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusInitialElement())}))}))},t.prototype.focusFirstTabbableElementWhenReady=function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusFirstTabbableElement())}))}))},t.prototype.focusLastTabbableElementWhenReady=function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusLastTabbableElement())}))}))},t.prototype._getRegionBoundary=function(t){for(var e=this._element.querySelectorAll("[cdk-focus-region-"+t+"], [cdkFocusRegion"+t+"], [cdk-focus-"+t+"]"),n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn("Found use of deprecated attribute 'cdk-focus-"+t+"', use 'cdkFocusRegion"+t+"' instead. The deprecated attribute will be removed in 8.0.0.",e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn("Found use of deprecated attribute 'cdk-focus-region-"+t+"', use 'cdkFocusRegion"+t+"' instead. The deprecated attribute will be removed in 8.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)},t.prototype.focusInitialElement=function(){var t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Fi()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()},t.prototype.focusFirstTabbableElement=function(){var t=this._getRegionBoundary("start");return t&&t.focus(),!!t},t.prototype.focusLastTabbableElement=function(){var t=this._getRegionBoundary("end");return t&&t.focus(),!!t},t.prototype.hasAttached=function(){return this._hasAttached},t.prototype._getFirstTabbableElement=function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null},t.prototype._getLastTabbableElement=function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=e.length-1;n>=0;n--){var r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null},t.prototype._createAnchor=function(){var t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t},t.prototype._toggleAnchorTabIndex=function(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")},t.prototype._executeOnStable=function(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Yg(1)).subscribe(t)},t}(),Ex=function(){function t(t,e,n){this._checker=t,this._ngZone=e,this._document=n}return t.prototype.create=function(t,e){return void 0===e&&(e=!1),new Sx(t,this._checker,this._ngZone,this._document,e)},t.ɵprov=ht({factory:function(){return new t(Jt(bx),Jt(wd),Jt(zv))},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(Jt(bx),Jt(wd),Jt(zv))},t}(),xx=new Bt("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Cx=new Bt("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),kx=function(){function t(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}return t.prototype.announce=function(t){for(var e,n=this,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var a,s,c=this._defaultOptions;return 1===r.length&&"number"==typeof r[0]?s=r[0]:(a=(e=Object(i.__read)(r,2))[0],s=e[1]),this.clear(),clearTimeout(this._previousTimeout),a||(a=c&&c.politeness?c.politeness:"polite"),null==s&&c&&(s=c.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular((function(){return new Promise((function(e){clearTimeout(n._previousTimeout),n._previousTimeout=setTimeout((function(){n._liveElement.textContent=t,e(),"number"==typeof s&&(n._previousTimeout=setTimeout((function(){return n.clear()}),s))}),100)}))}))},t.prototype.clear=function(){this._liveElement&&(this._liveElement.textContent="")},t.prototype.ngOnDestroy=function(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)},t.prototype._createLiveElement=function(){for(var t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div"),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e},t.ɵprov=ht({factory:function(){return new t(Jt(xx,8),Jt(wd),Jt(zv),Jt(Cx,8))},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(Jt(xx,8),Jt(wd),Jt(zv),Jt(Cx,8))},t}(),Tx=650,Px=ox({passive:!0,capture:!0}),Ix=function(){function t(t,e){var n=this;this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=function(){n._lastTouchTarget=null,n._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(){n._lastTouchTarget||n._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=function(t){null!=n._touchTimeoutId&&clearTimeout(n._touchTimeoutId),n._lastTouchTarget=t.composedPath?t.composedPath()[0]:t.target,n._touchTimeoutId=setTimeout((function(){return n._lastTouchTarget=null}),Tx)},this._windowFocusListener=function(){n._windowFocused=!0,n._windowFocusTimeoutId=setTimeout((function(){return n._windowFocused=!1}))}}return t.prototype.monitor=function(t,e){var n=this;if(void 0===e&&(e=!1),!this._platform.isBrowser)return yE(null);var r=ZE(t);if(this._elementInfo.has(r)){var i=this._elementInfo.get(r);return i.checkChildren=e,i.subject.asObservable()}var o={unlisten:function(){},checkChildren:e,subject:new k};this._elementInfo.set(r,o),this._incrementMonitoredElementCount();var a=function(t){return n._onFocus(t,r)},s=function(t){return n._onBlur(t,r)};return this._ngZone.runOutsideAngular((function(){r.addEventListener("focus",a,!0),r.addEventListener("blur",s,!0)})),o.unlisten=function(){r.removeEventListener("focus",a,!0),r.removeEventListener("blur",s,!0)},o.subject.asObservable()},t.prototype.stopMonitoring=function(t){var e=ZE(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())},t.prototype.focusVia=function(t,e,n){var r=ZE(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)},t.prototype.ngOnDestroy=function(){var t=this;this._elementInfo.forEach((function(e,n){return t.stopMonitoring(n)}))},t.prototype._toggleClass=function(t,e,n){n?t.classList.add(e):t.classList.remove(e)},t.prototype._setClasses=function(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))},t.prototype._setOriginForCurrentEventQueue=function(t){var e=this;this._ngZone.runOutsideAngular((function(){e._origin=t,e._originTimeoutId=setTimeout((function(){return e._origin=null}),1)}))},t.prototype._wasCausedByTouch=function(t){var e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))},t.prototype._onFocus=function(t,e){var n=this._elementInfo.get(e);if(n&&(n.checkChildren||e===t.target)){var r=this._origin;r||(r=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}},t.prototype._onBlur=function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))},t.prototype._emitOrigin=function(t,e){this._ngZone.run((function(){return t.next(e)}))},t.prototype._incrementMonitoredElementCount=function(){var t=this;1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular((function(){document.addEventListener("keydown",t._documentKeydownListener,Px),document.addEventListener("mousedown",t._documentMousedownListener,Px),document.addEventListener("touchstart",t._documentTouchstartListener,Px),window.addEventListener("focus",t._windowFocusListener)}))},t.prototype._decrementMonitoredElementCount=function(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,Px),document.removeEventListener("mousedown",this._documentMousedownListener,Px),document.removeEventListener("touchstart",this._documentTouchstartListener,Px),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))},t.ɵprov=ht({factory:function(){return new t(Jt(wd),Jt(ex))},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(Jt(wd),Jt(ex))},t}();function Ax(t){return 0===t.buttons}var Ox=function(){function t(t,e){this._platform=t,this._document=e}return t.prototype.getHighContrastMode=function(){if(!this._platform.isBrowser)return 0;var t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);var e=(this._document.defaultView.getComputedStyle(t).backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),e){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0},t.prototype._applyBodyHighContrastModeCssClasses=function(){if(this._platform.isBrowser&&this._document.body){var t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");var e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}},t.ɵprov=ht({factory:function(){return new t(Jt(ex),Jt(zv))},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(Jt(ex),Jt(zv))},t}(),$x=function(){function t(t){t._applyBodyHighContrastModeCssClasses()}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)(Jt(Ox))},imports:[[vb,nx,fx]]}),t}(),Mx=new Bt("cdk-dir-doc",{providedIn:"root",factory:function(){return te(zv)}}),Dx=function(){function t(t){if(this.value="ltr",this.change=new Ol,t){var e=(t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null);this.value="ltr"===e||"rtl"===e?e:"ltr"}}return t.prototype.ngOnDestroy=function(){this.change.complete()},t.ɵprov=ht({factory:function(){return new t(Jt(Mx,8))},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(Jt(Mx,8))},t}(),Nx=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)}}),t}(),Rx=new Vu("9.0.0-rc.5");function Lx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return G(1)(yE.apply(void 0,t))}function jx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return P(n)?(t.pop(),function(e){return Lx(t,e,n)}):function(e){return Lx(t,e)}}var Fx=[1,"mat-line"],Bx=[1,"mat-ripple"],Vx=new Vu("9.0.0-rc.5"),Hx=new Bt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),Ux=function(){function t(t,e){this._hasDoneGlobalChecks=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return t.prototype._checksAreEnabled=function(){return Fi()&&!this._isTestEnv()},t.prototype._isTestEnv=function(){var t=this._window;return t&&(t.__karma__||t.jasmine)},t.prototype._checkDoctypeIsDefined=function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")},t.prototype._checkThemeIsPresent=function(){if(this._checksAreEnabled()&&!1!==this._sanityChecks&&this._sanityChecks.theme&&this._document&&this._document.body&&"function"==typeof getComputedStyle){var t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);var e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}},t.prototype._checkCdkVersionMatch=function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Vx.full!==Rx.full&&console.warn("The Angular Material version ("+Vx.full+") does not match the Angular CDK version ("+Rx.full+").\nPlease ensure the versions of these two packages exactly match.")},t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)(Jt(Ox),Jt(Hx,8))},imports:[[Nx],Nx]}),t}();function qx(t){return function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,Object(i.__spread)(e))||this;return r._disabled=!1,r}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=KE(t)},enumerable:!0,configurable:!0}),e}(t)}function zx(t,e){return function(t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.apply(this,Object(i.__spread)(n))||this;return o.color=e,o}return Object(i.__extends)(n,t),Object.defineProperty(n.prototype,"color",{get:function(){return this._color},set:function(t){var n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)},enumerable:!0,configurable:!0}),n}(t)}function Wx(t){return function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,Object(i.__spread)(e))||this;return r._disableRipple=!1,r}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"disableRipple",{get:function(){return this._disableRipple},set:function(t){this._disableRipple=KE(t)},enumerable:!0,configurable:!0}),e}(t)}function Gx(t,e){return void 0===e&&(e=0),function(t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.apply(this,Object(i.__spread)(n))||this;return o._tabIndex=e,o}return Object(i.__extends)(n,t),Object.defineProperty(n.prototype,"tabIndex",{get:function(){return this.disabled?-1:this._tabIndex},set:function(t){this._tabIndex=null!=t?t:e},enumerable:!0,configurable:!0}),n}(t)}function Kx(t){return function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,Object(i.__spread)(e))||this;return r.errorState=!1,r.stateChanges=new k,r}return Object(i.__extends)(e,t),e.prototype.updateErrorState=function(){var t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())},e}(t)}var Qx=function(){function t(){}return t.prototype.isErrorState=function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))},t.ɵprov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)},t}(),Yx=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵdir=Se({type:t,selectors:[["","mat-line",""],["","matLine",""]],hostBindings:function(t,e,n){1&t&&Lc(Fx)}}),t}();function Xx(t,e,n){var r=t.nativeElement.classList;n?r.add(e):r.remove(e)}var Zx=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[Ux],Ux]}),t}(),Jx=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}({}),tC=function(){function t(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=Jx.HIDDEN}return t.prototype.fadeOut=function(){this._renderer.fadeOutRipple(this)},t}(),eC={enterDuration:450,exitDuration:400},nC=800,rC=ox({passive:!0}),iC=function(){function t(t,e,n,r){var i=this;this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=function(t){var e=Ax(t),n=i._lastTouchStartEvent&&Date.now()<i._lastTouchStartEvent+nC;i._target.rippleDisabled||e||n||(i._isPointerDown=!0,i.fadeInRipple(t.clientX,t.clientY,i._target.rippleConfig))},this._onTouchStart=function(t){if(!i._target.rippleDisabled){i._lastTouchStartEvent=Date.now(),i._isPointerDown=!0;for(var e=t.changedTouches,n=0;n<e.length;n++)i.fadeInRipple(e[n].clientX,e[n].clientY,i._target.rippleConfig)}},this._onPointerUp=function(){i._isPointerDown&&(i._isPointerDown=!1,i._activeRipples.forEach((function(t){!t.config.persistent&&(t.state===Jx.VISIBLE||t.config.terminateOnPointerUp&&t.state===Jx.FADING_IN)&&t.fadeOut()})))},r.isBrowser&&(this._containerElement=ZE(n),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}return t.prototype.fadeInRipple=function(t,e,n){var r=this;void 0===n&&(n={});var o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object(i.__assign)(Object(i.__assign)({},eC),n.animation);n.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);var s=n.radius||function(t,e,n){var r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,o),c=t-o.left,u=e-o.top,l=a.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=c-s+"px",d.style.top=u-s+"px",d.style.height=2*s+"px",d.style.width=2*s+"px",d.style.backgroundColor=n.color||null,d.style.transitionDuration=l+"ms",this._containerElement.appendChild(d),window.getComputedStyle(d).getPropertyValue("opacity"),d.style.transform="scale(1)";var f=new tC(this,d,n);return f.state=Jx.FADING_IN,this._activeRipples.add(f),n.persistent||(this._mostRecentTransientRipple=f),this._runTimeoutOutsideZone((function(){var t=f===r._mostRecentTransientRipple;f.state=Jx.VISIBLE,n.persistent||t&&r._isPointerDown||f.fadeOut()}),l),f},t.prototype.fadeOutRipple=function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,r=Object(i.__assign)(Object(i.__assign)({},eC),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=Jx.FADING_OUT,this._runTimeoutOutsideZone((function(){t.state=Jx.HIDDEN,n.parentNode.removeChild(n)}),r.exitDuration)}},t.prototype.fadeOutAll=function(){this._activeRipples.forEach((function(t){return t.fadeOut()}))},t.prototype.setupTriggerEvents=function(t){var e=this,n=ZE(t);n&&n!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular((function(){e._triggerEvents.forEach((function(t,e){n.addEventListener(e,t,rC)}))})),this._triggerElement=n)},t.prototype._runTimeoutOutsideZone=function(t,e){void 0===e&&(e=0),this._ngZone.runOutsideAngular((function(){return setTimeout(t,e)}))},t.prototype._removeTriggerEvents=function(){var t=this;this._triggerElement&&this._triggerEvents.forEach((function(e,n){t._triggerElement.removeEventListener(n,e,rC)}))},t}(),oC=new Bt("mat-ripple-global-options"),aC=function(){function t(t,e,n,r,i){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new iC(this,e,t,n),"NoopAnimations"===i&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trigger",{get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()},t.prototype.ngOnDestroy=function(){this._rippleRenderer._removeTriggerEvents()},t.prototype.fadeOutAll=function(){this._rippleRenderer.fadeOutAll()},Object.defineProperty(t.prototype,"rippleConfig",{get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object(i.__assign)(Object(i.__assign)({},this._globalOptions.animation),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rippleDisabled",{get:function(){return this.disabled||!!this._globalOptions.disabled},enumerable:!0,configurable:!0}),t.prototype._setupTriggerEventsIfEnabled=function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)},t.prototype.launch=function(t,e,n){return void 0===e&&(e=0),"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object(i.__assign)(Object(i.__assign)({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object(i.__assign)(Object(i.__assign)({},this.rippleConfig),t))},t.ɵfac=function(e){return new(e||t)(mc(Du),mc(wd),mc(ex),mc(oC,8),mc(sE,8))},t.ɵdir=Se({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostBindings:function(t,e,n){1&t&&(tc(1),Lc(Bx)),2&t&&bc("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t}(),sC=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[Ux,nx],Ux]}),t}(),cC=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)}}),t}(),uC=new Bt("mat-label-global-options"),lC=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new dC(t,this.callback))},t}(),dC=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new u(n)),r}return i.__extends(e,t),e}(g),fC=function(){return function(){}}(),hC=function(){return function(){}}(),pC=function(){function t(t){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){e.headers=new Map,t.split("\n").forEach((function(t){var n=t.indexOf(":");if(n>0){var r=t.slice(0,n),i=r.toLowerCase(),o=t.slice(n+1).trim();e.maybeSetNormalizedName(r,i),e.headers.has(i)?e.headers.get(i).push(o):e.headers.set(i,[o])}}))}:function(){e.headers=new Map,Object.keys(t).forEach((function(n){var r=t[n],i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(e.headers.set(i,r),e.maybeSetNormalizedName(n,i))}))}:this.headers=new Map}return t.prototype.has=function(t){return this.init(),this.headers.has(t.toLowerCase())},t.prototype.get=function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null},t.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},t.prototype.getAll=function(t){return this.init(),this.headers.get(t.toLowerCase())||null},t.prototype.append=function(t,e){return this.clone({name:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({name:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({name:t,value:e,op:"d"})},t.prototype.maybeSetNormalizedName=function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)},t.prototype.init=function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(t){return e.applyUpdate(t)})),this.lazyUpdate=null))},t.prototype.copyFrom=function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach((function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))}))},t.prototype.clone=function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n},t.prototype.applyUpdate=function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,Object(i.__spread)(n)),this.headers.set(e,r);break;case"d":var o=t.value;if(o){var a=this.headers.get(e);if(!a)return;0===(a=a.filter((function(t){return-1===o.indexOf(t)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}},t.prototype.forEach=function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return t(e.normalizedNames.get(n),e.headers.get(n))}))},t}(),mC=function(){function t(){}return t.prototype.encodeKey=function(t){return gC(t)},t.prototype.encodeValue=function(t){return gC(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}();function gC(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var vC=function(){function t(t){var e,n,r,o=this;if(void 0===t&&(t={}),this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new mC,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=t.fromString,n=this.encoder,r=new Map,e.length>0&&e.split("&").forEach((function(t){var e=t.indexOf("="),o=Object(i.__read)(-1==e?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,e)),n.decodeValue(t.slice(e+1))],2),a=o[0],s=o[1],c=r.get(a)||[];c.push(s),r.set(a,c)})),r)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach((function(e){var n=t.fromObject[e];o.map.set(e,Array.isArray(n)?n:[n])}))):this.map=null}return t.prototype.has=function(t){return this.init(),this.map.has(t)},t.prototype.get=function(t){this.init();var e=this.map.get(t);return e?e[0]:null},t.prototype.getAll=function(t){return this.init(),this.map.get(t)||null},t.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},t.prototype.append=function(t,e){return this.clone({param:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({param:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({param:t,value:e,op:"d"})},t.prototype.toString=function(){var t=this;return this.init(),this.keys().map((function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map((function(e){return n+"="+t.encoder.encodeValue(e)})).join("&")})).join("&")},t.prototype.clone=function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n},t.prototype.init=function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return t.map.set(e,t.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}})),this.cloneFrom=this.updates=null)},t}();function yC(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function bC(t){return"undefined"!=typeof Blob&&t instanceof Blob}function _C(t){return"undefined"!=typeof FormData&&t instanceof FormData}var wC=function(){function t(t,e,n,r){var i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new pC),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new vC,this.urlWithParams=e}return t.prototype.serializeBody=function(){return null===this.body?null:yC(this.body)||bC(this.body)||_C(this.body)||"string"==typeof this.body?this.body:this.body instanceof vC?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},t.prototype.detectContentTypeHeader=function(){return null===this.body?null:_C(this.body)?null:bC(this.body)?this.body.type||null:yC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vC?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},t.prototype.clone=function(e){void 0===e&&(e={});var n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,c=e.headers||this.headers,u=e.params||this.params;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((function(t,n){return t.set(n,e.setHeaders[n])}),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((function(t,n){return t.set(n,e.setParams[n])}),u)),new t(n,r,o,{params:u,headers:c,reportProgress:s,responseType:i,withCredentials:a})},t}(),SC=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),EC=function(){return function(t,e,n){void 0===e&&(e=200),void 0===n&&(n="OK"),this.headers=t.headers||new pC,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}(),xC=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=SC.ResponseHeader,n}return Object(i.__extends)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(EC),CC=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=SC.Response,n.body=void 0!==e.body?e.body:null,n}return Object(i.__extends)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(EC),kC=function(t){function e(e){var n=t.call(this,e,0,"Unknown Error")||this;return n.name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for "+(e.url||"(unknown url)")+": "+e.status+" "+e.statusText,n.error=e.error||null,n}return Object(i.__extends)(e,t),e}(EC);function TC(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var PC=function(){function t(t){this.handler=t}return t.prototype.request=function(t,e,n){var r,i=this;if(void 0===n&&(n={}),t instanceof wC)r=t;else{var o;o=n.headers instanceof pC?n.headers:new pC(n.headers);var a=void 0;n.params&&(a=n.params instanceof vC?n.params:new vC({fromObject:n.params})),r=new wC(t,e,void 0!==n.body?n.body:null,{headers:o,params:a,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var s=yE(r).pipe(U((function(t){return i.handler.handle(t)}),void 0,1));if(t instanceof wC||"events"===n.observe)return s;var c=s.pipe(qg((function(t){return t instanceof CC})));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return c.pipe(j((function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body})));case"blob":return c.pipe(j((function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body})));case"text":return c.pipe(j((function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body})));case"json":default:return c.pipe(j((function(t){return t.body})))}case"response":return c;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},t.prototype.delete=function(t,e){return void 0===e&&(e={}),this.request("DELETE",t,e)},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.request("GET",t,e)},t.prototype.head=function(t,e){return void 0===e&&(e={}),this.request("HEAD",t,e)},t.prototype.jsonp=function(t,e){return this.request("JSONP",t,{params:(new vC).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},t.prototype.options=function(t,e){return void 0===e&&(e={}),this.request("OPTIONS",t,e)},t.prototype.patch=function(t,e,n){return void 0===n&&(n={}),this.request("PATCH",t,TC(n,e))},t.prototype.post=function(t,e,n){return void 0===n&&(n={}),this.request("POST",t,TC(n,e))},t.prototype.put=function(t,e,n){return void 0===n&&(n={}),this.request("PUT",t,TC(n,e))},t.ɵfac=function(e){return new(e||t)(Jt(fC))},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),IC=function(){function t(t,e){this.next=t,this.interceptor=e}return t.prototype.handle=function(t){return this.interceptor.intercept(t,this.next)},t}(),AC=new Bt("HTTP_INTERCEPTORS"),OC=function(){function t(){}return t.prototype.intercept=function(t,e){return e.handle(t)},t.ɵfac=function(e){return new(e||t)},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),$C=/^\)\]\}',?\n/,MC=function(){return function(){}}(),DC=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t.ɵfac=function(e){return new(e||t)},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),NC=function(){function t(t){this.xhrFactory=t}return t.prototype.handle=function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w((function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((function(t,e){return r.setRequestHeader(t,e.join(","))})),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,c=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new pC(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new xC({headers:i,status:e,statusText:n,url:o})},u=function(){var e=c(),i=e.headers,o=e.status,a=e.statusText,s=e.url,u=null;204!==o&&(u=void 0===r.response?r.responseText:r.response),0===o&&(o=u?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof u){var d=u;u=u.replace($C,"");try{u=""!==u?JSON.parse(u):null}catch(f){u=d,l&&(l=!1,u={error:f,text:u})}}l?(n.next(new CC({body:u,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new kC({error:u,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=c().url,i=new kC({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},d=!1,f=function(e){d||(n.next(c()),d=!0);var i={type:SC.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},h=function(t){var e={type:SC.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",u),r.addEventListener("error",l),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",h)),r.send(a),n.next({type:SC.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",u),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",h)),r.abort()}}))},t.ɵfac=function(e){return new(e||t)(Jt(MC))},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),RC=new Bt("XSRF_COOKIE_NAME"),LC=new Bt("XSRF_HEADER_NAME"),jC=function(){return function(){}}(),FC=function(){function t(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return t.prototype.getToken=function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Gy(t,this.cookieName),this.lastCookieString=t),this.lastToken},t.ɵfac=function(e){return new(e||t)(Jt(zv),Jt(ad),Jt(RC))},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),BC=function(){function t(t,e){this.tokenService=t,this.headerName=e}return t.prototype.intercept=function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)},t.ɵfac=function(e){return new(e||t)(Jt(jC),Jt(LC))},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),VC=function(){function t(t,e){this.backend=t,this.injector=e,this.chain=null}return t.prototype.handle=function(t){if(null===this.chain){var e=this.injector.get(AC,[]);this.chain=e.reduceRight((function(t,e){return new IC(t,e)}),this.backend)}return this.chain.handle(t)},t.ɵfac=function(e){return new(e||t)(Jt(hC),Jt(Ys))},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),HC=function(){function t(){}var e;return e=t,t.disable=function(){return{ngModule:e,providers:[{provide:BC,useClass:OC}]}},t.withOptions=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[t.cookieName?{provide:RC,useValue:t.cookieName}:[],t.headerName?{provide:LC,useValue:t.headerName}:[]]}},t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},providers:[BC,{provide:AC,useExisting:BC,multi:!0},{provide:jC,useClass:FC},{provide:RC,useValue:"XSRF-TOKEN"},{provide:LC,useValue:"X-XSRF-TOKEN"}]}),t}(),UC=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},providers:[PC,{provide:fC,useClass:VC},NC,{provide:hC,useExisting:NC},DC,{provide:MC,useExisting:DC}],imports:[[HC.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t}();function qC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var n=t[0];if(o(n))return zC(n,null);if(a(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return zC(r.map((function(t){return n[t]})),r)}}if("function"==typeof t[t.length-1]){var i=t.pop();return zC(t=1===t.length&&o(t[0])?t[0]:t,null).pipe(j((function(t){return i.apply(void 0,t)})))}return zC(t,null)}function zC(t,e){return new w((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var c=H(t[s]),u=!1;n.add(c.subscribe({next:function(t){u||(u=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&u||(a===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},c=0;c<r;c++)s(c);else n.complete()}))}var WC=["role","img",1,"mat-icon","notranslate"],GC=["*"];function KC(t){return Error('Unable to find icon with the name "'+t+'"')}function QC(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was \""+t+'".')}function YC(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was \""+t+'".')}var XC=function(){return function(t,e){this.options=e,t.nodeName?this.svgElement=t:this.url=t}}(),ZC=function(){function t(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}return t.prototype.addSvgIcon=function(t,e,n){return this.addSvgIconInNamespace("",t,e,n)},t.prototype.addSvgIconLiteral=function(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)},t.prototype.addSvgIconInNamespace=function(t,e,n,r){return this._addSvgIconConfig(t,e,new XC(n,r))},t.prototype.addSvgIconLiteralInNamespace=function(t,e,n,r){var i=this._sanitizer.sanitize(co.HTML,n);if(!i)throw YC(n);var o=this._createSvgElementForSingleIcon(i,r);return this._addSvgIconConfig(t,e,new XC(o,r))},t.prototype.addSvgIconSet=function(t,e){return this.addSvgIconSetInNamespace("",t,e)},t.prototype.addSvgIconSetLiteral=function(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)},t.prototype.addSvgIconSetInNamespace=function(t,e,n){return this._addSvgIconSetConfig(t,new XC(e,n))},t.prototype.addSvgIconSetLiteralInNamespace=function(t,e,n){var r=this._sanitizer.sanitize(co.HTML,e);if(!r)throw YC(e);var i=this._svgElementFromString(r);return this._addSvgIconSetConfig(t,new XC(i,n))},t.prototype.registerFontClassAlias=function(t,e){return void 0===e&&(e=t),this._fontCssClassesByAlias.set(t,e),this},t.prototype.classNameForFontAlias=function(t){return this._fontCssClassesByAlias.get(t)||t},t.prototype.setDefaultFontSetClass=function(t){return this._defaultFontSetClass=t,this},t.prototype.getDefaultFontSetClass=function(){return this._defaultFontSetClass},t.prototype.getSvgIconFromUrl=function(t){var e=this,n=this._sanitizer.sanitize(co.RESOURCE_URL,t);if(!n)throw QC(t);var r=this._cachedIconsByUrl.get(n);return r?yE(JC(r)):this._loadSvgIconFromConfig(new XC(t)).pipe(BE((function(t){return e._cachedIconsByUrl.set(n,t)})),j((function(t){return JC(t)})))},t.prototype.getNamedSvgIcon=function(t,e){void 0===e&&(e="");var n=tk(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);var i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):bE(KC(n))},t.prototype.ngOnDestroy=function(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()},t.prototype._getSvgFromConfig=function(t){return t.svgElement?yE(JC(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(BE((function(e){return t.svgElement=e})),j((function(t){return JC(t)})))},t.prototype._getSvgFromIconSetConfigs=function(t,e){var n=this,r=this._extractIconWithNameFromAnySet(t,e);return r?yE(r):qC(e.filter((function(t){return!t.svgElement})).map((function(t){return n._loadSvgIconSetFromConfig(t).pipe(PE((function(e){var r="Loading icon set URL: "+n._sanitizer.sanitize(co.RESOURCE_URL,t.url)+" failed: "+e.message;return n._errorHandler?n._errorHandler.handleError(new Error(r)):console.error(r),yE(null)})))}))).pipe(j((function(){var r=n._extractIconWithNameFromAnySet(t,e);if(!r)throw KC(t);return r})))},t.prototype._extractIconWithNameFromAnySet=function(t,e){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.svgElement){var i=this._extractSvgIconFromSet(r.svgElement,t,r.options);if(i)return i}}return null},t.prototype._loadSvgIconFromConfig=function(t){var e=this;return this._fetchUrl(t.url).pipe(j((function(n){return e._createSvgElementForSingleIcon(n,t.options)})))},t.prototype._loadSvgIconSetFromConfig=function(t){var e=this;return t.svgElement?yE(t.svgElement):this._fetchUrl(t.url).pipe(j((function(n){return t.svgElement||(t.svgElement=e._svgElementFromString(n)),t.svgElement})))},t.prototype._createSvgElementForSingleIcon=function(t,e){var n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n},t.prototype._extractSvgIconFromSet=function(t,e,n){var r=t.querySelector('[id="'+e+'"]');if(!r)return null;var i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);var o=this._svgElementFromString("<svg></svg>");return o.appendChild(i),this._setSvgAttributes(o,n)},t.prototype._svgElementFromString=function(t){var e=this._document.createElement("DIV");e.innerHTML=t;var n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n},t.prototype._toSvgElement=function(t){for(var e=this._svgElementFromString("<svg></svg>"),n=t.attributes,r=0;r<n.length;r++){var i=n[r],o=i.name;"id"!==o&&e.setAttribute(o,i.value)}for(r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e},t.prototype._setSvgAttributes=function(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t},t.prototype._fetchUrl=function(t){var e=this;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error('Cannot fetch icon from URL "'+t+'".');var n=this._sanitizer.sanitize(co.RESOURCE_URL,t);if(!n)throw QC(t);var r=this._inProgressUrlFetches.get(n);if(r)return r;var i,o=this._httpClient.get(n,{responseType:"text"}).pipe((i=function(){return e._inProgressUrlFetches.delete(n)},function(t){return t.lift(new lC(i))}),rt());return this._inProgressUrlFetches.set(n,o),o},t.prototype._addSvgIconConfig=function(t,e,n){return this._svgIconConfigs.set(tk(t,e),n),this},t.prototype._addSvgIconSetConfig=function(t,e){var n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this},t.ɵprov=ht({factory:function(){return new t(Jt(PC,8),Jt(zb),Jt(zv,8),Jt(Ri,8))},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(Jt(PC,8),Jt(zb),Jt(zv,8),Jt(Ri,8))},t}();function JC(t){return t.cloneNode(!0)}function tk(t,e){return t+":"+e}var ek=zx(function(){return function(t){this._elementRef=t}}()),nk=new Bt("mat-icon-location",{providedIn:"root",factory:function(){var t=te(zv),e=t?t.location:null;return{getPathname:function(){return e?e.pathname+e.search:""}}}}),rk=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ik=rk.map((function(t){return"["+t+"]"})).join(", "),ok=/^url\(['"]?#(.*?)['"]?\)$/,ak=function(t){function e(e,n,r,i,o){var a=t.call(this,e)||this;return a._iconRegistry=n,a._location=i,a._errorHandler=o,a._inline=!1,r||e.nativeElement.setAttribute("aria-hidden","true"),a}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"inline",{get:function(){return this._inline},set:function(t){this._inline=KE(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSet",{get:function(){return this._fontSet},set:function(t){this._fontSet=this._cleanupFontValue(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontIcon",{get:function(){return this._fontIcon},set:function(t){this._fontIcon=this._cleanupFontValue(t)},enumerable:!0,configurable:!0}),e.prototype._splitIconName=function(t){if(!t)return["",""];var e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error('Invalid icon name: "'+t+'"')}},e.prototype.ngOnChanges=function(t){var e=this,n=t.svgIcon;if(n)if(this.svgIcon){var r=Object(i.__read)(this._splitIconName(this.svgIcon),2),o=r[0],a=r[1];this._iconRegistry.getNamedSvgIcon(a,o).pipe(Yg(1)).subscribe((function(t){return e._setSvgElement(t)}),(function(t){var n="Error retrieving icon "+o+":"+a+"! "+t.message;e._errorHandler?e._errorHandler.handleError(new Error(n)):console.error(n)}))}else n.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()},e.prototype.ngOnInit=function(){this._usingFontIcon()&&this._updateFontIconClasses()},e.prototype.ngAfterViewChecked=function(){var t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){var e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}},e.prototype.ngOnDestroy=function(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()},e.prototype._usingFontIcon=function(){return!this.svgIcon},e.prototype._setSvgElement=function(t){this._clearSvgElement();for(var e=t.querySelectorAll("style"),n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){var r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r)}this._elementRef.nativeElement.appendChild(t)},e.prototype._clearSvgElement=function(){var t=this._elementRef.nativeElement,e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){var n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}},e.prototype._updateFontIconClasses=function(){if(this._usingFontIcon()){var t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}},e.prototype._cleanupFontValue=function(t){return"string"==typeof t?t.trim().split(" ")[0]:t},e.prototype._prependPathToReferences=function(t){var e=this._elementsWithExternalReferences;e&&e.forEach((function(e,n){e.forEach((function(e){n.setAttribute(e.name,"url('"+t+"#"+e.value+"')")}))}))},e.prototype._cacheChildrenWithExternalReferences=function(t){for(var e=t.querySelectorAll(ik),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map,r=function(t){rk.forEach((function(r){var i=e[t],o=i.getAttribute(r),a=o?o.match(ok):null;if(a){var s=n.get(i);s||n.set(i,s=[]),s.push({name:r,value:a[1]})}}))},i=0;i<e.length;i++)r(i)},e.ɵfac=function(t){return new(t||e)(mc(Du),mc(ZC),gc("aria-hidden"),mc(nk,8),mc(Ri,8))},e.ɵcmp=ge({type:e,selectors:[["mat-icon"]],hostBindings:function(t,e,n){1&t&&(tc(2),Lc(WC)),2&t&&bc("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color)},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[fu,yu()],ngContentSelectors:GC,decls:1,vars:0,template:function(t,e){1&t&&(Zc(),tu(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),e}(ek),sk=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[Ux],Ux]}),t}(),ck=function(t,e,n,r){return{"no-margins":t,"small-text":e,warning:n,popup:r}},uk=["*"],lk=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵcmp=ge({type:t,selectors:[["cf2-error-hint"]],inputs:{noMargins:"noMargins",warning:"warning",smallText:"smallText",popup:"popup"},ngContentSelectors:uk,decls:4,vars:7,consts:[[1,"error-hint",3,"ngClass"]],template:function(t,e){var n,r,i,o,a,s,c,u,l;1&t&&(Zc(),Dc(0,"div",0),Dc(1,"mat-icon"),iu(2),Nc(),tu(3),Nc()),2&t&&(eu("ngClass",(n=2,r=ck,i=e.noMargins,o=e.smallText,a=e.warning,s=e.popup,u=xn()+n,function(t,e,n,r,i,o){var a=lc(t,e,n,r);return lc(t,e+2,i,o)||a}(l=ln(),u,i,o,a,s)?sc(l,u+4,c?r.call(c,i,o,a,s):r(i,o,a,s)):cc(l,u+4))),la(2),ou(e.warning?"warning":"error"))},directives:[Nv,ak],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.error-hint[_ngcontent-%COMP%]{font:300 1.75rem/2.5rem Helvetica,sans-serif;letter-spacing:0;line-height:1.3;display:grid;grid-template-columns:auto 1fr;grid-gap:1.2rem;align-items:center;background-color:#fff;border:1px solid #f43d3d;border-left:5px solid #f43d3d;padding:1rem;margin:1rem;font-size:1.5rem}.error-hint[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#f43d3d}.error-hint.warning[_ngcontent-%COMP%]{border:1px solid #ff925e;border-left:5px solid #ff925e}.error-hint.warning[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#ff925e}.error-hint.popup[_ngcontent-%COMP%]{grid-gap:.5rem;padding:.7rem;font-size:1.25rem}.error-hint.popup[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px}.small-text[_ngcontent-%COMP%]{font-size:1.4rem}.no-margins[_ngcontent-%COMP%]{margin:0}']}),t}();function dk(t,e){1&t&&iu(0," video ")}function fk(t,e){1&t&&iu(0," videos ")}var hk=function(){function t(){this.upgrade=new Ol}return t.ɵfac=function(e){return new(e||t)},t.ɵcmp=ge({type:t,selectors:[["cf2-limit-banner-storage"]],inputs:{onRecordingsStored:"onRecordingsStored",onRecordingsLimit:"onRecordingsLimit"},outputs:{upgrade:"upgrade"},decls:13,vars:9,consts:[[3,"ngPlural"],["ngPluralCase","=1"],["ngPluralCase","other"],[3,"click"]],template:function(t,e){1&t&&(Dc(0,"span"),Dc(1,"b"),iu(2),Tl(3,"async"),Tl(4,"async"),Nc(),Dc(5,"span",0),Tl(6,"async"),hc(7,dk,1,0,"ng-template",1),hc(8,fk,1,0,"ng-template",2),Nc(),iu(9," saved. "),Dc(10,"a",3),zc("click",(function(t){return e.upgrade.emit()})),iu(11,"Upgrade"),Nc(),iu(12," to save unlimited videos.\n"),Nc()),2&t&&(la(2),su("",Pl(3,3,e.onRecordingsStored),"/",Pl(4,5,e.onRecordingsLimit),""),la(3),eu("ngPlural",Pl(6,7,e.onRecordingsStored)))},directives:[ib,ob],pipes:[db],styles:["[_nghost-%COMP%]{background-color:#fff;font-size:2rem}a[_ngcontent-%COMP%]{color:#06a9fb}"]}),t}();function pk(t,e){1&t&&iu(0," video ")}function mk(t,e){1&t&&iu(0," videos ")}var gk=function(){function t(){this.upgrade=new Ol}return t.ɵfac=function(e){return new(e||t)},t.ɵcmp=ge({type:t,selectors:[["cf2-limit-banner-storage-exceeded"]],inputs:{onRecordingsStored:"onRecordingsStored",onRecordingsLimit:"onRecordingsLimit"},outputs:{upgrade:"upgrade"},decls:13,vars:9,consts:[[3,"ngPlural"],["ngPluralCase","=1"],["ngPluralCase","other"],[3,"click"]],template:function(t,e){1&t&&(Dc(0,"span"),Dc(1,"b"),iu(2),Tl(3,"async"),Tl(4,"async"),Nc(),Dc(5,"span",0),Tl(6,"async"),hc(7,pk,1,0,"ng-template",1),hc(8,mk,1,0,"ng-template",2),Nc(),iu(9," saved. To make a new recording, delete a video or "),Dc(10,"a",3),zc("click",(function(t){return e.upgrade.emit()})),iu(11,"upgrade"),Nc(),iu(12," to save unlimited videos.\n"),Nc()),2&t&&(la(2),su("",Pl(3,3,e.onRecordingsStored),"/",Pl(4,5,e.onRecordingsLimit),""),la(3),eu("ngPlural",Pl(6,7,e.onRecordingsStored)))},directives:[ib,ob],pipes:[db],styles:["[_nghost-%COMP%]{background-color:#fff;font-size:2rem}a[_ngcontent-%COMP%]{color:#06a9fb}"]}),t}();function vk(t,e){if(1&t){var n=Hc();Dc(0,"cf2-limit-banner-storage",3),zc("upgrade",(function(t){return vn(n),Yc().upgradeHelper.openBuy("popup_message")})),Nc()}if(2&t){var r=Yc();eu("onRecordingsStored",r.upgradeHelper.onRecordingsStoredCount())("onRecordingsLimit",r.upgradeHelper.onRecordingStorageLimit())}}function yk(t,e){if(1&t){var n=Hc();Dc(0,"cf2-limit-banner-storage-exceeded",3),zc("upgrade",(function(t){return vn(n),Yc().upgradeHelper.openBuy("popup_message")})),Nc()}if(2&t){var r=Yc();eu("onRecordingsStored",r.upgradeHelper.onRecordingsStoredCount())("onRecordingsLimit",r.upgradeHelper.onRecordingStorageLimit())}}function bk(t,e){if(1&t){var n=Hc();Dc(0,"span"),iu(1," You have reached your monthly recording limit. "),Dc(2,"a",4),zc("click",(function(t){return vn(n),Yc().upgradeHelper.openBuy("popup_message")})),iu(3,"Upgrade"),Nc(),iu(4," for unlimited recording time. "),Nc()}}function _k(t,e){if(1&t){var n=Hc();Dc(0,"span"),iu(1," You have reached your storage limit and your monthly recording limit. "),Dc(2,"a",4),zc("click",(function(t){return vn(n),Yc().upgradeHelper.openBuy("popup_message")})),iu(3,"Upgrade"),Nc(),iu(4,". "),Nc()}}var wk=function(){function t(t){this.upgradeHelper=t}return t.ɵfac=function(e){return new(e||t)(mc(LE))},t.ɵcmp=ge({type:t,selectors:[["cf2-limit-banner"]],inputs:{limitType:"limitType"},decls:5,vars:5,consts:[[3,"ngSwitch"],[3,"onRecordingsStored","onRecordingsLimit","upgrade",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"onRecordingsStored","onRecordingsLimit","upgrade"],[3,"click"]],template:function(t,e){1&t&&(Dc(0,"cf2-error-hint",0),hc(1,vk,1,2,"cf2-limit-banner-storage",1),hc(2,yk,1,2,"cf2-limit-banner-storage-exceeded",1),hc(3,bk,5,0,"span",2),hc(4,_k,5,0,"span",2),Nc()),2&t&&(eu("ngSwitch",e.limitType),la(1),eu("ngSwitchCase","storageLimit"),la(1),eu("ngSwitchCase","storageExceeded"),la(1),eu("ngSwitchCase","monthlyLimitExceeded"),la(1),eu("ngSwitchCase","comboLimitExceeded"))},directives:[lk,eb,nb,hk,gk],styles:["[_nghost-%COMP%]{background-color:#fff;font-size:2rem}a[_ngcontent-%COMP%]{color:#06a9fb}"]}),t}(),Sk=["mat-button",""],Ek=["*"],xk="accent",Ck=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],kk=function(t){function e(e,n,r){var o,a,s=t.call(this,e)||this;s._focusMonitor=n,s._animationMode=r,s.isRoundButton=s._hasHostAttributes("mat-fab","mat-mini-fab"),s.isIconButton=s._hasHostAttributes("mat-icon-button");try{for(var c=Object(i.__values)(Ck),u=c.next();!u.done;u=c.next()){var l=u.value;s._hasHostAttributes(l)&&s._getHostElement().classList.add(l)}}catch(d){o={error:d}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}return e.nativeElement.classList.add("mat-button-base"),s._focusMonitor.monitor(s._elementRef,!0),s.isRoundButton&&(s.color=xk),s}return Object(i.__extends)(e,t),e.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._elementRef)},e.prototype.focus=function(t,e){void 0===t&&(t="program"),this._focusMonitor.focusVia(this._getHostElement(),t,e)},e.prototype._getHostElement=function(){return this._elementRef.nativeElement},e.prototype._isRippleDisabled=function(){return this.disableRipple||this.disabled},e.prototype._hasHostAttributes=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.some((function(e){return t._getHostElement().hasAttribute(e)}))},e.ɵfac=function(t){return new(t||e)(mc(Du),mc(Ix),mc(sE,8))},e.ɵcmp=ge({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&ql(aC,!0),2&t&&Hl(n=Ql())&&(e.ripple=n.first)},hostBindings:function(t,e,n){1&t&&tc(2),2&t&&(dc("disabled",e.disabled||null),bc("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[fu],attrs:Sk,ngContentSelectors:Ek,decls:4,vars:4,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(Zc(),Dc(0,"span",0),tu(1),Nc(),Rc(2,"div",1),Rc(3,"div",2)),2&t&&(la(2),bc("mat-button-ripple-round",e.isRoundButton||e.isIconButton),eu("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[aC],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),e}(zx(qx(Wx(function(){return function(t){this._elementRef=t}}())))),Tk=function(t){function e(e,n,r){return t.call(this,n,e,r)||this}return Object(i.__extends)(e,t),e.prototype._haltDisabledEvents=function(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())},e.ɵfac=function(t){return new(t||e)(mc(Ix),mc(Du),mc(sE,8))},e.ɵcmp=ge({type:e,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostBindings:function(t,e,n){1&t&&(tc(4),zc("click",(function(t){return e._haltDisabledEvents(t)}))),2&t&&(dc("tabindex",e.disabled?-1:e.tabIndex||0)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString()),bc("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[fu],attrs:Sk,ngContentSelectors:Ek,decls:4,vars:4,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(Zc(),Dc(0,"span",0),tu(1),Nc(),Rc(2,"div",1),Rc(3,"div",2)),2&t&&(la(2),bc("mat-button-ripple-round",e.isRoundButton||e.isIconButton),eu("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[aC],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),e}(kk),Pk=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[vb,sC,Ux],Ux]}),t}();function Ik(t,e,n,r){return s(n)&&(r=n,n=void 0),r?Ik(t,e,n).pipe(j((function(t){return o(t)?r.apply(void 0,t):r(t)}))):new w((function(r){!function t(e,n,r,i,o){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var c=e;e.on(n,r),a=function(){return c.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var u=e;e.addListener(n,r),a=function(){return u.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,d=e.length;l<d;l++)t(e[l],n,r,i,o)}i.add(a)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)}))}var Ak=1,Ok={},$k=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i.__extends(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=(i=e.flush.bind(e,null),o=Ak++,Ok[o]=i,Promise.resolve().then((function(){return function(t){var e=Ok[t];e&&e()}(o)})),o)));var i,o},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(delete Ok[n],e.scheduled=void 0)},e}(lv),Mk=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(fv))($k);function Dk(t,e){return function(n){return n.lift(new Nk(t,e))}}var Nk=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new Rk(t,this.compare,this.keySelector))},t}(),Rk=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return i.__extends(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))},e}(g),Lk=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new jk(t,this.durationSelector))},t}(),jk=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return i.__extends(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(r){return this.destination.error(r)}var n=R(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,n,r){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(L);function Fk(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Bk(t,e){return void 0===e&&(e=hv),n=function(){return function(t,e,n){void 0===t&&(t=0);var r=-1;return pv(e)?r=Number(e)<1?1:Number(e):P(e)&&(n=e),P(n)||(n=hv),new w((function(e){var i=pv(t)?t:+t-n.now();return n.schedule(Fk,i,{index:0,period:r,subscriber:e})}))}(t,e)},function(t){return t.lift(new Lk(n))};var n}function Vk(t){return function(e){return e.lift(new Hk(t))}}var Hk=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new Uk(t),r=R(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),Uk=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return i.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(L),qk=function(){function t(){this._listeners=[]}return t.prototype.notify=function(t,e){var n,r;try{for(var o=Object(i.__values)(this._listeners),a=o.next();!a.done;a=o.next())(0,a.value)(t,e)}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.listen=function(t){var e=this;return this._listeners.push(t),function(){e._listeners=e._listeners.filter((function(e){return t!==e}))}},t.prototype.ngOnDestroy=function(){this._listeners=[]},t.ɵprov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)},t}(),zk=function(){function t(t,e){this._ngZone=t,this._platform=e,this._scrolled=new k,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}return t.prototype.register=function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe((function(){return e._scrolled.next(t)})))},t.prototype.deregister=function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))},t.prototype.scrolled=function(t){var e=this;return void 0===t&&(t=20),this._platform.isBrowser?new w((function(n){e._globalSubscription||e._addGlobalListener();var r=t>0?e._scrolled.pipe(Bk(t)).subscribe(n):e._scrolled.subscribe(n);return e._scrolledCount++,function(){r.unsubscribe(),e._scrolledCount--,e._scrolledCount||e._removeGlobalListener()}})):yE()},t.prototype.ngOnDestroy=function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(e,n){return t.deregister(n)})),this._scrolled.complete()},t.prototype.ancestorScrolled=function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(qg((function(t){return!t||n.indexOf(t)>-1})))},t.prototype.getAncestorScrollContainers=function(t){var e=this,n=[];return this.scrollContainers.forEach((function(r,i){e._scrollableContainsElement(i,t)&&n.push(i)})),n},t.prototype._scrollableContainsElement=function(t,e){var n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1},t.prototype._addGlobalListener=function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){return Ik(window.document,"scroll").subscribe((function(){return t._scrolled.next()}))}))},t.prototype._removeGlobalListener=function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)},t.ɵprov=ht({factory:function(){return new t(Jt(wd),Jt(ex))},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(Jt(wd),Jt(ex))},t}(),Wk=function(){function t(t,e,n,r){var i=this;this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=r,this._destroyed=new k,this._elementScrolled=new w((function(t){return i.ngZone.runOutsideAngular((function(){return Ik(i.elementRef.nativeElement,"scroll").pipe(Vk(i._destroyed)).subscribe(t)}))}))}return t.prototype.ngOnInit=function(){this.scrollDispatcher.register(this)},t.prototype.ngOnDestroy=function(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()},t.prototype.elementScrolled=function(){return this._elementScrolled},t.prototype.getElementRef=function(){return this.elementRef},t.prototype.scrollTo=function(t){var e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;t.left=null==t.left?n?t.end:t.start:t.left,t.right=null==t.right?n?t.start:t.end:t.right,null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&cx()!=sx.NORMAL?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),cx()==sx.INVERTED?t.left=t.right:cx()==sx.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)},t.prototype._applyScrollToOptions=function(t){var e=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))},t.prototype.measureScrollOffset=function(t){var e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;var n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&cx()==sx.INVERTED?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&cx()==sx.NEGATED?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft},t.ɵfac=function(e){return new(e||t)(mc(Du),mc(zk),mc(wd),mc(Dx,8))},t.ɵdir=Se({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t}(),Gk=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[Nx,nx],Nx]}),t}(),Kk=function(){function t(t,e){var n=this;this._platform=t,e.runOutsideAngular((function(){n._change=t.isBrowser?Q(Ik(window,"resize"),Ik(window,"orientationchange")):yE(),n._invalidateCache=n.change().subscribe((function(){return n._updateViewportSize()}))}))}return t.prototype.ngOnDestroy=function(){this._invalidateCache.unsubscribe()},t.prototype.getViewportSize=function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t},t.prototype.getViewportRect=function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,r=e.height;return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}},t.prototype.getViewportScrollPosition=function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}},t.prototype.change=function(t){return void 0===t&&(t=20),t>0?this._change.pipe(Bk(t)):this._change},t.prototype._updateViewportSize=function(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}},t.ɵprov=ht({factory:function(){return new t(Jt(ex),Jt(wd))},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(Jt(ex),Jt(wd))},t}();function Qk(){throw Error("Host already has a portal attached")}var Yk=function(){function t(){}return t.prototype.attach=function(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&Qk(),this._attachedHost=t,t.attach(this)},t.prototype.detach=function(){var t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())},Object.defineProperty(t.prototype,"isAttached",{get:function(){return null!=this._attachedHost},enumerable:!0,configurable:!0}),t.prototype.setAttachedHost=function(t){this._attachedHost=t},t}(),Xk=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.component=e,o.viewContainerRef=n,o.injector=r,o.componentFactoryResolver=i,o}return Object(i.__extends)(e,t),e}(Yk),Zk=function(t){function e(e,n,r){var i=t.call(this)||this;return i.templateRef=e,i.viewContainerRef=n,i.context=r,i}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"origin",{get:function(){return this.templateRef.elementRef},enumerable:!0,configurable:!0}),e.prototype.attach=function(e,n){return void 0===n&&(n=this.context),this.context=n,t.prototype.attach.call(this,e)},e.prototype.detach=function(){return this.context=void 0,t.prototype.detach.call(this)},e}(Yk),Jk=function(t){function e(e){var n=t.call(this)||this;return n.element=e instanceof Du?e.nativeElement:e,n}return Object(i.__extends)(e,t),e}(Yk),tT=function(){function t(){this._isDisposed=!1,this.attachDomPortal=null}return t.prototype.hasAttached=function(){return!!this._attachedPortal},t.prototype.attach=function(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Qk(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof Xk?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Zk?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Jk?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()},t.prototype.detach=function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()},t.prototype.dispose=function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0},t.prototype.setDisposeFn=function(t){this._disposeFn=t},t.prototype._invokeDisposeFn=function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)},t}(),eT=function(t){function e(e,n,r,i,o){var a=t.call(this)||this;return a.outletElement=e,a._componentFactoryResolver=n,a._appRef=r,a._defaultInjector=i,a.attachDomPortal=function(e){if(!a._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var n=e.element;if(!n.parentNode)throw Error("DOM portal content must be attached to a parent node.");var r=a._document.createComment("dom-portal");n.parentNode.insertBefore(r,n),a.outletElement.appendChild(n),t.prototype.setDisposeFn.call(a,(function(){r.parentNode&&r.parentNode.replaceChild(n,r)}))},a._document=o,a}return Object(i.__extends)(e,t),e.prototype.attachComponentPortal=function(t){var e,n=this,r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn((function(){return e.destroy()}))):(e=r.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn((function(){n._appRef.detachView(e.hostView),e.destroy()}))),this.outletElement.appendChild(this._getComponentRootNode(e)),e},e.prototype.attachTemplatePortal=function(t){var e=this,n=t.viewContainerRef,r=n.createEmbeddedView(t.templateRef,t.context);return r.detectChanges(),r.rootNodes.forEach((function(t){return e.outletElement.appendChild(t)})),this.setDisposeFn((function(){var t=n.indexOf(r);-1!==t&&n.remove(t)})),r},e.prototype.dispose=function(){t.prototype.dispose.call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)},e.prototype._getComponentRootNode=function(t){return t.hostView.rootNodes[0]},e}(tT),nT=function(t){function e(e,n,r){var i=t.call(this)||this;return i._componentFactoryResolver=e,i._viewContainerRef=n,i._isInitialized=!1,i.attached=new Ol,i.attachDomPortal=function(e){if(!i._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var n=e.element;if(!n.parentNode)throw Error("DOM portal content must be attached to a parent node.");var r=i._document.createComment("dom-portal");e.setAttachedHost(i),n.parentNode.insertBefore(r,n),i._getRootNode().appendChild(n),t.prototype.setDisposeFn.call(i,(function(){r.parentNode&&r.parentNode.replaceChild(n,r)}))},i._document=r,i}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"portal",{get:function(){return this._attachedPortal},set:function(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&t.prototype.detach.call(this),e&&t.prototype.attach.call(this,e),this._attachedPortal=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attachedRef",{get:function(){return this._attachedRef},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._isInitialized=!0},e.prototype.ngOnDestroy=function(){t.prototype.dispose.call(this),this._attachedPortal=null,this._attachedRef=null},e.prototype.attachComponentPortal=function(e){e.setAttachedHost(this);var n=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i=n.createComponent(r,n.length,e.injector||n.injector);return n!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),t.prototype.setDisposeFn.call(this,(function(){return i.destroy()})),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i},e.prototype.attachTemplatePortal=function(e){var n=this;e.setAttachedHost(this);var r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return t.prototype.setDisposeFn.call(this,(function(){return n._viewContainerRef.clear()})),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r},e.prototype._getRootNode=function(){var t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode},e.ɵfac=function(t){return new(t||e)(mc(Mu),mc(al),mc(zv))},e.ɵdir=Se({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[fu]}),e}(tT),rT=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)}}),t}(),iT=function(){function t(t,e){this._parentInjector=t,this._customTokens=e}return t.prototype.get=function(t,e){var n=this._customTokens.get(t);return void 0!==n?n:this._parentInjector.get(t,e)},t}(),oT=function(){function t(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}return t.prototype.attach=function(){},t.prototype.enable=function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=XE(-this._previousScrollPosition.left),t.style.top=XE(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}},t.prototype.disable=function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}},t.prototype._canBeEnabled=function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width},t}();function aT(){return Error("Scroll strategy has already been attached.")}var sT=function(){function t(t,e,n,r){var i=this;this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=function(){i.disable(),i._overlayRef.hasAttached()&&i._ngZone.run((function(){return i._overlayRef.detach()}))}}return t.prototype.attach=function(t){if(this._overlayRef)throw aT();this._overlayRef=t},t.prototype.enable=function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe((function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()}))):this._scrollSubscription=e.subscribe(this._detach)}},t.prototype.disable=function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)},t.prototype.detach=function(){this.disable(),this._overlayRef=null},t}(),cT=function(){function t(){}return t.prototype.enable=function(){},t.prototype.disable=function(){},t.prototype.attach=function(){},t}();function uT(t,e){return e.some((function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right}))}function lT(t,e){return e.some((function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right}))}var dT=function(){function t(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}return t.prototype.attach=function(t){if(this._overlayRef)throw aT();this._overlayRef=t},t.prototype.enable=function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe((function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),n=t._viewportRuler.getViewportSize(),r=n.width,i=n.height;uT(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(t.disable(),t._ngZone.run((function(){return t._overlayRef.detach()})))}})))},t.prototype.disable=function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)},t.prototype.detach=function(){this.disable(),this._overlayRef=null},t}(),fT=function(){function t(t,e,n,r){var i=this;this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=function(){return new cT},this.close=function(t){return new sT(i._scrollDispatcher,i._ngZone,i._viewportRuler,t)},this.block=function(){return new oT(i._viewportRuler,i._document)},this.reposition=function(t){return new dT(i._scrollDispatcher,i._viewportRuler,i._ngZone,t)},this._document=r}return t.ɵprov=ht({factory:function(){return new t(Jt(zk),Jt(Kk),Jt(wd),Jt(zv))},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(Jt(zk),Jt(Kk),Jt(wd),Jt(zv))},t}(),hT=function(){return function(t){var e,n;if(this.scrollStrategy=new cT,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){var r=Object.keys(t);try{for(var o=Object(i.__values)(r),a=o.next();!a.done;a=o.next()){var s=a.value;void 0!==t[s]&&(this[s]=t[s])}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}}}(),pT=function(){return function(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}(),mT=function(){return function(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}();function gT(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid "+t+' "'+e+'". Expected "top", "bottom" or "center".')}function vT(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid "+t+' "'+e+'". Expected "start", "end" or "center".')}var yT=function(){function t(t){var e=this;this._attachedOverlays=[],this._keydownListener=function(t){for(var n=e._attachedOverlays,r=n.length-1;r>-1;r--)if(n[r]._keydownEventSubscriptions>0){n[r]._keydownEvents.next(t);break}},this._document=t}return t.prototype.ngOnDestroy=function(){this._detach()},t.prototype.add=function(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)},t.prototype.remove=function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()},t.prototype._detach=function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)},t.ɵprov=ht({factory:function(){return new t(Jt(zv))},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(Jt(zv))},t}(),bT=function(){function t(t){this._document=t}return t.prototype.ngOnDestroy=function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)},t.prototype.getContainerElement=function(){return this._containerElement||this._createContainer(),this._containerElement},t.prototype._createContainer=function(){for(var t=this._document.getElementsByClassName("cdk-overlay-container"),e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e]);var n=this._document.createElement("div");n.classList.add("cdk-overlay-container"),this._document.body.appendChild(n),this._containerElement=n},t.ɵprov=ht({factory:function(){return new t(Jt(zv))},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(Jt(zv))},t}(),_T=function(){function t(t,e,n,r,i,o,a,s){var c=this;this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=o,this._document=a,this._location=s,this._backdropElement=null,this._backdropClick=new k,this._attachments=new k,this._detachments=new k,this._locationChanges=u.EMPTY,this._backdropClickHandler=function(t){return c._backdropClick.next(t)},this._keydownEventsObservable=new w((function(t){var e=c._keydownEvents.subscribe(t);return c._keydownEventSubscriptions++,function(){e.unsubscribe(),c._keydownEventSubscriptions--}})),this._keydownEvents=new k,this._keydownEventSubscriptions=0,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}return Object.defineProperty(t.prototype,"overlayElement",{get:function(){return this._pane},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backdropElement",{get:function(){return this._backdropElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._host},enumerable:!0,configurable:!0}),t.prototype.attach=function(t){var e=this,n=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Yg(1)).subscribe((function(){e.hasAttached()&&e.updatePosition()})),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe((function(){return e.dispose()}))),n},t.prototype.detach=function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}},t.prototype.dispose=function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()},t.prototype.hasAttached=function(){return this._portalOutlet.hasAttached()},t.prototype.backdropClick=function(){return this._backdropClick.asObservable()},t.prototype.attachments=function(){return this._attachments.asObservable()},t.prototype.detachments=function(){return this._detachments.asObservable()},t.prototype.keydownEvents=function(){return this._keydownEventsObservable},t.prototype.getConfig=function(){return this._config},t.prototype.updatePosition=function(){this._positionStrategy&&this._positionStrategy.apply()},t.prototype.updatePositionStrategy=function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))},t.prototype.updateSize=function(t){this._config=Object(i.__assign)(Object(i.__assign)({},this._config),t),this._updateElementSize()},t.prototype.setDirection=function(t){this._config=Object(i.__assign)(Object(i.__assign)({},this._config),{direction:t}),this._updateElementDirection()},t.prototype.addPanelClass=function(t){this._pane&&this._toggleClasses(this._pane,t,!0)},t.prototype.removePanelClass=function(t){this._pane&&this._toggleClasses(this._pane,t,!1)},t.prototype.getDirection=function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"},t.prototype.updateScrollStrategy=function(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))},t.prototype._updateElementDirection=function(){this._host.setAttribute("dir",this.getDirection())},t.prototype._updateElementSize=function(){if(this._pane){var t=this._pane.style;t.width=XE(this._config.width),t.height=XE(this._config.height),t.minWidth=XE(this._config.minWidth),t.minHeight=XE(this._config.minHeight),t.maxWidth=XE(this._config.maxWidth),t.maxHeight=XE(this._config.maxHeight)}},t.prototype._togglePointerEvents=function(t){this._pane.style.pointerEvents=t?"auto":"none"},t.prototype._attachBackdrop=function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")}))})):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")},t.prototype._updateStackingOrder=function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)},t.prototype.detachBackdrop=function(){var t=this,e=this._backdropElement;if(e){var n,r=function(){e&&(e.removeEventListener("click",t._backdropClickHandler),e.removeEventListener("transitionend",r),e.parentNode&&e.parentNode.removeChild(e)),t._backdropElement==e&&(t._backdropElement=null),t._config.backdropClass&&t._toggleClasses(e,t._config.backdropClass,!1),clearTimeout(n)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular((function(){e.addEventListener("transitionend",r)})),e.style.pointerEvents="none",n=this._ngZone.runOutsideAngular((function(){return setTimeout(r,500)}))}},t.prototype._toggleClasses=function(t,e,n){var r=t.classList;YE(e).forEach((function(t){t&&(n?r.add(t):r.remove(t))}))},t.prototype._detachContentWhenStable=function(){var t=this;this._ngZone.runOutsideAngular((function(){var e=t._ngZone.onStable.asObservable().pipe(Vk(Q(t._attachments,t._detachments))).subscribe((function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())}))}))},t.prototype._disposeScrollStrategy=function(){var t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())},t}(),wT=function(){function t(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new k,this._resizeSubscription=u.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}return Object.defineProperty(t.prototype,"positions",{get:function(){return this._preferredPositions},enumerable:!0,configurable:!0}),t.prototype.attach=function(t){var e=this;if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe((function(){e._isInitialRender=!0,e.apply()}))},t.prototype.apply=function(){var t,e,n,r;if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var o,a=this._originRect,s=this._overlayRect,c=this._viewportRect,u=[];try{for(var l=Object(i.__values)(this._preferredPositions),d=l.next();!d.done;d=l.next()){var f=d.value,h=this._getOriginPoint(a,f),p=this._getOverlayPoint(h,s,f),m=this._getOverlayFit(p,s,c,f);if(m.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,h);this._canFitWithFlexibleDimensions(m,p,c)?u.push({position:f,origin:h,overlayRect:s,boundingBoxRect:this._calculateBoundingBoxRect(h,f)}):(!o||o.overlayFit.visibleArea<m.visibleArea)&&(o={overlayFit:m,overlayPoint:p,originPoint:h,position:f,overlayRect:s})}}catch(S){t={error:S}}finally{try{d&&!d.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}if(u.length){var g=null,v=-1;try{for(var y=Object(i.__values)(u),b=y.next();!b.done;b=y.next()){var _=b.value,w=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);w>v&&(v=w,g=_)}}catch(E){n={error:E}}finally{try{b&&!b.done&&(r=y.return)&&r.call(y)}finally{if(n)throw n.error}}return this._isPushed=!1,void this._applyPosition(g.position,g.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}},t.prototype.detach=function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()},t.prototype.dispose=function(){this._isDisposed||(this._boundingBox&&ST(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)},t.prototype.reapplyLastPosition=function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}},t.prototype.withScrollableContainers=function(t){return this._scrollables=t,this},t.prototype.withPositions=function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this},t.prototype.withViewportMargin=function(t){return this._viewportMargin=t,this},t.prototype.withFlexibleDimensions=function(t){return void 0===t&&(t=!0),this._hasFlexibleDimensions=t,this},t.prototype.withGrowAfterOpen=function(t){return void 0===t&&(t=!0),this._growAfterOpen=t,this},t.prototype.withPush=function(t){return void 0===t&&(t=!0),this._canPush=t,this},t.prototype.withLockedPosition=function(t){return void 0===t&&(t=!0),this._positionLocked=t,this},t.prototype.setOrigin=function(t){return this._origin=t,this},t.prototype.withDefaultOffsetX=function(t){return this._offsetX=t,this},t.prototype.withDefaultOffsetY=function(t){return this._offsetY=t,this},t.prototype.withTransformOriginOn=function(t){return this._transformOriginSelector=t,this},t.prototype._getOriginPoint=function(t,e){var n;if("center"==e.originX)n=t.left+t.width/2;else{var r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return{x:n,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}},t.prototype._getOverlayPoint=function(t,e,n){var r;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,{x:t.x+r,y:t.y+("center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height)}},t.prototype._getOverlayFit=function(t,e,n,r){var i=t.x,o=t.y,a=this._getOffset(r,"x"),s=this._getOffset(r,"y");a&&(i+=a),s&&(o+=s);var c=0-o,u=o+e.height-n.height,l=this._subtractOverflows(e.width,0-i,i+e.width-n.width),d=this._subtractOverflows(e.height,c,u),f=l*d;return{visibleArea:f,isCompletelyWithinViewport:e.width*e.height===f,fitsInViewportVertically:d===e.height,fitsInViewportHorizontally:l==e.width}},t.prototype._canFitWithFlexibleDimensions=function(t,e,n){if(this._hasFlexibleDimensions){var r=n.bottom-e.y,i=n.right-e.x,o=this._overlayRef.getConfig().minHeight,a=this._overlayRef.getConfig().minWidth;return(t.fitsInViewportVertically||null!=o&&o<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=i)}return!1},t.prototype._pushOverlayOnScreen=function(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var r,i,o=this._viewportRect,a=Math.max(t.x+e.width-o.right,0),s=Math.max(t.y+e.height-o.bottom,0),c=Math.max(o.top-n.top-t.y,0),u=Math.max(o.left-n.left-t.x,0);return this._previousPushAmount={x:r=e.width<=o.width?u||-a:t.x<this._viewportMargin?o.left-n.left-t.x:0,y:i=e.height<=o.height?c||-s:t.y<this._viewportMargin?o.top-n.top-t.y:0},{x:t.x+r,y:t.y+i}},t.prototype._applyPosition=function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var n=this._getScrollVisibility(),r=new mT(t,n);this._positionChanges.next(r)}this._isInitialRender=!1},t.prototype._setTransformOrigin=function(t){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var i=0;i<n.length;i++)n[i].style.transformOrigin=e+" "+r}},t.prototype._calculateBoundingBoxRect=function(t,e){var n,r,i,o,a,s,c=this._viewportRect,u=this._isRtl();if("top"===e.overlayY)n=c.height-(r=t.y)+this._viewportMargin;else if("bottom"===e.overlayY)n=c.height-(i=c.height-t.y+2*this._viewportMargin)+this._viewportMargin;else{var l=Math.min(c.bottom-t.y+c.top,t.y),d=this._lastBoundingBoxSize.height;r=t.y-l,(n=2*l)>d&&!this._isInitialRender&&!this._growAfterOpen&&(r=t.y-d/2)}if("end"===e.overlayX&&!u||"start"===e.overlayX&&u)s=c.width-t.x+this._viewportMargin,o=t.x-this._viewportMargin;else if("start"===e.overlayX&&!u||"end"===e.overlayX&&u)a=t.x,o=c.right-t.x;else{l=Math.min(c.right-t.x+c.left,t.x);var f=this._lastBoundingBoxSize.width;a=t.x-l,(o=2*l)>f&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.x-f/2)}return{top:r,left:a,bottom:i,right:s,width:o,height:n}},t.prototype._setBoundingBoxStyles=function(t,e){var n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{var i=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=XE(n.height),r.top=XE(n.top),r.bottom=XE(n.bottom),r.width=XE(n.width),r.left=XE(n.left),r.right=XE(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",i&&(r.maxHeight=XE(i)),o&&(r.maxWidth=XE(o))}this._lastBoundingBoxSize=n,ST(this._boundingBox.style,r)},t.prototype._resetBoundingBoxStyles=function(){ST(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})},t.prototype._resetOverlayElementStyles=function(){ST(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})},t.prototype._setOverlayElementStyles=function(t,e){var n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){var a=this._viewportRuler.getViewportScrollPosition();ST(n,this._getExactOverlayY(e,t,a)),ST(n,this._getExactOverlayX(e,t,a))}else n.position="static";var s="",c=this._getOffset(e,"x"),u=this._getOffset(e,"y");c&&(s+="translateX("+c+"px) "),u&&(s+="translateY("+u+"px)"),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=XE(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=XE(o.maxWidth):i&&(n.maxWidth="")),ST(this._pane.style,n)},t.prototype._getExactOverlayY=function(t,e,n){var r={top:null,bottom:null},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));var o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=XE(i.y),r},t.prototype._getExactOverlayX=function(t,e,n){var r={left:null,right:null},i=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n)),"right"==(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?r.right=this._document.documentElement.clientWidth-(i.x+this._overlayRect.width)+"px":r.left=XE(i.x),r},t.prototype._getScrollVisibility=function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map((function(t){return t.getElementRef().nativeElement.getBoundingClientRect()}));return{isOriginClipped:lT(t,n),isOriginOutsideView:uT(t,n),isOverlayClipped:lT(e,n),isOverlayOutsideView:uT(e,n)}},t.prototype._subtractOverflows=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(t,e){return t-Math.max(e,0)}),t)},t.prototype._getNarrowedViewportRect=function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}},t.prototype._isRtl=function(){return"rtl"===this._overlayRef.getDirection()},t.prototype._hasExactPosition=function(){return!this._hasFlexibleDimensions||this._isPushed},t.prototype._getOffset=function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY},t.prototype._validatePositions=function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach((function(t){vT("originX",t.originX),gT("originY",t.originY),vT("overlayX",t.overlayX),gT("overlayY",t.overlayY)}))},t.prototype._addPanelClasses=function(t){var e=this;this._pane&&YE(t).forEach((function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))}))},t.prototype._clearPanelClasses=function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach((function(e){t._pane.classList.remove(e)})),this._appliedPanelClasses=[])},t.prototype._getOriginRect=function(){var t=this._origin;if(t instanceof Du)return t.nativeElement.getBoundingClientRect();if(t instanceof HTMLElement)return t.getBoundingClientRect();var e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}},t}();function ST(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var ET,xT=function(){function t(t,e,n,r,i,o,a){this._preferredPositions=[],this._positionStrategy=new wT(n,r,i,o,a).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}return Object.defineProperty(t.prototype,"_isRtl",{get:function(){return"rtl"===this._overlayRef.getDirection()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onPositionChange",{get:function(){return this._positionStrategy.positionChanges},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"positions",{get:function(){return this._preferredPositions},enumerable:!0,configurable:!0}),t.prototype.attach=function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)},t.prototype.dispose=function(){this._positionStrategy.dispose()},t.prototype.detach=function(){this._positionStrategy.detach()},t.prototype.apply=function(){this._positionStrategy.apply()},t.prototype.recalculateLastPosition=function(){this._positionStrategy.reapplyLastPosition()},t.prototype.withScrollableContainers=function(t){this._positionStrategy.withScrollableContainers(t)},t.prototype.withFallbackPosition=function(t,e,n,r){var i=new pT(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this},t.prototype.withDirection=function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this},t.prototype.withOffsetX=function(t){return this._positionStrategy.withDefaultOffsetX(t),this},t.prototype.withOffsetY=function(t){return this._positionStrategy.withDefaultOffsetY(t),this},t.prototype.withLockedPosition=function(t){return this._positionStrategy.withLockedPosition(t),this},t.prototype.withPositions=function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this},t.prototype.setOrigin=function(t){return this._positionStrategy.setOrigin(t),this},t}(),CT=function(){function t(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return t.prototype.attach=function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1},t.prototype.top=function(t){return void 0===t&&(t=""),this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this},t.prototype.left=function(t){return void 0===t&&(t=""),this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this},t.prototype.bottom=function(t){return void 0===t&&(t=""),this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this},t.prototype.right=function(t){return void 0===t&&(t=""),this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this},t.prototype.width=function(t){return void 0===t&&(t=""),this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this},t.prototype.height=function(t){return void 0===t&&(t=""),this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this},t.prototype.centerHorizontally=function(t){return void 0===t&&(t=""),this.left(t),this._justifyContent="center",this},t.prototype.centerVertically=function(t){return void 0===t&&(t=""),this.top(t),this._alignItems="center",this},t.prototype.apply=function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===n.width?"0":this._leftOffset,t.marginTop="100%"===n.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===n.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===n.height?"flex-start":this._alignItems}},t.prototype.dispose=function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},t}(),kT=function(){function t(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}return t.prototype.global=function(){return new CT},t.prototype.connectedTo=function(t,e,n){return new xT(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)},t.prototype.flexibleConnectedTo=function(t){return new wT(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)},t.ɵprov=ht({factory:function(){return new t(Jt(Kk),Jt(zv),Jt(ex),Jt(bT))},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(Jt(Kk),Jt(zv),Jt(ex),Jt(bT))},t}(),TT=0,PT=function(){function t(t,e,n,r,i,o,a,s,c,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=o,this._ngZone=a,this._document=s,this._directionality=c,this._location=u}return t.prototype.create=function(t){var e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new hT(t);return i.direction=i.direction||this._directionality.value,new _T(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)},t.prototype.position=function(){return this._positionBuilder},t.prototype._createPaneElement=function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-"+TT++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e},t.prototype._createHostElement=function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t},t.prototype._createPortalOutlet=function(t){return this._appRef||(this._appRef=this._injector.get(Fd)),new eT(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)},t.ɵfac=function(e){return new(e||t)(Jt(fT),Jt(bT),Jt(Mu),Jt(kT),Jt(yT),Jt(Ys),Jt(wd),Jt(zv),Jt(Dx),Jt(iy,8))},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),IT={provide:new Bt("cdk-connected-overlay-scroll-strategy"),deps:[PT],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},AT=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},providers:[PT,IT],imports:[[Nx,rT,Gk],Gk]}),t}(),OT=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new $T(t,this.total))},t}(),$T=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return i.__extends(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(g),MT=new Set,DT=function(){function t(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):NT}return t.prototype.matchMedia=function(t){return this._platform.WEBKIT&&function(t){if(!MT.has(t))try{ET||((ET=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(ET)),ET.sheet&&(ET.sheet.insertRule("@media "+t+" {.fx-query-test{ }}",0),MT.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)},t.ɵprov=ht({factory:function(){return new t(Jt(ex))},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(Jt(ex))},t}();function NT(t){return{matches:"all"===t||""===t,media:t,addListener:function(){},removeListener:function(){}}}var RT=function(){function t(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new k}return t.prototype.ngOnDestroy=function(){this._destroySubject.next(),this._destroySubject.complete()},t.prototype.isMatched=function(t){var e=this;return LT(YE(t)).some((function(t){return e._registerQuery(t).mql.matches}))},t.prototype.observe=function(t){var e=this,n=hE(LT(YE(t)).map((function(t){return e._registerQuery(t).observable})));return(n=Lx(n.pipe(Yg(1)),n.pipe((function(t){return t.lift(new OT(1))}),UE(0)))).pipe(j((function(t){var e={matches:!1,breakpoints:{}};return t.forEach((function(t){e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches})),e})))},t.prototype._registerQuery=function(t){var e=this;if(this._queries.has(t))return this._queries.get(t);var n=this._mediaMatcher.matchMedia(t),r={observable:new w((function(t){var r=function(n){return e._zone.run((function(){return t.next(n)}))};return n.addListener(r),function(){n.removeListener(r)}})).pipe(jx(n),j((function(e){return{query:t,matches:e.matches}})),Vk(this._destroySubject)),mql:n};return this._queries.set(t,r),r},t.ɵprov=ht({factory:function(){return new t(Jt(DT),Jt(wd))},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(Jt(DT),Jt(wd))},t}();function LT(t){return t.map((function(t){return t.split(",")})).reduce((function(t,e){return t.concat(e)})).map((function(t){return t.trim()}))}var jT={XSmall:"(max-width: 599.99px)",Small:"(min-width: 600px) and (max-width: 959.99px)",Medium:"(min-width: 960px) and (max-width: 1279.99px)",Large:"(min-width: 1280px) and (max-width: 1919.99px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.99px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.99px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"},FT=[1,"mat-simple-snackbar"];function BT(t,e){if(1&t){var n=Hc();Dc(0,"div",1),Dc(1,"button",2),zc("click",(function(t){return vn(n),Yc().action()})),iu(2),Nc(),Nc()}if(2&t){var r=Yc();la(2),ou(r.data.action)}}var VT=[1,"mat-snack-bar-container"];function HT(t,e){}var UT=Math.pow(2,31)-1,qT=function(){function t(t,e){var n=this;this._overlayRef=e,this._afterDismissed=new k,this._afterOpened=new k,this._onAction=new k,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe((function(){return n.dismiss()})),t._onExit.subscribe((function(){return n._finishDismiss()}))}return t.prototype.dismiss=function(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)},t.prototype.dismissWithAction=function(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())},t.prototype.closeWithAction=function(){this.dismissWithAction()},t.prototype._dismissAfter=function(t){var e=this;this._durationTimeoutId=setTimeout((function(){return e.dismiss()}),Math.min(t,UT))},t.prototype._open=function(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())},t.prototype._finishDismiss=function(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1},t.prototype.afterDismissed=function(){return this._afterDismissed.asObservable()},t.prototype.afterOpened=function(){return this.containerInstance._onEnter},t.prototype.onAction=function(){return this._onAction.asObservable()},t}(),zT=new Bt("MatSnackBarData"),WT=function(){return function(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}(),GT=function(){function t(t,e){this.snackBarRef=t,this.data=e}return t.prototype.action=function(){this.snackBarRef.dismissWithAction()},Object.defineProperty(t.prototype,"hasAction",{get:function(){return!!this.data.action},enumerable:!0,configurable:!0}),t.ɵfac=function(e){return new(e||t)(mc(qT),mc(zT))},t.ɵcmp=ge({type:t,selectors:[["simple-snack-bar"]],hostBindings:function(t,e,n){1&t&&Lc(FT)},decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(Dc(0,"span"),iu(1),Nc(),hc(2,BT,3,1,"div",0)),2&t&&(la(1),ou(e.data.message),la(1),eu("ngIf",e.hasAction))},directives:[Xy,kk],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t}(),KT={snackBarState:M_("state",[j_("void, hidden",L_({transform:"scale(0.8)",opacity:0})),j_("visible",L_({transform:"scale(1)",opacity:1})),B_("* => visible",D_("150ms cubic-bezier(0, 0, 0.2, 1)")),B_("* => void, * => hidden",D_("75ms cubic-bezier(0.4, 0.0, 1, 1)",L_({opacity:0})))])},QT=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o._ngZone=e,o._elementRef=n,o._changeDetectorRef=r,o.snackBarConfig=i,o._destroyed=!1,o._onExit=new k,o._onEnter=new k,o._animationState="void",o.attachDomPortal=function(t){return o._assertNotAttached(),o._applySnackBarClasses(),o._portalOutlet.attachDomPortal(t)},o._role="assertive"!==i.politeness||i.announcementMessage?"off"===i.politeness?null:"status":"alert",o}return Object(i.__extends)(e,t),e.prototype.attachComponentPortal=function(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)},e.prototype.attachTemplatePortal=function(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)},e.prototype.onAnimationEnd=function(t){var e=t.toState;if(("void"===e&&"void"!==t.fromState||"hidden"===e)&&this._completeExit(),"visible"===e){var n=this._onEnter;this._ngZone.run((function(){n.next(),n.complete()}))}},e.prototype.enter=function(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())},e.prototype.exit=function(){return this._animationState="hidden",this._onExit},e.prototype.ngOnDestroy=function(){this._destroyed=!0,this._completeExit()},e.prototype._completeExit=function(){var t=this;this._ngZone.onMicrotaskEmpty.asObservable().pipe(Yg(1)).subscribe((function(){t._onExit.next(),t._onExit.complete()}))},e.prototype._applySnackBarClasses=function(){var t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach((function(e){return t.classList.add(e)})):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")},e.prototype._assertNotAttached=function(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")},e.ɵfac=function(t){return new(t||e)(mc(wd),mc(Du),mc(Ds),mc(WT))},e.ɵcmp=ge({type:e,selectors:[["snack-bar-container"]],viewQuery:function(t,e){var n;1&t&&Ul(nT,!0),2&t&&Hl(n=Ql())&&(e._portalOutlet=n.first)},hostBindings:function(t,e,n){1&t&&(tc(2),Wc("@state.done",(function(t){return e.onAnimationEnd(t)})),Lc(VT)),2&t&&(dc("role",e._role),lu("@state",e._animationState))},features:[fu],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&hc(0,HT,0,0,"ng-template",0)},directives:[nT],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[KT.snackBarState]}}),e}(tT),YT=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[AT,rT,vb,Pk,Ux],Ux]}),t}(),XT=new Bt("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new WT}}),ZT=function(){function t(t,e,n,r,i,o){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=r,this._parentSnackBar=i,this._defaultConfig=o,this._snackBarRefAtThisLevel=null}return Object.defineProperty(t.prototype,"_openedSnackBarRef",{get:function(){var t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel},set:function(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t},enumerable:!0,configurable:!0}),t.prototype.openFromComponent=function(t,e){return this._attach(t,e)},t.prototype.openFromTemplate=function(t,e){return this._attach(t,e)},t.prototype.open=function(t,e,n){void 0===e&&(e="");var r=Object(i.__assign)(Object(i.__assign)({},this._defaultConfig),n);return r.data={message:t,action:e},r.announcementMessage||(r.announcementMessage=t),this.openFromComponent(GT,r)},t.prototype.dismiss=function(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()},t.prototype.ngOnDestroy=function(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()},t.prototype._attachSnackBarContainer=function(t,e){var n=new iT(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[WT,e]])),r=new Xk(QT,e.viewContainerRef,n),i=t.attach(r);return i.instance.snackBarConfig=e,i.instance},t.prototype._attach=function(t,e){var n=Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},new WT),this._defaultConfig),e),r=this._createOverlay(n),o=this._attachSnackBarContainer(r,n),a=new qT(o,r);if(t instanceof il){var s=new Zk(t,null,{$implicit:n.data,snackBarRef:a});a.instance=o.attachTemplatePortal(s)}else{var c=this._createInjector(n,a),u=(s=new Xk(t,void 0,c),o.attachComponentPortal(s));a.instance=u.instance}return this._breakpointObserver.observe(jT.HandsetPortrait).pipe(Vk(r.detachments())).subscribe((function(t){var e=r.overlayElement.classList;t.matches?e.add("mat-snack-bar-handset"):e.remove("mat-snack-bar-handset")})),this._animateSnackBar(a,n),this._openedSnackBarRef=a,this._openedSnackBarRef},t.prototype._animateSnackBar=function(t,e){var n=this;t.afterDismissed().subscribe((function(){n._openedSnackBarRef==t&&(n._openedSnackBarRef=null),e.announcementMessage&&n._live.clear()})),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe((function(){t.containerInstance.enter()})),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe((function(){return t._dismissAfter(e.duration)})),e.announcementMessage&&this._live.announce(e.announcementMessage,e.politeness)},t.prototype._createOverlay=function(t){var e=new hT;e.direction=t.direction;var n=this._overlay.position().global(),r="rtl"===t.direction,i="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!r||"end"===t.horizontalPosition&&r,o=!i&&"center"!==t.horizontalPosition;return i?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)},t.prototype._createInjector=function(t,e){return new iT(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[qT,e],[zT,t.data]]))},t.ɵprov=ht({factory:function(){return new t(Jt(PT),Jt(kx),Jt(Vt),Jt(RT),Jt(t,12),Jt(XT))},token:t,providedIn:YT}),t.ɵfac=function(e){return new(e||t)(Jt(PT),Jt(kx),Jt(Ys),Jt(RT),Jt(t,12),Jt(XT))},t}(),JT=["tabindex","-1","aria-modal","true",1,"mat-dialog-container"];function tP(t,e){}var eP=[1,"mat-dialog-title"],nP=[1,"mat-dialog-content"],rP=[1,"mat-dialog-actions"],iP=function(){return function(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}(),oP={dialogContainer:M_("dialogContainer",[j_("void, exit",L_({opacity:0,transform:"scale(0.7)"})),j_("enter",L_({transform:"none"})),B_("* => enter",D_("150ms cubic-bezier(0, 0, 0.2, 1)",L_({transform:"none",opacity:1}))),B_("* => void, * => exit",D_("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",L_({opacity:0})))])};function aP(){throw Error("Attempting to attach dialog content after content is already attached")}var sP=function(t){function e(e,n,r,i,o){var a=t.call(this)||this;return a._elementRef=e,a._focusTrapFactory=n,a._changeDetectorRef=r,a._config=o,a._elementFocusedBeforeDialogWasOpened=null,a._state="enter",a._animationStateChanged=new Ol,a.attachDomPortal=function(t){return a._portalOutlet.hasAttached()&&aP(),a._savePreviouslyFocusedElement(),a._portalOutlet.attachDomPortal(t)},a._ariaLabelledBy=o.ariaLabelledBy||null,a._document=i,a}return Object(i.__extends)(e,t),e.prototype.attachComponentPortal=function(t){return this._portalOutlet.hasAttached()&&aP(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)},e.prototype.attachTemplatePortal=function(t){return this._portalOutlet.hasAttached()&&aP(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)},e.prototype._trapFocus=function(){var t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this._config.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{var e=this._document.activeElement;e===t||t.contains(e)||t.focus()}},e.prototype._restoreFocus=function(){var t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){var e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()},e.prototype._savePreviouslyFocusedElement=function(){var t=this;this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then((function(){return t._elementRef.nativeElement.focus()})))},e.prototype._onAnimationDone=function(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)},e.prototype._onAnimationStart=function(t){this._animationStateChanged.emit(t)},e.prototype._startExitAnimation=function(){this._state="exit",this._changeDetectorRef.markForCheck()},e.ɵfac=function(t){return new(t||e)(mc(Du),mc(Ex),mc(Ds),mc(zv,8),mc(iP))},e.ɵcmp=ge({type:e,selectors:[["mat-dialog-container"]],viewQuery:function(t,e){var n;1&t&&Ul(nT,!0),2&t&&Hl(n=Ql())&&(e._portalOutlet=n.first)},hostBindings:function(t,e,n){1&t&&(tc(6),Wc("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),Lc(JT)),2&t&&(dc("id",e._id)("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),lu("@dialogContainer",e._state))},features:[fu],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&hc(0,tP,0,0,"ng-template",0)},directives:[nT],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[oP.dialogContainer]}}),e}(tT),cP=0,uP=function(){function t(t,e,n){var r=this;void 0===n&&(n="mat-dialog-"+cP++),this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new k,this._afterClosed=new k,this._beforeClosed=new k,this._state=0,e._id=n,e._animationStateChanged.pipe(qg((function(t){return"done"===t.phaseName&&"enter"===t.toState})),Yg(1)).subscribe((function(){r._afterOpened.next(),r._afterOpened.complete()})),e._animationStateChanged.pipe(qg((function(t){return"done"===t.phaseName&&"exit"===t.toState})),Yg(1)).subscribe((function(){clearTimeout(r._closeFallbackTimeout),r._overlayRef.dispose()})),t.detachments().subscribe((function(){r._beforeClosed.next(r._result),r._beforeClosed.complete(),r._afterClosed.next(r._result),r._afterClosed.complete(),r.componentInstance=null,r._overlayRef.dispose()})),t.keydownEvents().pipe(qg((function(t){return t.keyCode===jE&&!r.disableClose&&!FE(t)}))).subscribe((function(t){t.preventDefault(),r.close()}))}return t.prototype.close=function(t){var e=this;this._result=t,this._containerInstance._animationStateChanged.pipe(qg((function(t){return"start"===t.phaseName})),Yg(1)).subscribe((function(n){e._beforeClosed.next(t),e._beforeClosed.complete(),e._state=2,e._overlayRef.detachBackdrop(),e._closeFallbackTimeout=setTimeout((function(){e._overlayRef.dispose()}),n.totalTime+100)})),this._containerInstance._startExitAnimation(),this._state=1},t.prototype.afterOpened=function(){return this._afterOpened.asObservable()},t.prototype.afterClosed=function(){return this._afterClosed.asObservable()},t.prototype.beforeClosed=function(){return this._beforeClosed.asObservable()},t.prototype.backdropClick=function(){return this._overlayRef.backdropClick()},t.prototype.keydownEvents=function(){return this._overlayRef.keydownEvents()},t.prototype.updatePosition=function(t){var e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this},t.prototype.updateSize=function(t,e){return void 0===t&&(t=""),void 0===e&&(e=""),this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this},t.prototype.addPanelClass=function(t){return this._overlayRef.addPanelClass(t),this},t.prototype.removePanelClass=function(t){return this._overlayRef.removePanelClass(t),this},t.prototype.getState=function(){return this._state},t.prototype._getPositionStrategy=function(){return this._overlayRef.getConfig().positionStrategy},t}(),lP=new Bt("MatDialogData"),dP=new Bt("mat-dialog-default-options"),fP=new Bt("mat-dialog-scroll-strategy"),hP={provide:fP,deps:[PT],useFactory:function(t){return function(){return t.scrollStrategies.block()}}},pP=function(){function t(t,e,n,r,i,o,a){var s=this;this._overlay=t,this._injector=e,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new k,this._afterOpenedAtThisLevel=new k,this._ariaHiddenElements=new Map,this.afterAllClosed=TE((function(){return s.openDialogs.length?s._afterAllClosed:s._afterAllClosed.pipe(jx(void 0))})),this._scrollStrategy=i}return Object.defineProperty(t.prototype,"openDialogs",{get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"afterOpened",{get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_afterAllClosed",{get:function(){var t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel},enumerable:!0,configurable:!0}),t.prototype.open=function(t,e){var n=this;if((e=function(t,e){return Object(i.__assign)(Object(i.__assign)({},e),t)}(e,this._defaultOptions||new iP)).id&&this.getDialogById(e.id))throw Error('Dialog with id "'+e.id+'" exists already. The dialog id must be unique.');var r=this._createOverlay(e),o=this._attachDialogContainer(r,e),a=this._attachDialogContent(t,o,r,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.afterClosed().subscribe((function(){return n._removeOpenDialog(a)})),this.afterOpened.next(a),a},t.prototype.closeAll=function(){this._closeDialogs(this.openDialogs)},t.prototype.getDialogById=function(t){return this.openDialogs.find((function(e){return e.id===t}))},t.prototype.ngOnDestroy=function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()},t.prototype._createOverlay=function(t){var e=this._getOverlayConfig(t);return this._overlay.create(e)},t.prototype._getOverlayConfig=function(t){var e=new hT({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e},t.prototype._attachDialogContainer=function(t,e){var n=new iT(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[iP,e]])),r=new Xk(sP,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(r).instance},t.prototype._attachDialogContent=function(t,e,n,r){var i=new uP(n,e,r.id);if(r.hasBackdrop&&n.backdropClick().subscribe((function(){i.disableClose||i.close()})),t instanceof il)e.attachTemplatePortal(new Zk(t,null,{$implicit:r.data,dialogRef:i}));else{var o=this._createInjector(r,i,e),a=e.attachComponentPortal(new Xk(t,r.viewContainerRef,o));i.componentInstance=a.instance}return i.updateSize(r.width,r.height).updatePosition(r.position),i},t.prototype._createInjector=function(t,e,n){var r=t&&t.viewContainerRef&&t.viewContainerRef.injector,i=new WeakMap([[sP,n],[lP,t.data],[uP,e]]);return!t.direction||r&&r.get(Dx,null)||i.set(Dx,{value:t.direction,change:yE()}),new iT(r||this._injector,i)},t.prototype._removeOpenDialog=function(t){var e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")})),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))},t.prototype._hideNonDialogContentFromAssistiveTechnology=function(){var t=this._overlayContainer.getContainerElement();if(t.parentElement)for(var e=t.parentElement.children,n=e.length-1;n>-1;n--){var r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}},t.prototype._closeDialogs=function(t){for(var e=t.length;e--;)t[e].close()},t.ɵfac=function(e){return new(e||t)(Jt(PT),Jt(Ys),Jt(iy,8),Jt(dP,8),Jt(fP),Jt(t,12),Jt(bT))},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),mP=0,gP=function(){function t(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n,this.type="button"}return t.prototype.ngOnInit=function(){this.dialogRef||(this.dialogRef=_P(this._elementRef,this._dialog.openDialogs))},t.prototype.ngOnChanges=function(t){var e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)},t.ɵfac=function(e){return new(e||t)(mc(uP,8),mc(Du),mc(pP))},t.ɵdir=Se({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostBindings:function(t,e,n){1&t&&(tc(2),zc("click",(function(t){return e.dialogRef.close(e.dialogResult)}))),2&t&&dc("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[yu()]}),t}(),vP=function(){function t(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id="mat-dialog-title-"+mP++}return t.prototype.ngOnInit=function(){var t=this;this._dialogRef||(this._dialogRef=_P(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then((function(){var e=t._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=t.id)}))},t.ɵfac=function(e){return new(e||t)(mc(uP,8),mc(Du),mc(pP))},t.ɵdir=Se({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostBindings:function(t,e,n){1&t&&(tc(1),Lc(eP)),2&t&&uu("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t}(),yP=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵdir=Se({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostBindings:function(t,e,n){1&t&&Lc(nP)}}),t}(),bP=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵdir=Se({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostBindings:function(t,e,n){1&t&&Lc(rP)}}),t}();function _P(t,e){for(var n=t.nativeElement.parentElement;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find((function(t){return t.id===n.id})):null}var wP=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},providers:[pP,hP],imports:[[vb,AT,rT,Ux],Ux]}),t}(),SP=["role","separator",1,"mat-divider"],EP=function(){function t(){this._vertical=!1,this._inset=!1}return Object.defineProperty(t.prototype,"vertical",{get:function(){return this._vertical},set:function(t){this._vertical=KE(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inset",{get:function(){return this._inset},set:function(t){this._inset=KE(t)},enumerable:!0,configurable:!0}),t.ɵfac=function(e){return new(e||t)},t.ɵcmp=ge({type:t,selectors:[["mat-divider"]],hostBindings:function(t,e,n){1&t&&(tc(4),Lc(SP)),2&t&&(dc("aria-orientation",e.vertical?"vertical":"horizontal"),bc("mat-divider-vertical",e.vertical)("mat-divider-horizontal",!e.vertical)("mat-divider-inset",e.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,e){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),t}(),xP=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[Ux,vb],Ux]}),t}(),CP=0,kP=function(){function t(){this._stateChanges=new k,this._openCloseAllActions=new k,this.id="cdk-accordion-"+CP++,this._multi=!1}return Object.defineProperty(t.prototype,"multi",{get:function(){return this._multi},set:function(t){this._multi=KE(t)},enumerable:!0,configurable:!0}),t.prototype.openAll=function(){this._openCloseAll(!0)},t.prototype.closeAll=function(){this._openCloseAll(!1)},t.prototype.ngOnChanges=function(t){this._stateChanges.next(t)},t.prototype.ngOnDestroy=function(){this._stateChanges.complete()},t.prototype._openCloseAll=function(t){this.multi&&this._openCloseAllActions.next(t)},t.ɵfac=function(e){return new(e||t)},t.ɵdir=Se({type:t,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[yu()]}),t}(),TP=0,PP=function(){function t(t,e,n){var r=this;this.accordion=t,this._changeDetectorRef=e,this._expansionDispatcher=n,this._openCloseAllSubscription=u.EMPTY,this.closed=new Ol,this.opened=new Ol,this.destroyed=new Ol,this.expandedChange=new Ol,this.id="cdk-accordion-child-"+TP++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=function(){},this._removeUniqueSelectionListener=n.listen((function(t,e){r.accordion&&!r.accordion.multi&&r.accordion.id===e&&r.id!==t&&(r.expanded=!1)})),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}return Object.defineProperty(t.prototype,"expanded",{get:function(){return this._expanded},set:function(t){t=KE(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=KE(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()},t.prototype.toggle=function(){this.disabled||(this.expanded=!this.expanded)},t.prototype.close=function(){this.disabled||(this.expanded=!1)},t.prototype.open=function(){this.disabled||(this.expanded=!0)},t.prototype._subscribeToOpenCloseAllActions=function(){var t=this;return this.accordion._openCloseAllActions.subscribe((function(e){t.disabled||(t.expanded=e)}))},t.ɵfac=function(e){return new(e||t)(mc(kP,12),mc(Ds),mc(qk))},t.ɵdir=Se({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Iu([{provide:kP,useValue:void 0}])]}),t}(),IP=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)}}),t}(),AP=["body"],OP=[1,"mat-expansion-panel"];function $P(t,e){}var MP=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],DP=["mat-expansion-panel-header","*","mat-action-row"],NP=function(t,e){return{collapsedHeight:t,expandedHeight:e}},RP=function(t,e){return{value:t,params:e}},LP=["role","button",1,"mat-expansion-panel-header"];function jP(t,e){1&t&&Rc(0,"span",2),2&t&&eu("@indicatorRotate",Yc()._getExpandedState())}var FP=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],BP=["mat-panel-title","mat-panel-description","*"],VP=[1,"mat-expansion-panel-header-title"],HP=new Bt("MAT_ACCORDION"),UP={indicatorRotate:M_("indicatorRotate",[j_("collapsed, void",L_({transform:"rotate(0deg)"})),j_("expanded",L_({transform:"rotate(180deg)"})),B_("expanded <=> collapsed, void => collapsed",D_("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),expansionHeaderHeight:M_("expansionHeight",[j_("collapsed, void",L_({height:"{{collapsedHeight}}"}),{params:{collapsedHeight:"48px"}}),j_("expanded",L_({height:"{{expandedHeight}}"}),{params:{expandedHeight:"64px"}}),B_("expanded <=> collapsed, void => collapsed",N_([H_("@indicatorRotate",V_(),{optional:!0}),D_("225ms cubic-bezier(0.4,0.0,0.2,1)")]))]),bodyExpansion:M_("bodyExpansion",[j_("collapsed, void",L_({height:"0px",visibility:"hidden"})),j_("expanded",L_({height:"*",visibility:"visible"})),B_("expanded <=> collapsed, void => collapsed",D_("225ms cubic-bezier(0.4,0.0,0.2,1)"))])},qP=function(){function t(t){this._template=t}return t.ɵfac=function(e){return new(e||t)(mc(il))},t.ɵdir=Se({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]}),t}(),zP=0,WP=new Bt("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),GP=function(t){function e(e,n,r,i,o,a,s){var c=t.call(this,e,n,r)||this;return c._viewContainerRef=i,c._animationMode=a,c._hideToggle=!1,c.afterExpand=new Ol,c.afterCollapse=new Ol,c._inputChanges=new k,c._headerId="mat-expansion-panel-header-"+zP++,c._bodyAnimationDone=new k,c.accordion=e,c._document=o,c._bodyAnimationDone.pipe(Dk((function(t,e){return t.fromState===e.fromState&&t.toState===e.toState}))).subscribe((function(t){"void"!==t.fromState&&("expanded"===t.toState?c.afterExpand.emit():"collapsed"===t.toState&&c.afterCollapse.emit())})),s&&(c.hideToggle=s.hideToggle),c}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"hideToggle",{get:function(){return this._hideToggle||this.accordion&&this.accordion.hideToggle},set:function(t){this._hideToggle=KE(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"togglePosition",{get:function(){return this._togglePosition||this.accordion&&this.accordion.togglePosition},set:function(t){this._togglePosition=t},enumerable:!0,configurable:!0}),e.prototype._hasSpacing=function(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode},e.prototype._getExpandedState=function(){return this.expanded?"expanded":"collapsed"},e.prototype.ngAfterContentInit=function(){var t=this;this._lazyContent&&this.opened.pipe(jx(null),qg((function(){return t.expanded&&!t._portal})),Yg(1)).subscribe((function(){t._portal=new Zk(t._lazyContent._template,t._viewContainerRef)}))},e.prototype.ngOnChanges=function(t){this._inputChanges.next(t)},e.prototype.ngOnDestroy=function(){t.prototype.ngOnDestroy.call(this),this._bodyAnimationDone.complete(),this._inputChanges.complete()},e.prototype._containsFocus=function(){if(this._body){var t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1},e.ɵfac=function(t){return new(t||e)(mc(HP,12),mc(Ds),mc(qk),mc(al),mc(zv),mc(sE,8),mc(WP,8))},e.ɵcmp=ge({type:e,selectors:[["mat-expansion-panel"]],contentQueries:function(t,e,n){var r;1&t&&Wl(n,qP,!0),2&t&&Hl(r=Ql())&&(e._lazyContent=r.first)},viewQuery:function(t,e){var n;1&t&&ql(AP,!0),2&t&&Hl(n=Ql())&&(e._body=n.first)},hostBindings:function(t,e,n){1&t&&(tc(3),Lc(OP)),2&t&&bc("mat-expanded",e.expanded)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-expansion-panel-spacing",e._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Iu([{provide:HP,useValue:void 0}]),fu,yu()],ngContentSelectors:DP,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(Zc(MP),tu(0),Dc(1,"div",0,1),zc("@bodyExpansion.done",(function(t){return e._bodyAnimationDone.next(t)})),Dc(3,"div",2),tu(4,1),hc(5,$P,0,0,"ng-template",3),Nc(),tu(6,2),Nc()),2&t&&(la(1),eu("@bodyExpansion",e._getExpandedState())("id",e.id),dc("aria-labelledby",e._headerId),la(4),eu("cdkPortalOutlet",e._portal))},directives:[nT],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[UP.bodyExpansion]},changeDetection:0}),e}(PP),KP=function(){function t(t,e,n,r,i){var o=this;this.panel=t,this._element=e,this._focusMonitor=n,this._changeDetectorRef=r,this._parentChangeSubscription=u.EMPTY,this._animationsDisabled=!0;var a=t.accordion?t.accordion._stateChanges.pipe(qg((function(t){return!(!t.hideToggle&&!t.togglePosition)}))):Kg;this._parentChangeSubscription=Q(t.opened,t.closed,a,t._inputChanges.pipe(qg((function(t){return!!(t.hideToggle||t.disabled||t.togglePosition)})))).subscribe((function(){return o._changeDetectorRef.markForCheck()})),t.closed.pipe(qg((function(){return t._containsFocus()}))).subscribe((function(){return n.focusVia(e,"program")})),n.monitor(e).subscribe((function(e){e&&t.accordion&&t.accordion._handleHeaderFocus(o)})),i&&(this.expandedHeight=i.expandedHeight,this.collapsedHeight=i.collapsedHeight)}return t.prototype._animationStarted=function(){this._animationsDisabled=!1},Object.defineProperty(t.prototype,"disabled",{get:function(){return this.panel.disabled},enumerable:!0,configurable:!0}),t.prototype._toggle=function(){this.panel.toggle()},t.prototype._isExpanded=function(){return this.panel.expanded},t.prototype._getExpandedState=function(){return this.panel._getExpandedState()},t.prototype._getPanelId=function(){return this.panel.id},t.prototype._getTogglePosition=function(){return this.panel.togglePosition},t.prototype._showToggle=function(){return!this.panel.hideToggle&&!this.panel.disabled},t.prototype._keydown=function(t){switch(t.keyCode){case 32:case 13:FE(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}},t.prototype.focus=function(t,e){void 0===t&&(t="program"),this._focusMonitor.focusVia(this._element,t,e)},t.prototype.ngOnDestroy=function(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)},t.ɵfac=function(e){return new(e||t)(mc(GP,1),mc(Du),mc(Ix),mc(Ds),mc(WP,8))},t.ɵcmp=ge({type:t,selectors:[["mat-expansion-panel-header"]],hostBindings:function(t,e,n){1&t&&(tc(16),Wc("@expansionHeight.start",(function(t){return e._animationStarted()})),zc("click",(function(t){return e._toggle()}))("keydown",(function(t){return e._keydown(t)})),Lc(LP)),2&t&&(dc("id",e.panel._headerId)("tabindex",e.disabled?-1:0)("aria-controls",e._getPanelId())("aria-expanded",e._isExpanded())("aria-disabled",e.panel.disabled),lu("@.disabled",e._animationsDisabled)("@expansionHeight",kl(13,RP,e._getExpandedState(),kl(10,NP,e.collapsedHeight,e.expandedHeight))),bc("mat-expanded",e._isExpanded())("mat-expansion-toggle-indicator-after","after"===e._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===e._getTogglePosition()))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:BP,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,e){1&t&&(Zc(FP),Dc(0,"span",0),tu(1),tu(2,1),tu(3,2),Nc(),hc(4,jP,1,1,"span",1)),2&t&&(la(4),eu("ngIf",e._showToggle()))},directives:[Xy],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}\n'],encapsulation:2,data:{animation:[UP.indicatorRotate,UP.expansionHeaderHeight]},changeDetection:0}),t}(),QP=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵdir=Se({type:t,selectors:[["mat-panel-title"]],hostBindings:function(t,e,n){1&t&&Lc(VP)}}),t}(),YP=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[vb,IP,rT]]}),t}();function XP(t,e){void 0===e&&(e=hv);var n,r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return function(t){return t.lift(new ZP(r,e))}}var ZP=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new JP(t,this.delay,this.scheduler))},t}(),JP=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return i.__extends(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new tI(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(wE.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(wE.createComplete()),this.unsubscribe()},e}(g),tI=function(){return function(t,e){this.time=t,this.notification=e}}(),eI=[1,"mat-menu-item"],nI=["mat-menu-item",""],rI=["*"];function iI(t,e){if(1&t){var n=Hc();Dc(0,"div",0),zc("keydown",(function(t){return vn(n),Yc()._handleKeydown(t)}))("click",(function(t){return vn(n),Yc().closed.emit("click")}))("@transformMenu.start",(function(t){return vn(n),Yc()._onAnimationStart(t)}))("@transformMenu.done",(function(t){return vn(n),Yc()._onAnimationDone(t)})),Dc(1,"div",1),tu(2),Nc(),Nc()}if(2&t){var r=Yc();eu("id",r.panelId)("ngClass",r._classList)("@transformMenu",r._panelAnimationState)}}var oI=["aria-haspopup","true",1,"mat-menu-trigger"],aI={transformMenu:M_("transformMenu",[j_("void",L_({opacity:0,transform:"scale(0.8)"})),B_("void => enter",N_([H_(".mat-menu-content, .mat-mdc-menu-content",D_("100ms linear",L_({opacity:1}))),D_("120ms cubic-bezier(0, 0, 0.2, 1)",L_({transform:"scale(1)"}))])),B_("* => void",D_("100ms 25ms linear",L_({opacity:0})))]),fadeInItems:M_("fadeInItems",[j_("showing",L_({opacity:1})),B_("void => *",[L_({opacity:0}),D_("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},sI=function(){function t(t,e,n,r,i,o,a){this._template=t,this._componentFactoryResolver=e,this._appRef=n,this._injector=r,this._viewContainerRef=i,this._document=o,this._changeDetectorRef=a,this._attached=new k}return t.prototype.attach=function(t){void 0===t&&(t={}),this._portal||(this._portal=new Zk(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new eT(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));var e=this._template.elementRef.nativeElement;e.parentNode.insertBefore(this._outlet.outletElement,e),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,t),this._attached.next()},t.prototype.detach=function(){this._portal.isAttached&&this._portal.detach()},t.prototype.ngOnDestroy=function(){this._outlet&&this._outlet.dispose()},t.ɵfac=function(e){return new(e||t)(mc(il),mc(Mu),mc(Fd),mc(Ys),mc(al),mc(zv),mc(Ds))},t.ɵdir=Se({type:t,selectors:[["ng-template","matMenuContent",""]]}),t}(),cI=new Bt("MAT_MENU_PANEL"),uI=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o._elementRef=e,o._focusMonitor=r,o._parentMenu=i,o.role="menuitem",o._hovered=new k,o._focused=new k,o._highlighted=!1,o._triggersSubmenu=!1,r&&r.monitor(o._elementRef,!1),i&&i.addItem&&i.addItem(o),o._document=n,o}return Object(i.__extends)(e,t),e.prototype.focus=function(t,e){void 0===t&&(t="program"),this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)},e.prototype.ngOnDestroy=function(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()},e.prototype._getTabIndex=function(){return this.disabled?"-1":"0"},e.prototype._getHostElement=function(){return this._elementRef.nativeElement},e.prototype._checkDisabled=function(t){this.disabled&&(t.preventDefault(),t.stopPropagation())},e.prototype._handleMouseEnter=function(){this._hovered.next(this)},e.prototype.getLabel=function(){var t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3,n="";if(t.childNodes)for(var r=t.childNodes.length,i=0;i<r;i++)t.childNodes[i].nodeType===e&&(n+=t.childNodes[i].textContent);return n.trim()},e.ɵfac=function(t){return new(t||e)(mc(Du),mc(zv),mc(Ix),mc(cI,8))},e.ɵcmp=ge({type:e,selectors:[["","mat-menu-item",""]],hostBindings:function(t,e,n){1&t&&(tc(6),zc("click",(function(t){return e._checkDisabled(t)}))("mouseenter",(function(t){return e._handleMouseEnter()})),Lc(eI)),2&t&&(dc("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),bc("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[fu],attrs:nI,ngContentSelectors:rI,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(Zc(),tu(0),Rc(1,"div",0)),2&t&&(la(1),eu("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[aC],encapsulation:2,changeDetection:0}),e}(Wx(qx(function(){return function(){}}()))),lI=new Bt("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}}),dI=0,fI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(i.__extends)(e,t),e.ɵfac=function(t){return n(t||e)},e.ɵdir=Se({type:e,features:[fu]});var n=Ai(e);return e}(function(){function t(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Ml,this._tabSubscription=u.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new k,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Ol,this.close=this.closed,this.panelId="mat-menu-panel-"+dI++}return Object.defineProperty(t.prototype,"xPosition",{get:function(){return this._xPosition},set:function(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yPosition",{get:function(){return this._yPosition},set:function(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overlapTrigger",{get:function(){return this._overlapTrigger},set:function(t){this._overlapTrigger=KE(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasBackdrop",{get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=KE(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"panelClass",{set:function(t){var e=this,n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach((function(t){e._classList[t]=!1})),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach((function(t){e._classList[t]=!0})),this._elementRef.nativeElement.className="")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classList",{get:function(){return this.panelClass},set:function(t){this.panelClass=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.setPositionClasses()},t.prototype.ngAfterContentInit=function(){var t=this;this._updateDirectDescendants(),this._keyManager=new yx(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe((function(){return t.closed.emit("tab")})),this._directDescendantItems.changes.pipe(jx(this._directDescendantItems),yv((function(t){return Q.apply(void 0,Object(i.__spread)(t.map((function(t){return t._focused}))))}))).subscribe((function(e){return t._keyManager.updateActiveItem(e)}))},t.prototype.ngOnDestroy=function(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()},t.prototype._hovered=function(){return this._directDescendantItems.changes.pipe(jx(this._directDescendantItems),yv((function(t){return Q.apply(void 0,Object(i.__spread)(t.map((function(t){return t._hovered}))))})))},t.prototype.addItem=function(t){},t.prototype.removeItem=function(t){},t.prototype._handleKeydown=function(t){var e=t.keyCode,n=this._keyManager;switch(e){case jE:FE(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case 36:case 35:FE(t)||(36===e?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:38!==e&&40!==e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}},t.prototype.focusFirstItem=function(t){var e=this;void 0===t&&(t="program"),this.lazyContent?this._ngZone.onStable.asObservable().pipe(Yg(1)).subscribe((function(){return e._focusFirstItem(t)})):this._focusFirstItem(t)},t.prototype._focusFirstItem=function(t){var e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length)for(var n=this._directDescendantItems.first._getHostElement().parentElement;n;){if("menu"===n.getAttribute("role")){n.focus();break}n=n.parentElement}},t.prototype.resetActiveItem=function(){this._keyManager.setActiveItem(-1)},t.prototype.setElevation=function(t){var e="mat-elevation-z"+Math.min(4+t,24),n=Object.keys(this._classList).find((function(t){return t.startsWith("mat-elevation-z")}));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)},t.prototype.setPositionClasses=function(t,e){void 0===t&&(t=this.xPosition),void 0===e&&(e=this.yPosition);var n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e},t.prototype._startAnimation=function(){this._panelAnimationState="enter"},t.prototype._resetAnimation=function(){this._panelAnimationState="void"},t.prototype._onAnimationDone=function(t){this._animationDone.next(t),this._isAnimating=!1},t.prototype._onAnimationStart=function(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)},t.prototype._updateDirectDescendants=function(){var t=this;this._allItems.changes.pipe(jx(this._allItems)).subscribe((function(e){t._directDescendantItems.reset(e.filter((function(e){return e._parentMenu===t}))),t._directDescendantItems.notifyOnChanges()}))},t.ɵfac=function(e){return new(e||t)(mc(Du),mc(wd),mc(lI))},t.ɵdir=Se({type:t,contentQueries:function(t,e,n){var r;1&t&&(Wl(n,sI,!0),Wl(n,uI,!0),Wl(n,uI,!1)),2&t&&(Hl(r=Ql())&&(e.lazyContent=r.first),Hl(r=Ql())&&(e._allItems=r),Hl(r=Ql())&&(e.items=r))},viewQuery:function(t,e){var n;1&t&&ql(il,!0),2&t&&Hl(n=Ql())&&(e.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),t}()),hI=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return Object(i.__extends)(e,t),e.ɵfac=function(t){return new(t||e)(mc(Du),mc(wd),mc(lI))},e.ɵcmp=ge({type:e,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[Iu([{provide:cI,useExisting:fI},{provide:fI,useExisting:e}]),fu],ngContentSelectors:rI,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(Zc(),hc(0,iI,3,3,"ng-template"))},directives:[Nv],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[aI.transformMenu,aI.fadeInItems]},changeDetection:0}),e}(fI),pI=new Bt("mat-menu-scroll-strategy"),mI={provide:pI,deps:[PT],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},gI=ox({passive:!0}),vI=function(){function t(t,e,n,r,i,o,a,s){var c=this;this._overlay=t,this._element=e,this._viewContainerRef=n,this._parentMenu=i,this._menuItemInstance=o,this._dir=a,this._focusMonitor=s,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=u.EMPTY,this._hoverSubscription=u.EMPTY,this._menuCloseSubscription=u.EMPTY,this._handleTouchStart=function(){return c._openedBy="touch"},this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new Ol,this.onMenuOpen=this.menuOpened,this.menuClosed=new Ol,this.onMenuClose=this.menuClosed,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,gI),o&&(o._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=r}return Object.defineProperty(t.prototype,"_deprecatedMatMenuTriggerFor",{get:function(){return this.menu},set:function(t){this.menu=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"menu",{get:function(){return this._menu},set:function(t){var e=this;t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe((function(t){e._destroyMenu(),"click"!==t&&"tab"!==t||!e._parentMenu||e._parentMenu.closed.emit(t)}))))},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){this._checkMenu(),this._handleHover()},t.prototype.ngOnDestroy=function(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,gI),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()},Object.defineProperty(t.prototype,"menuOpen",{get:function(){return this._menuOpen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dir",{get:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"},enumerable:!0,configurable:!0}),t.prototype.triggersSubmenu=function(){return!(!this._menuItemInstance||!this._parentMenu)},t.prototype.toggleMenu=function(){return this._menuOpen?this.closeMenu():this.openMenu()},t.prototype.openMenu=function(){var t=this;if(!this._menuOpen){this._checkMenu();var e=this._createOverlay(),n=e.getConfig();this._setPosition(n.positionStrategy),n.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe((function(){return t.closeMenu()})),this._initMenu(),this.menu instanceof fI&&this.menu._startAnimation()}},t.prototype.closeMenu=function(){this.menu.close.emit()},t.prototype.focus=function(t,e){void 0===t&&(t="program"),this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)},t.prototype._destroyMenu=function(){var t=this;if(this._overlayRef&&this.menuOpen){var e=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),e instanceof fI?(e._resetAnimation(),e.lazyContent?e._animationDone.pipe(qg((function(t){return"void"===t.toState})),Yg(1),Vk(e.lazyContent._attached)).subscribe({next:function(){return e.lazyContent.detach()},complete:function(){return t._setIsMenuOpen(!1)}}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),e.lazyContent&&e.lazyContent.detach()),this._restoreFocus()}},t.prototype._initMenu=function(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")},t.prototype._setMenuElevation=function(){if(this.menu.setElevation){for(var t=0,e=this.menu.parentMenu;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}},t.prototype._restoreFocus=function(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null},t.prototype._setIsMenuOpen=function(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)},t.prototype._checkMenu=function(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()},t.prototype._createOverlay=function(){if(!this._overlayRef){var t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef},t.prototype._getOverlayConfig=function(){return new hT({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})},t.prototype._subscribeToPositions=function(t){var e=this;this.menu.setPositionClasses&&t.positionChanges.subscribe((function(t){e.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")}))},t.prototype._setPosition=function(t){var e=Object(i.__read)("before"===this.menu.xPosition?["end","start"]:["start","end"],2),n=e[0],r=e[1],o=Object(i.__read)("above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],2),a=o[0],s=o[1],c=Object(i.__read)([a,s],2),u=c[0],l=c[1],d=Object(i.__read)([n,r],2),f=d[0],h=d[1],p=0;this.triggersSubmenu()?(h=n="before"===this.menu.xPosition?"start":"end",r=f="end"===n?"start":"end",p="bottom"===a?8:-8):this.menu.overlapTrigger||(u="top"===a?"bottom":"top",l="top"===s?"bottom":"top"),t.withPositions([{originX:n,originY:u,overlayX:f,overlayY:a,offsetY:p},{originX:r,originY:u,overlayX:h,overlayY:a,offsetY:p},{originX:n,originY:l,overlayX:f,overlayY:s,offsetY:-p},{originX:r,originY:l,overlayX:h,overlayY:s,offsetY:-p}])},t.prototype._menuClosingActions=function(){var t=this,e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments();return Q(e,this._parentMenu?this._parentMenu.closed:yE(),this._parentMenu?this._parentMenu._hovered().pipe(qg((function(e){return e!==t._menuItemInstance})),qg((function(){return t._menuOpen}))):yE(),n)},t.prototype._handleMousedown=function(t){Ax(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())},t.prototype._handleKeydown=function(t){var e=t.keyCode;this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&this.openMenu()},t.prototype._handleClick=function(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()},t.prototype._handleHover=function(){var t=this;this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(qg((function(e){return e===t._menuItemInstance&&!e.disabled})),XP(0,Mk)).subscribe((function(){t._openedBy="mouse",t.menu instanceof fI&&t.menu._isAnimating?t.menu._animationDone.pipe(Yg(1),XP(0,Mk),Vk(t._parentMenu._hovered())).subscribe((function(){return t.openMenu()})):t.openMenu()})))},t.prototype._getPortal=function(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new Zk(this.menu.templateRef,this._viewContainerRef)),this._portal},t.ɵfac=function(e){return new(e||t)(mc(PT),mc(Du),mc(al),mc(pI),mc(fI,8),mc(uI,10),mc(Dx,8),mc(Ix))},t.ɵdir=Se({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostBindings:function(t,e,n){1&t&&(tc(2),zc("mousedown",(function(t){return e._handleMousedown(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("click",(function(t){return e._handleClick(t)})),Lc(oI)),2&t&&dc("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t}(),yI=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},providers:[mI],imports:[Ux]}),t}(),bI=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},providers:[mI],imports:[[vb,Ux,sC,AT,yI],yI]}),t}(),_I=["primaryValueBar"],wI=["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"mat-progress-bar"],SI=zx(function(){return function(t){this._elementRef=t}}(),"primary"),EI=new Bt("mat-progress-bar-location",{providedIn:"root",factory:function(){var t=te(zv),e=t?t.location:null;return{getPathname:function(){return e?e.pathname+e.search:""}}}}),xI=0,CI=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o._elementRef=e,o._ngZone=n,o._animationMode=r,o._isNoopAnimation=!1,o._value=0,o._bufferValue=0,o.animationEnd=new Ol,o._animationEndSubscription=u.EMPTY,o.mode="determinate",o.progressbarId="mat-progress-bar-"+xI++;var a=i?i.getPathname().split("#")[0]:"";return o._rectangleFillValue="url('"+a+"#"+o.progressbarId+"')",o._isNoopAnimation="NoopAnimations"===r,o}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=kI(QE(t)||0),this._isNoopAnimation&&this._emitAnimationEnd()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferValue",{get:function(){return this._bufferValue},set:function(t){this._bufferValue=kI(t||0)},enumerable:!0,configurable:!0}),e.prototype._primaryTransform=function(){return{transform:"scaleX("+this.value/100+")"}},e.prototype._bufferTransform=function(){return"buffer"===this.mode?{transform:"scaleX("+this.bufferValue/100+")"}:null},e.prototype.ngAfterViewInit=function(){var t=this;this._isNoopAnimation||this._ngZone.runOutsideAngular((function(){var e=t._primaryValueBar.nativeElement;t._animationEndSubscription=Ik(e,"transitionend").pipe(qg((function(t){return t.target===e}))).subscribe((function(){return t._ngZone.run((function(){return t._emitAnimationEnd()}))}))}))},e.prototype.ngOnDestroy=function(){this._animationEndSubscription.unsubscribe()},e.prototype._emitAnimationEnd=function(){"determinate"!==this.mode&&"buffer"!==this.mode||this.animationEnd.next({value:this.value})},e.ɵfac=function(t){return new(t||e)(mc(Du),mc(wd),mc(sE,8),mc(EI,8))},e.ɵcmp=ge({type:e,selectors:[["mat-progress-bar"]],viewQuery:function(t,e){var n;1&t&&ql(_I,!0),2&t&&Hl(n=Ql())&&(e._primaryValueBar=n.first)},hostBindings:function(t,e,n){1&t&&(tc(3),Lc(wI)),2&t&&(dc("aria-valuenow","indeterminate"===e.mode||"query"===e.mode?null:e.value)("mode",e.mode),bc("_mat-animation-noopable",e._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[fu],decls:9,vars:4,consts:[["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(t,e){1&t&&(Bn(),Dc(0,"svg",0),Dc(1,"defs"),Dc(2,"pattern",1),Rc(3,"circle",2),Nc(),Nc(),Rc(4,"rect",3),Nc(),Vn(),Rc(5,"div",4),Rc(6,"div",5,6),Rc(8,"div",7)),2&t&&(la(2),eu("id",e.progressbarId),la(2),dc("fill",e._rectangleFillValue),la(1),eu("ngStyle",e._bufferTransform()),la(1),eu("ngStyle",e._primaryTransform()))},directives:[Vv],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition:none}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),e}(SI);function kI(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=100),Math.max(e,Math.min(n,t))}var TI=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[vb,Ux],Ux]}),t}(),PI=["role","progressbar",1,"mat-progress-spinner"];function II(t,e){if(1&t&&(Bn(),Rc(0,"circle",3)),2&t){var n=Yc();yc("animation-name","mat-progress-spinner-stroke-rotate-"+n.diameter)("stroke-dashoffset",n._strokeDashOffset,"px")("stroke-dasharray",n._strokeCircumference,"px")("stroke-width",n._circleStrokeWidth,"%"),dc("r",n._circleRadius)}}function AI(t,e){if(1&t&&(Bn(),Rc(0,"circle",3)),2&t){var n=Yc();yc("stroke-dashoffset",n._strokeDashOffset,"px")("stroke-dasharray",n._strokeCircumference,"px")("stroke-width",n._circleStrokeWidth,"%"),dc("r",n._circleRadius)}}var OI=100,$I=zx(function(){return function(t){this._elementRef=t}}(),"primary"),MI=new Bt("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:OI}}}),DI=function(t){function e(n,r,i,o,a){var s=t.call(this,n)||this;s._elementRef=n,s._document=i,s._diameter=OI,s._value=0,s._fallbackAnimation=!1,s.mode="determinate";var c=e._diameters;return c.has(i.head)||c.set(i.head,new Set([OI])),s._fallbackAnimation=r.EDGE||r.TRIDENT,s._noopAnimations="NoopAnimations"===o&&!!a&&!a._forceAnimations,a&&(a.diameter&&(s.diameter=a.diameter),a.strokeWidth&&(s.strokeWidth=a.strokeWidth)),s}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"diameter",{get:function(){return this._diameter},set:function(t){this._diameter=QE(t),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this._strokeWidth||this.diameter/10},set:function(t){this._strokeWidth=QE(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return"determinate"===this.mode?this._value:0},set:function(t){this._value=Math.max(0,Math.min(100,QE(t)))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this._elementRef.nativeElement;this._styleRoot=function(t,e){if("undefined"!=typeof window){var n=e.head;if(n&&(n.createShadowRoot||n.attachShadow)){var r=t.getRootNode?t.getRootNode():null;if(r instanceof window.ShadowRoot)return r}}return null}(t,this._document)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate"+(this._fallbackAnimation?"-fallback":"")+"-animation")},Object.defineProperty(e.prototype,"_circleRadius",{get:function(){return(this.diameter-10)/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_viewBox",{get:function(){var t=2*this._circleRadius+this.strokeWidth;return"0 0 "+t+" "+t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_strokeCircumference",{get:function(){return 2*Math.PI*this._circleRadius},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_strokeDashOffset",{get:function(){return"determinate"===this.mode?this._strokeCircumference*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._strokeCircumference:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_circleStrokeWidth",{get:function(){return this.strokeWidth/this.diameter*100},enumerable:!0,configurable:!0}),e.prototype._attachStyleNode=function(){var t=this._styleRoot,n=this._diameter,r=e._diameters,i=r.get(t);if(!i||!i.has(n)){var o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",n+""),o.textContent=this._getAnimationText(),t.appendChild(o),i||(i=new Set,r.set(t,i)),i.add(n)}},e.prototype._getAnimationText=function(){return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*this._strokeCircumference).replace(/END_VALUE/g,""+.2*this._strokeCircumference).replace(/DIAMETER/g,""+this.diameter)},e._diameters=new WeakMap,e.ɵfac=function(t){return new(t||e)(mc(Du),mc(ex),mc(zv,8),mc(sE,8),mc(MI))},e.ɵcmp=ge({type:e,selectors:[["mat-progress-spinner"]],hostBindings:function(t,e,n){1&t&&(tc(7),Lc(PI)),2&t&&(dc("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),yc("width",e.diameter,"px")("height",e.diameter,"px"),bc("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",value:"value",mode:"mode"},exportAs:["matProgressSpinner"],features:[fu],decls:3,vars:6,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(Bn(),Dc(0,"svg",0),hc(1,II,1,5,"circle",1),hc(2,AI,1,4,"circle",2),Nc()),2&t&&(yc("width",e.diameter,"px")("height",e.diameter,"px"),eu("ngSwitch","indeterminate"===e.mode),dc("viewBox",e._viewBox),la(1),eu("ngSwitchCase",!0),la(1),eu("ngSwitchCase",!1))},directives:[eb,nb],styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),e}($I),NI=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[Ux,vb],Ux]}),t}(),RI=[1,"mat-drawer-content"],LI=["*"],jI=["tabIndex","-1",1,"mat-drawer"],FI=[1,"mat-drawer-container"];function BI(t,e){if(1&t){var n=Hc();Dc(0,"div",2),zc("click",(function(t){return vn(n),Yc()._onBackdropClicked()})),Nc()}2&t&&bc("mat-drawer-shown",Yc()._isShowingBackdrop())}function VI(t,e){1&t&&(Dc(0,"mat-drawer-content"),tu(1,2),Nc())}var HI=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],UI=["mat-drawer","mat-drawer-content","*"],qI=[1,"mat-drawer-content","mat-sidenav-content"],zI=["tabIndex","-1",1,"mat-drawer","mat-sidenav"],WI=[1,"mat-drawer-container","mat-sidenav-container"];function GI(t,e){if(1&t){var n=Hc();Dc(0,"div",2),zc("click",(function(t){return vn(n),Yc()._onBackdropClicked()})),Nc()}2&t&&bc("mat-drawer-shown",Yc()._isShowingBackdrop())}function KI(t,e){1&t&&(Dc(0,"mat-sidenav-content",3),tu(1,2),Nc())}var QI=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],YI=["mat-sidenav","mat-sidenav-content","*"],XI={transformDrawer:M_("transform",[j_("open, open-instant",L_({transform:"none",visibility:"visible"})),j_("void",L_({"box-shadow":"none",visibility:"hidden"})),B_("void => open-instant",D_("0ms")),B_("void <=> open, open-instant => void",D_("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};function ZI(t){throw Error("A drawer was already declared for 'position=\""+t+"\"'")}var JI=new Bt("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),tA=new Bt("MAT_DRAWER_CONTAINER"),eA=function(t){function e(e,n,r,i,o){var a=t.call(this,r,i,o)||this;return a._changeDetectorRef=e,a._container=n,a}return Object(i.__extends)(e,t),e.prototype.ngAfterContentInit=function(){var t=this;this._container._contentMarginChanges.subscribe((function(){t._changeDetectorRef.markForCheck()}))},e.ɵfac=function(t){return new(t||e)(mc(Ds),mc(xt((function(){return rA}))),mc(Du),mc(zk),mc(wd))},e.ɵcmp=ge({type:e,selectors:[["mat-drawer-content"]],hostBindings:function(t,e,n){1&t&&(tc(2),Lc(RI)),2&t&&yc("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[fu],ngContentSelectors:LI,decls:1,vars:0,template:function(t,e){1&t&&(Zc(),tu(0))},encapsulation:2,changeDetection:0}),e}(Wk),nA=function(){function t(t,e,n,r,i,o,a){var s=this;this._elementRef=t,this._focusTrapFactory=e,this._focusMonitor=n,this._platform=r,this._ngZone=i,this._doc=o,this._container=a,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._autoFocus=!0,this._opened=!1,this._animationStarted=new k,this._animationEnd=new k,this._animationState="void",this.openedChange=new Ol(!0),this._destroyed=new k,this.onPositionChanged=new Ol,this._modeChanged=new k,this.openedChange.subscribe((function(t){t?(s._doc&&(s._elementFocusedBeforeDrawerWasOpened=s._doc.activeElement),s._isFocusTrapEnabled&&s._focusTrap&&s._trapFocus()):s._restoreFocus()})),this._ngZone.runOutsideAngular((function(){Ik(s._elementRef.nativeElement,"keydown").pipe(qg((function(t){return t.keyCode===jE&&!s.disableClose&&!FE(t)})),Vk(s._destroyed)).subscribe((function(t){return s._ngZone.run((function(){s.close(),t.stopPropagation(),t.preventDefault()}))}))})),this._animationEnd.pipe(Dk((function(t,e){return t.fromState===e.fromState&&t.toState===e.toState}))).subscribe((function(t){var e=t.fromState,n=t.toState;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&s.openedChange.emit(s._opened)}))}return Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},set:function(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disableClose",{get:function(){return this._disableClose},set:function(t){this._disableClose=KE(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoFocus",{get:function(){return this._autoFocus},set:function(t){this._autoFocus=KE(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opened",{get:function(){return this._opened},set:function(t){this.toggle(KE(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_openedStream",{get:function(){return this.openedChange.pipe(qg((function(t){return t})),j((function(){})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openedStart",{get:function(){return this._animationStarted.pipe(qg((function(t){return t.fromState!==t.toState&&0===t.toState.indexOf("open")})),j((function(){})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_closedStream",{get:function(){return this.openedChange.pipe(qg((function(t){return!t})),j((function(){})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closedStart",{get:function(){return this._animationStarted.pipe(qg((function(t){return t.fromState!==t.toState&&"void"===t.toState})),j((function(){})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_isFocusTrapEnabled",{get:function(){return this.opened&&"side"!==this.mode},enumerable:!0,configurable:!0}),t.prototype._trapFocus=function(){var t=this;this.autoFocus&&this._focusTrap.focusInitialElementWhenReady().then((function(e){e||"function"!=typeof t._elementRef.nativeElement.focus||t._elementRef.nativeElement.focus()}))},t.prototype._restoreFocus=function(){if(this.autoFocus){var t=this._doc&&this._doc.activeElement;t&&this._elementRef.nativeElement.contains(t)&&(this._elementFocusedBeforeDrawerWasOpened instanceof HTMLElement?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur()),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null}},t.prototype.ngAfterContentInit=function(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()},t.prototype.ngAfterContentChecked=function(){this._platform.isBrowser&&(this._enableAnimations=!0)},t.prototype.ngOnDestroy=function(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()},t.prototype.open=function(t){return this.toggle(!0,t)},t.prototype.close=function(){return this.toggle(!1)},t.prototype.toggle=function(t,e){var n=this;return void 0===t&&(t=!this.opened),void 0===e&&(e="program"),this._opened=t,t?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=e):(this._animationState="void",this._restoreFocus()),this._updateFocusTrapState(),new Promise((function(t){n.openedChange.pipe(Yg(1)).subscribe((function(e){return t(e?"open":"close")}))}))},Object.defineProperty(t.prototype,"_width",{get:function(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0},enumerable:!0,configurable:!0}),t.prototype._updateFocusTrapState=function(){this._focusTrap&&(this._focusTrap.enabled=this._isFocusTrapEnabled)},t.prototype._animationStartListener=function(t){this._animationStarted.next(t)},t.prototype._animationDoneListener=function(t){this._animationEnd.next(t)},t.ɵfac=function(e){return new(e||t)(mc(Du),mc(Ex),mc(Ix),mc(ex),mc(wd),mc(zv,8),mc(tA,8))},t.ɵcmp=ge({type:t,selectors:[["mat-drawer"]],hostBindings:function(t,e,n){1&t&&(tc(7),Wc("@transform.start",(function(t){return e._animationStartListener(t)}))("@transform.done",(function(t){return e._animationDoneListener(t)})),Lc(jI)),2&t&&(dc("align",null),lu("@transform",e._animationState),bc("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",onPositionChanged:"positionChanged",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart"},exportAs:["matDrawer"],ngContentSelectors:LI,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(Zc(),Dc(0,"div",0),tu(1),Nc())},encapsulation:2,data:{animation:[XI.transformDrawer]},changeDetection:0}),t}(),rA=function(){function t(t,e,n,r,i,o,a){var s=this;void 0===o&&(o=!1),this._dir=t,this._element=e,this._ngZone=n,this._changeDetectorRef=r,this._animationMode=a,this._drawers=new Ml,this.backdropClick=new Ol,this._destroyed=new k,this._doCheckSubject=new k,this._contentMargins={left:null,right:null},this._contentMarginChanges=new k,t&&t.change.pipe(Vk(this._destroyed)).subscribe((function(){s._validateDrawers(),s.updateContentMargins()})),i.change().pipe(Vk(this._destroyed)).subscribe((function(){return s.updateContentMargins()})),this._autosize=o}return Object.defineProperty(t.prototype,"start",{get:function(){return this._start},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._end},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autosize",{get:function(){return this._autosize},set:function(t){this._autosize=KE(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasBackdrop",{get:function(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride},set:function(t){this._backdropOverride=null==t?null:KE(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollable",{get:function(){return this._userContent||this._content},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this._allDrawers.changes.pipe(jx(this._allDrawers),Vk(this._destroyed)).subscribe((function(e){t._drawers.reset(e.filter((function(e){return!e._container||e._container===t}))),t._drawers.notifyOnChanges()})),this._drawers.changes.pipe(jx(null)).subscribe((function(){t._validateDrawers(),t._drawers.forEach((function(e){t._watchDrawerToggle(e),t._watchDrawerPosition(e),t._watchDrawerMode(e)})),(!t._drawers.length||t._isDrawerOpen(t._start)||t._isDrawerOpen(t._end))&&t.updateContentMargins(),t._changeDetectorRef.markForCheck()})),this._doCheckSubject.pipe(UE(10),Vk(this._destroyed)).subscribe((function(){return t.updateContentMargins()}))},t.prototype.ngOnDestroy=function(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()},t.prototype.open=function(){this._drawers.forEach((function(t){return t.open()}))},t.prototype.close=function(){this._drawers.forEach((function(t){return t.close()}))},t.prototype.updateContentMargins=function(){var t=this,e=0,n=0;if(this._left&&this._left.opened&&("side"==this._left.mode?e+=this._left._width:"push"==this._left.mode&&(e+=r=this._left._width,n-=r)),this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._width;else if("push"==this._right.mode){var r;n+=r=this._right._width,e-=r}n=n||null,(e=e||null)===this._contentMargins.left&&n===this._contentMargins.right||(this._contentMargins={left:e,right:n},this._ngZone.run((function(){return t._contentMarginChanges.next(t._contentMargins)})))},t.prototype.ngDoCheck=function(){var t=this;this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular((function(){return t._doCheckSubject.next()}))},t.prototype._watchDrawerToggle=function(t){var e=this;t._animationStarted.pipe(qg((function(t){return t.fromState!==t.toState})),Vk(this._drawers.changes)).subscribe((function(t){"open-instant"!==t.toState&&"NoopAnimations"!==e._animationMode&&e._element.nativeElement.classList.add("mat-drawer-transition"),e.updateContentMargins(),e._changeDetectorRef.markForCheck()})),"side"!==t.mode&&t.openedChange.pipe(Vk(this._drawers.changes)).subscribe((function(){return e._setContainerClass(t.opened)}))},t.prototype._watchDrawerPosition=function(t){var e=this;t&&t.onPositionChanged.pipe(Vk(this._drawers.changes)).subscribe((function(){e._ngZone.onMicrotaskEmpty.asObservable().pipe(Yg(1)).subscribe((function(){e._validateDrawers()}))}))},t.prototype._watchDrawerMode=function(t){var e=this;t&&t._modeChanged.pipe(Vk(Q(this._drawers.changes,this._destroyed))).subscribe((function(){e.updateContentMargins(),e._changeDetectorRef.markForCheck()}))},t.prototype._setContainerClass=function(t){var e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)},t.prototype._validateDrawers=function(){var t=this;this._start=this._end=null,this._drawers.forEach((function(e){"end"==e.position?(null!=t._end&&ZI("end"),t._end=e):(null!=t._start&&ZI("start"),t._start=e)})),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)},t.prototype._isPushed=function(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode},t.prototype._onBackdropClicked=function(){this.backdropClick.emit(),this._closeModalDrawer()},t.prototype._closeModalDrawer=function(){var t=this;[this._start,this._end].filter((function(e){return e&&!e.disableClose&&t._canHaveBackdrop(e)})).forEach((function(t){return t.close()}))},t.prototype._isShowingBackdrop=function(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)},t.prototype._canHaveBackdrop=function(t){return"side"!==t.mode||!!this._backdropOverride},t.prototype._isDrawerOpen=function(t){return null!=t&&t.opened},t.ɵfac=function(e){return new(e||t)(mc(Dx,8),mc(Du),mc(wd),mc(Ds),mc(Kk),mc(JI),mc(sE,8))},t.ɵcmp=ge({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(t,e,n){var r;1&t&&(Wl(n,eA,!0),Wl(n,nA,!0)),2&t&&(Hl(r=Ql())&&(e._content=r.first),Hl(r=Ql())&&(e._allDrawers=r))},viewQuery:function(t,e){var n;1&t&&ql(eA,!0),2&t&&Hl(n=Ql())&&(e._userContent=n.first)},hostBindings:function(t,e,n){1&t&&(tc(1),Lc(FI)),2&t&&bc("mat-drawer-container-explicit-backdrop",e._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Iu([{provide:tA,useExisting:t}])],ngContentSelectors:UI,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,e){1&t&&(Zc(HI),hc(0,BI,1,1,"div",0),tu(1),tu(2,1),hc(3,VI,2,0,"mat-drawer-content",1)),2&t&&(eu("ngIf",e.hasBackdrop),la(3),eu("ngIf",!e._content))},directives:[Xy,eA],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),t}(),iA=function(t){function e(e,n,r,i,o){return t.call(this,e,n,r,i,o)||this}return Object(i.__extends)(e,t),e.ɵfac=function(t){return new(t||e)(mc(Ds),mc(xt((function(){return aA}))),mc(Du),mc(zk),mc(wd))},e.ɵcmp=ge({type:e,selectors:[["mat-sidenav-content"]],hostBindings:function(t,e,n){1&t&&(tc(2),Lc(qI)),2&t&&yc("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[fu],ngContentSelectors:LI,decls:1,vars:0,template:function(t,e){1&t&&(Zc(),tu(0))},encapsulation:2,changeDetection:0}),e}(eA),oA=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._fixedInViewport=!1,e._fixedTopGap=0,e._fixedBottomGap=0,e}Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"fixedInViewport",{get:function(){return this._fixedInViewport},set:function(t){this._fixedInViewport=KE(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fixedTopGap",{get:function(){return this._fixedTopGap},set:function(t){this._fixedTopGap=QE(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fixedBottomGap",{get:function(){return this._fixedBottomGap},set:function(t){this._fixedBottomGap=QE(t)},enumerable:!0,configurable:!0}),e.ɵfac=function(t){return n(t||e)},e.ɵcmp=ge({type:e,selectors:[["mat-sidenav"]],hostBindings:function(t,e,n){1&t&&(tc(9),Lc(zI)),2&t&&(dc("align",null),yc("top",e.fixedInViewport?e.fixedTopGap:null,"px")("bottom",e.fixedInViewport?e.fixedBottomGap:null,"px"),bc("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened)("mat-sidenav-fixed",e.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[fu],ngContentSelectors:LI,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(Zc(),Dc(0,"div",0),tu(1),Nc())},encapsulation:2,data:{animation:[XI.transformDrawer]},changeDetection:0});var n=Ai(e);return e}(nA),aA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(i.__extends)(e,t),e.ɵfac=function(t){return n(t||e)},e.ɵcmp=ge({type:e,selectors:[["mat-sidenav-container"]],contentQueries:function(t,e,n){var r;1&t&&(Wl(n,iA,!0),Wl(n,oA,!0)),2&t&&(Hl(r=Ql())&&(e._content=r.first),Hl(r=Ql())&&(e._allDrawers=r))},hostBindings:function(t,e,n){1&t&&(tc(1),Lc(WI)),2&t&&bc("mat-drawer-container-explicit-backdrop",e._backdropOverride)},exportAs:["matSidenavContainer"],features:[Iu([{provide:tA,useExisting:e}]),fu],ngContentSelectors:YI,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(t,e){1&t&&(Zc(QI),hc(0,GI,1,1,"div",0),tu(1),tu(2,1),hc(3,KI,2,0,"mat-sidenav-content",1)),2&t&&(eu("ngIf",e.hasBackdrop),la(3),eu("ngIf",!e._content))},directives:[Xy,iA,Wk],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0});var n=Ai(e);return e}(rA),sA=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[vb,Ux,Gk,nx],Ux]}),t}(),cA=["novalidate",""],uA=new Bt("NgValueAccessor"),lA={provide:uA,useExisting:xt((function(){return dA})),multi:!0},dA=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.ɵfac=function(e){return new(e||t)(mc(ju),mc(Du))},t.ɵdir=Se({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e,n){1&t&&zc("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(t){return e.onTouched()}))},features:[Iu([lA])]}),t}(),fA={provide:uA,useExisting:xt((function(){return pA})),multi:!0},hA=new Bt("CompositionEventMode"),pA=function(){function t(t,e,n){var r;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Uv()?Uv().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t.ɵfac=function(e){return new(e||t)(mc(ju),mc(Du),mc(hA,8))},t.ɵdir=Se({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e,n){1&t&&zc("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(t){return e.onTouched()}))("compositionstart",(function(t){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[Iu([fA])]}),t}(),mA=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t.ɵfac=function(e){return new(e||t)},t.ɵdir=Se({type:t}),t}(),gA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e.ɵfac=function(t){return n(t||e)},e.ɵdir=Se({type:e,features:[fu]});var n=Ai(e);return e}(mA);function vA(){throw new Error("unimplemented")}var yA=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return vA()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return vA()},enumerable:!0,configurable:!0}),e}(mA),bA=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),_A=function(t){function e(e){return t.call(this,e)||this}return Object(i.__extends)(e,t),e.ɵfac=function(t){return new(t||e)(mc(yA,2))},e.ɵdir=Se({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostBindings:function(t,e,n){1&t&&tc(7),2&t&&bc("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[fu]}),e}(bA),wA=function(t){function e(e){return t.call(this,e)||this}return Object(i.__extends)(e,t),e.ɵfac=function(t){return new(t||e)(mc(gA,2))},e.ɵdir=Se({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostBindings:function(t,e,n){1&t&&tc(7),2&t&&bc("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[fu]}),e}(bA);function SA(t){return null==t||0===t.length}var EA=new Bt("NgValidators"),xA=new Bt("NgAsyncValidators"),CA=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,kA=function(){function t(){}return t.min=function(t){return function(e){if(SA(e.value)||SA(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(SA(e.value)||SA(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return SA(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return SA(t.value)?null:CA.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(SA(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(SA(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(TA);return 0==e.length?null:function(t){return IA(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(TA);return 0==e.length?null:function(t){return qC(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(PA)).pipe(j(IA))}},t}();function TA(t){return null!=t}function PA(t){var e=Uc(t)?H(t):t;if(!qc(e))throw new Error("Expected validator to return Promise or Observable.");return e}function IA(t){var e=t.reduce((function(t,e){return null!=e?Object(i.__assign)(Object(i.__assign)({},t),e):t}),{});return 0===Object.keys(e).length?null:e}function AA(t){return t.validate?function(e){return t.validate(e)}:t}function OA(t){return t.validate?function(e){return t.validate(e)}:t}var $A={provide:uA,useExisting:xt((function(){return MA})),multi:!0},MA=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.ɵfac=function(e){return new(e||t)(mc(ju),mc(Du))},t.ɵdir=Se({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e,n){1&t&&zc("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(t){return e.onTouched()}))},features:[Iu([$A])]}),t}(),DA={provide:uA,useExisting:xt((function(){return RA})),multi:!0},NA=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t.ɵfac=function(e){return new(e||t)},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),RA=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(yA),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t.ɵfac=function(e){return new(e||t)(mc(ju),mc(Du),mc(NA),mc(Ys))},t.ɵdir=Se({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e,n){1&t&&zc("change",(function(t){return e.onChange()}))("blur",(function(t){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Iu([DA])]}),t}(),LA={provide:uA,useExisting:xt((function(){return jA})),multi:!0},jA=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.ɵfac=function(e){return new(e||t)(mc(ju),mc(Du))},t.ɵdir=Se({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e,n){1&t&&zc("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(t){return e.onTouched()}))},features:[Iu([LA])]}),t}(),FA='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',BA='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',VA='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',HA=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+FA)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+BA+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+VA)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+FA)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+BA)},t.arrayParentException=function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t.ngModelWarning=function(t){console.warn("\n    It looks like you're using ngModel on the same form field as "+t+". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/"+("formControl"===t?"FormControlDirective":"FormControlName")+"#use-with-ngmodel\n    ")},t}(),UA={provide:uA,useExisting:xt((function(){return qA})),multi:!0},qA=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=rc}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){var e,n;try{for(var r=Object(i.__values)(Array.from(this._optionMap.keys())),o=r.next();!o.done;o=r.next()){var a=o.value;if(this._compareWith(this._optionMap.get(a),t))return a}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t.ɵfac=function(e){return new(e||t)(mc(ju),mc(Du))},t.ɵdir=Se({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e,n){1&t&&zc("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(t){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Iu([UA])]}),t}(),zA={provide:uA,useExisting:xt((function(){return WA})),multi:!0},WA=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=rc}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(i=n.options,o=0;o<i.length;o++)(a=i.item(o)).selected&&(s=e._getOptionValue(a.value),r.push(s));e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){var e,n;try{for(var r=Object(i.__values)(Array.from(this._optionMap.keys())),o=r.next();!o.done;o=r.next()){var a=o.value;if(this._compareWith(this._optionMap.get(a)._value,t))return a}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t.ɵfac=function(e){return new(e||t)(mc(ju),mc(Du))},t.ɵdir=Se({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e,n){1&t&&zc("change",(function(t){return e.onChange(t.target)}))("blur",(function(t){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Iu([zA])]}),t}();function GA(t,e){return Object(i.__spread)(e.path,[t])}function KA(t,e){t||ZA(e,"Cannot find control with"),e.valueAccessor||ZA(e,"No value accessor for form control with"),t.validator=kA.compose([t.validator,e.validator]),t.asyncValidator=kA.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&QA(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&QA(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function QA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function YA(t,e){null==t&&ZA(e,"Cannot find control with"),t.validator=kA.compose([t.validator,e.validator]),t.asyncValidator=kA.composeAsync([t.asyncValidator,e.asyncValidator])}function XA(t){return ZA(t,"There is no FormControl instance attached to form control element with")}function ZA(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function JA(t){return null!=t?kA.compose(t.map(AA)):null}function tO(t){return null!=t?kA.composeAsync(t.map(OA)):null}var eO=[dA,jA,MA,qA,WA,RA];function nO(t,e){t._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}))}function rO(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function iO(t){var e=aO(t)?t.validators:t;return Array.isArray(e)?JA(e):e||null}function oO(t,e){var n=aO(e)?e.asyncValidators:t;return Array.isArray(n)?tO(n):n||null}function aO(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var sO=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=iO(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=oO(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAllAsTouched=function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={});var e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object(i.__assign)(Object(i.__assign)({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object(i.__assign)(Object(i.__assign)({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))},t.prototype.enable=function(t){void 0===t&&(t={});var e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object(i.__assign)(Object(i.__assign)({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object(i.__assign)(Object(i.__assign)({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=PA(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length?null:e.reduce((function(t,e){return t instanceof uO?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof lO&&t.at(e)||null}),t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new Ol,this.statusChanges=new Ol},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls((function(e){return e.status===t}))},t.prototype._anyControlsDirty=function(){return this._anyControls((function(t){return t.dirty}))},t.prototype._anyControlsTouched=function(){return this._anyControls((function(t){return t.touched}))},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){aO(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t.prototype._parentMarkedDirty=function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()},t}(),cO=function(t){function e(e,n,r){void 0===e&&(e=null);var i=t.call(this,iO(n),oO(r,n))||this;return i._onChange=[],i._applyFormState(e),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return Object(i.__extends)(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach((function(t){return t(n.value,!1!==e.emitViewToModelChange)})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(sO),uO=function(t){function e(e,n,r){var i=t.call(this,iO(n),oO(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(i.__extends)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach((function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof cO?e.value:e.getRawValue(),t}))},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))},e.prototype._setUpControls=function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild((function(r,i){n=n||e.contains(i)&&t(r)})),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(i.__values)(Object.keys(this.controls)),r=n.next();!r.done;r=n.next())if(this.controls[r.value].enabled)return!1}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")}))},e}(sO),lO=function(t){function e(e,n,r){var i=t.call(this,iO(n),oO(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(i.__extends)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach((function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach((function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)},e.prototype.getRawValue=function(){return this.controls.map((function(t){return t instanceof cO?t.value:t.getRawValue()}))},e.prototype.clear=function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())},e.prototype._syncPendingControls=function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach((function(e,n){t(e,n)}))},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))},e.prototype._anyControls=function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))},e.prototype._setUpControls=function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))},e.prototype._checkAllValuesPresent=function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")}))},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(i.__values)(this.controls),r=n.next();!r.done;r=n.next())if(r.value.enabled)return!1}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(sO),dO={provide:gA,useExisting:xt((function(){return hO}))},fO=function(){return Promise.resolve(null)}(),hO=function(t){function e(e,n){var r=t.call(this)||this;return r.submitted=!1,r._directives=[],r.ngSubmit=new Ol,r.form=new uO({},JA(e),tO(n)),r}return Object(i.__extends)(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;fO.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),KA(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;fO.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),rO(e._directives,t)}))},e.prototype.addFormGroup=function(t){var e=this;fO.then((function(){var n=e._findContainer(t.path),r=new uO({});YA(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})}))},e.prototype.removeFormGroup=function(t){var e=this;fO.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;fO.then((function(){n.form.get(t.path).setValue(e)}))},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,nO(this.form,this._directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e.ɵfac=function(t){return new(t||e)(mc(EA,10),mc(xA,10))},e.ɵdir=Se({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e,n){1&t&&zc("submit",(function(t){return e.onSubmit(t)}))("reset",(function(t){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Iu([dO]),fu]}),e}(gA),pO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(i.__extends)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return GA(null==this.name?this.name:this.name.toString(),this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return JA(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return tO(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e.ɵfac=function(t){return n(t||e)},e.ɵdir=Se({type:e,features:[fu]});var n=Ai(e);return e}(gA),mO=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+FA+'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+BA+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+VA)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+BA+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+VA)},t}(),gO={provide:gA,useExisting:xt((function(){return vO}))},vO=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}var n;return Object(i.__extends)(e,t),n=e,e.prototype._checkParentType=function(){this._parent instanceof n||this._parent instanceof hO||mO.modelGroupParentException()},e.ɵfac=function(t){return new(t||e)(mc(gA,5),mc(EA,10),mc(xA,10))},e.ɵdir=Se({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[Iu([gO]),fu]}),e}(pO),yO={provide:yA,useExisting:xt((function(){return _O}))},bO=function(){return Promise.resolve(null)}(),_O=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.control=new cO,o._registered=!1,o.update=new Ol,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=r||[],o.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||ZA(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach((function(e){var o;e.constructor===pA?n=e:(o=e,eO.some((function(t){return o.constructor===t}))?(r&&ZA(t,"More than one built-in value accessor matches form control with"),r=e):(i&&ZA(t,"More than one custom value accessor matches form control with"),i=e))})),i||r||n||(ZA(t,"No valid value accessor for form control with"),null)}(o,i),o}return Object(i.__extends)(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!rc(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?GA(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return JA(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return tO(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){KA(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof vO)&&this._parent instanceof pO?mO.formGroupNameException():this._parent instanceof vO||this._parent instanceof hO||mO.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||mO.missingNameException()},e.prototype._updateValue=function(t){var e=this;bO.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;bO.then((function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()}))},e.ɵfac=function(t){return new(t||e)(mc(gA,9),mc(EA,10),mc(xA,10),mc(uA,10))},e.ɵdir=Se({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Iu([yO]),fu,yu()]}),e}(yA),wO=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵdir=Se({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostBindings:function(t,e,n){1&t&&Lc(cA)}}),t}(),SO={provide:gA,useExisting:xt((function(){return EO}))},EO=function(t){function e(e,n){var r=t.call(this)||this;return r._validators=e,r._asyncValidators=n,r.submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new Ol,r}return Object(i.__extends)(e,t),e.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.get(t.path);return KA(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){rO(this.directives,t)},e.prototype.addFormGroup=function(t){var e=this.form.get(t.path);YA(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormGroup=function(t){},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.addFormArray=function(t){var e=this.form.get(t.path);YA(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormArray=function(t){},e.prototype.getFormArray=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){this.form.get(t.path).setValue(e)},e.prototype.onSubmit=function(t){return this.submitted=!0,nO(this.form,this.directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange((function(){return XA(e)})),e.valueAccessor.registerOnTouched((function(){return XA(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&KA(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})},e.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form},e.prototype._updateValidators=function(){var t=JA(this._validators);this.form.validator=kA.compose([this.form.validator,t]);var e=tO(this._asyncValidators);this.form.asyncValidator=kA.composeAsync([this.form.asyncValidator,e])},e.prototype._checkFormPresent=function(){this.form||HA.missingFormException()},e.ɵfac=function(t){return new(t||e)(mc(EA,10),mc(xA,10))},e.ɵdir=Se({type:e,selectors:[["","formGroup",""]],hostBindings:function(t,e,n){1&t&&zc("submit",(function(t){return e.onSubmit(t)}))("reset",(function(t){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Iu([SO]),fu,yu()]}),e}(gA),xO=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)}}),t}(),CO=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},providers:[NA],imports:[xO]}),t}(),kO=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)}}),t}(),TO=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[kO,sC,Ux,fx],kO,Ux]}),t}(),PO=["sliderWrapper"],IO=["role","slider",1,"mat-slider"],AO=ox({passive:!1}),OO={provide:uA,useExisting:xt((function(){return MO})),multi:!0},$O=function(){return function(){}}(),MO=function(t){function e(e,n,r,i,o,a,s){var c=t.call(this,e)||this;return c._focusMonitor=n,c._changeDetectorRef=r,c._dir=i,c._animationMode=a,c._ngZone=s,c._invert=!1,c._max=100,c._min=0,c._step=1,c._thumbLabel=!1,c._tickInterval=0,c._value=null,c._vertical=!1,c.change=new Ol,c.input=new Ol,c.valueChange=new Ol,c.onTouched=function(){},c._percent=0,c._isSliding=!1,c._isActive=!1,c._tickIntervalPercent=0,c._sliderDimensions=null,c._controlValueAccessorChangeFn=function(){},c._dirChangeSubscription=u.EMPTY,c._pointerDown=function(t){c.disabled||c._isSliding||!DO(t)&&0!==t.button||c._runInsideZone((function(){var e=c.value,n=NO(t);c._isSliding=!0,c._lastPointerEvent=t,t.preventDefault(),c._focusHostElement(),c._onMouseenter(),c._bindGlobalEvents(t),c._focusHostElement(),c._updateValueFromPosition(n),c._valueOnSlideStart=c.value,c._pointerPositionOnStart=n,e!=c.value&&(c._emitInputEvent(),c._emitChangeEvent())}))},c._pointerMove=function(t){if(c._isSliding){t.preventDefault();var e=c.value;c._lastPointerEvent=t,c._updateValueFromPosition(NO(t)),e!=c.value&&c._emitInputEvent()}},c._pointerUp=function(t){if(c._isSliding){var e=c._pointerPositionOnStart,n=NO(t);t.preventDefault(),c._removeGlobalEvents(),c._valueOnSlideStart=c._pointerPositionOnStart=c._lastPointerEvent=null,c._isSliding=!1,c._valueOnSlideStart==c.value||c.disabled||!e||e.x===n.x&&e.y===n.y||c._emitChangeEvent()}},c._windowBlur=function(){c._lastPointerEvent&&c._pointerUp(c._lastPointerEvent)},c.tabIndex=parseInt(o)||0,c._runOutsizeZone((function(){var t=e.nativeElement;t.addEventListener("mousedown",c._pointerDown,AO),t.addEventListener("touchstart",c._pointerDown,AO)})),c}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"invert",{get:function(){return this._invert},set:function(t){this._invert=KE(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){this._max=QE(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){this._min=QE(t,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step},set:function(t){this._step=QE(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbLabel",{get:function(){return this._thumbLabel},set:function(t){this._thumbLabel=KE(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tickInterval",{get:function(){return this._tickInterval},set:function(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?QE(t,this._tickInterval):0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return null===this._value&&(this.value=this._min),this._value},set:function(t){if(t!==this._value){var e=QE(t);this._roundToDecimal&&(e=parseFloat(e.toFixed(this._roundToDecimal))),this._value=e,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vertical",{get:function(){return this._vertical},set:function(t){this._vertical=KE(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayValue",{get:function(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0},enumerable:!0,configurable:!0}),e.prototype.focus=function(t){this._focusHostElement(t)},e.prototype.blur=function(){this._blurHostElement()},Object.defineProperty(e.prototype,"percent",{get:function(){return this._clamp(this._percent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_invertAxis",{get:function(){return this.vertical?!this.invert:this.invert},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_isMinValue",{get:function(){return 0===this.percent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_thumbGap",{get:function(){return this.disabled?7:this._isMinValue&&!this.thumbLabel?this._isActive?10:7:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_trackBackgroundStyles",{get:function(){var t=this.vertical?"1, "+(1-this.percent)+", 1":1-this.percent+", 1, 1";return{transform:"translate"+(this.vertical?"Y":"X")+"("+(this._shouldInvertMouseCoords()?"-":"")+this._thumbGap+"px) scale3d("+t+")"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_trackFillStyles",{get:function(){var t=this.percent,e=this.vertical?"1, "+t+", 1":t+", 1, 1";return{transform:"translate"+(this.vertical?"Y":"X")+"("+(this._shouldInvertMouseCoords()?"":"-")+this._thumbGap+"px) scale3d("+e+")",display:0===t?"none":""}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ticksContainerStyles",{get:function(){return{transform:"translate"+(this.vertical?"Y":"X")+"("+(this.vertical||"rtl"!=this._getDirection()?"-":"")+this._tickIntervalPercent/2*100+"%)"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ticksStyles",{get:function(){var t=100*this._tickIntervalPercent,e={backgroundSize:this.vertical?"2px "+t+"%":t+"% 2px",transform:"translateZ(0) translate"+(this.vertical?"Y":"X")+"("+(this.vertical||"rtl"!=this._getDirection()?"":"-")+t/2+"%)"+(this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)")};return this._isMinValue&&this._thumbGap&&(e["padding"+(this.vertical?this._invertAxis?"Bottom":"Top":this._invertAxis?"Right":"Left")]=this._thumbGap+"px"),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_thumbContainerStyles",{get:function(){return{transform:"translate"+(this.vertical?"Y":"X")+"(-"+100*(("rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis)?this.percent:1-this.percent)+"%)"}},enumerable:!0,configurable:!0}),e.prototype._shouldInvertMouseCoords=function(){return"rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis},e.prototype._getDirection=function(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"},e.prototype.ngOnInit=function(){var t=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe((function(e){t._isActive=!!e&&"keyboard"!==e,t._changeDetectorRef.detectChanges()})),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe((function(){t._changeDetectorRef.markForCheck()})))},e.prototype.ngOnDestroy=function(){var t=this._elementRef.nativeElement;t.removeEventListener("mousedown",this._pointerDown,AO),t.removeEventListener("touchstart",this._pointerDown,AO),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()},e.prototype._onMouseenter=function(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())},e.prototype._onFocus=function(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()},e.prototype._onBlur=function(){this.onTouched()},e.prototype._onKeydown=function(t){if(!this.disabled&&!FE(t)){var e=this.value;switch(t.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,t.preventDefault()}},e.prototype._onKeyup=function(){this._isSliding=!1},e.prototype._bindGlobalEvents=function(t){if("undefined"!=typeof document&&document){var e=document.body,n=DO(t),r=n?"touchend":"mouseup";e.addEventListener(n?"touchmove":"mousemove",this._pointerMove,AO),e.addEventListener(r,this._pointerUp,AO),n&&e.addEventListener("touchcancel",this._pointerUp,AO)}"undefined"!=typeof window&&window&&window.addEventListener("blur",this._windowBlur)},e.prototype._removeGlobalEvents=function(){if("undefined"!=typeof document&&document){var t=document.body;t.removeEventListener("mousemove",this._pointerMove,AO),t.removeEventListener("mouseup",this._pointerUp,AO),t.removeEventListener("touchmove",this._pointerMove,AO),t.removeEventListener("touchend",this._pointerUp,AO),t.removeEventListener("touchcancel",this._pointerUp,AO)}"undefined"!=typeof window&&window&&window.removeEventListener("blur",this._windowBlur)},e.prototype._increment=function(t){this.value=this._clamp((this.value||0)+this.step*t,this.min,this.max)},e.prototype._updateValueFromPosition=function(t){if(this._sliderDimensions){var e=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(e=1-e),0===e)this.value=this.min;else if(1===e)this.value=this.max;else{var n=this._calculateValue(e),r=Math.round((n-this.min)/this.step)*this.step+this.min;this.value=this._clamp(r,this.min,this.max)}}},e.prototype._emitChangeEvent=function(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())},e.prototype._emitInputEvent=function(){this.input.emit(this._createChangeEvent())},e.prototype._updateTickIntervalPercent=function(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){var t=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,e=Math.ceil(30/(t*this.step/(this.max-this.min)));this._tickIntervalPercent=e*this.step/t}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)},e.prototype._createChangeEvent=function(t){void 0===t&&(t=this.value);var e=new $O;return e.source=this,e.value=t,e},e.prototype._calculatePercentage=function(t){return((t||0)-this.min)/(this.max-this.min)},e.prototype._calculateValue=function(t){return this.min+t*(this.max-this.min)},e.prototype._clamp=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),Math.max(e,Math.min(t,n))},e.prototype._getSliderDimensions=function(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null},e.prototype._focusHostElement=function(t){this._elementRef.nativeElement.focus(t)},e.prototype._blurHostElement=function(){this._elementRef.nativeElement.blur()},e.prototype._runInsideZone=function(t){this._ngZone?this._ngZone.run(t):t()},e.prototype._runOutsizeZone=function(t){this._ngZone?this._ngZone.runOutsideAngular(t):t()},e.prototype.writeValue=function(t){this.value=t},e.prototype.registerOnChange=function(t){this._controlValueAccessorChangeFn=t},e.prototype.registerOnTouched=function(t){this.onTouched=t},e.prototype.setDisabledState=function(t){this.disabled=t},e.ɵfac=function(t){return new(t||e)(mc(Du),mc(Ix),mc(Ds),mc(Dx,8),gc("tabindex"),mc(sE,8),mc(wd))},e.ɵcmp=ge({type:e,selectors:[["mat-slider"]],viewQuery:function(t,e){var n;1&t&&ql(PO,!0),2&t&&Hl(n=Ql())&&(e._sliderWrapper=n.first)},hostBindings:function(t,e,n){1&t&&(tc(17),zc("focus",(function(t){return e._onFocus()}))("blur",(function(t){return e._onBlur()}))("keydown",(function(t){return e._onKeydown(t)}))("keyup",(function(t){return e._onKeyup()}))("mouseenter",(function(t){return e._onMouseenter()}))("selectstart",(function(t){return t.preventDefault()})),Lc(IO)),2&t&&(uu("tabIndex",e.tabIndex),dc("aria-disabled",e.disabled)("aria-valuemax",e.max)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-orientation",e.vertical?"vertical":"horizontal"),bc("mat-slider-disabled",e.disabled)("mat-slider-has-ticks",e.tickInterval)("mat-slider-horizontal",!e.vertical)("mat-slider-axis-inverted",e._invertAxis)("mat-slider-invert-mouse-coords",e._shouldInvertMouseCoords())("mat-slider-sliding",e._isSliding)("mat-slider-thumb-label-showing",e.thumbLabel)("mat-slider-vertical",e.vertical)("mat-slider-min-value",e._isMinValue)("mat-slider-hide-last-tick",e.disabled||e._isMinValue&&e._thumbGap&&e._invertAxis)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",vertical:"vertical",displayWith:"displayWith"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[Iu([OO]),fu],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(t,e){1&t&&(Dc(0,"div",0,1),Dc(2,"div",2),Rc(3,"div",3),Rc(4,"div",4),Nc(),Dc(5,"div",5),Rc(6,"div",6),Nc(),Dc(7,"div",7),Rc(8,"div",8),Rc(9,"div",9),Dc(10,"div",10),Dc(11,"span",11),iu(12),Nc(),Nc(),Nc(),Nc()),2&t&&(la(3),eu("ngStyle",e._trackBackgroundStyles),la(1),eu("ngStyle",e._trackFillStyles),la(1),eu("ngStyle",e._ticksContainerStyles),la(1),eu("ngStyle",e._ticksStyles),la(1),eu("ngStyle",e._thumbContainerStyles),la(5),ou(e.displayValue))},directives:[Vv],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),e}(Gx(zx(qx(function(){return function(t){this._elementRef=t}}()),"accent")));function DO(t){return"t"===t.type[0]}function NO(t){var e=DO(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.clientX,y:e.clientY}}var RO=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[vb,Ux],Ux]}),t}(),LO=["role","navigation",1,"mat-nav-list","mat-list-base"],jO=["*"],FO=[1,"mat-list","mat-list-base"],BO=[1,"mat-list-avatar"],VO=[1,"mat-list-icon"],HO=[1,"mat-list-item"],UO=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],qO=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],zO=Wx(function(){return function(){}}()),WO=Wx(function(){return function(){}}()),GO=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._stateChanges=new k,e}Object(i.__extends)(e,t),e.prototype.ngOnChanges=function(){this._stateChanges.next()},e.prototype.ngOnDestroy=function(){this._stateChanges.complete()},e.ɵfac=function(t){return n(t||e)},e.ɵcmp=ge({type:e,selectors:[["mat-nav-list"]],hostBindings:function(t,e,n){1&t&&Lc(LO)},inputs:{disableRipple:"disableRipple"},exportAs:["matNavList"],features:[fu,yu()],ngContentSelectors:jO,decls:1,vars:0,template:function(t,e){1&t&&(Zc(),tu(0))},styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n"],encapsulation:2,changeDetection:0});var n=Ai(e);return e}(zO),KO=function(t){function e(e){var n=t.call(this)||this;return n._elementRef=e,n._stateChanges=new k,"action-list"===n._getListType()&&e.nativeElement.classList.add("mat-action-list"),n}return Object(i.__extends)(e,t),e.prototype._getListType=function(){var t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null},e.prototype.ngOnChanges=function(){this._stateChanges.next()},e.prototype.ngOnDestroy=function(){this._stateChanges.complete()},e.ɵfac=function(t){return new(t||e)(mc(Du))},e.ɵcmp=ge({type:e,selectors:[["mat-list"],["mat-action-list"]],hostBindings:function(t,e,n){1&t&&Lc(FO)},inputs:{disableRipple:"disableRipple"},exportAs:["matList"],features:[fu,yu()],ngContentSelectors:jO,decls:1,vars:0,template:function(t,e){1&t&&(Zc(),tu(0))},styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n"],encapsulation:2,changeDetection:0}),e}(zO),QO=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵdir=Se({type:t,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostBindings:function(t,e,n){1&t&&Lc(BO)}}),t}(),YO=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵdir=Se({type:t,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostBindings:function(t,e,n){1&t&&Lc(VO)}}),t}(),XO=function(t){function e(e,n,r,i){var o=t.call(this)||this;o._element=e,o._isInteractiveList=!1,o._destroyed=new k,o._isInteractiveList=!!(r||i&&"action-list"===i._getListType()),o._list=r||i;var a=o._getHostElement();return"button"!==a.nodeName.toLowerCase()||a.hasAttribute("type")||a.setAttribute("type","button"),o._list&&o._list._stateChanges.pipe(Vk(o._destroyed)).subscribe((function(){n.markForCheck()})),o}return Object(i.__extends)(e,t),e.prototype.ngAfterContentInit=function(){var t,e;e=this._element,(t=this._lines).changes.pipe(jx(t)).subscribe((function(t){var n=t.length;Xx(e,"mat-2-line",!1),Xx(e,"mat-3-line",!1),Xx(e,"mat-multi-line",!1),2===n||3===n?Xx(e,"mat-"+n+"-line",!0):n>3&&Xx(e,"mat-multi-line",!0)}))},e.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete()},e.prototype._isRippleDisabled=function(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)},e.prototype._getHostElement=function(){return this._element.nativeElement},e.ɵfac=function(t){return new(t||e)(mc(Du),mc(Ds),mc(GO,8),mc(KO,8))},e.ɵcmp=ge({type:e,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,e,n){var r;1&t&&(Wl(n,QO,!0),Wl(n,YO,!0),Wl(n,Yx,!0)),2&t&&(Hl(r=Ql())&&(e._avatar=r.first),Hl(r=Ql())&&(e._icon=r.first),Hl(r=Ql())&&(e._lines=r))},hostBindings:function(t,e,n){1&t&&(tc(2),Lc(HO)),2&t&&bc("mat-list-item-avatar",e._avatar||e._icon)("mat-list-item-with-avatar",e._avatar||e._icon)},inputs:{disableRipple:"disableRipple"},exportAs:["matListItem"],features:[fu],ngContentSelectors:qO,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,e){1&t&&(Zc(UO),Dc(0,"div",0),Rc(1,"div",1),tu(2),Dc(3,"div",2),tu(4,1),Nc(),tu(5,2),Nc()),2&t&&(la(1),eu("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()))},directives:[aC],encapsulation:2,changeDetection:0}),e}(WO),ZO=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[Zx,sC,Ux,cC,vb],Zx,Ux,cC,xP]}),t}(),JO=[1,"mat-toolbar-row"],t$=[1,"mat-toolbar"],e$=["*",[["mat-toolbar-row"]]],n$=["*","mat-toolbar-row"],r$=zx(function(){return function(t){this._elementRef=t}}()),i$=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵdir=Se({type:t,selectors:[["mat-toolbar-row"]],hostBindings:function(t,e,n){1&t&&Lc(JO)},exportAs:["matToolbarRow"]}),t}(),o$=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i._platform=n,i._document=r,i}return Object(i.__extends)(e,t),e.prototype.ngAfterViewInit=function(){var t=this;Fi()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe((function(){return t._checkToolbarMixedModes()})))},e.prototype._checkToolbarMixedModes=function(){var t=this;this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter((function(t){return!(t.classList&&t.classList.contains("mat-toolbar-row"))})).filter((function(e){return e.nodeType!==(t._document?t._document.COMMENT_NODE:8)})).some((function(t){return!(!t.textContent||!t.textContent.trim())}))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()},e.ɵfac=function(t){return new(t||e)(mc(Du),mc(ex),mc(zv))},e.ɵcmp=ge({type:e,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){var r;1&t&&Wl(n,i$,!0),2&t&&Hl(r=Ql())&&(e._toolbarRows=r)},hostBindings:function(t,e,n){1&t&&(tc(2),Lc(t$)),2&t&&bc("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[fu],ngContentSelectors:n$,decls:2,vars:0,template:function(t,e){1&t&&(Zc(e$),tu(0),tu(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}\n"],encapsulation:2,changeDetection:0}),e}(r$),a$=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[Ux],Ux]}),t}(),s$=["aria-hidden","true"],c$={tooltipState:M_("state",[j_("initial, void, hidden",L_({opacity:0,transform:"scale(0)"})),j_("visible",L_({transform:"scale(1)"})),B_("* => visible",D_("200ms cubic-bezier(0, 0, 0.2, 1)",F_([L_({opacity:0,transform:"scale(0)",offset:0}),L_({opacity:.5,transform:"scale(0.99)",offset:.5}),L_({opacity:1,transform:"scale(1)",offset:1})]))),B_("* => hidden",D_("100ms cubic-bezier(0, 0, 0.2, 1)",L_({opacity:0})))])},u$=ox({passive:!0});function l$(t){return Error('Tooltip position "'+t+'" is invalid.')}var d$=new Bt("mat-tooltip-scroll-strategy"),f$={provide:d$,deps:[PT],useFactory:function(t){return function(){return t.scrollStrategies.reposition({scrollThrottle:20})}}},h$=new Bt("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),p$=function(){function t(t,e,n,r,i,o,a,s,c,u,l,d){var f=this;this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=r,this._ngZone=i,this._platform=o,this._ariaDescriber=a,this._focusMonitor=s,this._dir=u,this._defaultOptions=l,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=new Map,this._destroyed=new k,this._handleKeydown=function(t){f._isTooltipVisible()&&t.keyCode===jE&&!FE(t)&&(t.preventDefault(),t.stopPropagation(),f._ngZone.run((function(){return f.hide(0)})))},this._scrollStrategy=c,l&&(l.position&&(this.position=l.position),l.touchGestures&&(this.touchGestures=l.touchGestures)),s.monitor(e).pipe(Vk(this._destroyed)).subscribe((function(t){t?"keyboard"===t&&i.run((function(){return f.show()})):i.run((function(){return f.hide(0)}))})),i.runOutsideAngular((function(){e.nativeElement.addEventListener("keydown",f._handleKeydown)}))}return Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=KE(t),this._disabled&&this.hide(0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this._message},set:function(t){var e=this;this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?(""+t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ngZone.runOutsideAngular((function(){Promise.resolve().then((function(){e._ariaDescriber.describe(e._elementRef.nativeElement,e.message)}))})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipClass",{get:function(){return this._tooltipClass},set:function(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._setupPointerEvents()},t.prototype.ngOnDestroy=function(){var t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach((function(e,n){t.removeEventListener(n,e,u$)})),this._passiveListeners.clear(),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message),this._focusMonitor.stopMonitoring(t)},t.prototype.show=function(t){var e=this;if(void 0===t&&(t=this.showDelay),!this.disabled&&this.message&&(!this._isTooltipVisible()||this._tooltipInstance._showTimeoutId||this._tooltipInstance._hideTimeoutId)){var n=this._createOverlay();this._detach(),this._portal=this._portal||new Xk(m$,this._viewContainerRef),this._tooltipInstance=n.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Vk(this._destroyed)).subscribe((function(){return e._detach()})),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}},t.prototype.hide=function(t){void 0===t&&(t=this.hideDelay),this._tooltipInstance&&this._tooltipInstance.hide(t)},t.prototype.toggle=function(){this._isTooltipVisible()?this.hide():this.show()},t.prototype._isTooltipVisible=function(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()},t.prototype._createOverlay=function(){var t=this;if(this._overlayRef)return this._overlayRef;var e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),n=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(e);return n.positionChanges.pipe(Vk(this._destroyed)).subscribe((function(e){t._tooltipInstance&&e.scrollableViewProperties.isOverlayClipped&&t._tooltipInstance.isVisible()&&t._ngZone.run((function(){return t.hide(0)}))})),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:n,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Vk(this._destroyed)).subscribe((function(){return t._detach()})),this._overlayRef},t.prototype._detach=function(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null},t.prototype._updatePosition=function(){var t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object(i.__assign)(Object(i.__assign)({},e.main),n.main),Object(i.__assign)(Object(i.__assign)({},e.fallback),n.fallback)])},t.prototype._getOrigin=function(){var t,e=!this._dir||"ltr"==this._dir.value,n=this.position;if("above"==n||"below"==n)t={originX:"center",originY:"above"==n?"top":"bottom"};else if("before"==n||"left"==n&&e||"right"==n&&!e)t={originX:"start",originY:"center"};else{if(!("after"==n||"right"==n&&e||"left"==n&&!e))throw l$(n);t={originX:"end",originY:"center"}}var r=this._invertPosition(t.originX,t.originY);return{main:t,fallback:{originX:r.x,originY:r.y}}},t.prototype._getOverlayPosition=function(){var t,e=!this._dir||"ltr"==this._dir.value,n=this.position;if("above"==n)t={overlayX:"center",overlayY:"bottom"};else if("below"==n)t={overlayX:"center",overlayY:"top"};else if("before"==n||"left"==n&&e||"right"==n&&!e)t={overlayX:"end",overlayY:"center"};else{if(!("after"==n||"right"==n&&e||"left"==n&&!e))throw l$(n);t={overlayX:"start",overlayY:"center"}}var r=this._invertPosition(t.overlayX,t.overlayY);return{main:t,fallback:{overlayX:r.x,overlayY:r.y}}},t.prototype._updateTooltipMessage=function(){var t=this;this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(Yg(1),Vk(this._destroyed)).subscribe((function(){t._tooltipInstance&&t._overlayRef.updatePosition()})))},t.prototype._setTooltipClass=function(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())},t.prototype._invertPosition=function(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}},t.prototype._setupPointerEvents=function(){var t=this;if(this._platform.IOS||this._platform.ANDROID){if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();var e=function(){clearTimeout(t._touchstartTimeout),t.hide(t._defaultOptions.touchendHideDelay)};this._passiveListeners.set("touchend",e).set("touchcancel",e).set("touchstart",(function(){clearTimeout(t._touchstartTimeout),t._touchstartTimeout=setTimeout((function(){return t.show()}),500)}))}}else this._passiveListeners.set("mouseenter",(function(){return t.show()})).set("mouseleave",(function(){return t.hide()}));this._passiveListeners.forEach((function(e,n){t._elementRef.nativeElement.addEventListener(n,e,u$)}))},t.prototype._disableNativeGesturesIfNecessary=function(){var t=this._elementRef.nativeElement,e=t.style,n=this.touchGestures;"off"!==n&&(("on"===n||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName)&&(e.userSelect=e.msUserSelect=e.webkitUserSelect=e.MozUserSelect="none"),"on"!==n&&t.draggable||(e.webkitUserDrag="none"),e.touchAction="none",e.webkitTapHighlightColor="transparent")},t.ɵfac=function(e){return new(e||t)(mc(PT),mc(Du),mc(zk),mc(al),mc(wd),mc(ex),mc(vx),mc(Ix),mc(d$),mc(Dx,8),mc(h$,8),mc(Du))},t.ɵdir=Se({type:t,selectors:[["","matTooltip",""]],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t}(),m$=function(){function t(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new k,this._isHandset=this._breakpointObserver.observe(jT.Handset)}return t.prototype.show=function(t){var e=this;this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout((function(){e._visibility="visible",e._showTimeoutId=null,e._markForCheck()}),t)},t.prototype.hide=function(t){var e=this;this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout((function(){e._visibility="hidden",e._hideTimeoutId=null,e._markForCheck()}),t)},t.prototype.afterHidden=function(){return this._onHide.asObservable()},t.prototype.isVisible=function(){return"visible"===this._visibility},t.prototype.ngOnDestroy=function(){this._onHide.complete()},t.prototype._animationStart=function(){this._closeOnInteraction=!1},t.prototype._animationDone=function(t){var e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)},t.prototype._handleBodyInteraction=function(){this._closeOnInteraction&&this.hide(0)},t.prototype._markForCheck=function(){this._changeDetectorRef.markForCheck()},t.ɵfac=function(e){return new(e||t)(mc(Ds),mc(RT))},t.ɵcmp=ge({type:t,selectors:[["mat-tooltip-component"]],hostBindings:function(t,e,n){1&t&&(tc(1),zc("click",(function(t){return e._handleBodyInteraction()}),!1,vr),Lc(s$)),2&t&&yc("zoom","visible"===e._visibility?1:null)},decls:3,vars:6,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){var n;1&t&&(Dc(0,"div",0),zc("@state.start",(function(t){return e._animationStart()}))("@state.done",(function(t){return e._animationDone(t)})),Tl(1,"async"),iu(2),Nc()),2&t&&(bc("mat-tooltip-handset",null==(n=Pl(1,4,e._isHandset))?null:n.matches),eu("ngClass",e.tooltipClass)("@state",e._visibility),la(2),ou(e.message))},directives:[Nv],pipes:[db],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[c$.tooltipState]},changeDetection:0}),t}(),g$=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},providers:[f$],imports:[[$x,vb,AT,Ux],Ux]}),t}(),v$=["role","alert",1,"mat-error"],y$=[1,"mat-hint"],b$=["underline"],_$=["connectionContainer"],w$=["inputContainer"],S$=["label"],E$=[1,"mat-form-field"];function x$(t,e){1&t&&(Fc(0),Dc(1,"div",14),Rc(2,"div",15),Rc(3,"div",16),Rc(4,"div",17),Nc(),Dc(5,"div",18),Rc(6,"div",15),Rc(7,"div",16),Rc(8,"div",17),Nc(),Bc())}function C$(t,e){1&t&&(Dc(0,"div",19),tu(1,1),Nc())}function k$(t,e){if(1&t&&(Fc(0),tu(1,2),Dc(2,"span"),iu(3),Nc(),Bc()),2&t){var n=Yc(2);la(3),ou(n._control.placeholder)}}function T$(t,e){1&t&&tu(0,3,["*ngSwitchCase","true"])}function P$(t,e){1&t&&(Dc(0,"span",23),iu(1," *"),Nc())}function I$(t,e){if(1&t){var n=Hc();Dc(0,"label",20,21),zc("cdkObserveContent",(function(t){return vn(n),Yc().updateOutlineGap()})),hc(2,k$,4,1,"ng-container",12),hc(3,T$,1,0,void 0,12),hc(4,P$,2,0,"span",22),Nc()}if(2&t){var r=Yc();bc("mat-empty",r._control.empty&&!r._shouldAlwaysFloat)("mat-form-field-empty",r._control.empty&&!r._shouldAlwaysFloat)("mat-accent","accent"==r.color)("mat-warn","warn"==r.color),eu("cdkObserveContentDisabled","outline"!=r.appearance)("id",r._labelId)("ngSwitch",r._hasLabel()),dc("for",r._control.id)("aria-owns",r._control.id),la(2),eu("ngSwitchCase",!1),la(1),eu("ngSwitchCase",!0),la(1),eu("ngIf",!r.hideRequiredMarker&&r._control.required&&!r._control.disabled)}}function A$(t,e){1&t&&(Dc(0,"div",24),tu(1,4),Nc())}function O$(t,e){if(1&t&&(Dc(0,"div",25,26),Rc(2,"span",27),Nc()),2&t){var n=Yc();la(2),bc("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function $$(t,e){1&t&&(Dc(0,"div"),tu(1,5),Nc()),2&t&&eu("@transitionMessages",Yc()._subscriptAnimationState)}function M$(t,e){if(1&t&&(Dc(0,"div",31),iu(1),Nc()),2&t){var n=Yc(2);eu("id",n._hintLabelId),la(1),ou(n.hintLabel)}}function D$(t,e){if(1&t&&(Dc(0,"div",28),hc(1,M$,2,2,"div",29),tu(2,6),Rc(3,"div",30),tu(4,7),Nc()),2&t){var n=Yc();eu("@transitionMessages",n._subscriptAnimationState),la(1),eu("ngIf",n.hintLabel)}}var N$=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],R$=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],L$=0,j$=function(){function t(){this.id="mat-error-"+L$++}return t.ɵfac=function(e){return new(e||t)},t.ɵdir=Se({type:t,selectors:[["mat-error"]],hostBindings:function(t,e,n){1&t&&(tc(1),Lc(v$)),2&t&&dc("id",e.id)},inputs:{id:"id"}}),t}(),F$={transitionMessages:M_("transitionMessages",[j_("enter",L_({opacity:1,transform:"translateY(0%)"})),B_("void => enter",[L_({opacity:0,transform:"translateY(-100%)"}),D_("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},B$=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵdir=Se({type:t}),t}();function V$(t){return Error("A hint was already declared for 'align=\""+t+"\"'.")}var H$=0,U$=function(){function t(){this.align="start",this.id="mat-hint-"+H$++}return t.ɵfac=function(e){return new(e||t)},t.ɵdir=Se({type:t,selectors:[["mat-hint"]],hostBindings:function(t,e,n){1&t&&(tc(3),Lc(y$)),2&t&&(dc("id",e.id)("align",null),bc("mat-right","end"==e.align))},inputs:{align:"align",id:"id"}}),t}(),q$=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵdir=Se({type:t,selectors:[["mat-label"]]}),t}(),z$=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵdir=Se({type:t,selectors:[["mat-placeholder"]]}),t}(),W$=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵdir=Se({type:t,selectors:[["","matPrefix",""]]}),t}(),G$=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵdir=Se({type:t,selectors:[["","matSuffix",""]]}),t}(),K$=0,Q$=zx(function(){return function(t){this._elementRef=t}}(),"primary"),Y$=new Bt("MAT_FORM_FIELD_DEFAULT_OPTIONS"),X$=function(t){function e(e,n,r,i,o,a,s,c){var u=t.call(this,e)||this;return u._elementRef=e,u._changeDetectorRef=n,u._dir=i,u._defaults=o,u._platform=a,u._ngZone=s,u._outlineGapCalculationNeededImmediately=!1,u._outlineGapCalculationNeededOnStable=!1,u._destroyed=new k,u._showAlwaysAnimate=!1,u._subscriptAnimationState="",u._hintLabel="",u._hintLabelId="mat-hint-"+K$++,u._labelId="mat-form-field-label-"+K$++,u._labelOptions=r||{},u.floatLabel=u._labelOptions.float||"auto",u._animationsEnabled="NoopAnimations"!==c,u.appearance=o&&o.appearance?o.appearance:"legacy",u._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker,u}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"appearance",{get:function(){return this._appearance},set:function(t){var e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideRequiredMarker",{get:function(){return this._hideRequiredMarker},set:function(t){this._hideRequiredMarker=KE(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_shouldAlwaysFloat",{get:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_canLabelFloat",{get:function(){return"never"!==this.floatLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hintLabel",{get:function(){return this._hintLabel},set:function(t){this._hintLabel=t,this._processHints()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"floatLabel",{get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(t){t!==this._floatLabel&&(this._floatLabel=t||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_control",{get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(t){this._explicitFormFieldControl=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_labelChild",{get:function(){return this._labelChildNonStatic||this._labelChildStatic},enumerable:!0,configurable:!0}),e.prototype.getConnectedOverlayOrigin=function(){return this._connectionContainerRef||this._elementRef},e.prototype.ngAfterContentInit=function(){var t=this;this._validateControlChild();var e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+e.controlType),e.stateChanges.pipe(jx(null)).subscribe((function(){t._validatePlaceholders(),t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Vk(this._destroyed)).subscribe((function(){return t._changeDetectorRef.markForCheck()})),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.asObservable().pipe(Vk(t._destroyed)).subscribe((function(){t._outlineGapCalculationNeededOnStable&&t.updateOutlineGap()}))})),Q(this._prefixChildren.changes,this._suffixChildren.changes).subscribe((function(){t._outlineGapCalculationNeededOnStable=!0,t._changeDetectorRef.markForCheck()})),this._hintChildren.changes.pipe(jx(null)).subscribe((function(){t._processHints(),t._changeDetectorRef.markForCheck()})),this._errorChildren.changes.pipe(jx(null)).subscribe((function(){t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})),this._dir&&this._dir.change.pipe(Vk(this._destroyed)).subscribe((function(){"function"==typeof requestAnimationFrame?t._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){return t.updateOutlineGap()}))})):t.updateOutlineGap()}))},e.prototype.ngAfterContentChecked=function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()},e.prototype.ngAfterViewInit=function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()},e.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete()},e.prototype._shouldForward=function(t){var e=this._control?this._control.ngControl:null;return e&&e[t]},e.prototype._hasPlaceholder=function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)},e.prototype._hasLabel=function(){return!!this._labelChild},e.prototype._shouldLabelFloat=function(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)},e.prototype._hideControlPlaceholder=function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()},e.prototype._hasFloatingLabel=function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()},e.prototype._getDisplayedMessages=function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"},e.prototype._animateAndLockLabel=function(){var t=this;this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,Ik(this._label.nativeElement,"transitionend").pipe(Yg(1)).subscribe((function(){t._showAlwaysAnimate=!1}))),this.floatLabel="always",this._changeDetectorRef.markForCheck())},e.prototype._validatePlaceholders=function(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")},e.prototype._processHints=function(){this._validateHints(),this._syncDescribedByIds()},e.prototype._validateHints=function(){var t,e,n=this;this._hintChildren&&this._hintChildren.forEach((function(r){if("start"===r.align){if(t||n.hintLabel)throw V$("start");t=r}else if("end"===r.align){if(e)throw V$("end");e=r}}))},e.prototype._syncDescribedByIds=function(){if(this._control){var t=[];if("hint"===this._getDisplayedMessages()){var e=this._hintChildren?this._hintChildren.find((function(t){return"start"===t.align})):null,n=this._hintChildren?this._hintChildren.find((function(t){return"end"===t.align})):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map((function(t){return t.id})));this._control.setDescribedByIds(t)}},e.prototype._validateControlChild=function(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")},e.prototype.updateOutlineGap=function(){var t,e,n=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&n&&n.children.length&&n.textContent.trim()&&this._platform.isBrowser)if(this._isAttachedToDOM()){var r=0,o=0,a=this._connectionContainerRef.nativeElement,s=a.querySelectorAll(".mat-form-field-outline-start"),c=a.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var u=a.getBoundingClientRect();if(0===u.width&&0===u.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);var l=this._getStartEnd(u),d=this._getStartEnd(n.children[0].getBoundingClientRect()),f=0;try{for(var h=Object(i.__values)(n.children),p=h.next();!p.done;p=h.next())f+=p.value.offsetWidth}catch(g){t={error:g}}finally{try{p&&!p.done&&(e=h.return)&&e.call(h)}finally{if(t)throw t.error}}r=d-l-5,o=f>0?.75*f+10:0}for(var m=0;m<s.length;m++)s.item(m).style.width=r+"px";for(m=0;m<c.length;m++)c.item(m).style.width=o+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0},e.prototype._getStartEnd=function(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left},e.prototype._isAttachedToDOM=function(){var t=this._elementRef.nativeElement;if(t.getRootNode){var e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)},e.ɵfac=function(t){return new(t||e)(mc(Du),mc(Ds),mc(uC,8),mc(Dx,8),mc(Y$,8),mc(ex),mc(wd),mc(sE,8))},e.ɵcmp=ge({type:e,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var r;1&t&&(Wl(n,B$,!0),Gl(n,B$,!0),Wl(n,q$,!0),Gl(n,q$,!0),Wl(n,z$,!0),Wl(n,j$,!0),Wl(n,U$,!0),Wl(n,W$,!0),Wl(n,G$,!0)),2&t&&(Hl(r=Ql())&&(e._controlNonStatic=r.first),Hl(r=Ql())&&(e._controlStatic=r.first),Hl(r=Ql())&&(e._labelChildNonStatic=r.first),Hl(r=Ql())&&(e._labelChildStatic=r.first),Hl(r=Ql())&&(e._placeholderChild=r.first),Hl(r=Ql())&&(e._errorChildren=r),Hl(r=Ql())&&(e._hintChildren=r),Hl(r=Ql())&&(e._prefixChildren=r),Hl(r=Ql())&&(e._suffixChildren=r))},viewQuery:function(t,e){var n;1&t&&(ql(b$,!0),Ul(_$,!0),ql(w$,!0),ql(S$,!0)),2&t&&(Hl(n=Ql())&&(e.underlineRef=n.first),Hl(n=Ql())&&(e._connectionContainerRef=n.first),Hl(n=Ql())&&(e._inputContainerRef=n.first),Hl(n=Ql())&&(e._label=n.first))},hostBindings:function(t,e,n){1&t&&(tc(22),Lc(E$)),2&t&&bc("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat)("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[fu],ngContentSelectors:R$,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(Zc(N$),Dc(0,"div",0),Dc(1,"div",1,2),zc("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),hc(3,x$,9,0,"ng-container",3),hc(4,C$,2,0,"div",4),Dc(5,"div",5,6),tu(7),Dc(8,"span",7),hc(9,I$,5,12,"label",8),Nc(),Nc(),hc(10,A$,2,0,"div",9),Nc(),hc(11,O$,3,2,"div",10),Dc(12,"div",11),hc(13,$$,2,1,"div",12),hc(14,D$,5,2,"div",13),Nc(),Nc()),2&t&&(la(3),eu("ngIf","outline"==e.appearance),la(1),eu("ngIf",e._prefixChildren.length),la(5),eu("ngIf",e._hasFloatingLabel()),la(1),eu("ngIf",e._suffixChildren.length),la(1),eu("ngIf","outline"!=e.appearance),la(1),eu("ngSwitch",e._getDisplayedMessages()),la(1),eu("ngSwitchCase","error"),la(1),eu("ngSwitchCase","hint"))},directives:[Xy,eb,nb,dx],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scaleY(1.0001)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px;transition:border-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[F$.transitionMessages]},changeDetection:0}),e}(Q$),Z$=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[vb,fx]]}),t}(),J$=["rows","1",1,"cdk-textarea-autosize"],tM=ox({passive:!0}),eM=function(){function t(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}return t.prototype.monitor=function(t){var e=this;if(!this._platform.isBrowser)return Kg;var n=ZE(t),r=this._monitoredElements.get(n);if(r)return r.subject.asObservable();var i=new k,o="cdk-text-field-autofilled",a=function(t){"cdk-text-field-autofill-start"!==t.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===t.animationName&&n.classList.contains(o)&&(n.classList.remove(o),e._ngZone.run((function(){return i.next({target:t.target,isAutofilled:!1})}))):(n.classList.add(o),e._ngZone.run((function(){return i.next({target:t.target,isAutofilled:!0})})))};return this._ngZone.runOutsideAngular((function(){n.addEventListener("animationstart",a,tM),n.classList.add("cdk-text-field-autofill-monitored")})),this._monitoredElements.set(n,{subject:i,unlisten:function(){n.removeEventListener("animationstart",a,tM)}}),i.asObservable()},t.prototype.stopMonitoring=function(t){var e=ZE(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))},t.prototype.ngOnDestroy=function(){var t=this;this._monitoredElements.forEach((function(e,n){return t.stopMonitoring(n)}))},t.ɵprov=ht({factory:function(){return new t(Jt(ex),Jt(wd))},token:t,providedIn:"root"}),t.ɵfac=function(e){return new(e||t)(Jt(ex),Jt(wd))},t}(),nM=function(){function t(t,e,n){this._elementRef=t,this._platform=e,this._ngZone=n,this._destroyed=new k,this._enabled=!0,this._previousMinRows=-1,this._textareaElement=this._elementRef.nativeElement}return Object.defineProperty(t.prototype,"minRows",{get:function(){return this._minRows},set:function(t){this._minRows=QE(t),this._setMinHeight()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxRows",{get:function(){return this._maxRows},set:function(t){this._maxRows=QE(t),this._setMaxHeight()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){t=KE(t),this._enabled!==t&&((this._enabled=t)?this.resizeToFitContent(!0):this.reset())},enumerable:!0,configurable:!0}),t.prototype._setMinHeight=function(){var t=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.minHeight=t)},t.prototype._setMaxHeight=function(){var t=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.maxHeight=t)},t.prototype.ngAfterViewInit=function(){var t=this;this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular((function(){Ik(window,"resize").pipe(Bk(16),Vk(t._destroyed)).subscribe((function(){return t.resizeToFitContent(!0)}))})))},t.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete()},t.prototype._cacheTextareaLineHeight=function(){if(!this._cachedLineHeight){var t=this._textareaElement.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",this._textareaElement.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,this._textareaElement.parentNode.removeChild(t),this._setMinHeight(),this._setMaxHeight()}},t.prototype.ngDoCheck=function(){this._platform.isBrowser&&this.resizeToFitContent()},t.prototype.resizeToFitContent=function(t){var e=this;if(void 0===t&&(t=!1),this._enabled&&(this._cacheTextareaLineHeight(),this._cachedLineHeight)){var n=this._elementRef.nativeElement,r=n.value;if(t||this._minRows!==this._previousMinRows||r!==this._previousValue){var i=n.placeholder;n.classList.add("cdk-textarea-autosize-measuring"),n.placeholder="",n.style.height=n.scrollHeight-4+"px",n.classList.remove("cdk-textarea-autosize-measuring"),n.placeholder=i,this._ngZone.runOutsideAngular((function(){"undefined"!=typeof requestAnimationFrame?requestAnimationFrame((function(){return e._scrollToCaretPosition(n)})):setTimeout((function(){return e._scrollToCaretPosition(n)}))})),this._previousValue=r,this._previousMinRows=this._minRows}}},t.prototype.reset=function(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)},t.prototype._noopInputHandler=function(){},t.prototype._scrollToCaretPosition=function(t){this._destroyed.isStopped||document.activeElement!==t||t.setSelectionRange(t.selectionStart,t.selectionEnd)},t.ɵfac=function(e){return new(e||t)(mc(Du),mc(ex),mc(wd))},t.ɵdir=Se({type:t,selectors:[["textarea","cdkTextareaAutosize",""]],hostBindings:function(t,e,n){1&t&&(zc("input",(function(t){return e._noopInputHandler()})),Lc(J$))},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"]},exportAs:["cdkTextareaAutosize"]}),t}(),rM=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[nx]]}),t}(),iM=["rows","1",1,"cdk-textarea-autosize","mat-autosize"],oM=[1,"mat-input-element","mat-form-field-autofill-control"],aM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"matAutosizeMinRows",{get:function(){return this.minRows},set:function(t){this.minRows=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matAutosizeMaxRows",{get:function(){return this.maxRows},set:function(t){this.maxRows=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matAutosize",{get:function(){return this.enabled},set:function(t){this.enabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matTextareaAutosize",{get:function(){return this.enabled},set:function(t){this.enabled=t},enumerable:!0,configurable:!0}),e.ɵfac=function(t){return n(t||e)},e.ɵdir=Se({type:e,selectors:[["textarea","mat-autosize",""],["textarea","matTextareaAutosize",""]],hostBindings:function(t,e,n){1&t&&Lc(iM)},inputs:{cdkAutosizeMinRows:"cdkAutosizeMinRows",cdkAutosizeMaxRows:"cdkAutosizeMaxRows",matAutosizeMinRows:"matAutosizeMinRows",matAutosizeMaxRows:"matAutosizeMaxRows",matAutosize:["mat-autosize","matAutosize"],matTextareaAutosize:"matTextareaAutosize"},exportAs:["matTextareaAutosize"],features:[fu]});var n=Ai(e);return e}(nM),sM=new Bt("MAT_INPUT_VALUE_ACCESSOR"),cM=["button","checkbox","file","hidden","image","radio","range","reset","submit"],uM=0,lM=function(t){function e(e,n,r,i,o,a,s,c,u){var l=t.call(this,a,i,o,r)||this;l._elementRef=e,l._platform=n,l.ngControl=r,l._autofillMonitor=c,l._uid="mat-input-"+uM++,l._isServer=!1,l._isNativeSelect=!1,l.focused=!1,l.stateChanges=new k,l.controlType="mat-input",l.autofilled=!1,l._disabled=!1,l._required=!1,l._type="text",l._readonly=!1,l._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter((function(t){return ix().has(t)}));var d=l._elementRef.nativeElement;return l._inputValueAccessor=s||d,l._previousNativeValue=l.value,l.id=l.id,n.IOS&&u.runOutsideAngular((function(){e.nativeElement.addEventListener("keyup",(function(t){var e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))}))})),l._isServer=!l._platform.isBrowser,l._isNativeSelect="select"===d.nodeName.toLowerCase(),l._isNativeSelect&&(l.controlType=d.multiple?"mat-native-select-multiple":"mat-native-select"),l}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(t){this._disabled=KE(t),this.focused&&(this.focused=!1,this.stateChanges.next())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t||this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this._required},set:function(t){this._required=KE(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t||"text",this._validateType(),!this._isTextarea()&&ix().has(this._type)&&(this._elementRef.nativeElement.type=this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._inputValueAccessor.value},set:function(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readonly",{get:function(){return this._readonly},set:function(t){this._readonly=KE(t)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe((function(e){t.autofilled=e.isAutofilled,t.stateChanges.next()}))},e.prototype.ngOnChanges=function(){this.stateChanges.next()},e.prototype.ngOnDestroy=function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)},e.prototype.ngDoCheck=function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()},e.prototype.focus=function(t){this._elementRef.nativeElement.focus(t)},e.prototype._focusChanged=function(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())},e.prototype._onInput=function(){},e.prototype._dirtyCheckNativeValue=function(){var t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())},e.prototype._validateType=function(){if(cM.indexOf(this._type)>-1)throw Error('Input type "'+this._type+"\" isn't supported by matInput.")},e.prototype._isNeverEmpty=function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1},e.prototype._isBadInput=function(){var t=this._elementRef.nativeElement.validity;return t&&t.badInput},e.prototype._isTextarea=function(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()},Object.defineProperty(e.prototype,"empty",{get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldLabelFloat",{get:function(){if(this._isNativeSelect){var t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty},enumerable:!0,configurable:!0}),e.prototype.setDescribedByIds=function(t){this._ariaDescribedby=t.join(" ")},e.prototype.onContainerClick=function(){this.focused||this.focus()},e.ɵfac=function(t){return new(t||e)(mc(Du),mc(ex),mc(yA,10),mc(hO,8),mc(EO,8),mc(Qx),mc(sM,10),mc(eM),mc(wd))},e.ɵdir=Se({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostBindings:function(t,e,n){1&t&&(tc(9),zc("blur",(function(t){return e._focusChanged(!1)}))("focus",(function(t){return e._focusChanged(!0)}))("input",(function(t){return e._onInput()})),Lc(oM)),2&t&&(uu("disabled",e.disabled)("required",e.required),dc("id",e.id)("placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-describedby",e._ariaDescribedby||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),bc("mat-input-server",e._isServer))},inputs:{disabled:"disabled",id:"id",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher"},exportAs:["matInput"],features:[Iu([{provide:B$,useExisting:e}]),fu,yu()]}),e}(Kx(function(){return function(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}())),dM=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},providers:[Qx],imports:[[vb,rM,Z$],rM,Z$]}),t}(),fM=["input"],hM=[1,"mat-checkbox"],pM=function(){return{enterDuration:150}},mM=["*"],gM=new Bt("mat-checkbox-default-options",{providedIn:"root",factory:function(){return{color:"accent",clickAction:"check-indeterminate"}}}),vM=new Bt("mat-checkbox-click-action"),yM=0,bM={provide:uA,useExisting:xt((function(){return SM})),multi:!0},_M=function(t){return t[t.Init=0]="Init",t[t.Checked=1]="Checked",t[t.Unchecked=2]="Unchecked",t[t.Indeterminate=3]="Indeterminate",t}({}),wM=function(){return function(){}}(),SM=function(t){function e(e,n,r,i,o,a,s,c){var u=t.call(this,e)||this;return u._changeDetectorRef=n,u._focusMonitor=r,u._ngZone=i,u._clickAction=a,u._animationMode=s,u._options=c,u.ariaLabel="",u.ariaLabelledby=null,u._uniqueId="mat-checkbox-"+ ++yM,u.id=u._uniqueId,u.labelPosition="after",u.name=null,u.change=new Ol,u.indeterminateChange=new Ol,u._onTouched=function(){},u._currentAnimationClass="",u._currentCheckState=_M.Init,u._controlValueAccessorChangeFn=function(){},u._checked=!1,u._disabled=!1,u._indeterminate=!1,u._options=u._options||{},u._options.color&&(u.color=u._options.color),u.tabIndex=parseInt(o)||0,u._focusMonitor.monitor(e,!0).subscribe((function(t){t||Promise.resolve().then((function(){u._onTouched(),n.markForCheck()}))})),u._clickAction=u._clickAction||u._options.clickAction,u}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"inputId",{get:function(){return(this.id||this._uniqueId)+"-input"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this._required},set:function(t){this._required=KE(t)},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this._syncIndeterminate(this._indeterminate)},e.prototype.ngAfterViewChecked=function(){},e.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._elementRef)},Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(t){var e=KE(t);e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indeterminate",{get:function(){return this._indeterminate},set:function(t){var e=t!=this._indeterminate;this._indeterminate=KE(t),e&&(this._transitionCheckState(this._indeterminate?_M.Indeterminate:this.checked?_M.Checked:_M.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)},enumerable:!0,configurable:!0}),e.prototype._isRippleDisabled=function(){return this.disableRipple||this.disabled},e.prototype._onLabelTextChange=function(){this._changeDetectorRef.detectChanges()},e.prototype.writeValue=function(t){this.checked=!!t},e.prototype.registerOnChange=function(t){this._controlValueAccessorChangeFn=t},e.prototype.registerOnTouched=function(t){this._onTouched=t},e.prototype.setDisabledState=function(t){this.disabled=t},e.prototype._getAriaChecked=function(){return this.checked?"true":this.indeterminate?"mixed":"false"},e.prototype._transitionCheckState=function(t){var e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);var r=this._currentAnimationClass;this._ngZone.runOutsideAngular((function(){setTimeout((function(){n.classList.remove(r)}),1e3)}))}},e.prototype._emitChangeEvent=function(){var t=new wM;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t)},e.prototype.toggle=function(){this.checked=!this.checked},e.prototype._onInputClick=function(t){var e=this;t.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then((function(){e._indeterminate=!1,e.indeterminateChange.emit(e._indeterminate)})),this.toggle(),this._transitionCheckState(this._checked?_M.Checked:_M.Unchecked),this._emitChangeEvent())},e.prototype.focus=function(t,e){void 0===t&&(t="keyboard"),this._focusMonitor.focusVia(this._inputElement,t,e)},e.prototype._onInteractionEvent=function(t){t.stopPropagation()},e.prototype._getAnimationClassForCheckStateTransition=function(t,e){if("NoopAnimations"===this._animationMode)return"";var n="";switch(t){case _M.Init:if(e===_M.Checked)n="unchecked-checked";else{if(e!=_M.Indeterminate)return"";n="unchecked-indeterminate"}break;case _M.Unchecked:n=e===_M.Checked?"unchecked-checked":"unchecked-indeterminate";break;case _M.Checked:n=e===_M.Unchecked?"checked-unchecked":"checked-indeterminate";break;case _M.Indeterminate:n=e===_M.Checked?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-"+n},e.prototype._syncIndeterminate=function(t){var e=this._inputElement;e&&(e.nativeElement.indeterminate=t)},e.ɵfac=function(t){return new(t||e)(mc(Du),mc(Ds),mc(Ix),mc(wd),gc("tabindex"),mc(vM,8),mc(sE,8),mc(gM,8))},e.ɵcmp=ge({type:e,selectors:[["mat-checkbox"]],viewQuery:function(t,e){var n;1&t&&(ql(fM,!0),ql(aC,!0)),2&t&&(Hl(n=Ql())&&(e._inputElement=n.first),Hl(n=Ql())&&(e.ripple=n.first))},hostBindings:function(t,e,n){1&t&&(tc(7),Lc(hM)),2&t&&(uu("id",e.id),dc("tabindex",null),bc("mat-checkbox-indeterminate",e.indeterminate)("mat-checkbox-checked",e.checked)("mat-checkbox-disabled",e.disabled)("mat-checkbox-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Iu([bM]),fu],ngContentSelectors:mM,decls:17,vars:18,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,e){if(1&t&&(Zc(),Dc(0,"label",0,1),Dc(2,"div",2),Dc(3,"input",3,4),zc("change",(function(t){return e._onInteractionEvent(t)}))("click",(function(t){return e._onInputClick(t)})),Nc(),Dc(5,"div",5),Rc(6,"div",6),Nc(),Rc(7,"div",7),Dc(8,"div",8),Bn(),Dc(9,"svg",9),Rc(10,"path",10),Nc(),Vn(),Rc(11,"div",11),Nc(),Nc(),Dc(12,"span",12,13),zc("cdkObserveContent",(function(t){return e._onLabelTextChange()})),Dc(14,"span",14),iu(15," "),Nc(),tu(16),Nc(),Nc()),2&t){var n=pc(1),r=pc(13);dc("for",e.inputId),la(2),bc("mat-checkbox-inner-container-no-side-margin",!r.textContent||!r.textContent.trim()),la(1),eu("id",e.inputId)("required",e.required)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex),dc("value",e.value)("name",e.name)("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby)("aria-checked",e._getAriaChecked()),la(2),eu("matRippleTrigger",n)("matRippleDisabled",e._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",xl(17,pM))}},directives:[aC,dx],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox.cdk-keyboard-focused .cdk-high-contrast-active .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),e}(Gx(zx(Wx(qx(function(){return function(t){this._elementRef=t}}()))))),EM=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)}}),t}(),xM=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[vb,sC,Ux,fx,EM],Ux,EM]}),t}(),CM={panelClass:["cf-dialog"],minWidth:"300px",maxWidth:"600px",maxHeight:"90vh",minHeight:"100px",disableClose:!1,hasBackdrop:!0},kM=[Pk,bI,YT,sA,TO,sk,g$,wP,Z$,dM,YP,ZO,TI,ZO,a$,xP,xM,RO,NI,UC],TM=["calendar_blank","classroom","gmail","clock_outline","google_drive","youtube","logout_variant","rocket","gif","qrcode"],PM=function(){function t(t,e){var n,r;this._matIconRegistry=t,this._sanitizer=e;try{for(var o=Object(i.__values)(TM),a=o.next();!a.done;a=o.next()){var s=a.value;this._matIconRegistry.addSvgIcon(s,this._sanitizer.bypassSecurityTrustResourceUrl("assets/icons/"+s+".svg"))}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)(Jt(ZC),Jt(zb))},providers:[{provide:dP,useValue:CM}],imports:[Object(i.__spread)([vb],kM),Pk,bI,YT,sA,TO,sk,g$,wP,Z$,dM,YP,ZO,TI,ZO,a$,xP,xM,RO,NI,UC]}),t}(),IM=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[vb,PM]]}),t}(),AM=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[vb,dE,IM]]}),t}(),OM=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new $M(t))},t}(),$M=function(t){function e(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return i.__extends(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],i=R(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var a=this.subscriptions[o];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(e)},e}(L);function MM(t,e){if(1&t){var n=Hc();Dc(0,"button",5),zc("click",(function(t){vn(n);var r=e.$implicit;return Yc().data.saveRating(r)})),iu(1),Nc()}if(2&t){var r=e.$implicit;la(1),au(" ",r,"\n")}}var DM=function(){function t(t,e){this.data=t,this.snackBarRef=e,this.ratings=[1,2,3,4,5,6,7,8,9,10]}return t.ɵfac=function(e){return new(e||t)(mc(zT),mc(qT))},t.ɵcmp=ge({type:t,selectors:[["ng-component"]],decls:10,vars:1,consts:[[1,"title-container"],["mat-button","",1,"dismiss",3,"click"],[1,"rating-text","start-label"],["class","rating-button","mat-button","",3,"click",4,"ngFor","ngForOf"],[1,"rating-text","end-label"],["mat-button","",1,"rating-button",3,"click"]],template:function(t,e){1&t&&(Dc(0,"span",0),Dc(1,"span"),iu(2," How likely would you be to recommend Screencastify to a friend or colleague? "),Nc(),Dc(3,"button",1),zc("click",(function(t){return e.snackBarRef.dismissWithAction()})),iu(4," X "),Nc(),Nc(),Dc(5,"span",2),iu(6," Very unlikely\n"),Nc(),hc(7,MM,2,1,"button",3),Dc(8,"span",4),iu(9," Very likely\n"),Nc()),2&t&&(la(7),eu("ngForOf",e.ratings))},directives:[kk,Qy],styles:["mat-icon.dismiss[_ngcontent-%COMP%]{margin-left:24px;vertical-align:middle}.mat-button.dismiss[_ngcontent-%COMP%]{margin-left:48px;padding:0;line-height:13px;min-width:unset;font-weight:700}.rating-text[_ngcontent-%COMP%]{font-size:14px}.rating-text.start-label[_ngcontent-%COMP%]{margin-right:5px}.rating-text.end-label[_ngcontent-%COMP%]{margin-left:5px}.title-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;justify-content:space-between;margin-bottom:4px}.mat-button.rating-button[_ngcontent-%COMP%]{background-color:#fff;color:#000;padding:4px;line-height:13px;min-width:24px;margin:0 1px}"]}),t}();function NM(t){return function(e){return e.lift(new RM(t))}}var RM=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new LM(t,this.value))},t}(),LM=function(t){function e(e,n){var r=t.call(this,e)||this;return r.value=n,r}return i.__extends(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(g),jM=function(){function t(){var t=this;this.local={},this.sync={},this.managed={},this.onChanged=chrome.storage.onChanged,["local","sync","managed"].forEach((function(e){["set","get","remove","clear"].forEach((function(n){var r,o;t[e][n]=(r=chrome.storage[e][n],o=chrome.storage[e],function(){var t,e=new Promise((function(e,n){t=function(t){chrome.runtime.lastError?n(chrome.runtime.lastError):e(t)}}));return r.apply(o,Object(i.__spread)(arguments,[t])),e})})),t[e].setSingle=function(n,r){var i={};return i[n]=r,t[e].set(i)},t[e].getSingle=function(n,r){return t[e].get(n).then((function(t){return t.hasOwnProperty(n)?t[n]:r}))}}))}return t.ɵprov=ht({token:t,factory:t.ɵfac=function(e){return new(e||t)},providedIn:"root"}),t}();qd.module("cf2.chromeStorageService",[]).factory("cf2ChromeStorageService",C_(jM));var FM={dismissed:!1,reviewed:!1,rating:null},BM=function(){function t(t,e,n,r,i,o,a){this._zone=t,this._snackBar=e,this._userAccount=n,this._chromeStorageService=r,this._$state=i,this._analytics=o,this._$rootScope=a,this._log=Hg.Log.create("RatingService"),this._subscriptions=new u,this._initPromise=this._init()}return t.prototype._init=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,e=this;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return(t=this._userAccount.onAccount().pipe(kE(1))).subscribe((function(t){return e._account=t})),[4,t.pipe(cv()).toPromise()];case 1:return n.sent(),[2]}}))}))},t.prototype.ngOnDestroy=function(){this._subscriptions.unsubscribe()},t.prototype._shouldOpenSnackBar=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(e){return t=this._account.license.isPaid?this._account.paidRecordingsCount:this._account.recordingsStoredCount,[2,!this._rating.dismissed&&t>=3]}))}))},t.prototype.startAskRatingFlow=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._initPromise];case 1:return e.sent(),t=this,[4,this._loadData()];case 2:return t._rating=e.sent(),[4,this._shouldOpenSnackBar()];case 3:return e.sent()?(this._rating.rating?this._rating.rating>=9&&!this._rating.reviewed&&this._openReviewSnackBar():this._openRatingSnackBar(),[2]):[2]}}))}))},t.prototype.closeSnackBar=function(){this._snackBarRef&&this._snackBarRef.dismiss()},t.prototype._saveRating=function(t){this._analytics.trackEvent("rating","rating","",t),this._saveToFirestore(t),this._saveData({rating:t}),t<9?this._openImprovementSnackBar():this._openReviewSnackBar(!0)},t.prototype._openRatingSnackBar=function(){var t=this;this._analytics.trackEvent("rating","asked_rating","",1);var e={saveRating:function(e){return t._saveRating(e)}};this._snackBarRef=this._zone.runTask((function(){return t._snackBar.openFromComponent(DM,{panelClass:["rating-snackbar"],horizontalPosition:"right",data:e})})),this._snackBarRef.afterDismissed().subscribe((function(e){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return e.dismissedByAction?[4,this._saveData({dismissed:!0})]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},t.prototype._openImprovementSnackBar=function(){var t=this,e=this._zone.runTask((function(){return t._snackBar.open("What can we do better?","LET US KNOW",{panelClass:["rating-snackbar"],horizontalPosition:"right"})}));e.onAction().subscribe((function(){t._analytics.trackEvent("rating","open_contact","",1),t._$state.go("support")})),this._snackBarRef=e},t.prototype._openReviewSnackBar=function(t){var e=this,n=this._snackBar.open((t?"Thank you! ":"")+"Share your experience in the Web Store!","LEAVE REVIEW",{panelClass:["rating-snackbar"],horizontalPosition:"right",duration:1e4});(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!o(t[0]))return t[0];t=t[0]}return K(t,void 0).lift(new OM)})(n.afterDismissed().pipe(NM(null)),Ik(window,"beforeunload").pipe(NM(null))).subscribe((function(){e._saveData({reviewed:!0})})),n.onAction().subscribe((function(){e._analytics.trackEvent("rating","ask_review","",1),window.open("https://chrome.google.com/webstore/detail/screencastify-screen-vide/mmeijimgabbpbgpdklnllpncmdofkcpn/reviews?utm_source=app&utm_campaign=rate_us")})),this._snackBarRef=n},t.prototype._saveData=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return Object(i.__generator)(this,(function(o){switch(o.label){case 0:return e=this._account.license.isPaid?"paid":"free",[4,this._chromeStorageService.sync.getSingle("rateUs",{})];case 1:return n=o.sent(),r=n[e]||FM,n[e]=Object(i.__assign)(Object(i.__assign)({},r),t),[4,this._chromeStorageService.sync.setSingle("rateUs",n)];case 2:return o.sent(),[2]}}))}))},t.prototype._saveToFirestore=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:e={rating:t,email:this._account.user.email,planVariant:this._account.license.isPaid?"paid":this._account.user.planVariant},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,gg().app().firestore().collection("netPromoterScore").add(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),this._log.error("error sending NPS data to firestore",n),[3,4];case 4:return[2]}}))}))},t.prototype._loadData=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return t=this._account.license.isPaid?"paid":"free",[4,this._chromeStorageService.sync.getSingle("rateUs",{})];case 1:return[2,e.sent()[t]||FM]}}))}))},t.ɵprov=ht({token:t,factory:t.ɵfac=function(e){return new(e||t)(Jt(wd),Jt(ZT),Jt(NE),Jt(jM),Jt(Lg),Jt(wg),Jt(jg))},providedIn:"root"}),t}();qd.module("cf2.ratingService",[]).factory("cf2RatingService",C_(BM));var VM,HM,UM=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},providers:[BM],imports:[[vb,YT,sk,Pk]]}),t}(),qM=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){VM=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry__?this.__sentry_original__:this;return VM.apply(n,t)}},t.id="FunctionToString",t}(),zM=n("e9BD"),WM=n("VKa5"),GM=n("zgdO"),KM=n("Iwrg"),QM=n("cJHJ"),YM=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],XM=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){Object(zM.b)((function(e){var n=Object(WM.a)();if(!n)return e;var r=n.getIntegration(t);if(r){var i=n.getClient(),o=i?i.getOptions():{},a=r._mergeOptions(o);if(r._shouldDropEvent(e,a))return null}return e}))},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(GM.a.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(KM.e)(t)),!0):this._isIgnoredError(t,e)?(GM.a.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(KM.e)(t)),!0):this._isBlacklistedUrl(t,e)?(GM.a.warn("Event dropped due to being matched by `blacklistUrls` option.\nEvent: "+Object(KM.e)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isWhitelistedUrl(t,e)&&(GM.a.warn("Event dropped due to not being matched by `whitelistUrls` option.\nEvent: "+Object(KM.e)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(void 0===e&&(e={}),!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(n){return!1}},t.prototype._isIgnoredError=function(t,e){return void 0===e&&(e={}),!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some((function(t){return e.ignoreErrors.some((function(e){return Object(QM.a)(t,e)}))}))},t.prototype._isBlacklistedUrl=function(t,e){if(void 0===e&&(e={}),!e.blacklistUrls||!e.blacklistUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.blacklistUrls.some((function(t){return Object(QM.a)(n,t)}))},t.prototype._isWhitelistedUrl=function(t,e){if(void 0===e&&(e={}),!e.whitelistUrls||!e.whitelistUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.whitelistUrls.some((function(t){return Object(QM.a)(n,t)}))},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{blacklistUrls:i.__spread(this._options.blacklistUrls||[],t.blacklistUrls||[]),ignoreErrors:i.__spread(this._options.ignoreErrors||[],t.ignoreErrors||[],YM),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal,whitelistUrls:i.__spread(this._options.whitelistUrls||[],t.whitelistUrls||[])}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,r=e.value,i=void 0===r?"":r;return[""+i,(void 0===n?"":n)+": "+i]}catch(o){return GM.a.error("Cannot extract message for event "+Object(KM.e)(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(r){return GM.a.error("Cannot extract url for event "+Object(KM.e)(t)),null}},t.id="InboundFilters",t}(),ZM=n("bTzN"),JM=n("mekd"),tD=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t}),eD=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,tD(r,n.prototype),r}return i.__extends(e,t),e}(Error),nD=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,rD=function(){function t(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.path,r=e.pass,i=e.port;return e.protocol+"://"+e.user+(t&&r?":"+r:"")+"@"+e.host+(i?":"+i:"")+"/"+(n?n+"/":n)+e.projectId},t.prototype._fromString=function(t){var e=nD.exec(t);if(!e)throw new eD("Invalid Dsn");var n=i.__read(e.slice(1),6),r=n[0],o=n[1],a=n[2],s=void 0===a?"":a,c=n[3],u=n[4],l=void 0===u?"":u,d="",f=n[5],h=f.split("/");h.length>1&&(d=h.slice(0,-1).join("/"),f=h.pop()),this._fromComponents({host:c,pass:s,path:d,projectId:f,port:l,protocol:r,user:o})},t.prototype._fromComponents=function(t){this.protocol=t.protocol,this.user=t.user,this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","user","host","projectId"].forEach((function(e){if(!t[e])throw new eD("Invalid Dsn")})),"http"!==this.protocol&&"https"!==this.protocol)throw new eD("Invalid Dsn");if(this.port&&isNaN(parseInt(this.port,10)))throw new eD("Invalid Dsn")},t}(),iD=function(){function t(t){this.dsn=t,this._dsnObject=new rD(t)}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getStoreEndpoint=function(){return""+this._getBaseUrl()+this.getStoreEndpointPath()},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){var t={sentry_key:this._dsnObject.user,sentry_version:"7"};return this.getStoreEndpoint()+"?"+Object(JM.e)(t)},t.prototype._getBaseUrl=function(){var t=this._dsnObject;return(t.protocol?t.protocol+":":"")+"//"+t.host+(t.port?":"+t.port:"")},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_timestamp="+(new Date).getTime()),r.push("sentry_client="+t+"/"+e),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,n=this._getBaseUrl()+(e.path?"/"+e.path:"")+"/api/embed/error-page/",r=[];for(var i in r.push("dsn="+e.toString()),t)if("user"===i){if(!t.user)continue;t.user.name&&r.push("name="+encodeURIComponent(t.user.name)),t.user.email&&r.push("email="+encodeURIComponent(t.user.email))}else r.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return r.length?n+"?"+r.join("&"):n},t}(),oD=n("26VM"),aD=[],sD=function(){function t(t,e){this._integrations={},this._processing=!1,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new rD(e.dsn)),this._isEnabled()&&(this._integrations=function(t){var e={};return function(t){var e=t.defaultIntegrations&&i.__spread(t.defaultIntegrations)||[],n=t.integrations,r=[];if(Array.isArray(n)){var o=n.map((function(t){return t.name})),a=[];e.forEach((function(t){-1===o.indexOf(t.name)&&-1===a.indexOf(t.name)&&(r.push(t),a.push(t.name))})),n.forEach((function(t){-1===a.indexOf(t.name)&&(r.push(t),a.push(t.name))}))}else"function"==typeof n?(r=n(e),r=Array.isArray(r)?r:[r]):r=i.__spread(e);var s=r.map((function(t){return t.name}));return-1!==s.indexOf("Debug")&&r.push.apply(r,i.__spread(r.splice(s.indexOf("Debug"),1))),r}(t).forEach((function(t){e[t.name]=t,function(t){-1===aD.indexOf(t.name)&&(t.setupOnce(zM.b,WM.a),aD.push(t.name),GM.a.log("Integration installed: "+t.name))}(t)})),e}(this._options))}return t.prototype.captureException=function(t,e,n){var r=this,i=e&&e.event_id;return this._processing=!0,this._getBackend().eventFromException(t,e).then((function(t){return r._processEvent(t,e,n)})).then((function(t){i=t&&t.event_id,r._processing=!1})).then(null,(function(t){GM.a.error(t),r._processing=!1})),i},t.prototype.captureMessage=function(t,e,n,r){var i=this,o=n&&n.event_id;return this._processing=!0,(Object(oD.h)(t)?this._getBackend().eventFromMessage(""+t,e,n):this._getBackend().eventFromException(t,n)).then((function(t){return i._processEvent(t,n,r)})).then((function(t){o=t&&t.event_id,i._processing=!1})).then(null,(function(t){GM.a.error(t),i._processing=!1})),o},t.prototype.captureEvent=function(t,e,n){var r=this,i=e&&e.event_id;return this._processing=!0,this._processEvent(t,e,n).then((function(t){i=t&&t.event_id,r._processing=!1})).then(null,(function(t){GM.a.error(t),r._processing=!1})),i},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then((function(n){return clearInterval(n.interval),e._getBackend().getTransport().close(t).then((function(t){return n.ready&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.getIntegrations=function(){return this._integrations||{}},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return GM.a.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._isClientProcessing=function(t){var e=this;return new ZM.a((function(n){var r=0,i=0;clearInterval(i),i=setInterval((function(){e._processing?(r+=1,t&&r>=t&&n({interval:i,ready:!1})):n({interval:i,ready:!0})}),1)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var r=this.getOptions(),o=r.environment,a=r.release,s=r.dist,c=r.maxValueLength,u=void 0===c?250:c,l=i.__assign({},t);void 0===l.environment&&void 0!==o&&(l.environment=o),void 0===l.release&&void 0!==a&&(l.release=a),void 0===l.dist&&void 0!==s&&(l.dist=s),l.message&&(l.message=Object(QM.c)(l.message,u));var d=l.exception&&l.exception.values&&l.exception.values[0];d&&d.value&&(d.value=Object(QM.c)(d.value,u));var f=l.request;f&&f.url&&(f.url=Object(QM.c)(f.url,u)),void 0===l.event_id&&(l.event_id=Object(KM.l)()),this._addIntegrations(l.sdk);var h=ZM.a.resolve(l);return e&&(h=e.applyToEvent(l,n)),h},t.prototype._addIntegrations=function(t){var e=Object.keys(this._integrations);t&&e.length>0&&(t.integrations=e)},t.prototype._processEvent=function(t,e,n){var r=this,i=this.getOptions(),o=i.beforeSend,a=i.sampleRate;return this._isEnabled()?"number"==typeof a&&Math.random()>a?ZM.a.reject("This event has been sampled, will not send event."):new ZM.a((function(i,a){r._prepareEvent(t,n,e).then((function(t){if(null!==t){var n=t;try{if(e&&e.data&&!0===e.data.__sentry__||!o)return r._getBackend().sendEvent(n),void i(n);var s=o(t,e);if(void 0===s)GM.a.error("`beforeSend` method has to return `null` or a valid event.");else if(Object(oD.l)(s))r._handleAsyncBeforeSend(s,i,a);else{if(null===(n=s))return GM.a.log("`beforeSend` returned `null`, will not send event."),void i(null);r._getBackend().sendEvent(n),i(n)}}catch(c){r.captureException(c,{data:{__sentry__:!0},originalException:c}),a("`beforeSend` threw an error, will not send event.")}}else a("An event processor returned null, will not send event.")})).then(null,(function(){a("`beforeSend` threw an error, will not send event.")}))})):ZM.a.reject("SDK not enabled, will not send event.")},t.prototype._handleAsyncBeforeSend=function(t,e,n){var r=this;t.then((function(t){null!==t?(r._getBackend().sendEvent(t),e(t)):n("`beforeSend` returned `null`, will not send event.")})).then(null,(function(t){n("beforeSend rejected with "+t)}))},t}();!function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(HM||(HM={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(HM||(HM={}));var cD,uD=function(){function t(){}return t.prototype.sendEvent=function(t){return ZM.a.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:HM.Skipped})},t.prototype.close=function(t){return ZM.a.resolve(!0)},t}(),lD=function(){function t(t){this._options=t,this._options.dsn||GM.a.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype._setupTransport=function(){return new uD},t.prototype.eventFromException=function(t,e){throw new eD("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new eD("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,(function(t){GM.a.error("Error while sending event: "+t)}))},t.prototype.getTransport=function(){return this._transport},t}();function dD(){if(!("fetch"in Object(KM.f)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function fD(){if(!dD())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}!function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(cD||(cD={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(cD||(cD={}));var hD="?",pD=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[-a-z]+:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,mD=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,gD=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,vD=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,yD=/\((\S*)(?::(\d+))(?::(\d+))\)/;function bD(t){var e=null,n=t&&t.framesToPop;try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,i=t.stacktrace.split("\n"),o=[],a=0;a<i.length;a+=2){var s=null;(e=n.exec(i[a]))?s={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=r.exec(i[a]))&&(s={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),s&&(!s.func&&s.line&&(s.func=hD),o.push(s))}return o.length?{message:wD(t),name:t.name,stack:o}:null}(t))return _D(e,n)}catch(r){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,r,i=[],o=t.stack.split("\n"),a=0;a<o.length;++a){if(n=pD.exec(o[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=yD.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),r={url:n[2],func:n[1]||hD,args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=gD.exec(o[a]))r={url:n[2],func:n[1]||hD,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=mD.exec(o[a])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=vD.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==a||n[5]||void 0===t.columnNumber||(i[0].column=t.columnNumber+1),r={url:n[3],func:n[1]||hD,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=hD),i.push(r)}return i.length?{message:wD(t),name:t.name,stack:i}:null}(t))return _D(e,n)}catch(r){}return{message:wD(t),name:t&&t.name,stack:[],failed:!0}}function _D(t,e){try{return i.__assign({},t,{stack:t.stack.slice(e)})}catch(n){return t}}function wD(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}var SD=50;function ED(t){var e=CD(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function xD(t){return{exception:{values:[ED(t)]}}}function CD(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",r=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==r.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.map((function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}})).slice(0,SD).reverse()}function kD(t,e,n){var r;if(void 0===n&&(n={}),Object(oD.e)(t)&&t.error)return xD(bD(t=t.error));if(Object(oD.a)(t)||Object(oD.b)(t)){var i=t,o=i.name||(Object(oD.a)(i)?"DOMError":"DOMException"),a=i.message?o+": "+i.message:o;return r=TD(a,e,n),Object(KM.b)(r,a),r}return Object(oD.d)(t)?r=xD(bD(t)):Object(oD.g)(t)||Object(oD.f)(t)?(r=function(t,e,n){var r={exception:{values:[{type:Object(oD.f)(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Object(JM.a)(t)}]},extra:{__serialized__:Object(JM.d)(t)}};if(e){var i=CD(bD(e).stack);r.stacktrace={frames:i}}return r}(t,e,n.rejection),Object(KM.a)(r,{synthetic:!0}),r):(r=TD(t,e,n),Object(KM.b)(r,""+t,void 0),Object(KM.a)(r,{synthetic:!0}),r)}function TD(t,e,n){void 0===n&&(n={});var r={message:t};if(n.attachStacktrace&&e){var i=CD(bD(e).stack);r.stacktrace={frames:i}}return r}var PD=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then((function(){return e.remove(t)})).then(null,(function(){return e.remove(t).then(null,(function(){}))})),t):ZM.a.reject(new eD("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new ZM.a((function(n){var r=setTimeout((function(){t&&t>0&&n(!1)}),t);ZM.a.all(e._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},t}(),ID=function(){function t(t){this.options=t,this._buffer=new PD(30),this.url=new iD(this.options.dsn).getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new eD("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this._buffer.drain(t)},t}(),AD=Object(KM.f)(),OD=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disabledUntil=new Date(Date.now()),e}return i.__extends(e,t),e.prototype.sendEvent=function(t){var e=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:t,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var n={body:JSON.stringify(t),method:"POST",referrerPolicy:fD()?"origin":""};return this._buffer.add(new ZM.a((function(t,r){AD.fetch(e.url,n).then((function(n){var i=HM.fromHttpCode(n.status);if(i!==HM.Success){if(i===HM.RateLimit){var o=Date.now();e._disabledUntil=new Date(o+Object(KM.j)(o,n.headers.get("Retry-After"))),GM.a.warn("Too many requests, backing off till: "+e._disabledUntil)}r(n)}else t({status:i})})).catch(r)})))},e}(ID),$D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disabledUntil=new Date(Date.now()),e}return i.__extends(e,t),e.prototype.sendEvent=function(t){var e=this;return new Date(Date.now())<this._disabledUntil?Promise.reject({event:t,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429}):this._buffer.add(new ZM.a((function(n,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState){var t=HM.fromHttpCode(i.status);if(t!==HM.Success){if(t===HM.RateLimit){var o=Date.now();e._disabledUntil=new Date(o+Object(KM.j)(o,i.getResponseHeader("Retry-After"))),GM.a.warn("Too many requests, backing off till: "+e._disabledUntil)}r(i)}else n({status:t})}},i.open("POST",e.url),i.send(JSON.stringify(t))})))},e}(ID),MD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=i.__assign({},this._options.transportOptions,{dsn:this._options.dsn});return this._options.transport?new this._options.transport(e):dD()?new OD(e):new $D(e)},e.prototype.eventFromException=function(t,e){var n=kD(t,e&&e.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return Object(KM.a)(n,{handled:!0,type:"generic"}),n.level=cD.Error,e&&e.event_id&&(n.event_id=e.event_id),ZM.a.resolve(n)},e.prototype.eventFromMessage=function(t,e,n){void 0===e&&(e=cD.Info);var r=TD(t,n&&n.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return r.level=e,n&&n.event_id&&(r.event_id=n.event_id),ZM.a.resolve(r)},e}(lD),DD=function(t){function e(e){return void 0===e&&(e={}),t.call(this,MD,e)||this}return i.__extends(e,t),e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"javascript",e.sdk=i.__assign({},e.sdk,{name:"sentry.javascript.browser",packages:i.__spread(e.sdk&&e.sdk.packages||[],[{name:"npm:@sentry/browser",version:"5.9.1"}]),version:"5.9.1"}),t.prototype._prepareEvent.call(this,e,n,r)},e.prototype.showReportDialog=function(t){void 0===t&&(t={});var e=Object(KM.f)().document;if(e)if(this._isEnabled()){var n=t.dsn||this.getDsn();if(t.eventId)if(n){var r=e.createElement("script");r.async=!0,r.src=new iD(n).getReportDialogEndpoint(t),t.onLoad&&(r.onload=t.onLoad),(e.head||e.body).appendChild(r)}else GM.a.error("Missing `Dsn` option in showReportDialog call");else GM.a.error("Missing `eventId` option in showReportDialog call")}else GM.a.error("Trying to call showReportDialog with Sentry Client is disabled")},e}(sD);function ND(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Object(WM.a)();if(r&&r[t])return r[t].apply(r,i.__spread(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function RD(t){var e;try{throw new Error("Sentry syntheticException")}catch(t){e=t}return ND("captureException",t,{originalException:t,syntheticException:e})}function LD(t){ND("withScope",t)}var jD,FD,BD=1e3,VD=0;function HD(){return VD>0}function UD(){VD+=1,setTimeout((function(){VD-=1}))}function qD(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(a){return t}var r=function(){n&&"function"==typeof n&&n.apply(this,arguments);var r=Array.prototype.slice.call(arguments);try{var o=r.map((function(t){return qD(t,e)}));return t.handleEvent?t.handleEvent.apply(this,o):t.apply(this,o)}catch(a){throw UD(),LD((function(t){t.addEventProcessor((function(t){var n=i.__assign({},t);return e.mechanism&&(Object(KM.b)(n,void 0,void 0),Object(KM.a)(n,e.mechanism)),n.extra=i.__assign({},n.extra,{arguments:Object(JM.c)(r,3)}),n})),RD(a)})),a}};try{for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}catch(s){}t.prototype=t.prototype||{},r.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return t.name}})}catch(s){}return r}var zD=0;function WD(t,e){return void 0===e&&(e=!1),function(n){if(jD=void 0,n&&FD!==n){FD=n;var r=function(){var e;try{e=n.target?Object(KM.h)(n.target):Object(KM.h)(n)}catch(r){e="<unknown>"}0!==e.length&&Object(WM.a)().addBreadcrumb({category:"ui."+t,message:e},{event:n,name:t})};zD&&clearTimeout(zD),e?zD=setTimeout(r):r()}}}function GD(){return function(t){var e;try{e=t.target}catch(r){return}var n=e&&e.tagName;n&&("INPUT"===n||"TEXTAREA"===n||e.isContentEditable)&&(jD||WD("input")(t),clearTimeout(jD),jD=setTimeout((function(){jD=void 0}),BD))}}var KD=function(){function t(){this._ignoreOnError=0,this.name=t.id}return t.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=qD(r,{mechanism:{data:{function:QD(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype._wrapRAF=function(t){return function(e){return t(qD(e,{mechanism:{data:{function:"requestAnimationFrame",handler:QD(t)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(t){var e=Object(KM.f)(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(JM.b)(n,"addEventListener",(function(e){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=qD(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:QD(r),target:t},handled:!0,type:"instrument"}}))}catch(o){}return e.call(this,n,qD(r,{mechanism:{data:{function:"addEventListener",handler:QD(r),target:t},handled:!0,type:"instrument"}}),i)}})),Object(JM.b)(n,"removeEventListener",(function(t){return function(e,n,r){var i=n;try{i=i&&(i.__sentry_wrapped__||i)}catch(o){}return t.call(this,e,i,r)}})))},t.prototype.setupOnce=function(){this._ignoreOnError=this._ignoreOnError;var t=Object(KM.f)();Object(JM.b)(t,"setTimeout",this._wrapTimeFunction.bind(this)),Object(JM.b)(t,"setInterval",this._wrapTimeFunction.bind(this)),Object(JM.b)(t,"requestAnimationFrame",this._wrapRAF.bind(this)),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(this._wrapEventTarget.bind(this))},t.id="TryCatch",t}();function QD(t){try{return t&&t.name||"<anonymous>"}catch(e){return"<anonymous>"}}var YD,XD=Object(KM.f)(),ZD=function(){function t(e){this.name=t.id,this._options=i.__assign({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype._instrumentConsole=function(){"console"in XD&&["debug","info","warn","error","log","assert"].forEach((function(e){e in XD.console&&Object(JM.b)(XD.console,e,(function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o={category:"console",data:{extra:{arguments:Object(JM.c)(r,3)},logger:"console"},level:cD.fromString(e),message:Object(QM.b)(r," ")};"assert"===e?!1===r[0]&&(o.message="Assertion failed: "+(Object(QM.b)(r.slice(1)," ")||"console.assert"),o.data.extra.arguments=Object(JM.c)(r.slice(1),3),t.addBreadcrumb(o,{input:r,level:e})):t.addBreadcrumb(o,{input:r,level:e}),n&&Function.prototype.apply.call(n,XD.console,r)}}))}))},t.prototype._instrumentDOM=function(){"document"in XD&&(XD.document.addEventListener("click",WD("click"),!1),XD.document.addEventListener("keypress",GD(),!1),["EventTarget","Node"].forEach((function(t){var e=XD[t]&&XD[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(Object(JM.b)(e,"addEventListener",(function(t){return function(e,n,r){return n&&n.handleEvent?("click"===e&&Object(JM.b)(n,"handleEvent",(function(t){return function(e){return WD("click")(e),t.call(this,e)}})),"keypress"===e&&Object(JM.b)(n,"handleEvent",(function(t){return function(e){return GD()(e),t.call(this,e)}}))):("click"===e&&WD("click",!0)(this),"keypress"===e&&GD()(this)),t.call(this,e,n,r)}})),Object(JM.b)(e,"removeEventListener",(function(t){return function(e,n,r){var i=n;try{i=i&&(i.__sentry_wrapped__||i)}catch(o){}return t.call(this,e,i,r)}})))})))},t.prototype._instrumentFetch=function(){(function(){if(!dD())return!1;var t=function(t){return-1!==t.toString().indexOf("native")},e=Object(KM.f)(),n=null,r=e.document;if(r){var i=r.createElement("iframe");i.hidden=!0;try{r.head.appendChild(i),i.contentWindow&&i.contentWindow.fetch&&(n=t(i.contentWindow.fetch)),r.head.removeChild(i)}catch(o){GM.a.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",o)}}return null===n&&(n=t(e.fetch)),n})()&&Object(JM.b)(XD,"fetch",(function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i,o=n[0],a="GET";"string"==typeof o?i=o:"Request"in XD&&o instanceof Request?(i=o.url,o.method&&(a=o.method)):i=String(o),n[1]&&n[1].method&&(a=n[1].method);var s=Object(WM.a)().getClient(),c=s&&s.getDsn();if(c){var u=new iD(c).getStoreEndpoint();if(u&&-1!==i.indexOf(u))return"POST"===a&&n[1]&&n[1].body&&JD(n[1].body),e.apply(XD,n)}var l={method:Object(oD.j)(a)?a.toUpperCase():a,url:i};return e.apply(XD,n).then((function(e){return l.status_code=e.status,t.addBreadcrumb({category:"fetch",data:l,type:"http"},{input:n,response:e}),e})).then(null,(function(e){throw t.addBreadcrumb({category:"fetch",data:l,level:cD.Error,type:"http"},{error:e,input:n}),e}))}}))},t.prototype._instrumentHistory=function(){var e=this;if(function(){var t=Object(KM.f)(),e=t.chrome;return!(e&&e.app&&e.app.runtime)&&"history"in t&&!!t.history.pushState&&!!t.history.replaceState}()){var n=function(e,n){var r=Object(KM.k)(XD.location.href),i=Object(KM.k)(n),o=Object(KM.k)(e);o.path||(o=r),YD=n,r.protocol===i.protocol&&r.host===i.host&&(n=i.relative),r.protocol===o.protocol&&r.host===o.host&&(e=o.relative),t.addBreadcrumb({category:"navigation",data:{from:e,to:n}})},r=XD.onpopstate;XD.onpopstate=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=XD.location.href;if(n(YD,o),r)return r.apply(e,t)},Object(JM.b)(XD.history,"pushState",i),Object(JM.b)(XD.history,"replaceState",i)}function i(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=e.length>2?e[2]:void 0;return i&&n(YD,String(i)),t.apply(this,e)}}},t.prototype._instrumentXHR=function(){if("XMLHttpRequest"in XD){var e=XMLHttpRequest.prototype;Object(JM.b)(e,"open",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[1];this.__sentry_xhr__={method:Object(oD.j)(e[0])?e[0].toUpperCase():e[0],url:e[1]};var i=Object(WM.a)().getClient(),o=i&&i.getDsn();if(o){var a=new iD(o).getStoreEndpoint();Object(oD.j)(r)&&a&&-1!==r.indexOf(a)&&(this.__sentry_own_request__=!0)}return t.apply(this,e)}})),Object(JM.b)(e,"send",(function(e){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this;function a(){if(4===o.readyState){if(o.__sentry_own_request__)return;try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(e){}t.addBreadcrumb({category:"xhr",data:o.__sentry_xhr__,type:"http"},{xhr:o})}}o.__sentry_own_request__&&JD(r[0]);var s=["onload","onerror","onprogress"];return s.forEach((function(t){n(t,o)})),"onreadystatechange"in o&&"function"==typeof o.onreadystatechange?Object(JM.b)(o,"onreadystatechange",(function(t){return qD(t,{mechanism:{data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"},handled:!0,type:"instrument"}},a)})):o.onreadystatechange=a,e.apply(this,r)}}))}function n(t,e){t in e&&"function"==typeof e[t]&&Object(JM.b)(e,t,(function(e){return qD(e,{mechanism:{data:{function:t,handler:e&&e.name||"<anonymous>"},handled:!0,type:"instrument"}})}))}},t.addBreadcrumb=function(e,n){Object(WM.a)().getIntegration(t)&&Object(WM.a)().addBreadcrumb(e,n)},t.prototype.setupOnce=function(){this._options.console&&this._instrumentConsole(),this._options.dom&&this._instrumentDOM(),this._options.xhr&&this._instrumentXHR(),this._options.fetch&&this._instrumentFetch(),this._options.history&&this._instrumentHistory()},t.id="Breadcrumbs",t}();function JD(t){try{var e=JSON.parse(t);ZD.addBreadcrumb({category:"sentry",event_id:e.event_id,level:e.level||cD.fromString("error"),message:Object(KM.e)(e)},{event:e})}catch(n){GM.a.error("Error while adding sentry type breadcrumb")}}var tN=function(){function t(e){this.name=t.id,this._global=Object(KM.f)(),this._oldOnErrorHandler=null,this._oldOnUnhandledRejectionHandler=null,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=i.__assign({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(GM.a.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(GM.a.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){if(!this._onErrorHandlerInstalled){var e=this;this._oldOnErrorHandler=this._global.onerror,this._global.onerror=function(n,r,i,o,a){var s=Object(WM.a)(),c=s.getIntegration(t),u=a&&!0===a.__sentry_own_request__;if(!c||HD()||u)return!e._oldOnErrorHandler||e._oldOnErrorHandler.apply(this,arguments);var l=s.getClient(),d=Object(oD.h)(a)?e._eventFromIncompleteOnError(n,r,i,o):e._enhanceEventWithInitialFrame(kD(a,void 0,{attachStacktrace:l&&l.getOptions().attachStacktrace,rejection:!1}),r,i,o);return Object(KM.a)(d,{handled:!1,type:"onerror"}),s.captureEvent(d,{originalException:a}),!e._oldOnErrorHandler||e._oldOnErrorHandler.apply(this,arguments)},this._onErrorHandlerInstalled=!0}},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){if(!this._onUnhandledRejectionHandlerInstalled){var e=this;this._oldOnUnhandledRejectionHandler=this._global.onunhandledrejection,this._global.onunhandledrejection=function(n){var r=n;try{r=n&&"reason"in n?n.reason:n}catch(u){}var i=Object(WM.a)(),o=i.getIntegration(t),a=r&&!0===r.__sentry_own_request__;if(!o||HD()||a)return!e._oldOnUnhandledRejectionHandler||e._oldOnUnhandledRejectionHandler.apply(this,arguments);var s=i.getClient(),c=Object(oD.h)(r)?e._eventFromIncompleteRejection(r):kD(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});return c.level=cD.Error,Object(KM.a)(c,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(c,{originalException:r}),!e._oldOnUnhandledRejectionHandler||e._oldOnUnhandledRejectionHandler.apply(this,arguments)},this._onUnhandledRejectionHandlerInstalled=!0}},t.prototype._eventFromIncompleteOnError=function(t,e,n,r){var i,o=Object(oD.e)(t)?t.message:t;if(Object(oD.j)(o)){var a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(i=a[1],o=a[2])}return this._enhanceEventWithInitialFrame({exception:{values:[{type:i||"Error",value:o}]}},e,n,r)},t.prototype._eventFromIncompleteRejection=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+t}]}}},t.prototype._enhanceEventWithInitialFrame=function(t,e,n,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var i=isNaN(parseInt(r,10))?void 0:r,o=isNaN(parseInt(n,10))?void 0:n,a=Object(oD.j)(e)&&e.length>0?e:Object(KM.g)();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:i,filename:a,function:"?",in_app:!0,lineno:o}),t},t.id="GlobalHandlers",t}(),eN="cause",nN=5,rN=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||eN,this._limit=e.limit||nN}return t.prototype.setupOnce=function(){Object(zM.b)((function(e,n){var r=Object(WM.a)().getIntegration(t);return r?r._handler(e,n):e}))},t.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&e.originalException instanceof Error))return t;var n=this._walkErrorTree(e.originalException,this._key);return t.exception.values=i.__spread(n,t.exception.values),t},t.prototype._walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!(t[e]instanceof Error)||n.length+1>=this._limit)return n;var r=ED(bD(t[e]));return this._walkErrorTree(t[e],e,i.__spread([r],n))},t.id="LinkedErrors",t}(),iN=Object(KM.f)(),oN=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Object(zM.b)((function(e){if(Object(WM.a)().getIntegration(t)){if(!iN.navigator||!iN.location)return e;var n=e.request||{};return n.url=n.url||iN.location.href,n.headers=n.headers||{},n.headers["User-Agent"]=iN.navigator.userAgent,i.__assign({},e,{request:n})}return e}))},t.id="UserAgent",t}(),aN=[new r.InboundFilters,new r.FunctionToString,new KD,new ZD,new tN,new rN,new oN];!function(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=aN),void 0===t.release){var e=Object(KM.f)();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}!function(t,e){!0===e.debug&&GM.a.enable(),Object(WM.a)().bindClient(new t(e))}(DD,t)}({beforeSend:function(t){try{if(window.localStorage.e2e)return null}catch(e){}return t},dsn:mg.production?"https://83be6b50b8d748f6915a9c3345443403@sentry.io/1538219":"",environment:mg.environmentName,release:chrome.runtime.getManifest().version_name});var sN=function(){function t(t){this._injector=t,this._hasUserContext=!1}return t.prototype._setupUserContext=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return this._hasUserContext?[2]:(this._hasUserContext=!0,[4,this._injector.get(NE).getAccount()]);case 1:return(t=e.sent())&&t.user&&ND("configureScope",(function(e){e.setUser({email:t.user.email})})),[2]}}))}))},t.prototype.handleError=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._setupUserContext()];case 1:return e.sent(),RD(t.originalError||t),console.warn(t),[2]}}))}))},t.ɵprov=ht({token:t,factory:t.ɵfac=function(e){return new(e||t)(Jt(Ys))},providedIn:"root"}),t}();qd.module("cf2.sentryErrorHandler",[]).factory("sentryErrorHandler",C_(sN));var cN=function(){function t(t){if(t)throw new Error("ErrorReportingModule is already loaded. Import it in the AppModule only")}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)(Jt(t,12))},providers:[{provide:Ri,useExisting:sN}],imports:[[vb]]}),t}(),uN=function(){function t(t){if(t)throw new Error("ChromeStorageModule is already loaded.")}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)(Jt(t,12))},providers:[jM],imports:[[vb]]}),t}(),lN=function(){function t(t){if(t)throw new Error("UpgradeHelperModule is already loaded.")}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)(Jt(t,12))},providers:[LE],imports:[[vb]]}),t}(),dN=n("88uq"),fN=n("RekH"),hN=["tourStep"];function pN(t,e){if(1&t){var n=Hc();Dc(0,"div",4),zc("mouseenter",(function(t){return vn(n),Yc().handleOrb()})),Rc(1,"div",5),Nc()}if(2&t){var r=Yc();cu("tour-orb tour-",r.currentTourStep.orientation,""),yc("top",r.orbTopPosition,"px")("left",r.orbLeftPosition,"px")("transform",r.orbTransform)}}function mN(t,e){if(1&t){var n=Hc();Dc(0,"div"),Dc(1,"div",6),zc("click",(function(t){return vn(n),Yc().backdropClick(t)})),Nc(),Rc(2,"div",7),Nc()}if(2&t){var r=Yc();la(2),yc("top",r.overlayTop,"px")("left",r.overlayLeft,"px")("height",r.overlayHeight,"px")("width",r.overlayWidth,"px")}}function gN(t,e){1&t&&Rc(0,"div",20)}function vN(t,e){1&t&&Vc(0)}function yN(t,e){if(1&t&&(Dc(0,"div",21),hc(1,vN,1,0,"ng-container",22),Nc()),2&t){Yc(3);var n=pc(4);la(1),eu("ngTemplateOutlet",n)}}function bN(t,e){if(1&t&&(Dc(0,"h3",23),iu(1),Nc()),2&t){var n=Yc(3);la(1),au(" ",n.currentTourStep.title," ")}}function _N(t,e){if(1&t&&(Dc(0,"h2",23),iu(1),Nc()),2&t){var n=Yc(3);la(1),au(" ",n.currentTourStep.title," ")}}function wN(t,e){if(1&t){var n=Hc();Dc(0,"button",24),zc("click",(function(t){return vn(n),Yc(3).guidedTourService.skipTour()})),iu(1),Nc()}if(2&t){var r=Yc(3);la(1),au(" ",r.skipText," ")}}function SN(t,e){1&t&&Vc(0)}function EN(t,e){if(1&t&&(Fc(0),hc(1,SN,1,0,"ng-container",22),Bc()),2&t){Yc(4);var n=pc(4);la(1),eu("ngTemplateOutlet",n)}}function xN(t,e){if(1&t){var n=Hc();Dc(0,"button",25),zc("click",(function(t){return vn(n),Yc(3).guidedTourService.nextStep()})),iu(1),hc(2,EN,2,1,"ng-container",1),Nc()}if(2&t){var r=Yc(3);la(1),au(" ",r.nextText," "),la(1),eu("ngIf",r.progressIndicatorLocation===r.progressIndicatorLocations.InsideNextButton)}}function CN(t,e){if(1&t){var n=Hc();Dc(0,"button",25),zc("click",(function(t){return vn(n),Yc(3).guidedTourService.nextStep()})),iu(1),Nc()}if(2&t){var r=Yc(3);la(1),au(" ",r.doneText," ")}}function kN(t,e){if(1&t){var n=Hc();Dc(0,"button",25),zc("click",(function(t){return vn(n),Yc(3).guidedTourService.resetTour()})),iu(1),Nc()}if(2&t){var r=Yc(3);la(1),au(" ",r.closeText," ")}}function TN(t,e){if(1&t){var n=Hc();Dc(0,"button",26),zc("click",(function(t){return vn(n),Yc(3).guidedTourService.backStep()})),iu(1),Nc()}if(2&t){var r=Yc(3);la(1),au(" ",r.backText," ")}}var PN=function(t){return{"page-tour-step":t}};function IN(t,e){if(1&t&&(Dc(0,"div",9,10),hc(2,gN,1,0,"div",11),Dc(3,"div",12),hc(4,yN,2,1,"div",13),hc(5,bN,2,1,"h3",14),hc(6,_N,2,1,"h2",14),Rc(7,"div",15),Dc(8,"div",16),hc(9,wN,2,1,"button",17),hc(10,xN,3,2,"button",18),hc(11,CN,2,1,"button",18),hc(12,kN,2,1,"button",18),hc(13,TN,2,1,"button",19),Nc(),Nc(),Nc()),2&t){var n=Yc(2);cu("tour-step tour-",n.currentTourStep.orientation,""),yc("top",n.currentTourStep.selector&&n.selectedElementRect?n.topPosition:null,"px")("left",n.currentTourStep.selector&&n.selectedElementRect?n.leftPosition:null,"px")("width",n.currentTourStep.selector&&n.selectedElementRect?n.calculatedTourStepWidth:null,"px")("transform",n.currentTourStep.selector&&n.selectedElementRect?n.transform:null),eu("ngClass",Cl(18,PN,!n.currentTourStep.selector)),la(2),eu("ngIf",n.currentTourStep.selector),la(2),eu("ngIf",n.progressIndicatorLocation===n.progressIndicatorLocations.TopOfTourBlock&&!n.guidedTourService.onResizeMessage),la(1),eu("ngIf",n.currentTourStep.title&&n.currentTourStep.selector),la(1),eu("ngIf",n.currentTourStep.title&&!n.currentTourStep.selector),la(1),eu("innerHTML",n.currentTourStep.content,ho),la(2),eu("ngIf",!n.guidedTourService.onResizeMessage),la(1),eu("ngIf",!n.guidedTourService.onLastStep&&!n.guidedTourService.onResizeMessage),la(1),eu("ngIf",n.guidedTourService.onLastStep),la(1),eu("ngIf",n.guidedTourService.onResizeMessage),la(1),eu("ngIf",!n.guidedTourService.onFirstStep&&!n.guidedTourService.onResizeMessage)}}function AN(t,e){if(1&t&&(Dc(0,"div"),hc(1,IN,14,20,"div",8),Nc()),2&t){var n=Yc();la(1),eu("ngIf",n.currentTourStep)}}function ON(t,e){1&t&&Vc(0)}var $N=function(t,e){return{currentStepNumber:t,totalSteps:e}};function MN(t,e){if(1&t&&hc(0,ON,1,0,"ng-container",27),2&t){var n=Yc(),r=pc(6);eu("ngTemplateOutlet",n.progressIndicator||r)("ngTemplateOutletContext",kl(2,$N,n.guidedTourService.currentTourStepDisplay,n.guidedTourService.currentTourStepCount))}}function DN(t,e){1&t&&(Fc(0),iu(1," "),Bc())}function NN(t,e){if(1&t&&(hc(0,DN,2,0,"ng-container",1),iu(1)),2&t){var n=e.currentStepNumber,r=e.totalSteps,i=Yc();eu("ngIf",i.progressIndicatorLocation===i.progressIndicatorLocations.InsideNextButton),la(1),su("",n,"/",r," ")}}var RN=function(){function t(){}return t.Bottom="bottom",t.BottomLeft="bottom-left",t.BottomRight="bottom-right",t.Center="center",t.Left="left",t.Right="right",t.Top="top",t.TopLeft="top-left",t.TopRight="top-right",t}(),LN={InsideNextButton:"inside-next-button",TopOfTourBlock:"top-of-tour-block",None:"none"},jN=function(){function t(t){var e=this;this.errorHandler=t,this._guidedTourCurrentStepSubject=new k,this._guidedTourOrbShowingSubject=new k,this._currentTourStepIndex=0,this._currentTour=null,this._onFirstStep=!0,this._onLastStep=!0,this._onResizeMessage=!1,this.guidedTourCurrentStepStream=this._guidedTourCurrentStepSubject.asObservable(),this.guidedTourOrbShowingStream=this._guidedTourOrbShowingSubject.asObservable(),Ik(window,"resize").pipe(Object(dN.debounceTime)(200)).subscribe((function(){e._currentTour&&e._currentTourStepIndex>-1&&(e._currentTour.minimumScreenSize&&e._currentTour.minimumScreenSize>=window.innerWidth?(e._onResizeMessage=!0,e._guidedTourCurrentStepSubject.next(e._currentTour.resizeDialog||{title:"Please resize",content:"You have resized the tour to a size that is too small to continue. Please resize the browser to a larger size to continue the tour or close the tour."})):(e._onResizeMessage=!1,e._guidedTourCurrentStepSubject.next(e.getPreparedTourStep(e._currentTourStepIndex))))}))}return t.prototype.nextStep=function(){var t=this;this._currentTour.steps[this._currentTourStepIndex].closeAction&&this._currentTour.steps[this._currentTourStepIndex].closeAction(),this._currentTour.steps[this._currentTourStepIndex+1]?(this._currentTourStepIndex++,this._setFirstAndLast(),this._currentTour.steps[this._currentTourStepIndex].action?(this._currentTour.steps[this._currentTourStepIndex].action(),setTimeout((function(){t._checkSelectorValidity()?t._guidedTourCurrentStepSubject.next(t.getPreparedTourStep(t._currentTourStepIndex)):t.nextStep()}))):this._checkSelectorValidity()?this._guidedTourCurrentStepSubject.next(this.getPreparedTourStep(this._currentTourStepIndex)):this.nextStep()):(this._currentTour.completeCallback&&this._currentTour.completeCallback(),this.resetTour())},t.prototype.backStep=function(){var t=this;this._currentTour.steps[this._currentTourStepIndex].closeAction&&this._currentTour.steps[this._currentTourStepIndex].closeAction(),this._currentTour.steps[this._currentTourStepIndex-1]?(this._currentTourStepIndex--,this._setFirstAndLast(),this._currentTour.steps[this._currentTourStepIndex].action?(this._currentTour.steps[this._currentTourStepIndex].action(),setTimeout((function(){t._checkSelectorValidity()?t._guidedTourCurrentStepSubject.next(t.getPreparedTourStep(t._currentTourStepIndex)):t.backStep()}))):this._checkSelectorValidity()?this._guidedTourCurrentStepSubject.next(this.getPreparedTourStep(this._currentTourStepIndex)):this.backStep()):this.resetTour()},t.prototype.skipTour=function(){this._currentTour.skipCallback&&this._currentTour.skipCallback(this._currentTourStepIndex),this.resetTour()},t.prototype.resetTour=function(){document.body.classList.remove("tour-open"),this._currentTour=null,this._currentTourStepIndex=0,this._guidedTourCurrentStepSubject.next(null)},t.prototype.startTour=function(t){this._currentTour=Object(fN.cloneDeep)(t),this._currentTour.steps=this._currentTour.steps.filter((function(t){return!t.skipStep})),this._currentTourStepIndex=0,this._setFirstAndLast(),this._guidedTourOrbShowingSubject.next(this._currentTour.useOrb),this._currentTour.steps.length>0&&(!this._currentTour.minimumScreenSize||window.innerWidth>=this._currentTour.minimumScreenSize)&&(this._currentTour.useOrb||document.body.classList.add("tour-open"),this._currentTour.steps[this._currentTourStepIndex].action&&this._currentTour.steps[this._currentTourStepIndex].action(),this._checkSelectorValidity()?this._guidedTourCurrentStepSubject.next(this.getPreparedTourStep(this._currentTourStepIndex)):this.nextStep())},t.prototype.activateOrb=function(){this._guidedTourOrbShowingSubject.next(!1),document.body.classList.add("tour-open")},t.prototype._setFirstAndLast=function(){this._onLastStep=this._currentTour.steps.length-1===this._currentTourStepIndex,this._onFirstStep=0===this._currentTourStepIndex},t.prototype._checkSelectorValidity=function(){return!(this._currentTour.steps[this._currentTourStepIndex].selector&&!document.querySelector(this._currentTour.steps[this._currentTourStepIndex].selector)&&(this.errorHandler.handleError(new Error("Error finding selector "+this._currentTour.steps[this._currentTourStepIndex].selector+" on step "+(this._currentTourStepIndex+1)+" during guided tour: "+this._currentTour.tourId)),1))},Object.defineProperty(t.prototype,"onLastStep",{get:function(){return this._onLastStep},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onFirstStep",{get:function(){return this._onFirstStep},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onResizeMessage",{get:function(){return this._onResizeMessage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentTourStepDisplay",{get:function(){return this._currentTourStepIndex+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentTourStepCount",{get:function(){return this._currentTour&&this._currentTour.steps?this._currentTour.steps.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preventBackdropFromAdvancing",{get:function(){return this._currentTour&&this._currentTour.preventBackdropFromAdvancing},enumerable:!0,configurable:!0}),t.prototype.getPreparedTourStep=function(t){return this.setTourOrientation(this._currentTour.steps[t])},t.prototype.setTourOrientation=function(t){var e=Object(fN.cloneDeep)(t);if(e.orientation&&"string"!=typeof e.orientation&&e.orientation.length){e.orientation.sort((function(t,e){return e.maximumSize?t.maximumSize?e.maximumSize-t.maximumSize:-1:1}));var n=RN.Top;e.orientation.forEach((function(t){(!t.maximumSize||window.innerWidth<=t.maximumSize)&&(n=t.orientationDirection)})),e.orientation=n}return e},t.ɵfac=function(e){return new(e||t)(Jt(Ri))},t.ɵprov=ht({token:t,factory:function(e){return t.ɵfac(e)}}),t}(),FN=function(){function t(t){this.guidedTourService=t,this.topOfPageAdjustment=0,this.tourStepWidth=300,this.minimalTourStepWidth=200,this.skipText="Skip",this.nextText="Next",this.doneText="Done",this.closeText="Close",this.backText="Back",this.progressIndicatorLocation=LN.InsideNextButton,this.progressIndicator=void 0,this.highlightPadding=4,this.currentTourStep=null,this.selectedElementRect=null,this.isOrbShowing=!1,this.progressIndicatorLocations=LN}return Object.defineProperty(t.prototype,"maxWidthAdjustmentForTourStep",{get:function(){return this.tourStepWidth-this.minimalTourStepWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widthAdjustmentForScreenBound",{get:function(){if(!this.tourStep)return 0;var t=0;return this.calculatedLeftPosition<0&&(t=-this.calculatedLeftPosition),this.calculatedLeftPosition>window.innerWidth-this.tourStepWidth&&(t=this.calculatedLeftPosition-(window.innerWidth-this.tourStepWidth)),Math.min(this.maxWidthAdjustmentForTourStep,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"calculatedTourStepWidth",{get:function(){return this.tourStepWidth-this.widthAdjustmentForScreenBound},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var t=this;this.guidedTourService.guidedTourCurrentStepStream.subscribe((function(e){t.currentTourStep=e,e&&e.selector&&document.querySelector(e.selector)?t.scrollToAndSetElement():t.selectedElementRect=null})),this.guidedTourService.guidedTourOrbShowingStream.subscribe((function(e){t.isOrbShowing=e})),this.resizeSubscription=Ik(window,"resize").subscribe((function(){t.updateStepLocation()})),this.scrollSubscription=Ik(window,"scroll").subscribe((function(){t.updateStepLocation()}))},t.prototype.ngOnDestroy=function(){this.resizeSubscription.unsubscribe(),this.scrollSubscription.unsubscribe()},t.prototype.scrollToAndSetElement=function(){var t=this;this.updateStepLocation(),setTimeout((function(){if(!t.isOrbShowing&&!t.isTourOnScreen())if(t.selectedElementRect&&t.isBottom()){var e=window.scrollY+t.selectedElementRect.top-t.topOfPageAdjustment-(t.currentTourStep.scrollAdjustment?t.currentTourStep.scrollAdjustment:0)+t.getStepScreenAdjustment();try{window.scrollTo({left:null,top:e,behavior:"smooth"})}catch(n){if(!(n instanceof TypeError))throw n;window.scroll(0,e)}}else{e=window.scrollY+t.selectedElementRect.top+t.selectedElementRect.height-window.innerHeight+(t.currentTourStep.scrollAdjustment?t.currentTourStep.scrollAdjustment:0)-t.getStepScreenAdjustment();try{window.scrollTo({left:null,top:e,behavior:"smooth"})}catch(n){if(!(n instanceof TypeError))throw n;window.scroll(0,e)}}}))},t.prototype.handleOrb=function(){this.guidedTourService.activateOrb(),this.currentTourStep&&this.currentTourStep.selector&&this.scrollToAndSetElement()},t.prototype.isTourOnScreen=function(){return this.tourStep&&this.elementInViewport(document.querySelector(this.currentTourStep.selector))&&this.elementInViewport(this.tourStep.nativeElement)},t.prototype.elementInViewport=function(t){for(var e=t.offsetTop,n=t.offsetHeight;t.offsetParent;)e+=(t=t.offsetParent).offsetTop;return this.isBottom()?e>=window.pageYOffset+this.topOfPageAdjustment+(this.currentTourStep.scrollAdjustment?this.currentTourStep.scrollAdjustment:0)+this.getStepScreenAdjustment()&&e+n<=window.pageYOffset+window.innerHeight:e>=window.pageYOffset+this.topOfPageAdjustment-this.getStepScreenAdjustment()&&e+n+(this.currentTourStep.scrollAdjustment?this.currentTourStep.scrollAdjustment:0)<=window.pageYOffset+window.innerHeight},t.prototype.backdropClick=function(t){this.guidedTourService.preventBackdropFromAdvancing?t.stopPropagation():this.guidedTourService.nextStep()},t.prototype.updateStepLocation=function(){if(this.currentTourStep&&this.currentTourStep.selector){var t=document.querySelector(this.currentTourStep.selector);this.selectedElementRect=t?t.getBoundingClientRect():null}else this.selectedElementRect=null},t.prototype.isBottom=function(){return this.currentTourStep.orientation&&(this.currentTourStep.orientation===RN.Bottom||this.currentTourStep.orientation===RN.BottomLeft||this.currentTourStep.orientation===RN.BottomRight)},Object.defineProperty(t.prototype,"topPosition",{get:function(){var t=this.getHighlightPadding();return this.isBottom()?this.selectedElementRect.top+this.selectedElementRect.height+t:this.selectedElementRect.top-this.getHighlightPadding()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orbTopPosition",{get:function(){return this.isBottom()?this.selectedElementRect.top+this.selectedElementRect.height:this.currentTourStep.orientation===RN.Right||this.currentTourStep.orientation===RN.Left?this.selectedElementRect.top+this.selectedElementRect.height/2:this.selectedElementRect.top},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"calculatedLeftPosition",{get:function(){var t=this.getHighlightPadding();return this.currentTourStep.orientation===RN.TopRight||this.currentTourStep.orientation===RN.BottomRight?this.selectedElementRect.right-this.tourStepWidth:this.currentTourStep.orientation===RN.TopLeft||this.currentTourStep.orientation===RN.BottomLeft?this.selectedElementRect.left:this.currentTourStep.orientation===RN.Left?this.selectedElementRect.left-this.tourStepWidth-t:this.currentTourStep.orientation===RN.Right?this.selectedElementRect.left+this.selectedElementRect.width+t:this.selectedElementRect.right-this.selectedElementRect.width/2-this.tourStepWidth/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftPosition",{get:function(){if(this.calculatedLeftPosition>=0)return this.calculatedLeftPosition;var t=Math.max(0,-this.calculatedLeftPosition),e=Math.min(this.maxWidthAdjustmentForTourStep,t);return this.calculatedLeftPosition+e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orbLeftPosition",{get:function(){return this.currentTourStep.orientation===RN.TopRight||this.currentTourStep.orientation===RN.BottomRight?this.selectedElementRect.right:this.currentTourStep.orientation===RN.TopLeft||this.currentTourStep.orientation===RN.BottomLeft?this.selectedElementRect.left:this.currentTourStep.orientation===RN.Left?this.selectedElementRect.left:this.currentTourStep.orientation===RN.Right?this.selectedElementRect.left+this.selectedElementRect.width:this.selectedElementRect.right-this.selectedElementRect.width/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transform",{get:function(){return this.currentTourStep.orientation&&this.currentTourStep.orientation!==RN.Top&&this.currentTourStep.orientation!==RN.TopRight&&this.currentTourStep.orientation!==RN.TopLeft?null:"translateY(-100%)"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orbTransform",{get:function(){return this.currentTourStep.orientation&&this.currentTourStep.orientation!==RN.Top&&this.currentTourStep.orientation!==RN.Bottom&&this.currentTourStep.orientation!==RN.TopLeft&&this.currentTourStep.orientation!==RN.BottomLeft?this.currentTourStep.orientation===RN.TopRight||this.currentTourStep.orientation===RN.BottomRight?"translate(-100%, -50%)":this.currentTourStep.orientation===RN.Right||this.currentTourStep.orientation===RN.Left?"translate(-50%, -50%)":null:"translateY(-50%)"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overlayTop",{get:function(){return this.selectedElementRect?this.selectedElementRect.top-this.getHighlightPadding():0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overlayLeft",{get:function(){return this.selectedElementRect?this.selectedElementRect.left-this.getHighlightPadding():0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overlayHeight",{get:function(){return this.selectedElementRect?this.selectedElementRect.height+2*this.getHighlightPadding():0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overlayWidth",{get:function(){return this.selectedElementRect?this.selectedElementRect.width+2*this.getHighlightPadding():0},enumerable:!0,configurable:!0}),t.prototype.getHighlightPadding=function(){var t=this.currentTourStep.useHighlightPadding?this.highlightPadding:0;return this.currentTourStep.highlightPadding&&(t=this.currentTourStep.highlightPadding),t},t.prototype.getStepScreenAdjustment=function(){if(this.currentTourStep.orientation===RN.Left||this.currentTourStep.orientation===RN.Right)return 0;var t=this.selectedElementRect.height+(this.currentTourStep.scrollAdjustment?this.currentTourStep.scrollAdjustment:0)+this.tourStep.nativeElement.getBoundingClientRect().height;return window.innerHeight-this.topOfPageAdjustment<t?t-(window.innerHeight-this.topOfPageAdjustment):0},t.ɵfac=function(e){return new(e||t)(mc(jN))},t.ɵcmp=ge({type:t,selectors:[["ngx-guided-tour"]],viewQuery:function(t,e){var n;1&t&&ql(hN,!0),2&t&&Hl(n=Ql())&&(e.tourStep=n.first)},inputs:{topOfPageAdjustment:"topOfPageAdjustment",tourStepWidth:"tourStepWidth",minimalTourStepWidth:"minimalTourStepWidth",skipText:"skipText",nextText:"nextText",doneText:"doneText",closeText:"closeText",backText:"backText",progressIndicatorLocation:"progressIndicatorLocation",progressIndicator:"progressIndicator"},decls:7,vars:3,consts:[[3,"class","top","left","transform","mouseenter",4,"ngIf"],[4,"ngIf"],["progress",""],["defaultProgressIndicator",""],[3,"mouseenter"],[1,"tour-orb-ring"],[1,"guided-tour-user-input-mask",3,"click"],[1,"guided-tour-spotlight-overlay"],[3,"class","ngClass","top","left","width","transform",4,"ngIf"],[3,"ngClass"],["tourStep",""],["class","tour-arrow",4,"ngIf"],[1,"tour-block"],["class","tour-progress-indicator",4,"ngIf"],["class","tour-title",4,"ngIf"],[1,"tour-content",3,"innerHTML"],[1,"tour-buttons"],["class","skip-button link-button",3,"click",4,"ngIf"],["class","next-button",3,"click",4,"ngIf"],["class","back-button link-button",3,"click",4,"ngIf"],[1,"tour-arrow"],[1,"tour-progress-indicator"],[4,"ngTemplateOutlet"],[1,"tour-title"],[1,"skip-button","link-button",3,"click"],[1,"next-button",3,"click"],[1,"back-button","link-button",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(hc(0,pN,2,6,"div",0),hc(1,mN,3,4,"div",1),hc(2,AN,2,1,"div",1),hc(3,MN,1,5,"ng-template",null,2,Jl),hc(5,NN,2,3,"ng-template",null,3,Jl)),2&t&&(eu("ngIf",e.currentTourStep&&e.selectedElementRect&&e.isOrbShowing),la(1),eu("ngIf",e.currentTourStep&&!e.isOrbShowing),la(1),eu("ngIf",e.currentTourStep&&!e.isOrbShowing))},directives:[Xy,Nv,ab],styles:["ngx-guided-tour .guided-tour-user-input-mask{position:fixed;top:0;left:0;display:block;height:100%;width:100%;max-height:100vh;text-align:center;opacity:0}ngx-guided-tour .guided-tour-spotlight-overlay{position:fixed;box-shadow:0 0 0 9999px rgba(0,0,0,.7),0 0 1.5rem rgba(0,0,0,.5)}ngx-guided-tour .tour-orb{position:fixed;width:20px;height:20px;border-radius:50%}ngx-guided-tour .tour-orb .tour-orb-ring{width:35px;height:35px;position:relative;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-animation:2s linear infinite pulse;animation:2s linear infinite pulse}ngx-guided-tour .tour-orb .tour-orb-ring:after{content:'';display:inline-block;height:100%;width:100%;border-radius:50%}@-webkit-keyframes pulse{from{-webkit-transform:translate(-50%,-50%) scale(.45);transform:translate(-50%,-50%) scale(.45);opacity:1}to{-webkit-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1);opacity:0}}@keyframes pulse{from{-webkit-transform:translate(-50%,-50%) scale(.45);transform:translate(-50%,-50%) scale(.45);opacity:1}to{-webkit-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1);opacity:0}}ngx-guided-tour .tour-step{position:fixed}ngx-guided-tour .tour-step.page-tour-step{max-width:400px;width:50%;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}ngx-guided-tour .tour-step.tour-bottom .tour-arrow::before,ngx-guided-tour .tour-step.tour-bottom-left .tour-arrow::before,ngx-guided-tour .tour-step.tour-bottom-right .tour-arrow::before{position:absolute}ngx-guided-tour .tour-step.tour-bottom .tour-block,ngx-guided-tour .tour-step.tour-bottom-left .tour-block,ngx-guided-tour .tour-step.tour-bottom-right .tour-block{margin-top:10px}ngx-guided-tour .tour-step.tour-top,ngx-guided-tour .tour-step.tour-top-left,ngx-guided-tour .tour-step.tour-top-right{margin-bottom:10px}ngx-guided-tour .tour-step.tour-top .tour-arrow::before,ngx-guided-tour .tour-step.tour-top-left .tour-arrow::before,ngx-guided-tour .tour-step.tour-top-right .tour-arrow::before{position:absolute;bottom:0}ngx-guided-tour .tour-step.tour-top .tour-block,ngx-guided-tour .tour-step.tour-top-left .tour-block,ngx-guided-tour .tour-step.tour-top-right .tour-block{margin-bottom:10px}ngx-guided-tour .tour-step.tour-bottom .tour-arrow::before,ngx-guided-tour .tour-step.tour-top .tour-arrow::before{-webkit-transform:translateX(-50%);transform:translateX(-50%);left:50%}ngx-guided-tour .tour-step.tour-bottom-right .tour-arrow::before,ngx-guided-tour .tour-step.tour-top-right .tour-arrow::before{-webkit-transform:translateX(-100%);transform:translateX(-100%);left:calc(100% - 5px)}ngx-guided-tour .tour-step.tour-bottom-left .tour-arrow::before,ngx-guided-tour .tour-step.tour-top-left .tour-arrow::before{left:5px}ngx-guided-tour .tour-step.tour-left .tour-arrow::before{position:absolute;left:100%;-webkit-transform:translateX(-100%);transform:translateX(-100%);top:5px}ngx-guided-tour .tour-step.tour-left .tour-block{margin-right:10px}ngx-guided-tour .tour-step.tour-right .tour-arrow::before{position:absolute;left:0;top:5px}ngx-guided-tour .tour-step.tour-right .tour-block{margin-left:10px}ngx-guided-tour .tour-step .tour-block{padding:15px 25px}ngx-guided-tour .tour-step .tour-progress-indicator{padding-bottom:15px}ngx-guided-tour .tour-step .tour-title{font-weight:700!important;padding-bottom:20px}ngx-guided-tour .tour-step h3.tour-title{font-size:20px}ngx-guided-tour .tour-step h2.tour-title{font-size:30px}ngx-guided-tour .tour-step .tour-content{min-height:80px;padding-bottom:30px;font-size:15px}ngx-guided-tour .tour-step .tour-buttons{overflow:hidden}ngx-guided-tour .tour-step .tour-buttons button.link-button{font-size:15px;font-weight:700;max-width:none!important;cursor:pointer;text-align:center;white-space:nowrap;vertical-align:middle;border:1px solid transparent;line-height:1.5;background-color:transparent;position:relative;outline:0;padding:0 15px;-webkit-appearance:button}ngx-guided-tour .tour-step .tour-buttons button.skip-button.link-button{padding-left:0;border-left:0}ngx-guided-tour .tour-step .tour-buttons .back-button{float:right}ngx-guided-tour .tour-step .tour-buttons .next-button{cursor:pointer;border-radius:1px;float:right;font-size:14px;border:none;outline:0;padding-left:10px;padding-right:10px}"],encapsulation:2}),t}(),BN=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Ri,jN]}},t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[vb]]}),t}(),VN=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵcmp=ge({type:t,selectors:[["cf2-product-tour-intro-dialog"]],decls:9,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"product-tour-intro-actions"],["mat-button","",3,"mat-dialog-close"],["mat-flat-button","","color","accent",3,"mat-dialog-close"]],template:function(t,e){1&t&&(Dc(0,"h1",0),iu(1,"Welcome to the Video Page!"),Nc(),Dc(2,"div",1),iu(3," Quickly polish your recordings and share them with your audience on our new-and-improved Video Page.\n"),Nc(),Dc(4,"mat-dialog-actions",2),Dc(5,"button",3),iu(6," Skip tour "),Nc(),Dc(7,"button",4),iu(8," Show me around! "),Nc(),Nc()),2&t&&(la(5),eu("mat-dialog-close",!1),la(2),eu("mat-dialog-close",!0))},directives:[vP,yP,bP,kk,gP],styles:[".mat-dialog-actions.product-tour-intro-actions[_ngcontent-%COMP%]{justify-content:space-between}"]}),t}(),HN=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵcmp=ge({type:t,selectors:[["cf2-time-limit-reached-dialog"]],decls:9,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"time-limit-reached-actions"],["mat-button","",3,"mat-dialog-close"],["mat-flat-button","","color","accent",3,"mat-dialog-close"]],template:function(t,e){1&t&&(Dc(0,"h1",0),iu(1,"You're getting good at this!"),Nc(),Dc(2,"div",1),iu(3," This recording reached the 5 minute limit. Upgrade to Screencastify Unlimited to remove this limit and to unlock all editing features.\n"),Nc(),Dc(4,"mat-dialog-actions",2),Dc(5,"button",3),iu(6," Dismiss "),Nc(),Dc(7,"button",4),iu(8," Upgrade "),Nc(),Nc()),2&t&&(la(5),eu("mat-dialog-close",!1),la(2),eu("mat-dialog-close",!0))},directives:[vP,yP,bP,kk,gP],encapsulation:2}),t}(),UN=function(){function t(t,e,n){this._chromeRuntime=t,this._chromeTabs=e,this._chromeWindows=n}return t.prototype._pathToUrl=function(t){return t.startsWith("#")?"chrome-extension://"+this._chromeRuntime.id+"/ng/app/app.html"+t:t},t.prototype.create=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return e=this._pathToUrl(t),[4,this._chromeTabs.create({active:!0,url:e})];case 1:return n=r.sent(),[4,this._chromeWindows.update(n.windowId,{focused:!0})];case 2:return r.sent(),[2]}}))}))},t.ɵprov=ht({token:t,factory:t.ɵfac=function(e){return new(e||t)(Jt(Cg),Jt(Tg),Jt(kg))},providedIn:"root"}),t}();qd.module("cf2.inAppTabService",[]);var qN=function(){function t(t){this._inAppTab=t}return t.prototype.openExternal=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._inAppTab.create(t)];case 1:return e.sent(),[2]}}))}))},t.ɵfac=function(e){return new(e||t)(mc(UN))},t.ɵcmp=ge({type:t,selectors:[["cf2-finish-tour-dialog"]],decls:10,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"tour-links"],[1,"links",3,"click"],["mat-flat-button","","color","accent",3,"mat-dialog-close"]],template:function(t,e){1&t&&(Dc(0,"h1",0),iu(1,"That's it!"),Nc(),Dc(2,"div",1),iu(3," You're ready to create and share amazing videos with your audience!\n"),Nc(),Dc(4,"div",2),Dc(5,"div",3),zc("click",(function(t){return e.openExternal("https://www.screencastify.com/blog/screencastify-2020")})),iu(6," What else is new with Screencastify? 🎁 "),Nc(),Nc(),Dc(7,"mat-dialog-actions"),Dc(8,"button",4),iu(9," Close "),Nc(),Nc()),2&t&&(la(8),eu("mat-dialog-close",!0))},directives:[vP,yP,bP,kk,gP],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.tour-links[_ngcontent-%COMP%]{padding:1rem 0}.links[_ngcontent-%COMP%]{color:#ff8282;padding:.5rem}.links[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}']}),t}();function zN(t,e){return void 0===e&&(e=!1),function(n){return n.lift(new WN(t,e))}}var WN=function(){function t(t,e){this.predicate=t,this.inclusive=e}return t.prototype.call=function(t,e){return e.subscribe(new GN(t,this.predicate,this.inclusive))},t}(),GN=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return i.__extends(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(r){return void n.error(r)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())},e}(g),KN=function(){function t(t,e){var n,r=this;this._backgroundTool=t,this._zone=e,this.GIF_MAX_MEMORY=723517440,this.jobs=[],this._jobs$=new vv(null),this.jobs$=this._jobs$.pipe((n=this._zone,function(t){return new w((function(e){return t.subscribe({next:function(t){return n.run((function(){return e.next(t)}))},error:function(t){return n.run((function(){return e.error(t)}))},complete:function(){return n.run((function(){return e.complete()}))}})}))})),this._jobAdded$=new k,this._portHelper=this._backgroundTool.portHelper("editor",!1),this._portHelper.installHandlers({jobsList:function(t){r.jobs=t,r._jobs$.next(t),r._pollTimer&&clearTimeout(r._pollTimer),r._pollTimer=null,r.getJobsByState("running").length&&(r._pollTimer=window.setTimeout((function(){return r.getJobs()}),1e3))},jobAdded:function(t){r._jobAdded$.next(t)}})}return t.mapJobs=function(t){return t.pipe(qg((function(t){return!!t})),j((function(t){var e,n,r={};try{for(var o=Object(i.__values)(t),a=o.next();!a.done;a=o.next()){var s=a.value;r[s.id]=s}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r})))},t.prototype.addJob=function(t){this._portHelper.postMessage("addJob",t)},t.prototype.cancel=function(t){this._portHelper.postMessage("cancel",t)},t.prototype.dismiss=function(t){this._portHelper.postMessage("dismiss",t)},t.prototype.onJobCreated=function(){return this._jobAdded$.asObservable()},t.prototype.getJobs=function(){this._portHelper.postMessage("getJobs")},t.prototype.onJobsMapped=function(){return t.mapJobs(this._jobs$)},t.prototype.onJob=function(t){return this.onJobsMapped().pipe(wv(t))},t.prototype.clearComplete=function(t){this._portHelper.postMessage("clearComplete",t)},t.prototype.getJobsByState=function(t){return this.jobs.filter((function(e){return e.state===t}))},t.prototype.canExportGif=function(t,e){if(!t||!t.width||!t.height)return!0;var n=Math.min(1,e.width/t.width,e.height/t.height);return 5*n*t.width*n*t.height*8*t.duration<this.GIF_MAX_MEMORY},t.ɵprov=ht({token:t,factory:t.ɵfac=function(e){return new(e||t)(Jt(Sg),Jt(wd))},providedIn:"root"}),t}();qd.module("cf2.editJobSchedulerClientService",[]);var QN=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},YN=function(){function t(t){this._editScheduler=t}return t.prototype.startTrimTask=function(t){var e=this;this._editScheduler.addJob({type:"trim",trim:{trimStart:t.trimStart,trimEnd:t.trimEnd},meta:{fileId:t.fileId}}),this._onTrimJobForFileId(t.fileId).pipe(cv((function(t){return t&&"done"===t.state}))).subscribe((function(t){return e._editScheduler.clearComplete(t.id)}))},t.prototype._onTrimJobForFileId=function(t){return this._editScheduler.jobs$.pipe(qg((function(t){return t&&t.length>0})),j((function(e){return e.find((function(e){return e&&"trim"===e.type&&e.fileId===t&&!e.dismissed}))||null})),Dk(QN))},t.prototype.onIsProcessing=function(t){return this._onTrimJobForFileId(t).pipe(j((function(t){return t&&("queued"===t.state||"running"===t.state)})),Jg(!1))},t.prototype.onTaskProgress=function(t){return this._onTrimJobForFileId(t).pipe(yv((function(t){return t&&"error"!==t.state?yE(t):bE(new Error("trim job not found or failed"))})),zN((function(t){return t&&"done"!==t.state}),!0),j((function(t){return t&&t.progress||0})),Dk())},t.ɵprov=ht({token:t,factory:t.ɵfac=function(e){return new(e||t)(Jt(KN))},providedIn:"root"}),t}();function XN(t,e){1&t&&Rc(0,"mat-progress-bar",3),2&t&&eu("value",100*Yc().progress)}function ZN(t,e){1&t&&(Fc(0),Dc(1,"cf2-error-hint"),iu(2,"Oops, something went wrong while trimming your video. Please try again."),Nc(),Dc(3,"mat-dialog-actions"),Dc(4,"button",4),iu(5,"Close"),Nc(),Nc(),Bc())}var JN=function(){function t(t,e,n){this.data=t,this._trim=e,this._dialogRef=n,this._subscription=new u,this.progress=0,this.hasError=!1}return t.prototype.ngOnInit=function(){var t=this;this._subscription.add(this._trim.onTaskProgress(this.data.fileId).subscribe((function(e){return t.progress=e}),(function(){return t.hasError=!0}),(function(){return t._handleComplete()})))},t.prototype._handleComplete=function(){var t=this;setTimeout((function(){t._dialogRef.close(!0)}),500)},t.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},t.ɵfac=function(e){return new(e||t)(mc(lP),mc(YN),mc(uP))},t.ɵcmp=ge({type:t,selectors:[["cf2-trim-progress-dialog"]],decls:4,vars:2,consts:[["mat-dialog-title",""],[3,"value",4,"ngIf"],[4,"ngIf"],[3,"value"],["mat-button","","mat-dialog-close",""]],template:function(t,e){1&t&&(Dc(0,"h1",0),iu(1,"Trimming your video..."),Nc(),hc(2,XN,1,1,"mat-progress-bar",1),hc(3,ZN,6,0,"ng-container",2)),2&t&&(la(2),eu("ngIf",!e.hasError),la(1),eu("ngIf",e.hasError))},directives:[vP,Xy,CI,lk,bP,kk,gP],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.mat-progress-bar[_ngcontent-%COMP%]{height:20px;border-radius:10px!important;overflow:hidden}']}),t}(),tR=function(){function t(t){if(t)throw new Error("ErrorSnackbarModule is already loaded. Import it in the AppModule only")}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)(Jt(t,12))},imports:[[vb]]}),t}(),eR=function(){function t(t,e){this._snackBar=t,this._zone=e}return t.prototype.open=function(t){var e=this;return this._zone.run((function(){return t&&t.logger&&t.errorMsg&&t.logger.error("showing snackbar for error",t.errorMsg),e._snackBar.open(t&&t.message||"Oops, something went wrong. Please try again.",t&&t.actionText||"×",{panelClass:["cf2-error-snackbar"],duration:1e4,verticalPosition:"bottom"})}))},t.ɵprov=ht({token:t,factory:t.ɵfac=function(e){return new(e||t)(Jt(ZT),Jt(wd))},providedIn:tR}),t}(),nR=function(){function t(t){var e=this;this._backgroundTool=t,this._uploaderState$=new vv({}),this._uploadErrors$=new k,this._portHelper=this._backgroundTool.portHelper("uploader"),this._portHelper.installHandlers({stateUpdate:function(t){return e._uploaderState$.next(t)},uploadFailed:function(t){return e._uploadErrors$.next(t)}})}return t.prototype.getFileState=function(t){return this._uploaderState$.getValue()[t]},t.prototype.getTargetState=function(t,e){var n=this.getFileState(t);return n?n[e]:null},t.prototype.onFileState=function(t){return this._uploaderState$.pipe(wv(t))},t.prototype.onError=function(t,e){return this._uploadErrors$.pipe(qg((function(n){return n.fileId===t&&n.target===e})),j((function(t){return t.error})))},t.prototype.onTargetState=function(t,e){return this.onFileState(t).pipe(j((function(t){return t?t[e]:null})))},t.prototype.upload=function(t){this._portHelper.postMessage("upload",t)},t.prototype.setDrivePrivacy=function(t,e){this._portHelper.postMessage("setDrivePrivacy",{fileId:t,privacy:e,target:"drive"})},t.prototype.isQueuedOrActive=function(t,e){var n=this.getTargetState(t,e);return n&&("uploading"===n.state||"queued"===n.state)},t.prototype.onIsQueuedOrActive=function(t,e){return this.onTargetState(t,e).pipe(j((function(t){return t&&("uploading"===t.state||"queued"===t.state)})))},t.ɵprov=ht({token:t,factory:t.ɵfac=function(e){return new(e||t)(Jt(Sg))},providedIn:"root"}),t}();function rR(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function iR(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}qd.module("cf2.uploader",[]);var oR=["text/plain","text/html"],aR=(function(){(console.warn||console.log).call(arguments)}).bind(console,"[clipboard-polyfill]"),sR=function(){function t(){this.m={}}return t.prototype.setData=function(t,e){-1===oR.indexOf(t)&&aR("Unknown data type: "+t,"Call clipboard.suppressWarnings() to suppress this warning."),this.m[t]=e},t.prototype.getData=function(t){return this.m[t]},t.prototype.forEach=function(t){for(var e in this.m)t(this.m[e],e)},t}(),cR=function(t){},uR=!0,lR=(function(){(console.warn||console.log).apply(console,arguments)}).bind("[clipboard-polyfill]"),dR="text/plain";function fR(t){return rR(this,void 0,void 0,(function(){var e;return iR(this,(function(n){if(uR&&!t.getData(dR)&&lR("clipboard.write() was called without a `text/plain` data type. On some platforms, this may result in an empty clipboard. Call clipboard.suppressWarnings() to suppress this warning."),"undefined"==typeof ClipboardEvent&&void 0!==window.clipboardData&&void 0!==window.clipboardData.setData){if(function(t){var e=t.getData(dR);if(void 0!==e)return window.clipboardData.setData("Text",e);throw new Error("No `text/plain` value was specified.")}(t))return[2];throw new Error("Copying failed, possibly because the user rejected it.")}if(mR(t))return cR("regular execCopy worked"),[2];if(navigator.userAgent.indexOf("Edge")>-1)return cR('UA "Edge" => assuming success'),[2];if(gR(document.body,t))return cR("copyUsingTempSelection worked"),[2];if(function(t){var e=document.createElement("div");e.setAttribute("style","-webkit-user-select: text !important"),e.textContent="temporary element",document.body.appendChild(e);var n=gR(e,t);return document.body.removeChild(e),n}(t))return cR("copyUsingTempElem worked"),[2];if(void 0!==(e=t.getData(dR))&&function(t){cR("copyTextUsingDOM");var e=document.createElement("div");e.setAttribute("style","-webkit-user-select: text !important");var n=e;e.attachShadow&&(cR("Using shadow DOM."),n=e.attachShadow({mode:"open"}));var r=document.createElement("span");r.innerText=t,n.appendChild(r),document.body.appendChild(e),vR(r);var i=document.execCommand("copy");return yR(),document.body.removeChild(e),i}(e))return cR("copyTextUsingDOM worked"),[2];throw new Error("Copy command failed.")}))}))}function hR(t){return rR(this,void 0,void 0,(function(){return iR(this,(function(e){return navigator.clipboard&&navigator.clipboard.writeText?(cR("Using `navigator.clipboard.writeText()`."),[2,navigator.clipboard.writeText(t)]):[2,fR(bR(t))]}))}))}var pR=function(){this.success=!1};function mR(t){var e=new pR,n=(function(t,e,n){cR("listener called"),t.success=!0,e.forEach((function(e,r){var i=n.clipboardData;i.setData(r,e),r===dR&&i.getData(r)!==e&&(cR("setting text/plain failed"),t.success=!1)})),n.preventDefault()}).bind(this,e,t);document.addEventListener("copy",n);try{document.execCommand("copy")}finally{document.removeEventListener("copy",n)}return e.success}function gR(t,e){vR(t);var n=mR(e);return yR(),n}function vR(t){var e=document.getSelection();if(e){var n=document.createRange();n.selectNodeContents(t),e.removeAllRanges(),e.addRange(n)}}function yR(){var t=document.getSelection();t&&t.removeAllRanges()}function bR(t){var e=new sR;return e.setData(dR,t),e}function _R(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=100),Math.max(e,Math.min(n,t))}function wR(t,e){1&t&&(Fc(0),Dc(1,"cf2-error-hint",5),Dc(2,"span"),iu(3," Upload failed because your Drive storage is full. "),Dc(4,"a",6),iu(5,"Get help."),Nc(),Nc(),Nc(),Bc()),2&t&&(la(1),eu("noMargins",!0))}function SR(t,e){1&t&&(Fc(0),Dc(1,"cf2-error-hint",5),Dc(2,"span"),iu(3," Oops! Your video failed to upload to Google Drive because we cannot access your Drive account. "),Dc(4,"a",7),iu(5,"Get help."),Nc(),Nc(),Nc(),Bc()),2&t&&(la(1),eu("noMargins",!0))}function ER(t,e){if(1&t){var n=Hc();Fc(0),Dc(1,"cf2-error-hint",5),Dc(2,"span"),iu(3," Oops! Your video failed to upload to Google Drive. "),Dc(4,"a",8),zc("click",(function(t){vn(n);var e=Yc();return e.searchHelp(e.reason)})),iu(5,"Help"),Nc(),Nc(),Nc(),Bc()}2&t&&(la(1),eu("noMargins",!0))}var xR=function(){function t(t,e,n){this.syncStatusClient=t,this._helpCenter=e,this._chromeTabs=n,this.SEARCH_URL="https://help.screencastify.com"}return t.prototype.searchHelp=function(t){var e=this.SEARCH_URL;t&&this._helpCenter.hasHelpFor(t)?this._helpCenter.openHelp(t):(t&&(e=this.SEARCH_URL+"/search?query="+encodeURIComponent(t)),this._chromeTabs.create({url:e}))},t.ɵfac=function(e){return new(e||t)(mc(Dg),mc(Ng),mc(Tg))},t.ɵcmp=ge({type:t,selectors:[["cf2-drive-upload-error"]],inputs:{reason:"reason"},decls:7,vars:3,consts:[[1,"error-container",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"retry-link-container"],["target","_blank",1,"link",3,"click"],[3,"noMargins"],["target","_blank","href","https://help.screencastify.com/article/196-im-out-of-space-on-google-drive",1,"link"],["target","_blank","href","https://help.screencastify.com/article/202-im-forbidden-from-uploading-to-google-drive",1,"link"],[3,"click"]],template:function(t,e){1&t&&(Dc(0,"div",0),hc(1,wR,6,1,"ng-container",1),hc(2,SR,6,1,"ng-container",1),hc(3,ER,6,1,"ng-container",2),Dc(4,"div",3),Dc(5,"a",4),zc("click",(function(t){return e.syncStatusClient.retry()})),iu(6,"Retry upload"),Nc(),Nc(),Nc()),2&t&&(eu("ngSwitch",e.reason),la(1),eu("ngSwitchCase","quotaExceeded"),la(1),eu("ngSwitchCase","forbidden"))},directives:[eb,nb,rb,lk],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.retry-link-container[_ngcontent-%COMP%]{text-align:center;margin-top:.5rem}.link[_ngcontent-%COMP%]{color:#0af;text-decoration:none}']}),t}();function CR(t,e){if(1&t&&(Dc(0,"button",4),Dc(1,"div",5),Dc(2,"mat-icon"),iu(3),Nc(),Dc(4,"span",6),iu(5),Nc(),Dc(6,"span",7),iu(7),Nc(),Dc(8,"mat-icon"),iu(9,"keyboard_arrow_down"),Nc(),Nc(),Nc()),2&t){var n=Yc();eu("matMenuTriggerFor",pc(2))("disabled",n.disabled),la(3),ou(n.selectedOption.icon),la(2),ou(n.selectedOption.title),la(2),ou(n.selectedOption.desc)}}function kR(t,e){if(1&t){var n=Hc();Dc(0,"button",8),zc("click",(function(t){vn(n);var r=e.$implicit;return Yc().setPrivacy(r.key)})),Dc(1,"div",5),Dc(2,"mat-icon"),iu(3),Nc(),Dc(4,"span",6),iu(5),Nc(),Dc(6,"span",7),iu(7),Nc(),Nc(),Nc()}if(2&t){var r=e.$implicit;la(3),ou(r.value.icon),la(2),ou(r.value.title),la(2),ou(r.value.desc)}}var TR={public:{icon:"public",title:"Public",desc:"Anyone can find and view the video."},unlisted:{icon:"link",title:"Unlisted",desc:"People who have the link to the video can view it."},domain_public:{domainOnly:!0,icon:"business",title:"Public at {domain}",desc:"Anyone at {domain} can find and view the video."},domain_unlisted:{domainOnly:!0,icon:"link",title:"Unlisted at {domain}",desc:"People at {domain} who have the link to the video can view it."},private:{icon:"account_box",title:"Private",desc:"Only you can view the video."}},PR=function(){function t(){this.privacyChange=new Ol}return t.prototype.ngOnChanges=function(t){var e,n;(t.enableDomain||t.domain)&&(this.options=(e=this.enableDomain&&this.domain,n={},Object.keys(TR).filter((function(t){return!TR[t].domainOnly||e})).forEach((function(t){var r=TR[t];n[t]=r.domainOnly?function(t,e){return Object(i.__assign)(Object(i.__assign)({},t),{title:t.title.replace("{domain}",e),desc:t.desc.replace("{domain}",e)})}(r,e):r})),n)),t.value&&this._updateSelected()},t.prototype._updateSelected=function(){this.selectedOption=this.options?this.options[this.value]:null},t.prototype.setPrivacy=function(t){this.privacyChange.emit(t)},t.ɵfac=function(e){return new(e||t)},t.ɵcmp=ge({type:t,selectors:[["cf2-privacy-menu"]],inputs:{domain:"domain",enableDomain:"enableDomain",value:"value",disabled:"disabled",panelClass:"panelClass"},outputs:{privacyChange:"privacyChange"},features:[yu()],decls:5,vars:6,consts:[["mat-stroked-button","","class","privacy-menu-item privacy-button",3,"matMenuTriggerFor","disabled",4,"ngIf"],["overlapTrigger",""],["privacyMenu","matMenu"],["mat-menu-item","","class","privacy-menu-item",3,"click",4,"ngFor","ngForOf"],["mat-stroked-button","",1,"privacy-menu-item","privacy-button",3,"matMenuTriggerFor","disabled"],[1,"privacy-menu-item-content"],[1,"privacy-label-title"],[1,"privacy-label-desc"],["mat-menu-item","",1,"privacy-menu-item",3,"click"]],template:function(t,e){1&t&&(hc(0,CR,10,5,"button",0),Dc(1,"mat-menu",1,2),hc(3,kR,8,3,"button",3),Tl(4,"keyvalue"),Nc()),2&t&&(eu("ngIf",e.selectedOption),la(1),wc("privacy-menu-panel "+e.panelClass),la(2),eu("ngForOf",Pl(4,4,e.options)))},directives:[Xy,hI,Qy,kk,vI,ak,uI],pipes:[pb],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.privacy-menu-item[_ngcontent-%COMP%]{padding:12px 10px}.privacy-menu-item.privacy-button[_ngcontent-%COMP%]{width:100%;border:1px solid #eee;border-radius:4px;padding:12px}.privacy-menu-item.mat-menu-item[_ngcontent-%COMP%]{height:auto;padding:10px;color:#4f4f4f}.privacy-menu-item.mat-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#4f4f4f}.privacy-menu-item[_ngcontent-%COMP%]   .privacy-menu-item-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr auto;line-height:1.4rem;grid-column-gap:1rem;grid-row-gap:3px;text-align:left}.privacy-menu-item[_ngcontent-%COMP%]   .privacy-menu-item-content[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{grid-row:span 2;align-self:center;margin:0}.privacy-menu-item[_ngcontent-%COMP%]   .privacy-menu-item-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:pre-line}.privacy-menu-item[_ngcontent-%COMP%]   .privacy-menu-item-content[_ngcontent-%COMP%]   .privacy-label-title[_ngcontent-%COMP%]{font:700 1.5rem/2.5rem Helvetica,sans-serif;letter-spacing:0;line-height:1.5rem}.privacy-menu-item[_ngcontent-%COMP%]   .privacy-menu-item-content[_ngcontent-%COMP%]   .privacy-label-desc[_ngcontent-%COMP%]{font:400 1.375rem/2.5rem Helvetica,sans-serif;letter-spacing:0;grid-column:2;grid-row:2;line-height:1.4rem}']}),t}();function IR(t,e){if(1&t&&Rc(0,"cf2-drive-upload-error",6),2&t){var n=Yc(2);eu("reason",n.driveUploadState&&n.driveUploadState.error&&n.driveUploadState.error.reason)}}function AR(t,e){if(1&t&&(Dc(0,"div",8),iu(1),Nc()),2&t){var n=Yc(3);la(1),au(" ",n.getQueuedText()," ")}}function OR(t,e){if(1&t&&(Fc(0),Rc(1,"mat-progress-bar",12),Dc(2,"div"),iu(3,"Saving to Drive..."),Nc(),Bc()),2&t){var n=Yc(4);la(1),eu("value",100*n.driveUploadState.progress)}}function $R(t,e){if(1&t){var n=Hc();Dc(0,"cf2-privacy-menu",15),zc("privacyChange",(function(t){return vn(n),Yc(5).setDrivePrivacy(t)})),Nc()}if(2&t){var r=Yc(5);eu("domain",r.me.domain)("enableDomain",!0)("value",r.privacy)("disabled",!r.file||r.busy)("panelClass","details-drive-share")}}function MR(t,e){if(1&t){var n=Hc();Dc(0,"a",16),zc("click",(function(t){return vn(n),Yc(5).googleTrack("sidebar -> view on drive")})),Dc(1,"mat-icon"),iu(2,"open_in_new"),Nc(),iu(3,"View on Drive "),Nc()}2&t&&eu("href",Yc(5).driveLink,po)}function DR(t,e){if(1&t&&(Fc(0),hc(1,$R,1,5,"cf2-privacy-menu",13),hc(2,MR,4,1,"a",14),Bc()),2&t){var n=Yc(4);la(1),eu("ngIf",n.me),la(1),eu("ngIf",n.driveLink)}}function NR(t,e){if(1&t){var n=Hc();Fc(0),hc(1,OR,4,1,"ng-container",4),Dc(2,"div",9),Dc(3,"button",10),zc("click",(function(t){return vn(n),Yc(3).copyDriveLink()})),iu(4),Nc(),Nc(),hc(5,DR,3,2,"ng-container",4),Dc(6,"a",11),zc("click",(function(t){return vn(n),Yc(3).toggleMoreOptions()})),iu(7),Nc(),Bc()}if(2&t){var r=Yc(3);la(1),eu("ngIf",r.driveUploadState),la(1),eu("matTooltip","Drive link is not yet available")("matTooltipDisabled",r.driveLink),la(1),eu("disabled",!r.driveLink||!r.copyButtonEnabled),la(1),au(" ",r.copyButtonText," "),la(1),eu("ngIf",r.showMoreOptions),la(2),ou(r.moreOptionsText)}}function RR(t,e){if(1&t&&(Fc(0),hc(1,AR,2,1,"div",7),hc(2,NR,8,7,"ng-container",4),Bc()),2&t){var n=Yc(2);la(1),eu("ngIf",n.driveUploadState&&"queued"===n.driveUploadState.state),la(1),eu("ngIf",n.driveLink||n.driveUploadState&&"uploading"===n.driveUploadState.state)}}function LR(t,e){if(1&t&&(Fc(0),hc(1,IR,1,1,"cf2-drive-upload-error",5),hc(2,RR,3,2,"ng-container",4),Bc()),2&t){var n=Yc();la(1),eu("ngIf",n.getHasError()),la(1),eu("ngIf",!n.getHasError())}}function jR(t,e){if(1&t){var n=Hc();Fc(0),Dc(1,"button",17),zc("click",(function(t){return vn(n),Yc().$state.go("options")})),iu(2," Enable autosave "),Nc(),Bc()}}var FR="Copy shareable link",BR="More options",VR=function(){function t(t,e,n,r,i,o,a,s,c){this.$state=t,this.fileDbClient=e,this.analytics=n,this._shareUtils=r,this._$stateParams=i,this._syncStatusClient=o,this._errorSnackbar=a,this._uploader=s,this._userAccount=c,this._log=Hg.Log.create("DetailsDriveShare"),this._subscriptions=new u,this.copyButtonEnabled=!1,this.copyButtonText=FR,this.moreOptionsText=BR,this.showMoreOptions=!1,this.busy=!1}return t.prototype.ngOnInit=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return e=this.fileDbClient.onFileDescriptor(t=this._$stateParams.id),this._subscriptions.add(e.pipe(Yg(1)).subscribe((function(t){return r._loadFile(t)}))),this._subscriptions.add(e.pipe(qg((function(t){return r.fileDbClient.isSyncEnabled()&&t&&!t.isSynced})),yv((function(t){return r._uploader.onTargetState(t.id,"drive")}))).subscribe((function(t){t&&!r.driveLink&&(r.driveLink=r._shareUtils.getLink(r.file,"drive")),r.driveUploadState=t}))),this._subscriptions.add(this._shareUtils.onDrivePrivacyChanged.subscribe((function(e){e.id===t&&(r.privacy=e.privacy)}))),[4,this._userAccount.getAccount()];case 1:return n=i.sent(),this.me=n&&n.user?n.user.me:null,[2]}}))}))},t.prototype._loadFile=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return this.file=t,this.copyButtonEnabled=!0,this.driveLink=this._shareUtils.getLink(t,"drive"),e=this,[4,this._shareUtils.getPrivacy(this.file,"drive")];case 1:return e.privacy=n.sent(),[2]}}))}))},t.prototype.setDrivePrivacy=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,this._shareUtils.setPrivacy(this.file,{target:"drive",privacy:t})];case 1:return e.privacy=r.sent(),[3,3];case 2:return n=r.sent(),this._errorSnackbar.open({message:"Oops! Something went wrong while setting the privacy of your video. Please try again.",logger:this._log,errorMsg:n}),[3,3];case 3:return[2]}}))}))},t.prototype.copyDriveLink=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,e,n=this;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:t=function(){n.copyButtonEnabled=!0,n.copyButtonText=FR},this.googleTrack("sidebar -> copy link"),r.label=1;case 1:return r.trys.push([1,4,,5]),this.copyButtonEnabled=!1,this.copyButtonText="Enabling link sharing...",[4,this._shareUtils.enableLinkSharing(this.file,{target:"drive"})];case 2:return r.sent(),[4,hR(this.driveLink)];case 3:return r.sent(),this.copyButtonText="Copied!",setTimeout((function(){return t()}),2e3),[3,5];case 4:return e=r.sent(),this._errorSnackbar.open({message:"Oops! Something went wrong while copying the Drive link. Please try again.",logger:this._log,errorMsg:e}),t(),[3,5];case 5:return[2]}}))}))},t.prototype.getHasError=function(){return this.driveUploadState&&"error"===this.driveUploadState.state},t.prototype.getQueuedText=function(){return"offline"===this._syncStatusClient.state.type?"No internet connection detected. Your video will be uploaded to Drive when you are back online.":"Upload to Drive is queued, and will begin once your other video uploads complete."},t.prototype.toggleMoreOptions=function(){this.moreOptionsText=this.showMoreOptions?BR:"Fewer options",this.showMoreOptions=!this.showMoreOptions},t.prototype.googleTrack=function(t){this.analytics.trackEvent("video_details",t,"click")},t.prototype.ngOnDestroy=function(){this._subscriptions.unsubscribe()},t.ɵfac=function(e){return new(e||t)(mc(Lg),mc(Ig),mc(wg),mc(Og),mc(Fg),mc(Dg),mc(eR),mc(nR),mc(NE))},t.ɵcmp=ge({type:t,selectors:[["cf2-details-drive-share"]],inputs:{file$:"file$"},decls:9,vars:2,consts:[["expanded",""],[1,"header-container"],["svgIcon","google_drive"],[1,"panel-content-wrapper"],[4,"ngIf"],[3,"reason",4,"ngIf"],[3,"reason"],["class","queued-info",4,"ngIf"],[1,"queued-info"],["matTooltipShowDelay","300",1,"action-button-wrapper",3,"matTooltip","matTooltipDisabled"],["mat-flat-button","","color","accent",1,"action-button",3,"disabled","click"],[1,"more-options",3,"click"],[3,"value"],[3,"domain","enableDomain","value","disabled","panelClass","privacyChange",4,"ngIf"],["mat-button","","class","drive-link","target","_blank",3,"href","click",4,"ngIf"],[3,"domain","enableDomain","value","disabled","panelClass","privacyChange"],["mat-button","","target","_blank",1,"drive-link",3,"href","click"],["mat-flat-button","","color","accent",1,"action-button",3,"click"]],template:function(t,e){1&t&&(Dc(0,"mat-expansion-panel",0),Dc(1,"mat-expansion-panel-header"),Dc(2,"div",1),Rc(3,"mat-icon",2),Dc(4,"div"),iu(5,"Google Drive"),Nc(),Nc(),Nc(),Dc(6,"div",3),hc(7,LR,3,2,"ng-container",4),hc(8,jR,3,0,"ng-container",4),Nc(),Nc()),2&t&&(la(7),eu("ngIf",e.fileDbClient.isSyncEnabled()),la(1),eu("ngIf",!e.fileDbClient.isSyncEnabled()))},directives:[GP,KP,ak,Xy,xR,p$,kk,CI,PR,Tk],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.mat-expansion-panel[_ngcontent-%COMP%]{border-radius:0}.mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;align-items:center;grid-gap:1rem}.mat-expansion-panel[_ngcontent-%COMP%]   .panel-content-wrapper[_ngcontent-%COMP%]{display:grid;justify-content:center;justify-items:center;grid-gap:1.5rem;grid-template-columns:1fr}.mat-expansion-panel[_ngcontent-%COMP%]   .panel-content-wrapper[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]   .panel-content-wrapper[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{font-weight:400;text-align:left}.mat-expansion-panel[_ngcontent-%COMP%]   .panel-content-wrapper[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]   .panel-content-wrapper[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:-7px;margin-right:10px}.mat-progress-bar[_ngcontent-%COMP%]{height:20px;border-radius:10px!important;overflow:hidden}.action-button-wrapper[_ngcontent-%COMP%]{width:100%}.action-button[_ngcontent-%COMP%]{width:100%;padding:5px 0}.more-options[_ngcontent-%COMP%]{font:400 1.375rem/2.5rem Helvetica,sans-serif;letter-spacing:0;text-decoration:none;font-style:italic}.drive-link[_ngcontent-%COMP%]{justify-self:left}cf2-privacy-menu[_ngcontent-%COMP%]{width:100%}.queued-info[_ngcontent-%COMP%]{font-size:1.5rem;line-height:1.4}']}),Object(i.__decorate)([function(t,e,n){var r=n.value;n.value=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.busy=!0;var i=r.apply(this,e);return i.then((function(){return t.busy=!1}),(function(){return t.busy=!1})),i}}],t.prototype,"setDrivePrivacy",null),t}(),HR=function(){function t(t,e,n){this._shareUtils=t,this._errorSnackbar=e,this._snackbar=n,this._log=Hg.Log.create("YoutubeDialogActionsComponent"),this.copyLinkStarted=new Ol,this.copyLinkFinished=new Ol}return t.prototype.ngOnInit=function(){},t.prototype.getShareLink=function(){return this._shareUtils.getLink(this.file,"youtube")},t.prototype.copyYoutubeLink=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,e,n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:this.copyLinkStarted.emit(),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._shareUtils.enableLinkSharing(this.file,{target:"youtube"})];case 2:return t=r.sent(),e=t.privacy,[4,hR(t.link)];case 3:return r.sent(),this._snackbar.open("YouTube link copied","",{panelClass:"cf2-snackbar",duration:3e3,verticalPosition:"bottom",horizontalPosition:"center"}),this.copyLinkFinished.emit(e),[3,5];case 4:return n=r.sent(),this._errorSnackbar.open({message:"Oops! Something went wrong while copying the YouTube link. Please try again.",logger:this._log,errorMsg:n}),this.copyLinkFinished.emit(null),[3,5];case 5:return[2]}}))}))},t.ɵfac=function(e){return new(e||t)(mc(Og),mc(eR),mc(ZT))},t.ɵcmp=ge({type:t,selectors:[["cf2-youtube-dialog-actions"]],inputs:{file:"file",busy:"busy"},outputs:{copyLinkStarted:"copyLinkStarted",copyLinkFinished:"copyLinkFinished"},decls:4,vars:2,consts:[["mat-button","","target","_blank",3,"href"],["mat-flat-button","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(Dc(0,"a",0),iu(1," View on YouTube\n"),Nc(),Dc(2,"button",1),zc("click",(function(t){return e.copyYoutubeLink()})),iu(3," Copy link\n"),Nc()),2&t&&(eu("href",e.getShareLink(),po),la(2),eu("disabled",e.busy))},directives:[Tk,kk],styles:["[_nghost-%COMP%]{display:grid;grid-column-gap:1rem;grid-auto-flow:column;justify-content:right}"]}),t}();function UR(t,e){1&t&&(Dc(0,"button",12),Dc(1,"div",13),Dc(2,"mat-icon",9),iu(3,"add"),Nc(),iu(4," Add a YouTube channel "),Nc(),Nc()),2&t&&(Yc(),eu("matMenuTriggerFor",pc(6)))}function qR(t,e){if(1&t&&(Dc(0,"button",14),Dc(1,"div",13),Rc(2,"div",15),Dc(3,"span"),iu(4),Nc(),Nc(),Nc()),2&t){var n=Yc();eu("matMenuTriggerFor",pc(6))("disabled",n.busy),la(2),vc(mo),yc("background-image","url("+n.selected.thumbnailUrl+")"),la(2),ou(n.selected.title)}}function zR(t,e){if(1&t){var n=Hc();Dc(0,"button",7),zc("click",(function(t){vn(n);var r=e.$implicit;return Yc().selectChannel(r)})),Dc(1,"div",8),Rc(2,"div",15),Dc(3,"span"),iu(4),Nc(),Dc(5,"mat-icon",16),zc("click",(function(t){vn(n);var r=e.$implicit;return Yc().removeChannel(r,t)})),iu(6,"remove_circle_outline"),Nc(),Nc(),Nc()}if(2&t){var r=e.$implicit;la(2),vc(mo),yc("background-image","url("+r.thumbnailUrl+")"),la(2),ou(r.title)}}function WR(t,e){if(1&t){var n=Hc();Fc(0),Dc(1,"div",17),Dc(2,"div",18),iu(3,"Description"),Nc(),Dc(4,"mat-form-field",19),Dc(5,"textarea",20),zc("ngModelChange",(function(t){return vn(n),Yc().description=t})),Nc(),Nc(),Nc(),Dc(6,"div",21),iu(7," By publishing to YouTube, you agree to their "),Dc(8,"a",22),iu(9,"Terms of Service"),Nc(),iu(10,". "),Nc(),Bc()}if(2&t){var r=Yc();la(5),eu("ngModel",r.description)}}function GR(t,e){1&t&&(Fc(0),Dc(1,"div",23),iu(2," Your recording has been published! "),Nc(),Dc(3,"cf2-error-hint",24),iu(4," Recordings can only be published once per channel. To publish again, please select another channel. "),Nc(),Bc()),2&t&&(la(3),eu("noMargins",!0)("warning",!0)("smallText",!0))}function KR(t,e){if(1&t){var n=Hc();Dc(0,"mat-dialog-actions"),Dc(1,"button",25),iu(2," Cancel "),Nc(),Dc(3,"div",26),Dc(4,"button",27),zc("click",(function(t){return vn(n),Yc().upload()})),iu(5," Upload "),Nc(),Nc(),Nc()}if(2&t){var r=Yc();la(1),eu("mat-dialog-close",!1),la(2),eu("matTooltipDisabled",r.selected),la(1),eu("mat-dialog-close",!0)("disabled",!r.selected)}}function QR(t,e){if(1&t){var n=Hc();Dc(0,"mat-dialog-actions"),Dc(1,"cf2-youtube-dialog-actions",28),zc("copyLinkStarted",(function(t){return vn(n),Yc().busy=!0}))("copyLinkFinished",(function(t){return vn(n),Yc().onCopyLinkFinished(t)})),Nc(),Nc()}if(2&t){var r=Yc();la(1),eu("file",r.data.file)("busy",r.busy)}}var YR=function(){function t(t,e,n,r){this._youtubeAuth=t,this._shareUtils=e,this.data=n,this._errorSnackbar=r,this._log=Hg.Log.create("YoutubePublishDialogComponent"),this.busy=!1,this.privacy="private",this.description="",this.alreadyPublished=!1}return t.prototype.ngOnInit=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return t=this,[4,this._fetchChannels()];case 1:return t.channels=e.sent(),this.channels.length&&this.selectChannel(this.channels[0]),[2]}}))}))},t.prototype._fetchChannels=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this._youtubeAuth.listChannels()]}))}))},t.prototype.selectChannel=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return this.selected=t,this.alreadyPublished=this.data.file.youtubeInfo&&this.data.file.youtubeInfo.channelId===t.id,e=this,[4,this._fetchPrivacy()];case 1:return e.privacy=n.sent(),[2]}}))}))},t.prototype._fetchPrivacy=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(e){switch(e.label){case 0:if(!this.alreadyPublished)return[2,"private"];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this._shareUtils.getPrivacy(this.data.file,"youtube",this.data.file.youtubeInfo.channelId)];case 2:return t=e.sent(),[3,4];case 3:return e.sent(),this._log.error("failed to fetch file from YouTube, making a guess for privacy"),t="unlisted",[3,4];case 4:return[2,t]}}))}))},t.prototype.removeChannel=function(t,e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,1,,3]),e.stopPropagation(),e.preventDefault(),this.channels.splice(this.channels.indexOf(t),1),this._youtubeAuth.removeChannel(t.id),[3,3];case 1:return n=i.sent(),this._errorSnackbar.open({message:"Oops! Something went wrong while removing the YouTube channel. Please try again.",logger:this._log,errorMsg:n}),r=this,[4,this._fetchChannels()];case 2:return r.channels=i.sent(),[3,3];case 3:return[2]}}))}))},t.prototype.addChannel=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,e,n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,this._youtubeAuth.addChannel()];case 1:return t=r.sent(),e=this,[4,this._fetchChannels()];case 2:return e.channels=r.sent(),this.selectChannel(t),[3,4];case 3:return n=r.sent(),this._errorSnackbar.open({message:"Oops! Something went wrong while trying to add the YouTube channel. Please try again.",logger:this._log,errorMsg:n}),[3,4];case 4:return[2]}}))}))},t.prototype.updatePrivacy=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return this.alreadyPublished?[3,1]:(this.privacy=t,[3,4]);case 1:return r.trys.push([1,3,,4]),e=this,[4,this._shareUtils.setPrivacy(this.data.file,{target:"youtube",privacy:t})];case 2:return e.privacy=r.sent(),[3,4];case 3:return n=r.sent(),this._errorSnackbar.open({message:"Oops! Something went wrong while setting the privacy of your video. Please try again.",logger:this._log,errorMsg:n}),[3,4];case 4:return[2]}}))}))},t.prototype.upload=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this._shareUtils.upload(this.data.file,{target:"_youtube_remote_2",privacy:this.privacy,description:this.description,channelId:this.selected.id})];case 1:return e.sent(),[3,3];case 2:return t=e.sent(),this._errorSnackbar.open({message:"Oops! Something went wrong while uploading your video. Please try again.",logger:this._log,errorMsg:t}),[3,3];case 3:return[2]}}))}))},t.prototype.onCopyLinkFinished=function(t){this.busy=!1,t&&(this.privacy=t)},t.ɵfac=function(e){return new(e||t)(mc(Mg),mc(Og),mc(lP),mc(eR))},t.ɵcmp=ge({type:t,selectors:[["cf2-youtube-publish-dialog"]],decls:18,vars:11,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-stroked-button","","class","channel-button",3,"matMenuTriggerFor",4,"ngIf"],["mat-stroked-button","","class","channel-button",3,"matMenuTriggerFor","disabled",4,"ngIf"],["overlapTrigger","",1,"cf-youtube-channel-menu"],["youtubeChannelChooser","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],[1,"youtube-menu-item-content","menu-option"],[1,"add-channel-icon"],[3,"enableDomain","value","disabled","panelClass","privacyChange"],[4,"ngIf"],["mat-stroked-button","",1,"channel-button",3,"matMenuTriggerFor"],[1,"youtube-menu-item-content"],["mat-stroked-button","",1,"channel-button",3,"matMenuTriggerFor","disabled"],[1,"channel-thumbnail"],[3,"click"],[1,"cf-labeled-form-field"],[1,""],["appearance","outline"],["matInput","","matTextareaAutosize","","matAutosizeMinRows","3","matAutosizeMaxRows","6","type","text",3,"ngModel","ngModelChange"],[1,"youtube-terms"],["href","https://www.youtube.com/t/terms","target","_blank"],[1,"already-published"],[3,"noMargins","warning","smallText"],["mat-button","",3,"mat-dialog-close"],["matTooltipPosition","above","matTooltipShowDelay","300","matTooltip","Please select a channel to publish to.",3,"matTooltipDisabled"],["mat-flat-button","","color","primary",3,"mat-dialog-close","disabled","click"],[3,"file","busy","copyLinkStarted","copyLinkFinished"]],template:function(t,e){1&t&&(Dc(0,"h1",0),iu(1,"Publish to YouTube"),Nc(),Dc(2,"div",1),hc(3,UR,5,1,"button",2),hc(4,qR,5,4,"button",3),Dc(5,"mat-menu",4,5),hc(7,zR,7,2,"button",6),Dc(8,"button",7),zc("click",(function(t){return e.addChannel()})),Dc(9,"div",8),Dc(10,"mat-icon",9),iu(11,"add"),Nc(),iu(12," Add a channel "),Nc(),Nc(),Nc(),Dc(13,"cf2-privacy-menu",10),zc("privacyChange",(function(t){return e.updatePrivacy(t)})),Nc(),hc(14,WR,11,1,"ng-container",11),hc(15,GR,5,3,"ng-container",11),Nc(),hc(16,KR,6,4,"mat-dialog-actions",11),hc(17,QR,2,2,"mat-dialog-actions",11)),2&t&&(la(3),eu("ngIf",!e.selected),la(1),eu("ngIf",e.selected),la(3),eu("ngForOf",e.channels),la(6),eu("enableDomain",!1)("value",e.privacy)("disabled",e.busy)("panelClass","youtube-publish-dialog"),la(1),eu("ngIf",!e.alreadyPublished),la(1),eu("ngIf",e.alreadyPublished),la(1),eu("ngIf",!e.alreadyPublished),la(1),eu("ngIf",e.alreadyPublished))},directives:[vP,yP,Xy,hI,Qy,uI,ak,PR,kk,vI,X$,lM,aM,pA,_A,_O,lk,bP,gP,p$,HR],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.mat-dialog-content[_ngcontent-%COMP%]{display:grid;grid-auto-flow:row;grid-gap:1rem}.channel-button[_ngcontent-%COMP%]{text-align:left;padding:1rem 15px}.youtube-menu-item-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr auto;align-items:center;line-height:1.4rem;grid-column-gap:.7rem;grid-row-gap:3px;text-align:left}.youtube-menu-item-content.menu-option[_ngcontent-%COMP%]{grid-column-gap:2rem}.youtube-menu-item-content[_ngcontent-%COMP%]   .channel-thumbnail[_ngcontent-%COMP%]{height:24px;width:24px;background-position:left center;background-size:contain;background-repeat:no-repeat}.youtube-menu-item-content[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{grid-row:span 2;align-self:center;margin:0}.youtube-menu-item-content[_ngcontent-%COMP%]   .mat-icon.add-channel-icon[_ngcontent-%COMP%]{grid-row:1}.youtube-menu-item-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:pre-line}.youtube-menu-item-content[_ngcontent-%COMP%]   .youtube-label-desc[_ngcontent-%COMP%]{font:400 1.375rem/2.5rem Helvetica,sans-serif;letter-spacing:0;grid-column:2;grid-row:2;line-height:1.4rem}.youtube-terms[_ngcontent-%COMP%]{padding:1rem 0;font-size:14px}.youtube-terms[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ff8282;text-decoration:none}.already-published[_ngcontent-%COMP%]{line-height:1.2;padding:5px}']}),Object(i.__decorate)([function(t,e,n){var r=n.value;n.value=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.busy=!0;var i=r.apply(this,e);return i.then((function(){return t.busy=!1}),(function(){return t.busy=!1})),i}}],t.prototype,"_fetchChannels",null),Object(i.__decorate)([function(t,e,n){var r=n.value;n.value=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.busy=!0;var i=r.apply(this,e);return i.then((function(){return t.busy=!1}),(function(){return t.busy=!1})),i}}],t.prototype,"selectChannel",null),Object(i.__decorate)([function(t,e,n){var r=n.value;n.value=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.busy=!0;var i=r.apply(this,e);return i.then((function(){return t.busy=!1}),(function(){return t.busy=!1})),i}}],t.prototype,"addChannel",null),Object(i.__decorate)([function(t,e,n){var r=n.value;n.value=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.busy=!0;var i=r.apply(this,e);return i.then((function(){return t.busy=!1}),(function(){return t.busy=!1})),i}}],t.prototype,"updatePrivacy",null),Object(i.__decorate)([function(t,e,n){var r=n.value;n.value=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.busy=!0;var i=r.apply(this,e);return i.then((function(){return t.busy=!1}),(function(){return t.busy=!1})),i}}],t.prototype,"upload",null),t}(),XR=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new ZR(t,this.predicate))},t}(),ZR=function(t){function e(e,n){var r=t.call(this,e)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return i.__extends(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(n){this.destination.error(n)}},e}(g);function JR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return Lx(e,yE.apply(void 0,t))}}var tL=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵcmp=ge({type:t,selectors:[["cf2-dialog-close-button"]],decls:3,vars:0,consts:[["mat-dialog-title","",1,"close-button-wrapper"],["mat-mini-fab","","disableRipple","",1,"close-button",3,"mat-dialog-close"]],template:function(t,e){1&t&&(Dc(0,"div",0),Dc(1,"button",1),iu(2," × "),Nc(),Nc())},directives:[vP,kk,gP],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.mat-dialog-title.close-button-wrapper[_ngcontent-%COMP%]{display:grid;justify-items:end;margin:-26px -24px -10px 0}.mat-dialog-title.close-button-wrapper[_ngcontent-%COMP%]   .mat-mini-fab.close-button[_ngcontent-%COMP%]{box-shadow:none;color:#4f4f4f;background-color:transparent;font-size:3rem;font-weight:400}']}),t}();function eL(t,e){1&t&&(Dc(0,"h1",3),iu(1,"Uploading..."),Nc())}function nL(t,e){1&t&&(Dc(0,"h1",3),iu(1,"Whoops!"),Nc())}function rL(t,e){1&t&&Rc(0,"mat-progress-bar",4),2&t&&eu("value",100*Yc(2).progress)}function iL(t,e){if(1&t){var n=Hc();Fc(0),Dc(1,"cf2-error-hint",5),Dc(2,"span"),iu(3," This YouTube account does not have a channel affiliated with it. Please "),Dc(4,"a",6),iu(5,"set up a channel"),Nc(),iu(6," and try uploading again. "),Nc(),Nc(),Dc(7,"mat-dialog-actions"),Dc(8,"button",7),zc("click",(function(t){return vn(n),Yc(2).close()})),iu(9,"Close"),Nc(),Nc(),Bc()}2&t&&(la(1),eu("noMargins",!0))}function oL(t,e){if(1&t&&(Fc(0),hc(1,eL,2,0,"h1",1),hc(2,nL,2,0,"h1",1),hc(3,rL,1,1,"mat-progress-bar",2),hc(4,iL,10,1,"ng-container",0),Bc()),2&t){var n=Yc();la(1),eu("ngIf",!n.error),la(1),eu("ngIf","YOUTUBE_SIGNUP_REQUIRED"===n.error),la(1),eu("ngIf",!n.error),la(1),eu("ngIf","YOUTUBE_SIGNUP_REQUIRED"===n.error)}}function aL(t,e){if(1&t){var n=Hc();Fc(0),Rc(1,"cf2-dialog-close-button"),Dc(2,"h1",3),iu(3,"Success!"),Nc(),Dc(4,"div",8),iu(5," Your recording has been uploaded to YouTube. "),Nc(),Dc(6,"mat-dialog-actions",9),Dc(7,"cf2-youtube-dialog-actions",10),zc("copyLinkStarted",(function(t){return vn(n),Yc().busy=!0}))("copyLinkFinished",(function(t){return vn(n),Yc().busy=!1})),Nc(),Nc(),Bc()}if(2&t){var r=Yc();la(7),eu("file",r.data.file)("busy",r.busy)}}var sL=function(){function t(t,e,n,r){this.data=t,this._uploader=e,this._snackbar=n,this._dialog=r,this._subscription=new u,this.progress=0,this.busy=!1,this._log=Hg.Log.create("YoutubeUploadProgress"),this.error=null,this._YOUTUBE_SIGNUP_REQUIRED="YOUTUBE_SIGNUP_REQUIRED"}return t.prototype.ngOnInit=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(i.__generator)(this,(function(e){var n;return this._subscription.add(this._uploader.onTargetState(this.data.file.id,"_youtube_remote_2").pipe((n=function(t){return!t},function(t){return t.lift(new XR(n))}),zN((function(t){return!!t})),j((function(t){return t.progress?t.progress:0})),JR(1)).subscribe((function(e){t.progress=e}))),this._subscription.add(this._uploader.onError(this.data.file.id,"_youtube_remote_2").subscribe((function(e){return t._handleError(e)}))),[2]}))}))},t.prototype._handleError=function(t){this._log.warn("Youtube upload failed with",t),"youtubeSignupRequired"===t.reason?this.error=this._YOUTUBE_SIGNUP_REQUIRED:(this._snackbar.open("Oops! Something went wrong while uploading your video. Please try again.","More Information",{duration:1e4}).onAction().subscribe((function(){window.open("https://help.screencastify.com/article/219-i-received-a-youtubeauth-failed-error")})),this._dialog.close())},t.prototype.close=function(){this._dialog.close()},t.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},t.ɵfac=function(e){return new(e||t)(mc(lP),mc(nR),mc(ZT),mc(uP))},t.ɵcmp=ge({type:t,selectors:[["cf2-youtube-progress-dialog"]],decls:2,vars:2,consts:[[4,"ngIf"],["mat-dialog-title","",4,"ngIf"],[3,"value",4,"ngIf"],["mat-dialog-title",""],[3,"value"],[3,"noMargins"],["target","_blank","href","https://help.screencastify.com/article/216-i-received-a-youtubesignuprequired-error",1,"link"],["color","primary","mat-flat-button","",3,"click"],["mat-dialog-content",""],[1,"youtube-upload-actions"],[3,"file","busy","copyLinkStarted","copyLinkFinished"]],template:function(t,e){1&t&&(hc(0,oL,5,4,"ng-container",0),hc(1,aL,8,2,"ng-container",0)),2&t&&(eu("ngIf",e.progress<1),la(1),eu("ngIf",1===e.progress))},directives:[Xy,vP,CI,lk,bP,kk,tL,yP,HR],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.mat-progress-bar[_ngcontent-%COMP%]{height:20px;border-radius:10px!important;overflow:hidden}a.link[_ngcontent-%COMP%]{color:#0af}']}),t}();function cL(t,e){1&t&&(Dc(0,"textarea",5),iu(1,"  "),Nc()),2&t&&eu("value",Yc().embedCode)}function uL(t,e){1&t&&(Dc(0,"span",6),Rc(1,"mat-progress-spinner",7),iu(2," Updating sharing settings... "),Nc())}var lL=function(){function t(t,e,n,r){this._data=t,this._analytics=e,this._shareUtils=n,this._selfDialogRef=r,this.embedCode=null}return t.prototype.ngOnInit=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._shareUtils.getDriveEmbedLink(this._data.file)];case 1:return t=e.sent(),this.embedCode='<iframe src="'+t+'" width="640" height="480"></iframe>',[2]}}))}))},t.prototype.copyEmbedCode=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return this._analytics.trackEvent("video_details","embed code dialog -> copy embed code","click"),[4,hR(this.embedCode)];case 1:return t.sent(),this._selfDialogRef.close(!0),[2]}}))}))},t.ɵfac=function(e){return new(e||t)(mc(lP),mc(wg),mc(Og),mc(uP))},t.ɵcmp=ge({type:t,selectors:[["cf2-embed-code-dialog"]],decls:10,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["class","embed-code code","readonly","",3,"value",4,"ngIf"],["class","embed-code",4,"ngIf"],["mat-flat-button","","color","primary",3,"disabled","click"],["readonly","",1,"embed-code","code",3,"value"],[1,"embed-code"],["mode","indeterminate","diameter","15"]],template:function(t,e){1&t&&(Dc(0,"h1",0),iu(1,"Embed Code"),Nc(),Dc(2,"div",1),Dc(3,"div"),iu(4,"Paste this HTML snippet into any webpage to embed this video."),Nc(),hc(5,cL,2,1,"textarea",2),hc(6,uL,3,0,"span",3),Nc(),Dc(7,"mat-dialog-actions"),Dc(8,"button",4),zc("click",(function(t){return e.copyEmbedCode()})),iu(9," Copy embed code "),Nc(),Nc()),2&t&&(la(5),eu("ngIf",e.embedCode),la(1),eu("ngIf",!e.embedCode),la(2),eu("disabled",!e.embedCode))},directives:[vP,yP,Xy,bP,kk,DI],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.embed-code[_ngcontent-%COMP%]{display:grid;margin-top:20px;width:100%;height:6.2rem;border:1px solid #ddd;border-radius:5px;padding:12px;background:#f4f4f4;line-height:18px;font-size:12px;color:#2e2e2e;white-space:pre-wrap;word-break:break-all;resize:none;outline:0;text-align:center}.embed-code.code[_ngcontent-%COMP%]{font-weight:400;text-align:left;font-family:\'Andale Mono\',monospace}mat-progress-spinner[_ngcontent-%COMP%]{margin:auto}']}),t}(),dL=function(){function t(t){this._$http=t}return t.prototype.download=function(t,e){var n=document.createElement("a"),r=e.replace(/[/,\\]/g,"");n.setAttribute("href",t),n.setAttribute("download",r),n.click()},t.prototype.downloadFromUrl=function(t,e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._$http.get(t,{responseType:"blob",googleAuth:!0})];case 1:return r=i.sent(),n=r.data,[3,3];case 2:throw i.sent();case 3:return o=URL.createObjectURL(n),this.download(o,e),[2]}}))}))},t.ɵprov=ht({token:t,factory:t.ɵfac=function(e){return new(e||t)(Jt(Rg))},providedIn:"root"}),t}();qd.module("cf2.downloadHelperService",[]).factory("cf2DownloadHelperService",C_(dL));var fL=["canvas"];function hL(t,e){1&t&&(Fc(0),Rc(1,"mat-progress-spinner",8),Dc(2,"div"),iu(3," Updating sharing settings... "),Nc(),Bc())}var pL=function(){function t(t,e,n,r,i,o,a){this._data=t,this._analytics=e,this._shareUtils=n,this._downloadHelper=r,this._dialogRef=i,this._errorSnackbar=o,this._snackBar=a,this._log=Hg.Log.create("QRCodeDialogComponent"),this.loading=!0}return t.prototype.ngOnInit=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,this._enableLinkSharing()];case 1:return t.sent(),[4,this._generateQRCode()];case 2:return t.sent(),this.loading=!1,[2]}}))}))},t.prototype._enableLinkSharing=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this._shareUtils.enableLinkSharing(this._data.file,{target:"drive"})];case 1:if(!(t=n.sent().link))throw new Error("drive link not available");return this._driveLink=t,[3,3];case 2:return e=n.sent(),this._handleError(e),[3,3];case 3:return[2]}}))}))},t.prototype._generateQRCode=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(i.__generator)(this,(function(e){return window.w69b.qr.encoding.drawOnCanvas(this._driveLink,this._canvas.nativeElement,0),this._canvas.nativeElement.toBlob((function(e){return t._imgBlob=e})),[2]}))}))},t.prototype._handleError=function(t){this._errorSnackbar.open({logger:this._log,errorMsg:t}),this._dialogRef.close()},t.prototype.copyToClipboard=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:this._analytics.trackEvent("video_details","QR code dialog -> copy to clipboard","click"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,navigator.clipboard.write([new window.ClipboardItem((e={},e[this._imgBlob.type]=this._imgBlob,e))])];case 2:return n.sent(),this._snackBar.open("QR code copied to clipboard","",{panelClass:"cf2-snackbar",duration:3e3,verticalPosition:"bottom",horizontalPosition:"center"}),[3,4];case 3:return t=n.sent(),this._handleError(t),[3,4];case 4:return[2]}}))}))},t.prototype.downloadQRCodeImage=function(){this._analytics.trackEvent("video_details","QR code dialog -> download","click");var t=URL.createObjectURL(this._imgBlob);this._downloadHelper.download(t,"qr-code.png")},t.ɵfac=function(e){return new(e||t)(mc(lP),mc(wg),mc(Og),mc(dL),mc(uP),mc(eR),mc(ZT))},t.ɵcmp=ge({type:t,selectors:[["cf2-qr-code-dialog"]],viewQuery:function(t,e){var n;1&t&&Ul(fL,!0),2&t&&Hl(n=Ql())&&(e._canvas=n.first)},decls:14,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"qr-code-message"],[1,"qr-code-box"],["canvas",""],[4,"ngIf"],["mat-button","","mat-dialog-close","",3,"disabled","click"],["mat-flat-button","","color","primary","mat-dialog-close","",3,"disabled","click"],["mode","indeterminate","diameter","100"]],template:function(t,e){1&t&&(Dc(0,"h1",0),iu(1,"QR Code"),Nc(),Dc(2,"div",1),Dc(3,"div",2),iu(4," This code will direct you to your recording's Google Drive link when scanned with a QR code app or compatible camera. "),Nc(),Dc(5,"div",3),Rc(6,"canvas",null,4),hc(8,hL,4,0,"ng-container",5),Nc(),Nc(),Dc(9,"mat-dialog-actions"),Dc(10,"button",6),zc("click",(function(t){return e.copyToClipboard()})),iu(11," Copy QR code "),Nc(),Dc(12,"button",7),zc("click",(function(t){return e.downloadQRCodeImage()})),iu(13," Download "),Nc(),Nc()),2&t&&(la(6),bc("hidden",e.loading),la(2),eu("ngIf",e.loading),la(2),eu("disabled",e.loading),la(2),eu("disabled",e.loading))},directives:[vP,yP,Xy,bP,kk,gP,DI],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.hidden[_ngcontent-%COMP%]{display:none}.mat-dialog-content[_ngcontent-%COMP%]{overflow:hidden;display:grid;grid-template-columns:auto auto;align-items:center}.mat-dialog-content[_ngcontent-%COMP%]   .qr-code-box[_ngcontent-%COMP%]{font:400 1.375rem/2.5rem Helvetica,sans-serif;letter-spacing:0;padding:2rem 4rem;font-weight:700;display:grid;justify-items:center;justify-content:center;grid-gap:1rem;height:192px;width:280px;border:1px solid #ddd;border-radius:5px;overflow:hidden}']}),t}(),mL=function(){function t(t){this._chromeStorageService=t,this.loadedPromise=this._init()}return t.prototype._init=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return t=this,[4,this._chromeStorageService.local.getSingle("sharePreferences",{})];case 1:return t._preferences=e.sent(),[2]}}))}))},t.prototype.incrementOption=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.loadedPromise];case 1:return e.sent(),this._preferences[t]=this._preferences[t]?this._preferences[t]+1:1,[4,this._chromeStorageService.local.setSingle("sharePreferences",this._preferences)];case 2:return e.sent(),[2]}}))}))},t.prototype.compareOptions=function(t,e){if(!this._preferences)throw new Error("compareOptions called before init");return(this._preferences[e.id]||0)-(this._preferences[t.id]||0)},t.ɵprov=ht({token:t,factory:t.ɵfac=function(e){return new(e||t)(Jt(jM))},providedIn:"root"}),t}(),gL=function(){function t(t,e,n){this._cf2ChromeStorageService=t,this._appRegistry=e,this._$rootScope=n}return t.prototype._loadConnectedApps=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,this._cf2ChromeStorageService.sync.getSingle("connectedAppIds",[])];case 1:return[2,t.sent().map((function(t){return"number"==typeof t?{id:t,hasShareUrl:!0}:t}))]}}))}))},t.prototype._loadRecent=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,this._cf2ChromeStorageService.sync.getSingle("connectedAppRecentId",void 0)]}))}))},t.prototype._saveRecent=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._cf2ChromeStorageService.sync.setSingle("connectedAppRecentId",t)];case 1:return[2,e.sent()]}}))}))},t.prototype._saveConnectedApps=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._cf2ChromeStorageService.sync.setSingle("connectedAppIds",t)];case 1:return[2,e.sent()]}}))}))},t.prototype.getConnectedIds=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getConnectedAppInfo()];case 1:return e=n.sent(),[2,this._filterByQuery(e,t).map((function(t){return t.id}))]}}))}))},t.prototype._filterByQuery=function(t,e){return t.filter((function(t){return!e||Object.keys(e).every((function(n){return e[n]===t[n]}))}))},t.prototype.getConnectedAppInfo=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._loadConnectedApps()];case 1:return t=e.sent(),[4,this._appRegistry.getApps(t.map((function(t){return t.id})))];case 2:return[2,e.sent().map((function(e){var n=t.find((function(t){return t.id===e.id}));return Object(i.__assign)(Object(i.__assign)({},e),n)}))]}}))}))},t.prototype.getConnectedAppInfoById=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.getConnectedAppInfo()];case 1:return e=r.sent(),(n=e.find((function(e){return e.id===t})))?[2,n]:[2,null]}}))}))},t.prototype.hasConnectedApps=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.getConnectedAppInfo()];case 1:return[2,t.sent().length>0]}}))}))},t.prototype.isConnected=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._loadConnectedApps()];case 1:return[2,e.sent().some((function(e){return e.id===t}))]}}))}))},t.prototype.disconnect=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this._loadConnectedApps()];case 1:return e=(e=n.sent()).filter((function(e){return e.id!==t})),[4,this._saveRecent(null)];case 2:return n.sent(),[4,this._saveConnectedApps(e)];case 3:return n.sent(),this._$rootScope.$broadcast("connect:appDisconnected",t),[2]}}))}))},t.prototype.connect=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return[4,this._loadConnectedApps()];case 1:return e=r.sent(),[4,this._appRegistry.getAppInfo(t)];case 2:return n=r.sent(),e.some((function(e){return e.id===t}))?[3,4]:(e.push({id:t,hasShareUrl:!!n.shareUrl}),n.shareUrl?[4,this._saveRecent(t)]:[3,4]);case 3:r.sent(),r.label=4;case 4:return[4,this._saveConnectedApps(e)];case 5:return r.sent(),this._$rootScope.$broadcast("connect:appConnected",t,n),[2]}}))}))},t.prototype._setUserDataForApp=function(t,e,n){return Object(i.__awaiter)(this,void 0,void 0,(function(){var r,o,a;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this._loadConnectedApps()];case 1:if(r=i.sent(),!(o=r.find((function(e){return e.id===t}))))throw new Error("Cannot set user data for non-connected app");return a=o[e],null==n?delete o[e]:o[e]=n,[4,this._saveConnectedApps(r)];case 2:return i.sent(),[2,a]}}))}))},t.prototype.setUserExpiryDate=function(t,e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return[4,this._setUserDataForApp(t,"userExpiryDate",e)];case 1:return n=r.sent(),this._$rootScope.$broadcast("connect:userExpiryDateChange",n,e),[2]}}))}))},t.prototype.setUserShareUrl=function(t,e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this._setUserDataForApp(t,"shareUrl",e)];case 1:return[2,n.sent()]}}))}))},t.prototype.clearRecent=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,this._saveRecent(null)];case 1:return[2,t.sent()]}}))}))},t.prototype.getRecent=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,this._loadRecent()];case 1:return[2,t.sent()]}}))}))},t.ɵprov=ht({token:t,factory:t.ɵfac=function(e){return new(e||t)(Jt(jM),Jt(Vg),Jt(jg))},providedIn:"root"}),t}();function vL(t,e){1&t&&Rc(0,"mat-icon",9),2&t&&eu("svgIcon",Yc().$implicit.icon.name)}function yL(t,e){if(1&t&&(Dc(0,"mat-icon"),iu(1),Nc()),2&t){var n=Yc().$implicit;la(1),ou(n.icon.name)}}function bL(t,e){if(1&t){var n=Hc();Dc(0,"div",5),Dc(1,"button",6),zc("click",(function(t){vn(n);var r=e.$implicit;return Yc().handleOptionClick(r)})),hc(2,vL,1,1,"mat-icon",7),hc(3,yL,2,1,"mat-icon",8),iu(4),Nc(),Nc()}if(2&t){var r=e.$implicit;eu("matTooltip",r.disabledTooltip())("matTooltipDisabled",!r.disabled()),la(1),eu("disabled",r.disabled()),la(1),eu("ngIf",r.icon.svg),la(1),eu("ngIf",!r.icon.svg),la(1),au("",r.text," ")}}qd.module("cf2.connectedAppsService",[]);var _L="More options",wL=function(){return!1},SL=function(){function t(t,e,n,r,i,o,a,s,c,u,l){var d=this;this._analytics=t,this._shareUtils=e,this._appOptions=n,this._appRegistry=r,this._connectService=i,this._syncStatusClient=o,this._sharePreferences=a,this._errorSnackbar=s,this._snackBar=c,this._connectedAppsService=u,this._dialog=l,this.moreOptionsText=_L,this.showMoreOptions=!1,this.shareOptions=[],this._allShareOptions=[{id:"classroom",icon:{name:"classroom",svg:!0},text:"Share to Classroom",action:function(){return d.shareClassroom()},disabled:function(){return!d.canShare()||d._isOffline()},disabledTooltip:function(){return d.getTooltip()}},{id:"youtube",icon:{name:"youtube",svg:!0},text:"Publish to YouTube",action:function(){return d.publishToYoutube()},disabled:function(){return!d.canShare()||d._isOffline()},disabledTooltip:function(){return d.getTooltip()}},{id:"embed",icon:{name:"code"},text:"Get embed code",action:function(){return d.openEmbedCodeDialog()},disabled:function(){return!d._appOptions.values.driveSync||d._isOffline()},disabledTooltip:function(){return d.getTooltip()}},{id:"gmail",icon:{name:"gmail",svg:!0},text:"Send in email",action:function(){return d.shareEmail()},disabled:function(){return!d._appOptions.values.driveSync||d._isOffline()},disabledTooltip:function(){return d.getTooltip()}},{id:"qrcode",icon:{name:"qrcode",svg:!0},text:"Generate QR code",featureFlag:"enableQRCode",action:function(){return d.openQRCodeDialog()},disabled:function(){return!d._appOptions.values.driveSync||d._isOffline()},disabledTooltip:function(){return d.getTooltip()}}]}return t.prototype.ngOnInit=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r,o,a,s,c,u=this;return Object(i.__generator)(this,(function(l){switch(l.label){case 0:return[4,this._connectedAppsService.getConnectedIds({hasShareUrl:!0})];case 1:return t=l.sent(),[4,this._appRegistry.getApps(t)];case 2:e=l.sent(),n=function(t){r._allShareOptions.push({id:t.id,icon:{name:"exit_to_app"},text:"Share to "+t.title,action:function(){return u._connectService.share(t.id,u.file.id)},disabled:wL,disabledTooltip:function(){return""}})},r=this;try{for(o=Object(i.__values)(e),a=o.next();!a.done;a=o.next())n(a.value)}catch(d){s={error:d}}finally{try{a&&!a.done&&(c=o.return)&&c.call(o)}finally{if(s)throw s.error}}return[4,this._sharePreferences.loadedPromise];case 3:return l.sent(),this._allShareOptions=this._allShareOptions.filter((function(t){return!t.featureFlag||u._appOptions.values[t.featureFlag]})).sort((function(t,e){return u._sharePreferences.compareOptions(t,e)})),this.shareOptions=this._allShareOptions.slice(0,3),[2]}}))}))},t.prototype.canShare=function(){return!!this.file.driveInfo},t.prototype._isOffline=function(){return this._syncStatusClient.state&&"offline"===this._syncStatusClient.state.type},t.prototype.getTooltip=function(){return this._appOptions.values.driveSync?this._isOffline()?"Unavailable when offline":"Available when Google Drive upload completes":"Autosave to Google Drive must be enabled"},t.prototype.toggleMoreOptions=function(){this.showMoreOptions?(this.moreOptionsText=_L,this.shareOptions=this._allShareOptions.slice(0,3),this.showMoreOptions=!1):(this.moreOptionsText="Fewer options",this.shareOptions=this._allShareOptions,this.showMoreOptions=!0)},t.prototype.handleOptionClick=function(t){this._sharePreferences.incrementOption(t.id),t.action()},t.prototype.shareClassroom=function(){this.googleTrack("share -> share to classroom");var t=new URL("https://classroom.google.com/u/0/share");t.searchParams.set("title",this.file.title),t.searchParams.set("url",this._shareUtils.getLink(this.file,"drive")),window.open(t.href,"","width=600,height=400")},t.prototype.publishToYoutube=function(){var t=this;this.googleTrack("share -> publish to Youtube"),this._dialog.open(YR,{data:{file:this.file},width:"450px"}).afterClosed().subscribe((function(e){e&&t._dialog.open(sL,{data:{file:t.file},width:"400px",disableClose:!0})}))},t.prototype.shareEmail=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:this.googleTrack("share -> send in email"),i.label=1;case 1:return i.trys.push([1,3,,4]),this._snackBar.open("Enabling link sharing...","",{panelClass:"cf2-snackbar",verticalPosition:"bottom",horizontalPosition:"center"}),[4,this._shareUtils.enableLinkSharing(this.file,{target:"drive"})];case 2:return t=i.sent().link,e=encodeURIComponent("Screencastify recording"),n=encodeURIComponent("Check out this video I recorded with Screencastify: "+t),r="https://mail.google.com/mail?view=cm&tf=0&su="+e+"&body="+n,this._snackBar.dismiss(),window.open(r,""),[3,4];case 3:return o=i.sent(),this._openErrorSnackbar(o),[3,4];case 4:return[2]}}))}))},t.prototype._openErrorSnackbar=function(t){this._errorSnackbar.open({message:"Oops! Something went wrong while copying the Drive link. Please try again.",errorMsg:t})},t.prototype.openEmbedCodeDialog=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(i.__generator)(this,(function(e){return this.googleTrack("share -> get embed code"),this._dialog.open(lL,{data:{file:this.file}}).afterClosed().subscribe((function(e){e&&t._snackBar.open("Embed code copied to clipboard","",{panelClass:"cf2-snackbar",duration:3e3,verticalPosition:"bottom",horizontalPosition:"center"})})),[2]}))}))},t.prototype.openQRCodeDialog=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return this._dialog.open(pL,{data:{file:this.file}}),[2]}))}))},t.prototype.googleTrack=function(t){this._analytics.trackEvent("video_details",t,"click")},t.ɵfac=function(e){return new(e||t)(mc(wg),mc(Og),mc(xg),mc(Vg),mc(Eg),mc(Dg),mc(mL),mc(eR),mc(ZT),mc(gL),mc(pP))},t.ɵcmp=ge({type:t,selectors:[["cf2-details-share"]],inputs:{file:"file"},decls:11,vars:2,consts:[["expanded",""],[1,"header-container"],[1,"panel-content-wrapper"],["matTooltipShowDelay","300",3,"matTooltip","matTooltipDisabled",4,"ngFor","ngForOf"],[1,"more-options",3,"click"],["matTooltipShowDelay","300",3,"matTooltip","matTooltipDisabled"],["mat-button","",3,"disabled","click"],[3,"svgIcon",4,"ngIf"],[4,"ngIf"],[3,"svgIcon"]],template:function(t,e){1&t&&(Dc(0,"mat-expansion-panel",0),Dc(1,"mat-expansion-panel-header"),Dc(2,"div",1),Dc(3,"mat-icon"),iu(4,"share"),Nc(),Dc(5,"div"),iu(6,"Share"),Nc(),Nc(),Nc(),Dc(7,"div",2),hc(8,bL,5,6,"div",3),Dc(9,"a",4),zc("click",(function(t){return e.toggleMoreOptions()})),iu(10),Nc(),Nc(),Nc()),2&t&&(la(8),eu("ngForOf",e.shareOptions),la(2),ou(e.moreOptionsText))},directives:[GP,KP,ak,Qy,p$,kk,Xy],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.mat-expansion-panel[_ngcontent-%COMP%]{border-radius:0}.mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;align-items:center;grid-gap:1rem}.mat-expansion-panel[_ngcontent-%COMP%]   .panel-content-wrapper[_ngcontent-%COMP%]{display:grid;justify-content:left;justify-items:left;grid-gap:1rem;justify-content:stretch}.mat-expansion-panel[_ngcontent-%COMP%]   .panel-content-wrapper[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]   .panel-content-wrapper[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{font-weight:400;text-align:left}.mat-expansion-panel[_ngcontent-%COMP%]   .panel-content-wrapper[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]   .panel-content-wrapper[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:-7px;margin-right:10px}.mat-expansion-panel[_ngcontent-%COMP%]   .panel-content-wrapper[_ngcontent-%COMP%]   .more-options[_ngcontent-%COMP%]{justify-self:center;font:400 1.375rem/2.5rem Helvetica,sans-serif;letter-spacing:0;text-decoration:none;font-style:italic}']}),t}(),EL=function(){function t(t,e,n,r,i,o,a){this._analytics=t,this._appOptions=e,this._driveUtils=n,this.fileDbClient=r,this._syncStatusClient=i,this._editJobSchedulerClient=o,this._errorSnackbar=a,this._log=Hg.Log.create("ExportMp3Button"),this.hasAudioTrack=!1}return Object.defineProperty(t.prototype,"hasDefaultVariant",{set:function(t){this._hasDefaultVariant=t,this.getTooltip()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,this._checkAudio()];case 1:return t.sent(),[2]}}))}))},t.prototype._checkAudio=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return t=document.querySelector("video"),e=this,[4,mv(300).pipe(qg((function(){return t.webkitDecodedFrameCount>0})),j((function(){return t.webkitAudioDecodedByteCount>0})),cv()).toPromise()];case 1:return e.hasAudioTrack=n.sent(),[2]}}))}))},t.prototype.getTooltip=function(){return this._isOffline()?"Unavailable when offline":this._hasDefaultVariant?"Switch to the new lite plan to export for free":this.fileDbClient.isSyncEnabled()?this.hasAudioTrack?void 0:"This video does not have any audio":"Autosave to Google Drive must be enabled"},t.prototype.isDisabled=function(){return this._isOffline()||this._hasDefaultVariant||!this.fileDbClient.isSyncEnabled()||!this.hasAudioTrack},t.prototype._isOffline=function(){return this._syncStatusClient.state&&"offline"===this._syncStatusClient.state.type},t.prototype.exportMP3Audio=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:this._analytics.trackEvent("video_details","download -> export audio only","click"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._driveUtils.getDriveUploadParentId()];case 2:return t=n.sent(),this._editJobSchedulerClient.addJob({type:this._appOptions.values.useVideoExportForAudioExport?"videoExport":"audioExport",fileName:this.file.title+".mp3",outFormat:"mp3",driveFolderId:t,meta:{fileId:this.file.id,newVideoDetails:!0}}),[3,4];case 3:return e=n.sent(),this._errorSnackbar.open({message:"Oops! Something went wrong while exporting your MP3 file. Please try again.",logger:this._log,errorMsg:e}),[3,4];case 4:return[2]}}))}))},t.ɵfac=function(e){return new(e||t)(mc(wg),mc(xg),mc(Pg),mc(Ig),mc(Dg),mc(KN),mc(eR))},t.ɵcmp=ge({type:t,selectors:[["cf2-export-mp3-button"]],inputs:{file:"file",hasDefaultVariant:"hasDefaultVariant"},decls:5,vars:3,consts:[["matTooltipShowDelay","300",3,"matTooltip","matTooltipDisabled"],["mat-button","",1,"download-button",3,"disabled","click"]],template:function(t,e){1&t&&(Dc(0,"div",0),Dc(1,"button",1),zc("click",(function(t){return e.exportMP3Audio()})),Dc(2,"mat-icon"),iu(3,"volume_up"),Nc(),iu(4,"Export audio only "),Nc(),Nc()),2&t&&(eu("matTooltip",e.getTooltip())("matTooltipDisabled",!e.isDisabled()),la(1),eu("disabled",e.isDisabled()))},directives:[p$,kk,ak],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.mat-button[_ngcontent-%COMP%], .mat-raised-button[_ngcontent-%COMP%]{font-weight:400;text-align:left}.mat-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-raised-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:-7px;margin-right:10px}']}),t}(),xL=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵcmp=ge({type:t,selectors:[["cf2-pixel-resolution"]],inputs:{resolution:"resolution"},decls:2,vars:2,template:function(t,e){1&t&&(Dc(0,"span"),iu(1),Nc()),2&t&&(la(1),su("",e.resolution.width,"×",e.resolution.height," px"))},encapsulation:2}),t}();function CL(t,e){1&t&&(Dc(0,"cf2-error-hint"),iu(1,"File too large for GIF export. Please reduce size or trim the video."),Nc())}var kL=function(){function t(t,e,n){this.data=t,this._appOptions=e,this._editJobSchedulerClient=n,this.canExportGif=!1}return t.prototype.ngOnInit=function(){this._setScales(),this.updateSize(this.scale)},t.prototype._setScales=function(){this.minScale=Math.max(10/this.data.file.width,10/this.data.file.height),this.scale=Math.min(1,640/this.data.file.width,480/this.data.file.height)},t.prototype.updateSize=function(t){this.exportSize={width:Math.floor(this.data.file.width*t),height:Math.floor(this.data.file.height*t)},this.canExportGif=this._editJobSchedulerClient.canExportGif(this.data.file,this.exportSize)},t.prototype.export=function(){this._editJobSchedulerClient.addJob({meta:{fileId:this.data.file.id,newVideoDetails:!0},scale:this.exportSize,outFormat:"gif",type:this._appOptions.values.enableGifExport?"videoExport":null,fileName:this.data.file.title})},t.ɵfac=function(e){return new(e||t)(mc(lP),mc(xg),mc(KN))},t.ɵcmp=ge({type:t,selectors:[["cf2-export-gif-dialog"]],decls:13,vars:9,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"gif-export-dialog"],["color","primary",1,"cf-slider","gray-background",3,"min","max","step","ngModel","ngModelChange","input"],[3,"resolution"],[4,"ngIf"],["mat-button","",3,"mat-dialog-close"],["mat-flat-button","","color","primary",3,"mat-dialog-close","disabled","click"]],template:function(t,e){1&t&&(Dc(0,"h1",0),iu(1,"Export animated GIF"),Nc(),Dc(2,"div",1),Dc(3,"span"),iu(4,"Size:"),Nc(),Dc(5,"mat-slider",2),zc("ngModelChange",(function(t){return e.scale=t}))("input",(function(t){return e.updateSize(t.value)})),Nc(),Rc(6,"cf2-pixel-resolution",3),hc(7,CL,2,0,"cf2-error-hint",4),Nc(),Dc(8,"mat-dialog-actions"),Dc(9,"button",5),iu(10," Cancel "),Nc(),Dc(11,"button",6),zc("click",(function(t){return e.export()})),iu(12," Export "),Nc(),Nc()),2&t&&(la(5),eu("min",e.minScale)("max",1)("step",.01)("ngModel",e.scale),la(1),eu("resolution",e.exportSize),la(1),eu("ngIf",!e.canExportGif),la(2),eu("mat-dialog-close",!1),la(2),eu("mat-dialog-close",!0)("disabled",!e.canExportGif))},directives:[vP,yP,MO,_A,_O,xL,Xy,bP,kk,gP,lk],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.mat-dialog-content.gif-export-dialog{display:grid;grid-template-columns:auto 1fr auto;align-items:center;grid-gap:.5rem}.mat-dialog-content.gif-export-dialog cf2-error-hint{grid-column:span 3}.mat-dialog-content.gif-export-dialog cf2-error-hint .error-hint{font-size:1.5rem;margin:10px 0}'],encapsulation:2}),t}(),TL=function(){function t(t,e,n,r){this._analytics=t,this.fileDbClient=e,this._syncStatusClient=n,this._dialog=r}return Object.defineProperty(t.prototype,"hasDefaultVariant",{set:function(t){this._hasDefaultVariant=t,this.getTooltip()},enumerable:!0,configurable:!0}),t.prototype.getTooltip=function(){return this._isOffline()?"Unavailable when offline":this._hasDefaultVariant?"Switch to the new lite plan to export for free":this.fileDbClient.isSyncEnabled()?void 0:"Autosave to Google Drive must be enabled"},t.prototype._isOffline=function(){return this._syncStatusClient.state&&"offline"===this._syncStatusClient.state.type},t.prototype.isDisabled=function(){return this._isOffline()||this._hasDefaultVariant||!this.fileDbClient.isSyncEnabled()},t.prototype.openGifExportDialog=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return this._analytics.trackEvent("video_details","download -> export animated GIF","click"),this._dialog.open(kL,{data:{file:this.file},width:"440px"}),[2]}))}))},t.ɵfac=function(e){return new(e||t)(mc(wg),mc(Ig),mc(Dg),mc(pP))},t.ɵcmp=ge({type:t,selectors:[["cf2-export-gif-button"]],inputs:{file:"file",hasDefaultVariant:"hasDefaultVariant"},decls:4,vars:3,consts:[["matTooltipShowDelay","300",3,"matTooltip","matTooltipDisabled"],["mat-button","",1,"download-button",3,"disabled","click"],["svgIcon","gif"]],template:function(t,e){1&t&&(Dc(0,"div",0),Dc(1,"button",1),zc("click",(function(t){return e.openGifExportDialog()})),Rc(2,"mat-icon",2),iu(3,"Export animated GIF "),Nc(),Nc()),2&t&&(eu("matTooltip",e.getTooltip())("matTooltipDisabled",!e.isDisabled()),la(1),eu("disabled",e.isDisabled()))},directives:[p$,kk,ak],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.mat-button[_ngcontent-%COMP%], .mat-raised-button[_ngcontent-%COMP%]{font-weight:400;text-align:left}.mat-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-raised-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:-7px;margin-right:10px}']}),t}();function PL(t,e){if(1&t){var n=Hc();Dc(0,"form"),Dc(1,"mat-form-field"),Dc(2,"input",7),zc("ngModelChange",(function(t){return vn(n),Yc().fps=t})),Nc(),Nc(),Nc()}if(2&t){var r=Yc();la(2),eu("ngModel",r.fps)}}var IL=function(){function t(t,e,n){this.data=t,this._editJobSchedulerClient=e,this._errorSnackbar=n,this._log=Hg.Log.create("ExportMp4Dialog"),this.fps=30,this.convertToFixed=!1}return t.prototype.exportMp4=function(){var t=null;this.convertToFixed&&(t=this.fps);try{this._editJobSchedulerClient.addJob({meta:{copy:!0,fileId:this.data.file.id,newVideoDetails:!0},outFormat:"mp4",type:"videoExport",fps:t,fileName:this.data.file.title})}catch(e){this._errorSnackbar.open({message:"Oops! Something went wrong while exporting your MP4. Please try again.",logger:this._log,errorMsg:e})}},t.ɵfac=function(e){return new(e||t)(mc(lP),mc(KN),mc(eR))},t.ɵcmp=ge({type:t,selectors:[["cf2-export-mp4-dialog"]],decls:13,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["color","primary",3,"ngModel","ngModelChange"],["matTooltipPosition","above","matTooltipShowDelay","300","matTooltip","Some third party video editors require fixed frame rates"],[4,"ngIf"],["mat-button","",3,"mat-dialog-close"],["mat-flat-button","","color","primary",3,"mat-dialog-close","click"],["name","first","matInput","","type","number","min","1","max","60","placeholder","FPS",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(Dc(0,"h1",0),iu(1,"Export as MP4"),Nc(),Dc(2,"div",1),Dc(3,"mat-checkbox",2),zc("ngModelChange",(function(t){return e.convertToFixed=t})),iu(4,"Convert to fixed frame rate"),Nc(),Dc(5,"mat-icon",3),iu(6,"info"),Nc(),hc(7,PL,3,1,"form",4),Nc(),Dc(8,"mat-dialog-actions"),Dc(9,"button",5),iu(10," Cancel "),Nc(),Dc(11,"button",6),zc("click",(function(t){return e.exportMp4()})),iu(12," Export "),Nc(),Nc()),2&t&&(la(3),eu("ngModel",e.convertToFixed),la(4),eu("ngIf",e.convertToFixed),la(2),eu("mat-dialog-close",!1),la(2),eu("mat-dialog-close",!0))},directives:[vP,yP,SM,_A,_O,ak,p$,Xy,bP,kk,gP,wO,wA,hO,X$,lM,MA,pA],styles:["mat-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px}.mat-dialog-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;grid-template-rows:40px;align-items:center;grid-gap:1rem}"]}),t}(),AL=function(){function t(t,e,n,r){this._analytics=t,this.fileDbClient=e,this._syncStatusClient=n,this._dialog=r}return Object.defineProperty(t.prototype,"hasDefaultVariant",{set:function(t){this._hasDefaultVariant=t,this.getTooltip()},enumerable:!0,configurable:!0}),t.prototype.getTooltip=function(){return this._isOffline()?"Unavailable when offline":this._hasDefaultVariant?"Switch to the new lite plan to export for free":this.fileDbClient.isSyncEnabled()?void 0:"Autosave to Google Drive must be enabled"},t.prototype.isDisabled=function(){return this._isOffline()||this._hasDefaultVariant||!this.fileDbClient.isSyncEnabled()},t.prototype._isOffline=function(){return this._syncStatusClient.state&&"offline"===this._syncStatusClient.state.type},t.prototype.openMp4ExportDialog=function(){this._analytics.trackEvent("video_details","download -> export as MP4","click"),this._dialog.open(IL,{data:{file:this.file},width:"440px"})},t.ɵfac=function(e){return new(e||t)(mc(wg),mc(Ig),mc(Dg),mc(pP))},t.ɵcmp=ge({type:t,selectors:[["cf2-export-mp4-button"]],inputs:{file:"file",hasDefaultVariant:"hasDefaultVariant"},decls:5,vars:3,consts:[["matTooltipShowDelay","300",3,"matTooltip","matTooltipDisabled"],["mat-button","",1,"download-button",3,"disabled","click"]],template:function(t,e){1&t&&(Dc(0,"div",0),Dc(1,"button",1),zc("click",(function(t){return e.openMp4ExportDialog()})),Dc(2,"mat-icon"),iu(3,"videocam"),Nc(),iu(4,"Export as MP4 "),Nc(),Nc()),2&t&&(eu("matTooltip",e.getTooltip())("matTooltipDisabled",!e.isDisabled()),la(1),eu("disabled",e.isDisabled()))},directives:[p$,kk,ak],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.mat-button[_ngcontent-%COMP%], .mat-raised-button[_ngcontent-%COMP%]{font-weight:400;text-align:left}.mat-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-raised-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:-7px;margin-right:10px}']}),t}();function OL(t,e){if(1&t&&(Rc(0,"cf2-export-mp4-button",5),Tl(1,"async")),2&t){var n=Yc();eu("file",n.file)("hasDefaultVariant",!1===Pl(1,2,n.upgradeHelper.onHasFeature("hasExport")))}}var $L=function(){function t(t,e,n,r,i,o){this._analytics=t,this._$stateParams=e,this.fileDbClient=n,this._downloadHelper=r,this._errorSnackbar=i,this.upgradeHelper=o,this._subscription=new u,this._log=Hg.Log.create("DetailsDownload")}return t.prototype.ngOnInit=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(i.__generator)(this,(function(e){return this._subscription.add(this.fileDbClient.onFileDescriptor(this._$stateParams.id).subscribe((function(e){return t.file=e}))),[2]}))}))},t.prototype.getIsMp4=function(){return this.file&&"video/mp4"===this.file.mimeType},t.prototype.download=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:this._analytics.trackEvent("video_details","download -> download","click"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.file.getUrl()];case 2:return(t=n.sent()).includes("/app/driveProxy")?location.href=t:this._downloadHelper.download(t,this._getSaveName()),[3,4];case 3:return e=n.sent(),this._errorSnackbar.open({message:"Oops! Something went wrong while downloading your video. Please try again.",logger:this._log,errorMsg:e}),[3,4];case 4:return[2]}}))}))},t.prototype._getSaveName=function(){var t=this.file.title.replace(/[/,\\]/g,""),e=this.getIsMp4()?".mp4":".webm";return t.endsWith(e)?t:t+e},t.ɵfac=function(e){return new(e||t)(mc(wg),mc(Fg),mc(Ig),mc(dL),mc(eR),mc(LE))},t.ɵcmp=ge({type:t,selectors:[["cf2-details-download"]],inputs:{expandDownloadPanel:"expandDownloadPanel"},decls:17,vars:11,consts:[["id","download-panel",3,"expanded"],[1,"header-container"],[1,"panel-content-wrapper"],["mat-button","",3,"disabled","click"],[3,"file","hasDefaultVariant",4,"ngIf"],[3,"file","hasDefaultVariant"]],template:function(t,e){1&t&&(Dc(0,"mat-expansion-panel",0),Dc(1,"mat-expansion-panel-header"),Dc(2,"div",1),Dc(3,"mat-icon"),iu(4,"cloud_download"),Nc(),Dc(5,"div"),iu(6,"Download"),Nc(),Nc(),Nc(),Dc(7,"div",2),Dc(8,"button",3),zc("click",(function(t){return e.download()})),Dc(9,"mat-icon"),iu(10,"file_download"),Nc(),iu(11,"Download "),Nc(),hc(12,OL,2,4,"cf2-export-mp4-button",4),Rc(13,"cf2-export-mp3-button",5),Tl(14,"async"),Rc(15,"cf2-export-gif-button",5),Tl(16,"async"),Nc(),Nc()),2&t&&(eu("expanded",e.expandDownloadPanel),la(8),eu("disabled",!e.file),la(4),eu("ngIf",!e.getIsMp4()),la(1),eu("file",e.file)("hasDefaultVariant",!1===Pl(14,7,e.upgradeHelper.onHasFeature("hasExport"))),la(2),eu("file",e.file)("hasDefaultVariant",!1===Pl(16,9,e.upgradeHelper.onHasFeature("hasExport"))))},directives:[GP,KP,ak,kk,Xy,EL,TL,AL],pipes:[db],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.mat-expansion-panel[_ngcontent-%COMP%]{border-radius:0}.mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;align-items:center;grid-gap:1rem}.mat-expansion-panel[_ngcontent-%COMP%]   .panel-content-wrapper[_ngcontent-%COMP%]{display:grid;justify-content:left;justify-items:left;grid-gap:1rem}.mat-expansion-panel[_ngcontent-%COMP%]   .panel-content-wrapper[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]   .panel-content-wrapper[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{font-weight:400;text-align:left}.mat-expansion-panel[_ngcontent-%COMP%]   .panel-content-wrapper[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]   .panel-content-wrapper[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:-7px;margin-right:10px}']}),t}();function ML(t,e){1&t&&Rc(0,"img",9)}function DL(t,e){if(1&t){var n=Hc();Dc(0,"div",10),zc("click",(function(t){return vn(n),Yc(2).openExternal("https://www.screencastify.com/buy?utm_source=app&utm_medium=vdp_footer")})),iu(1," Go Unlimited "),Nc()}}function NL(t,e){1&t&&Rc(0,"img",11)}function RL(t,e){if(1&t&&(Dc(0,"div",5),hc(1,ML,1,0,"img",6),Tl(2,"async"),Tl(3,"async"),hc(4,DL,2,0,"div",7),Tl(5,"async"),Tl(6,"async"),hc(7,NL,1,0,"img",8),Tl(8,"async"),Nc()),2&t){var n=Yc();la(1),eu("ngIf",!1===Pl(2,3,n.upgradeHelper.onIsPaid())&&"6"===Pl(3,5,n.upgradeHelper.onPlanVariant())),la(3),eu("ngIf",!1===Pl(5,7,n.upgradeHelper.onIsPaid())&&"6"===Pl(6,9,n.upgradeHelper.onPlanVariant())),la(3),eu("ngIf",Pl(8,11,n.upgradeHelper.onIsPaid()))}}var LL=function(){function t(t,e){this._inAppTab=t,this.upgradeHelper=e}return t.prototype.openExternal=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._inAppTab.create(t)];case 1:return e.sent(),[2]}}))}))},t.ɵfac=function(e){return new(e||t)(mc(UN),mc(LE))},t.ɵcmp=ge({type:t,selectors:[["cf2-details-drawer"]],inputs:{file:"file",expandDownloadPanel:"expandDownloadPanel"},decls:7,vars:7,consts:[[1,"details-drawer-container"],[1,"product-tour-drive"],[1,"product-tour-share",3,"file"],[1,"product-tour-download",3,"expandDownloadPanel"],["class","logo-wrapper",4,"ngIf"],[1,"logo-wrapper"],["src","/images/screencastify-free-logo.svg",4,"ngIf"],["class","upgrade-link",3,"click",4,"ngIf"],["src","/images/screencastify-unlimited-logo.svg",4,"ngIf"],["src","/images/screencastify-free-logo.svg"],[1,"upgrade-link",3,"click"],["src","/images/screencastify-unlimited-logo.svg"]],template:function(t,e){1&t&&(Dc(0,"div",0),Rc(1,"cf2-details-drive-share",1),Rc(2,"cf2-details-share",2),Rc(3,"cf2-details-download",3),hc(4,RL,9,13,"div",4),Tl(5,"async"),Tl(6,"async"),Nc()),2&t&&(la(2),eu("file",e.file),la(1),eu("expandDownloadPanel",e.expandDownloadPanel),la(1),eu("ngIf",Pl(5,3,e.upgradeHelper.onIsPaid())||"6"===Pl(6,5,e.upgradeHelper.onPlanVariant())))},directives:[VR,SL,$L,Xy],pipes:[db],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.details-drawer-container[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto auto auto 1fr;height:100vh}.logo-wrapper[_ngcontent-%COMP%]{display:grid;align-content:center;justify-content:center;align-self:end;text-align:center;background-color:#f6f6f6;height:6rem;border-top:1px solid #d8d8d8}.logo-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:.5rem;height:2rem}.logo-wrapper[_ngcontent-%COMP%]   .upgrade-link[_ngcontent-%COMP%]{color:#0af;text-decoration:underline;font-size:1.3rem;margin-top:-10px;cursor:pointer}']}),t}(),jL=function(){function t(t){this._simpleBgServiceConsumer=t;var e=this._simpleBgServiceConsumer("userAccount",["getAccount","signIn","postUpdate","signOut","updateVariant"]);Object.assign(this,e)}return t.ɵprov=ht({token:t,factory:t.ɵfac=function(e){return new(e||t)(Jt($g))},providedIn:"root"}),t}();function FL(t,e){1&t&&(Dc(0,"h1",16),iu(1," Our new free plan is here ✨\n"),Nc())}function BL(t,e){1&t&&(Dc(0,"h1",17),iu(1,"You're In 🎉"),Nc())}function VL(t,e){1&t&&(Dc(0,"div",18),iu(1," Screencastify Lite now includes most of the features you used to have to pay for! Here's a summary of what's new:\n"),Nc())}function HL(t,e){1&t&&(Dc(0,"div",5),Dc(1,"div",19),iu(2,"Old Version"),Nc(),Dc(3,"div",8),Rc(4,"hr"),Dc(5,"li"),iu(6,"50 videos per month"),Nc(),Dc(7,"li"),iu(8,"10 minutes per video limit"),Nc(),Dc(9,"li"),iu(10,"Screencastify watermark"),Nc(),Dc(11,"li"),iu(12,"No export options"),Nc(),Dc(13,"li"),iu(14,"No video trimming"),Nc(),Nc(),Nc())}function UL(t,e){1&t&&(Dc(0,"div",19),iu(1," New Version "),Nc())}function qL(t,e){1&t&&(Dc(0,"div",20),iu(1," Welcome to the new Screencastify Lite! "),Nc())}function zL(t,e){1&t&&Rc(0,"hr")}function WL(t,e){1&t&&(Dc(0,"div",21),iu(1," Switch to the new free plan now to get instant access to these new features. If you'd prefer to wait, your account will automatically switch on February 1, 2020.\n"),Nc())}function GL(t,e){1&t&&(Dc(0,"div",22),iu(1," Your account will be transitioned to the new version on Feb 1, 2020. If you'd like early access you can choose to switch your account now.\n"),Nc())}function KL(t,e){1&t&&(Dc(0,"button",23),iu(1," Maybe Later "),Nc()),2&t&&eu("mat-dialog-close",!0)}function QL(t,e){if(1&t){var n=Hc();Dc(0,"button",24),zc("click",(function(t){return vn(n),Yc().switchVariant()})),iu(1),Nc()}if(2&t){var r=Yc();eu("disabled",!r.switchButtonEnabled),la(1),au(" ",r.buttonText," ")}}function YL(t,e){1&t&&(Dc(0,"button",25),iu(1," Close "),Nc()),2&t&&eu("mat-dialog-close",!1)}qd.module("cf2.userAccount",[]).factory("userAccount",C_(jL));var XL="Switch Now",ZL=function(){function t(t,e,n){this._userAccount=t,this._errorSnackbar=e,this.data=n,this._log=Hg.Log.create("OptInComponent"),this.switched=!1,this.switchButtonEnabled=!0,this.buttonText=XL}return t.prototype.switchVariant=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.switchButtonEnabled=!1,this.buttonText="Switching...",[4,this._userAccount.updateVariant()];case 1:return e.sent(),this.switched=!0,[3,3];case 2:return t=e.sent(),this.switchButtonEnabled=!0,this.buttonText=XL,this._errorSnackbar.open({message:"Oops! Something went wrong while switching you to the new Lite Plan. Please try again.",logger:this._log,errorMsg:t}),[3,3];case 3:return[2]}}))}))},t.ɵfac=function(e){return new(e||t)(mc(jL),mc(eR),mc(lP))},t.ɵcmp=ge({type:t,selectors:[["cf2-opt-in-dialog"]],decls:26,vars:12,consts:[["mat-dialog-title","","class","title",4,"ngIf"],["mat-dialog-title","","class","title success",4,"ngIf"],["mat-dialog-content","","class","top-content",4,"ngIf"],[1,"features-section"],["class","features",4,"ngIf"],[1,"features"],["class","version",4,"ngIf"],["class","welcome",4,"ngIf"],[1,"list"],[4,"ngIf"],["mat-dialog-content","","class","bottom-content",4,"ngIf"],["mat-dialog-content","","class","bottom-content non-default-description",4,"ngIf"],[1,"opt-in-actions"],["mat-button","",3,"mat-dialog-close",4,"ngIf"],["mat-flat-button","","class","switch-button","color","accent",3,"disabled","click",4,"ngIf"],["mat-flat-button","","color","accent",3,"mat-dialog-close",4,"ngIf"],["mat-dialog-title","",1,"title"],["mat-dialog-title","",1,"title","success"],["mat-dialog-content","",1,"top-content"],[1,"version"],[1,"welcome"],["mat-dialog-content","",1,"bottom-content"],["mat-dialog-content","",1,"bottom-content","non-default-description"],["mat-button","",3,"mat-dialog-close"],["mat-flat-button","","color","accent",1,"switch-button",3,"disabled","click"],["mat-flat-button","","color","accent",3,"mat-dialog-close"]],template:function(t,e){1&t&&(hc(0,FL,2,0,"h1",0),hc(1,BL,2,0,"h1",1),hc(2,VL,2,0,"div",2),Dc(3,"div",3),hc(4,HL,15,0,"div",4),Dc(5,"div",5),hc(6,UL,2,0,"div",6),hc(7,qL,2,0,"div",7),Dc(8,"div",8),hc(9,zL,1,0,"hr",9),Dc(10,"div"),iu(11,"🎬 Unlimited number of videos"),Nc(),Dc(12,"div"),iu(13,"⏱ 5 minutes per video limit"),Nc(),Dc(14,"div"),iu(15,"💧 No watermark"),Nc(),Dc(16,"div"),iu(17,"📤 Export as MP4, MP3, or GIF"),Nc(),Dc(18,"div"),iu(19,"✂️ Trim videos"),Nc(),Nc(),Nc(),Nc(),hc(20,WL,2,0,"div",10),hc(21,GL,2,0,"div",11),Dc(22,"mat-dialog-actions",12),hc(23,KL,2,1,"button",13),hc(24,QL,2,2,"button",14),hc(25,YL,2,1,"button",15),Nc()),2&t&&(eu("ngIf",!e.switched),la(1),eu("ngIf",e.switched),la(1),eu("ngIf",!e.switched&&e.data.hasDefaultVariant),la(2),eu("ngIf",!e.switched&&e.data.hasDefaultVariant),la(2),eu("ngIf",!e.switched&&e.data.hasDefaultVariant),la(1),eu("ngIf",e.switched),la(2),eu("ngIf",e.switched||e.data.hasDefaultVariant),la(11),eu("ngIf",!e.switched&&e.data.hasDefaultVariant),la(1),eu("ngIf",!e.switched&&!e.data.hasDefaultVariant),la(2),eu("ngIf",!e.switched),la(1),eu("ngIf",!e.switched),la(1),eu("ngIf",e.switched))},directives:[Xy,bP,vP,yP,kk,gP],styles:[".features-section[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column}.features[_ngcontent-%COMP%]{display:grid;grid-template-columns:285px;justify-items:start;justify-content:center}.features[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{line-height:1.7;font-weight:300}.features[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:285px}.features[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .features[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.features[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{justify-self:center;font-weight:700}.welcome[_ngcontent-%COMP%]{justify-self:center;font-weight:300}.top-content[_ngcontent-%COMP%]{margin-bottom:20px}.bottom-content[_ngcontent-%COMP%]{margin-top:20px}.title.success[_ngcontent-%COMP%]{text-align:center}.non-default-description[_ngcontent-%COMP%]{width:430px}"]}),t}();function JL(t,e){if(1&t){var n=Hc();Dc(0,"div",1),zc("click",(function(t){return vn(n),Yc().openNewPlanDialog()})),iu(1," Reminder: Your account will transition to the new Screencastify Free on February 1st. "),Dc(2,"span",2),iu(3,"Learn more."),Nc(),Nc()}}var tj=function(){function t(t,e,n){this._appOptions=t,this._upgradeHelper=e,this._dialog=n,this._subscription=new u,this.isActive=!1,this.hasDefaultVariant=null}return t.prototype.ngOnInit=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._appOptions.loadedPromise];case 1:return e.sent(),this._appOptions.values.enableVDP&&this._subscription.add(hE(this._upgradeHelper.onIsPaid(),this._upgradeHelper.onPlanVariant(),this._upgradeHelper.onHasDefaultVariant()).subscribe((function(e){var n=Object(i.__read)(e,3),r=n[2];t._setIsActive(n[0],n[1]),t.hasDefaultVariant=r}))),[2]}}))}))},t.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},t.prototype._setIsActive=function(t,e){this.isActive=!1===t&&"6"!==e},t.prototype.openNewPlanDialog=function(){this._dialog.open(ZL,{disableClose:!0,maxWidth:"700px",minWidth:"350px",data:{hasDefaultVariant:this.hasDefaultVariant}})},t.ɵfac=function(e){return new(e||t)(mc(xg),mc(LE),mc(pP))},t.ɵcmp=ge({type:t,selectors:[["cf2-plan-change-announcement-bar"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[1,"underline"]],template:function(t,e){1&t&&hc(0,JL,4,0,"div",0),2&t&&eu("ngIf",e.isActive)},directives:[Xy],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}[_nghost-%COMP%]{font:700 1.5rem/2.5rem Helvetica,sans-serif;letter-spacing:0;font-size:1.3rem;background:#25c79a;color:#fff;text-align:center}[_nghost-%COMP%]   div[_ngcontent-%COMP%]{padding:5px}[_nghost-%COMP%]   div[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   div[_ngcontent-%COMP%]   span.underline[_ngcontent-%COMP%]{text-decoration:underline}']}),t}();function ej(t,e){if(1&t&&(Dc(0,"div",4),iu(1),Nc()),2&t){var n=Yc();la(1),au(" ",n.data.content,"\n")}}var nj=function(t){return{"danger-action":t}},rj=function(){function t(t){this.data=t}return t.ɵfac=function(e){return new(e||t)(mc(lP))},t.ɵcmp=ge({type:t,selectors:[["cf2-confirm-dialog"]],decls:8,vars:9,consts:[["mat-dialog-title",""],["mat-dialog-content","",4,"ngIf"],["mat-button","",3,"mat-dialog-close"],["mat-flat-button","","color","accent",3,"ngClass","mat-dialog-close"],["mat-dialog-content",""]],template:function(t,e){1&t&&(Dc(0,"h1",0),iu(1),Nc(),hc(2,ej,2,1,"div",1),Dc(3,"mat-dialog-actions"),Dc(4,"button",2),iu(5),Nc(),Dc(6,"button",3),iu(7),Nc(),Nc()),2&t&&(la(1),ou(e.data.title),la(1),eu("ngIf",e.data.content),la(2),eu("mat-dialog-close",!1),la(1),au(" ",e.data.cancelText," "),la(1),eu("ngClass",Cl(7,nj,e.data.dangerAction))("mat-dialog-close",!0),la(1),au(" ",e.data.confirmText," "))},directives:[vP,Xy,bP,kk,gP,Nv,yP],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.danger-action[_ngcontent-%COMP%]{background-color:#f43d3d}']}),t}(),ij=function(){function t(){}return t.prototype.transform=function(t){return void 0===t&&(t=0),function(t){var e=function(t){return t<10?"0"+t:t};"number"!=typeof t&&(t=0);var n="";t<0&&(n="-",t=.99-t);var r=Math.floor(t%60),i=[e(Math.floor(t/60%60)),e(r)],o=Math.floor(t/3600);return o&&i.unshift(o),n+i.join(":")}(t)},t.ɵfac=function(e){return new(e||t)},t.ɵpipe=Ee({name:"duration",type:t,pure:!0}),t}(),oj=function(){function t(){}return t.prototype.transform=function(t,e){if(void 0===e&&(e=1),t<=0)return"0 B";var n,r,i,o=Math.floor(Math.log(t)/Math.log(1024));return n=t/Math.pow(1024,Math.floor(o)),i="0."+e+"-"+e,function(t,e,n,r,i,o,a){void 0===a&&(a=!1);var s="",c=!1;if(isFinite(t)){var u=function(t){var e,n,r,i,o,a=Math.abs(t)+"",s=0;for((n=a.indexOf(Fy))>-1&&(a=a.replace(Fy,"")),(r=a.search(/e/i))>0?(n<0&&(n=r),n+=+a.slice(r+1),a=a.substring(0,r)):n<0&&(n=a.length),r=0;a.charAt(r)===By;r++);if(r===(o=a.length))e=[0],n=1;else{for(o--;a.charAt(o)===By;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(a.charAt(r))}return n>jy&&(e=e.splice(0,jy-1),s=n-1,n=1),{digits:e,exponent:s,integerLen:n}}(t);a&&(u=function(t){if(0===t.digits[0])return t;var e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(u));var l=e.minInt,d=e.minFrac,f=e.maxFrac;if(o){var h=o.match(Ly);if(null===h)throw new Error(o+" is not a valid digit info");var p=h[1],m=h[3],g=h[5];null!=p&&(l=qy(p)),null!=m&&(d=qy(m)),null!=g?f=qy(g):null!=m&&d>f&&(f=d)}!function(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction ("+e+") is higher than the maximum ("+n+").");var r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),a=o+t.integerLen,s=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(var c=a;c<r.length;c++)r[c]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var u=1;u<a;u++)r[u]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var d=0!==o,f=e+t.integerLen,h=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,d&&(0===r[n]&&n>=f?r.pop():d=!1),e>=10?1:0}),0);h&&(r.unshift(h),t.integerLen++)}(u,d,f);var v=u.digits,y=u.integerLen,b=u.exponent,_=[];for(c=v.every((function(t){return!t}));y<l;y++)v.unshift(0);for(;y<0;y++)v.unshift(0);y>0?_=v.splice(y,v.length):(_=v,v=[0]);var w=[];for(v.length>=e.lgSize&&w.unshift(v.splice(-e.lgSize,v.length).join(""));v.length>e.gSize;)w.unshift(v.splice(-e.gSize,v.length).join(""));v.length&&w.unshift(v.join("")),s=w.join(gy(n,r)),_.length&&(s+=gy(n,i)+_.join("")),b&&(s+=gy(n,fy.Exponential)+"+"+b)}else s=gy(n,fy.Infinity);return t<0&&!c?e.negPre+s+e.negSuf:e.posPre+s+e.posSuf}(n,function(t,e){void 0===e&&(e="-");var n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(Vy),i=r[0],o=r[1],a=-1!==i.indexOf(Fy)?i.split(Fy):[i.substring(0,i.lastIndexOf(By)+1),i.substring(i.lastIndexOf(By)+1)],s=a[0],c=a[1]||"";n.posPre=s.substr(0,s.indexOf(Uy));for(var u=0;u<c.length;u++){var l=c.charAt(u);l===By?n.minFrac=n.maxFrac=u+1:l===Uy?n.maxFrac=u+1:n.posSuf+=l}var d=s.split(Hy);if(n.gSize=d[1]?d[1].length:0,n.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,o){var f=i.length-n.posPre.length-n.posSuf.length,h=o.indexOf(Uy);n.negPre=o.substr(0,h).replace(/'/g,""),n.negSuf=o.substr(h+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return gl(t)[yl.NumberFormats][e]}(r="en-US",sy.Decimal),gy(r,fy.MinusSign)),r,fy.Group,fy.Decimal,i)+" "+["B","KB","MB","GB","TB","PB"][o]},t.ɵfac=function(e){return new(e||t)},t.ɵpipe=Ee({name:"bytes",type:t,pure:!0}),t}(),aj=function(){function t(t){this.data=t}return t.ɵfac=function(e){return new(e||t)(mc(lP))},t.ɵcmp=ge({type:t,selectors:[["cf2-details-more-info-dialog"]],decls:31,vars:11,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"more-info-container"],["svgIcon","clock_outline"],[1,"details-label"],[1,"details-value"],["svgIcon","calendar_blank"],[3,"resolution"]],template:function(t,e){var n,r,i,o;1&t&&(Rc(0,"cf2-dialog-close-button"),Dc(1,"h1",0),iu(2,"Video details"),Nc(),Dc(3,"div",1),Rc(4,"mat-icon",2),Dc(5,"span",3),iu(6,"Duration"),Nc(),Dc(7,"span",4),iu(8),Tl(9,"duration"),Nc(),Rc(10,"mat-divider"),Rc(11,"mat-icon",5),Dc(12,"span",3),iu(13,"Date"),Nc(),Dc(14,"span",4),iu(15),Tl(16,"date"),Nc(),Rc(17,"mat-divider"),Dc(18,"mat-icon"),iu(19,"fullscreen"),Nc(),Dc(20,"span",3),iu(21,"Dimensions"),Nc(),Rc(22,"cf2-pixel-resolution",6),Rc(23,"mat-divider"),Dc(24,"mat-icon"),iu(25,"save"),Nc(),Dc(26,"span",3),iu(27,"Size"),Nc(),Dc(28,"span",4),iu(29),Tl(30,"bytes"),Nc(),Nc()),2&t&&(la(8),ou(Pl(9,4,e.data.duration)),la(7),ou((16,6,n=e.data.createdAt,r="MMM d, h:mm a",o=So(i=ln(),16),Al(i,Il(i,16)?kl(6,o.transform,n,r,o):o.transform(n,r)))),la(7),eu("resolution",e.data.resolution),la(7),ou(Pl(30,9,e.data.size)))},directives:[tL,vP,yP,ak,EP,xL],pipes:[ij,hb,oj],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.mat-dialog-content.more-info-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr auto;grid-gap:1rem}.mat-dialog-content.more-info-container[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{grid-column:span 3}.mat-dialog-content.more-info-container[_ngcontent-%COMP%]   .details-label[_ngcontent-%COMP%]{font-weight:700}.mat-dialog-content.more-info-container[_ngcontent-%COMP%]   .details-value[_ngcontent-%COMP%], .mat-dialog-content.more-info-container[_ngcontent-%COMP%]   cf2-pixel-resolution[_ngcontent-%COMP%]{justify-self:end}']}),t}(),sj=function(){function t(){this._isOpen$=new vv(!1)}return t.prototype.setSidenav=function(t){this._sidenav=t,this._setIsOpenedSubscription()},t.prototype.toggle=function(){this._sidenav.toggle()},t.prototype._setIsOpenedSubscription=function(){var t=this;this._subscription&&this._subscription.unsubscribe(),this._subscription=new u,this._subscription.add(this._sidenav.openedStart.subscribe((function(){return t._isOpen$.next(!0)}))),this._subscription.add(this._sidenav.closedStart.subscribe((function(){return t._isOpen$.next(!1)})))},t.prototype.onIsOpen=function(){return this._isOpen$.asObservable()},t.ɵprov=ht({token:t,factory:t.ɵfac=function(e){return new(e||t)},providedIn:"root"}),t}();qd.module("cf2.sidenavService",[]);var cj=function(){function t(t){this.sidenavService=t,this.popupMode=!1}return t.ɵfac=function(e){return new(e||t)(mc(sj))},t.ɵcmp=ge({type:t,selectors:[["cf2-sidenav-trigger"]],inputs:{popupMode:"popupMode"},decls:3,vars:2,consts:[["disableRipple","","matTooltip","More options","matTooltipShowDelay","300",1,"sidenav-menu-trigger",3,"matTooltipDisabled","click"],["id","menu"]],template:function(t,e){1&t&&(Dc(0,"button",0),zc("click",(function(t){return e.sidenavService.toggle()})),Dc(1,"mat-icon",1),iu(2,"menu"),Nc(),Nc()),2&t&&(bc("popup-mode",e.popupMode),eu("matTooltipDisabled",e.popupMode))},directives:[p$,ak],styles:[".sidenav-menu-trigger[_ngcontent-%COMP%]{width:46px;height:46px;border:none;background:0 0;padding:1px 8px 0}.sidenav-menu-trigger.popup-mode[_ngcontent-%COMP%]{padding:0 10.5px}.sidenav-menu-trigger.popup-mode[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:25px;height:25px;width:25px;line-height:25px}.sidenav-menu-trigger[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:block;color:#fff;font-weight:600;font-size:30px;justify-self:center;height:30px;width:30px;line-height:30px}"]}),t}(),uj=["inputEl"],lj=function(){return{updateOn:"submit"}},dj=function(){return{name:"inputEl",updateOn:"blur"}},fj=function(){function t(){this.placeholder="Click to edit",this.defaultDisabled=!0,this.save=new Ol,this.isEditing=!1}return t.prototype.handleClick=function(t){this.isEditing?(t.preventDefault(),t.stopPropagation()):this.defaultDisabled||this.startEditing()},t.prototype.saveChanges=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return this.stopEditing(),this.save.emit(this.inputValue),[2]}))}))},t.prototype.startEditing=function(){var t=this;this.isEditing=!0,setTimeout((function(){return t.inputEl.nativeElement.select()}),0)},t.prototype.stopEditing=function(){this.isEditing=!1,this.inputEl.nativeElement.scrollLeft=0},t.ɵfac=function(e){return new(e||t)},t.ɵcmp=ge({type:t,selectors:[["cf2-renamable-property"]],viewQuery:function(t,e){var n;1&t&&Ul(uj,!0),2&t&&Hl(n=Ql())&&(e.inputEl=n.first)},inputs:{inputValue:"inputValue",placeholder:"placeholder",defaultDisabled:"defaultDisabled"},outputs:{save:"save"},decls:3,vars:7,consts:[[3,"ngFormOptions","click","submit"],[3,"disabled","ngModel","ngModelOptions","placeholder","ngModelChange","blur"],["inputEl",""]],template:function(t,e){if(1&t){var n=Hc();Dc(0,"form",0),zc("click",(function(t){return e.handleClick(t)}))("submit",(function(t){return vn(n),pc(2).blur()})),Dc(1,"input",1,2),zc("ngModelChange",(function(t){return e.inputValue=t}))("ngModelChange",(function(t){return e.saveChanges()}))("blur",(function(t){return e.stopEditing()})),Nc(),Nc()}2&t&&(eu("ngFormOptions",xl(5,lj)),la(1),eu("disabled",!e.isEditing)("ngModel",e.inputValue)("ngModelOptions",xl(6,dj))("placeholder",e.placeholder))},directives:[wO,wA,hO,pA,_A,_O],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}form[_ngcontent-%COMP%]{text-overflow:inherit;width:100%}input[_ngcontent-%COMP%]{width:100%;border-radius:4px;margin:-3px;padding:5px 10px;border:1px solid #ff8282;background:0 0}input[disabled][_ngcontent-%COMP%]{cursor:text}input[_ngcontent-%COMP%]:hover{border:1px solid #fff}input[_ngcontent-%COMP%]:focus{background:#fff;color:#4f4f4f}[_ngcontent-%COMP%]::placeholder, input[_ngcontent-%COMP%]{font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;color:inherit;text-overflow:ellipsis}input[_ngcontent-%COMP%]:focus::placeholder{color:#a7a7a7}']}),t}();function hj(t,e){if(1&t){var n=Hc();Dc(0,"cf2-renamable-property",7),zc("save",(function(t){return vn(n),Yc().editTitle(t)})),Nc()}2&t&&eu("inputValue",Yc().file.title)("defaultDisabled",!1)}var pj=function(){function t(t,e,n,r,i,o,a){this._fileDbClient=t,this._$state=e,this._webEditUtils=n,this._analytics=r,this._$stateParams=i,this._errorSnackbar=o,this._dialog=a,this._log=Hg.Log.create("Topnav"),this._subscription=new u}return t.prototype.ngOnInit=function(){var t=this;this._subscription.add(this._fileDbClient.onFileDescriptor(this._$stateParams.id).subscribe((function(e){return t.file=e})))},t.prototype.editTitle=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:this._analytics.trackEvent("video_details","toolbar -> rename","click"),""===t&&(t="Untitled Video"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._fileDbClient.rename(this.file.id,t)];case 2:return n.sent(),[3,4];case 3:return e=n.sent(),this._errorSnackbar.open({message:"Oops! Something went wrong while trying to rename your video. Please try again.",logger:this._log,errorMsg:e}),[3,4];case 4:return[2]}}))}))},t.prototype.openEditor=function(){this._analytics.trackEvent("video_details","toolbar -> open editor","click"),this._webEditUtils.openEditor(this.file)},t.prototype.confirmDeleteVideo=function(){var t,e=this;t=this._fileDbClient.isSyncEnabled()?'Deleting will remove "'+this.file.title+'" from your device and also from your Drive account.':'Deleting will remove "'+this.file.title+'" from your device.',this._dialog.open(rj,{data:{title:"Delete Screencast?",content:t,cancelText:"Cancel",confirmText:"Delete",dangerAction:!0}}).afterClosed().subscribe((function(t){t&&e._deleteVideo()}))},t.prototype.openMoreDetailsDialog=function(){this._dialog.open(aj,{minWidth:"350px",data:{duration:this.file.duration,createdAt:this.file.createdAt,resolution:this.file,size:this.file.size}})},t.prototype._deleteVideo=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this._fileDbClient.remove(this.file.id)];case 1:return e.sent(),this._$state.go("files"),[3,3];case 2:return t=e.sent(),this._errorSnackbar.open({message:"Oops! Something went wrong while trying to delete your video. Please try again.",logger:this._log,errorMsg:t}),[3,3];case 3:return[2]}}))}))},t.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},t.ɵfac=function(e){return new(e||t)(mc(Ig),mc(Lg),mc(Ag),mc(wg),mc(Fg),mc(eR),mc(pP))},t.ɵcmp=ge({type:t,selectors:[["cf2-topnav"]],decls:14,vars:4,consts:[[1,"topnav"],["class","video-title","placeholder","Untitled Video","matTooltip","Rename","matTooltipShowDelay","300",3,"inputValue","defaultDisabled","save",4,"ngIf"],[1,"action-buttons"],["id","openEditorButton","mat-raised-button","","disableRipple","",3,"disabled","click"],["id","launch"],["id","infoButton","disableRipple","","matTooltip","Video details","matTooltipShowDelay","300","mat-icon-button","",3,"disabled","click"],["id","deleteButton","mat-icon-button","","disableRipple","","matTooltip","Delete","matTooltipShowDelay","300",3,"disabled","click"],["placeholder","Untitled Video","matTooltip","Rename","matTooltipShowDelay","300",1,"video-title",3,"inputValue","defaultDisabled","save"]],template:function(t,e){1&t&&(Dc(0,"div",0),Rc(1,"cf2-sidenav-trigger"),hc(2,hj,1,2,"cf2-renamable-property",1),Dc(3,"div",2),Dc(4,"button",3),zc("click",(function(t){return e.openEditor()})),iu(5," Open in Editor "),Dc(6,"mat-icon",4),iu(7,"launch"),Nc(),Nc(),Dc(8,"button",5),zc("click",(function(t){return e.openMoreDetailsDialog()})),Dc(9,"mat-icon"),iu(10,"info"),Nc(),Nc(),Dc(11,"button",6),zc("click",(function(t){return e.confirmDeleteVideo()})),Dc(12,"mat-icon"),iu(13,"delete"),Nc(),Nc(),Nc(),Nc()),2&t&&(la(2),eu("ngIf",e.file),la(2),eu("disabled",!e.file),la(4),eu("disabled",!e.file),la(3),eu("disabled",!e.file))},directives:[cj,Xy,kk,ak,p$,fj],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.topnav[_ngcontent-%COMP%]{z-index:2;display:grid;grid-template-columns:auto 1fr auto;grid-template-rows:64px;background:#ff8282;align-items:center;justify-items:center;grid-column-gap:2rem;padding:0 0 0 16px}.topnav[_ngcontent-%COMP%]   .sidenav-menu-trigger[_ngcontent-%COMP%]{padding-left:16px;margin-bottom:2px;width:46px;height:46px}.topnav[_ngcontent-%COMP%]   #menu[_ngcontent-%COMP%]{font-weight:600}.topnav[_ngcontent-%COMP%]   .video-title[_ngcontent-%COMP%]{font:900 2.75rem/3rem "Source Sans Pro",sans-serif;letter-spacing:-.05rem;text-align:left;width:100%;white-space:nowrap;color:#fff;overflow:hidden;text-overflow:ellipsis;min-width:0;justify-self:stretch;outline:0;padding:5px;align-self:left;border-radius:4px}.topnav[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto;grid-column-gap:1rem;margin-right:25px}.topnav[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{margin-right:15px}.topnav[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]   #text[_ngcontent-%COMP%]{color:#4f4f4f}.topnav[_ngcontent-%COMP%]   #launch[_ngcontent-%COMP%]{color:#4f4f4f;font-size:20px}.topnav[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:3rem;justify-self:center;height:30px;width:30px;line-height:30px}']}),t}();function mj(t,e){1&t&&(Dc(0,"mat-icon"),iu(1,"chevron_left "),Nc())}function gj(t,e){1&t&&(Dc(0,"mat-icon"),iu(1,"chevron_right "),Nc())}var vj=function(){function t(){this.toggleDetailsDrawer=new Ol}return t.ɵfac=function(e){return new(e||t)},t.ɵcmp=ge({type:t,selectors:[["cf2-details-drawer-button"]],hostBindings:function(t,e,n){1&t&&tc(1),2&t&&bc("inside",e.inside)},inputs:{openedDetailsDrawer:"openedDetailsDrawer",inside:"inside"},outputs:{toggleDetailsDrawer:"toggleDetailsDrawer"},decls:3,vars:2,consts:[["mat-button","",1,"drawer-button",3,"click"],[4,"ngIf"]],template:function(t,e){1&t&&(Dc(0,"button",0),zc("click",(function(t){return e.toggleDetailsDrawer.emit()})),hc(1,mj,2,0,"mat-icon",1),hc(2,gj,2,0,"mat-icon",1),Nc()),2&t&&(la(1),eu("ngIf",!e.openedDetailsDrawer),la(1),eu("ngIf",e.openedDetailsDrawer))},directives:[kk,Xy,ak],styles:["[_nghost-%COMP%]{position:absolute;top:1em;right:0;z-index:1}.inside[_nghost-%COMP%]{left:-24px}.drawer-button[_ngcontent-%COMP%]{display:block;min-width:unset;padding:unset;background:#fff;border-top-right-radius:0;border-bottom-right-radius:0}"]}),t}();function yj(t,e){if(1&t&&(Dc(0,"span",8),iu(1),Tl(2,"uppercase"),Nc()),2&t){var n=Yc(3);la(1),au(" Exporting ",Pl(2,1,n.job.outFormat),"... ")}}function bj(t,e){if(1&t&&Rc(0,"mat-progress-bar",9),2&t){var n=Yc(3);eu("color","primary")("value",100*n.progress)}}function _j(t,e){if(1&t){var n=Hc();Dc(0,"div",10),Dc(1,"button",11),zc("click",(function(t){return vn(n),Yc(3).download()})),iu(2),Tl(3,"uppercase"),Nc(),Nc()}if(2&t){var r=Yc(3);la(1),eu("color","primary"),la(1),au(" Download ",Pl(3,2,r.job.outFormat)," ")}}function wj(t,e){if(1&t&&(Fc(0),hc(1,yj,3,3,"span",5),hc(2,bj,1,2,"mat-progress-bar",6),hc(3,_j,4,4,"div",7),Bc()),2&t){var n=Yc(2);la(1),eu("ngIf","done"!==n.job.state),la(1),eu("ngIf","done"!==n.job.state),la(1),eu("ngIf","done"===n.job.state)}}function Sj(t,e){1&t&&(Fc(0),Dc(1,"cf2-error-hint"),iu(2," Failed to process video. Please contact support if this problem persists. "),Nc(),Bc())}function Ej(t,e){if(1&t){var n=Hc();Dc(0,"button",12),zc("click",(function(t){vn(n);var e=Yc(2);return e.job.cancelable?e.cancel.emit(e.jobId):e.dismiss.emit(e.jobId)})),iu(1," × "),Nc()}2&t&&nu("matTooltip",Yc(2).job.cancelable?"Cancel export":"Dismiss")}function xj(t,e){if(1&t&&(Dc(0,"mat-list-item",1),Dc(1,"a",2),iu(2),Nc(),hc(3,wj,4,3,"ng-container",3),hc(4,Sj,3,0,"ng-container",3),hc(5,Ej,2,1,"button",4),Nc()),2&t){var n=Yc();la(1),ru("href","/ng/app/app.html#/hidden-video-details/",n.job.fileId,"",po),la(1),au(" ",n.job.fileTitle," "),la(1),eu("ngIf","error"!==n.job.state),la(1),eu("ngIf","error"===n.job.state),la(1),eu("ngIf","done"!==n.job.state)}}var Cj=function(){function t(t,e,n,r,i){this._fileDbClient=t,this._downloadHelperService=e,this._editJobSchedulerClientService=n,this._uploader=r,this._errorSnackbar=i,this.cancel=new Ol,this.dismiss=new Ol,this._log=Hg.Log.create("ExportsDrawerItem"),this._subscription=new u,this.progress=0}return t.prototype.ngOnInit=function(){var t=this,e=this._editJobSchedulerClientService.onJob(this.jobId),n=this._getUploadProgress(e),r=this._getEditJobProgress();this._subscription.add(e.subscribe((function(e){return t.job=e}))),this._subscription.add(hE(n,r).pipe(this._combineProgress()).subscribe((function(e){return t.progress=e})))},t.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},t.prototype._mapToUploadProgress=function(t){var e=Object(i.__read)(t,2),n=e[1];return e[0].isSynced&&!n?.2:n&&n.progress?n.progress/5:0},t.prototype._getUploadProgress=function(t){var e=this,n=t.pipe(yv((function(t){return e._fileDbClient.onFileDescriptor(t.fileId)}))),r=n.pipe(yv((function(t){return e._uploader.onTargetState(t.id,"drive")})));return hE(n,r).pipe(j(this._mapToUploadProgress),Dk((function(t,e){return e<=t})),zN((function(t){return t<.2})),JR(.2))},t.prototype._getEditJobProgress=function(){return this._editJobSchedulerClientService.onJob(this.jobId).pipe(j((function(t){return t&&t.progress?.8*t.progress:0})),Dk((function(t,e){return e<=t})),zN((function(t){return t<.8})),JR(.8))},t.prototype._combineProgress=function(){return function(t){return t.pipe(j((function(t){var e=Object(i.__read)(t,2);return e[0]+e[1]})),zN((function(t){return t<1})),JR(1))}},t.prototype.download=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this._editJobSchedulerClientService.onJob(this.job.id).pipe(cv()).toPromise()];case 1:return t=n.sent(),this._downloadHelperService.download(t.result.url,t.result.saveFileName),this._editJobSchedulerClientService.clearComplete(t.id),[3,3];case 2:return e=n.sent(),this._errorSnackbar.open({message:"Oops! Something went wrong while trying to download your video. Please try again.",logger:this._log,errorMsg:e}),[3,3];case 3:return[2]}}))}))},t.ɵfac=function(e){return new(e||t)(mc(Ig),mc(dL),mc(KN),mc(nR),mc(eR))},t.ɵcmp=ge({type:t,selectors:[["cf2-exports-drawer-item"]],inputs:{jobId:"jobId"},outputs:{cancel:"cancel",dismiss:"dismiss"},decls:1,vars:1,consts:[["disableRipple","",4,"ngIf"],["disableRipple",""],[1,"open-recording-link",3,"href"],[4,"ngIf"],["mat-mini-fab","","disableRipple","","class","close-button","matTooltipShowDelay","300",3,"matTooltip","click",4,"ngIf"],["class","in-progress-text",4,"ngIf"],["mode","determinate",3,"color","value",4,"ngIf"],["class","download-export-button-wrapper",4,"ngIf"],[1,"in-progress-text"],["mode","determinate",3,"color","value"],[1,"download-export-button-wrapper"],["mat-button","",1,"download-export-button",3,"color","click"],["mat-mini-fab","","disableRipple","","matTooltipShowDelay","300",1,"close-button",3,"matTooltip","click"]],template:function(t,e){1&t&&hc(0,xj,6,5,"mat-list-item",0),2&t&&eu("ngIf",e.job)},directives:[Xy,XO,CI,kk,lk,p$],pipes:[fb],encapsulation:2}),t}(),kj=["exportPanel"];function Tj(t,e){if(1&t){var n=Hc();Dc(0,"cf2-exports-drawer-item",5),zc("cancel",(function(t){return vn(n),Yc().cancelJob(t)}))("dismiss",(function(t){return vn(n),Yc().dismissJob(t)})),Nc()}2&t&&eu("jobId",e.$implicit)}var Pj=function(t){return{hide:t}},Ij=function(){function t(t,e){this._editJobSchedulerClientService=t,this.appOptions=e,this._subscription=new u,this.jobIds=[],this._manuallyClosed=!1}return t.prototype.ngAfterViewInit=function(){var t=this;this._subscription.add(this._editJobSchedulerClientService.onJobsMapped().pipe(j((function(t){return Object.values(t).sort((function(t,e){return+e.id-+t.id})).filter((function(t){return"cancelled"!==t.state&&!t.dismissed&&"trim"!==t.type}))})),BE((function(e){e.some((function(t){return"running"===t.state}))&&!t._manuallyClosed&&t.exportPanel.open()})),j((function(t){return t.map((function(t){return t.id}))})),Dk()).subscribe((function(e){return t.jobIds=e})))},t.prototype.ngOnInit=function(){var t=this;this._editJobSchedulerClientService.getJobs(),this._subscription.add(this._editJobSchedulerClientService.onJobCreated().pipe(qg((function(t){return"trim"!==t.type}))).subscribe((function(){return t.exportPanel.open()})))},t.prototype.onClosed=function(){this._manuallyClosed=!0},t.prototype.cancelJob=function(t){this._editJobSchedulerClientService.cancel(t)},t.prototype.dismissJob=function(t){this._editJobSchedulerClientService.dismiss(t)},t.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},t.ɵfac=function(e){return new(e||t)(mc(KN),mc(xg))},t.ɵcmp=ge({type:t,selectors:[["cf2-exports-drawer"]],viewQuery:function(t,e){var n;1&t&&ql(kj,!0),2&t&&Hl(n=Ql())&&(e.exportPanel=n.first)},decls:9,vars:4,consts:[["hideToggle","",3,"ngClass","closed"],["exportPanel",""],["collapsedHeight","2em","expandedHeight","2em",1,"exports"],["dense",""],[3,"jobId","cancel","dismiss",4,"ngFor","ngForOf"],[3,"jobId","cancel","dismiss"]],template:function(t,e){1&t&&(Dc(0,"mat-expansion-panel",0,1),zc("closed",(function(t){return e.onClosed()})),Dc(2,"mat-expansion-panel-header",2),Dc(3,"mat-panel-title"),iu(4," Exports "),Nc(),Dc(5,"mat-icon"),iu(6," remove "),Nc(),Nc(),Dc(7,"mat-list",3),hc(8,Tj,1,1,"cf2-exports-drawer-item",4),Nc(),Nc()),2&t&&(eu("ngClass",Cl(2,Pj,!(e.appOptions.values.enableVDP&&e.jobIds.length))),la(8),eu("ngForOf",e.jobIds))},directives:[GP,Nv,KP,QP,ak,KO,Qy,Cj],styles:["cf2-exports-drawer{position:absolute;z-index:100;bottom:0;right:15px;width:280px;border-radius:4px 4px 0 0;box-shadow:0 0 4px 1px rgba(0,0,0,.5)}cf2-exports-drawer mat-expansion-panel.mat-expansion-panel.hide{display:none}cf2-exports-drawer mat-expansion-panel.mat-expansion-panel.mat-expanded,cf2-exports-drawer mat-expansion-panel.mat-expansion-panel:not(.mat-expanded){border-radius:4px 4px 0 0}cf2-exports-drawer mat-expansion-panel.mat-expansion-panel.mat-expanded mat-expansion-panel-header.mat-expansion-panel-header.exports,cf2-exports-drawer mat-expansion-panel.mat-expansion-panel:not(.mat-expanded) mat-expansion-panel-header.mat-expansion-panel-header.exports{padding:0 1em;font-weight:700;color:#fff;background-color:#4f4f4f}cf2-exports-drawer mat-expansion-panel.mat-expansion-panel.mat-expanded mat-expansion-panel-header.mat-expansion-panel-header.exports:hover,cf2-exports-drawer mat-expansion-panel.mat-expansion-panel:not(.mat-expanded) mat-expansion-panel-header.mat-expansion-panel-header.exports:hover{background-color:#4f4f4f}cf2-exports-drawer mat-expansion-panel.mat-expansion-panel.mat-expanded mat-expansion-panel-header.mat-expansion-panel-header.exports mat-panel-title,cf2-exports-drawer mat-expansion-panel.mat-expansion-panel:not(.mat-expanded) mat-expansion-panel-header.mat-expansion-panel-header.exports mat-panel-title{color:#fff;justify-content:center;margin-right:0;margin-left:24px}cf2-exports-drawer mat-expansion-panel.mat-expansion-panel.mat-expanded .mat-expansion-panel-body,cf2-exports-drawer mat-expansion-panel.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-body{padding:0}cf2-exports-drawer mat-expansion-panel.mat-expansion-panel.mat-expanded .mat-expansion-panel-body .mat-list-base[dense],cf2-exports-drawer mat-expansion-panel.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-body .mat-list-base[dense]{padding:0;max-height:24.6rem;overflow:scroll}cf2-exports-drawer mat-expansion-panel.mat-expansion-panel.mat-expanded .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item,cf2-exports-drawer mat-expansion-panel.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item{overflow-y:hidden;height:8rem;border-top:1px solid #d3d3d3}cf2-exports-drawer mat-expansion-panel.mat-expansion-panel.mat-expanded .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item .mat-list-item-content,cf2-exports-drawer mat-expansion-panel.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item .mat-list-item-content{display:grid;grid-template-columns:1fr auto;grid-auto-flow:row;grid-column-gap:1rem;padding-right:0;align-content:center}cf2-exports-drawer mat-expansion-panel.mat-expansion-panel.mat-expanded .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item .mat-list-item-content .open-recording-link,cf2-exports-drawer mat-expansion-panel.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item .mat-list-item-content .open-recording-link{grid-row:1;font-size:16px;color:#4f4f4f;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}cf2-exports-drawer mat-expansion-panel.mat-expansion-panel.mat-expanded .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item .mat-list-item-content span.in-progress-text,cf2-exports-drawer mat-expansion-panel.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item .mat-list-item-content span.in-progress-text{grid-row:2;color:#4f4f4f;font-style:italic}cf2-exports-drawer mat-expansion-panel.mat-expansion-panel.mat-expanded .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item .mat-list-item-content .mat-progress-bar,cf2-exports-drawer mat-expansion-panel.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item .mat-list-item-content .mat-progress-bar{grid-row:3;height:20px;border-radius:10px;margin-bottom:.5rem}cf2-exports-drawer mat-expansion-panel.mat-expansion-panel.mat-expanded .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item .mat-list-item-content .mat-progress-bar .mat-progress-bar-buffer,cf2-exports-drawer mat-expansion-panel.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item .mat-list-item-content .mat-progress-bar .mat-progress-bar-buffer{background-color:#e6e6e6}cf2-exports-drawer mat-expansion-panel.mat-expansion-panel.mat-expanded .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item .mat-list-item-content .download-export-button-wrapper,cf2-exports-drawer mat-expansion-panel.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item .mat-list-item-content .download-export-button-wrapper{margin-top:5px;grid-row:2}cf2-exports-drawer mat-expansion-panel.mat-expansion-panel.mat-expanded .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item .mat-list-item-content .download-export-button-wrapper .download-export-button,cf2-exports-drawer mat-expansion-panel.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item .mat-list-item-content .download-export-button-wrapper .download-export-button{background-color:#ff8282;color:#fff;margin-bottom:5px}cf2-exports-drawer mat-expansion-panel.mat-expansion-panel.mat-expanded .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item .mat-list-item-content cf2-error-hint,cf2-exports-drawer mat-expansion-panel.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item .mat-list-item-content cf2-error-hint{grid-row:2/span 2}cf2-exports-drawer mat-expansion-panel.mat-expansion-panel.mat-expanded .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item .mat-list-item-content cf2-error-hint .error-hint,cf2-exports-drawer mat-expansion-panel.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item .mat-list-item-content cf2-error-hint .error-hint{padding:2px 5px;margin:0;line-height:1.5rem;font-size:1.25rem}cf2-exports-drawer mat-expansion-panel.mat-expansion-panel.mat-expanded .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item .mat-list-item-content .mat-mini-fab.close-button,cf2-exports-drawer mat-expansion-panel.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-body .mat-list-base[dense] mat-list-item.mat-list-item .mat-list-item-content .mat-mini-fab.close-button{grid-column:2;grid-row:span 3;box-shadow:none;color:#4f4f4f;background-color:transparent;font-size:3rem;line-height:3rem;padding:0;font-weight:400;margin-bottom:10px}"],encapsulation:2}),t}(),Aj=function(){function t(){this.silence=!1}return t.prototype.getDialogResult=function(t){return void 0===t&&(t=!1),{confirm:t,silence:this.silence}},t.ɵfac=function(e){return new(e||t)},t.ɵcmp=ge({type:t,selectors:[["cf2-trim-confirm-dialog"]],decls:12,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"trim-dialog-body"],["color","primary",3,"ngModel","ngModelChange"],["mat-button","",3,"mat-dialog-close"],["mat-flat-button","","color","primary",3,"mat-dialog-close"]],template:function(t,e){1&t&&(Dc(0,"h1",0),iu(1,"Are you sure?"),Nc(),Dc(2,"div",1),Dc(3,"div",2),iu(4," Trimming a video replaces the original video. All trimmed footage will be permanently deleted. "),Nc(),Dc(5,"mat-checkbox",3),zc("ngModelChange",(function(t){return e.silence=t})),iu(6,"Don't show me this again"),Nc(),Nc(),Dc(7,"mat-dialog-actions"),Dc(8,"button",4),iu(9," Cancel "),Nc(),Dc(10,"button",5),iu(11," Trim "),Nc(),Nc()),2&t&&(la(5),eu("ngModel",e.silence),la(3),eu("mat-dialog-close",e.getDialogResult()),la(2),eu("mat-dialog-close",e.getDialogResult(!0)))},directives:[vP,yP,SM,_A,_O,bP,kk,gP],styles:[".mat-dialog-content[_ngcontent-%COMP%]{display:grid;grid-gap:2rem;overflow-y:hidden;padding-bottom:10px}"]}),t}(),Oj=function(){function t(){}return t.prototype.addEvents=function(t,e){var n,r,o=function(e){e.dispose=t.listen(e.element,e.name,(function(t){return e.callback(t)}))};try{for(var a=Object(i.__values)(e),s=a.next();!s.done;s=a.next())o(s.value)}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},t.prototype.removeEvents=function(t){var e,n;try{for(var r=Object(i.__values)(t),o=r.next();!o.done;o=r.next()){var a=o.value;a.dispose&&a.dispose()}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.addDisposableEvent=function(t,e){e.dispose=t.listen(e.element,e.name,(function(t){e.callback(t),e.dispose()}))},t.ɵprov=ht({token:t,factory:t.ɵfac=function(e){return new(e||t)}}),t}(),$j=function(){function t(){this.fnMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],this.keyboardAllowed="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element;for(var t,e={},n=0;n<this.fnMap.length;n++)if((t=this.fnMap[n])&&t[1]in document){for(n=0;n<t.length;n++)e[this.fnMap[0][n].toString()]=t[n];this.fn=e}}return t.prototype.request=function(t){var e=this.fn.requestFullscreen;t=t||document.documentElement,/5\.1[.\d]* Safari/.test(navigator.userAgent)?t[e]():t[e](this.keyboardAllowed?Element.ALLOW_KEYBOARD_INPUT:{})},t.prototype.exit=function(){document[this.fn.exitFullscreen]()},t.prototype.toggle=function(t){this.isFullscreen()?this.exit():this.request(t)},t.prototype.onChange=function(t){document.addEventListener(this.fn.fullscreenchange,t,!1)},t.prototype.onError=function(t){document.addEventListener(this.fn.fullscreenerror,t,!1)},t.prototype.isFullscreen=function(){return Boolean(document[this.fn.fullscreenElement])},t.prototype.isEnabled=function(){return Boolean(document[this.fn.fullscreenEnabled])},t.prototype.getElement=function(){return document[this.fn.fullscreenElement]},t.ɵprov=ht({token:t,factory:t.ɵfac=function(e){return new(e||t)}}),t}();function Mj(t,e){1&t&&Rc(0,"div"),2&t&&wc(Yc().spinner)}var Dj=function(){function t(t,e){this.renderer=t,this.evt=e,this.spinner="spin",this.videoBuffering=!1,this.videoLoaded=!1,this.events=[]}return t.prototype.ngAfterViewInit=function(){var t=this;this.events=[{element:this.video,name:"loadstart",callback:function(e){return t.videoLoaded=!1},dispose:null},{element:this.video,name:"loadedmetadata",callback:function(e){return t.videoLoaded=!0},dispose:null},{element:this.video,name:"canplay",callback:function(e){return t.videoBuffering=!1},dispose:null},{element:this.video,name:"waiting",callback:function(e){return t.videoBuffering=!0},dispose:null},{element:this.video,name:"durationchange",callback:function(e){return t.videoBuffering=!0},dispose:null}],this.video.onloadeddata=function(){return t.videoLoaded=!0},this.evt.addEvents(this.renderer,this.events)},t.prototype.ngOnDestroy=function(){this.video.onloadeddata=null,this.evt.removeEvents(this.events)},t.ɵfac=function(e){return new(e||t)(mc(ju),mc(Oj))},t.ɵcmp=ge({type:t,selectors:[["cf2-video-spinner"]],inputs:{video:"video",spinner:"spinner"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"]],template:function(t,e){1&t&&hc(0,Mj,1,2,"div",0),2&t&&eu("ngIf",!e.videoLoaded||e.videoBuffering)},directives:[Xy],styles:["[_nghost-%COMP%]{position:absolute;left:calc(50% - 32px);top:calc(50% - 32px);z-index:1}",".spin[_ngcontent-%COMP%]{box-sizing:border-box;width:64px;height:64px;border-radius:100%;border:10px solid rgba(90,90,90,.4);border-top-color:#fff;animation:1s linear infinite spin}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}",".dot[_ngcontent-%COMP%]{width:64px;height:64px;background-color:#fff;border-radius:100%;animation:1s ease-in-out infinite dot}@keyframes dot{0%{transform:scale(0)}100%{transform:scale(1);opacity:0}}",".split-ring[_ngcontent-%COMP%]{display:inline-block;width:64px;height:64px}.split-ring[_ngcontent-%COMP%]:after{content:' ';display:block;width:46px;height:46px;margin:1px;border-radius:50%;border:5px solid #fff;border-color:#fff transparent;animation:1.2s linear infinite split-ring}@keyframes split-ring{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}",".hourglass[_ngcontent-%COMP%]{display:inline-block;position:relative;width:64px;height:64px}.hourglass[_ngcontent-%COMP%]:after{content:' ';display:block;border-radius:50%;width:0;height:0;margin:6px;box-sizing:border-box;border:26px solid #fff;border-color:#fff transparent;animation:1.2s infinite hourglass}@keyframes hourglass{0%{transform:rotate(0);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}50%{transform:rotate(360deg);animation-timing-function:cubic-bezier(.215,.61,.355,1)}100%{transform:rotate(720deg)}}"]}),t}();function Nj(t,e){if(1&t&&(Dc(0,"p",4),iu(1),Tl(2,"duration"),Nc()),2&t){var n=Yc();la(1),au(" ",Pl(2,1,n.trimTime)," ")}}var Rj="translateX(0)",Lj="scaleX(0)";function jj(t){return"t"===t.type[0]}function Fj(t){return(jj(t)?t.touches[0]||t.changedTouches[0]:t).clientX}var Bj=function(){function t(t,e,n,r,i){var o=this;this._fileDbClient=t,this._cdRef=e,this._renderer=n,this._evt=r,this._upgradeHelper=i,this._subscription=new u,this.trimEnd=!1,this.trimLimit=1,this.isTrimMode=!1,this.disabled=!1,this.startTrim=new Ol,this.stopTrim=new Ol,this.trimChange=new Ol,this._value=0,this._isDragging=!1,this._dragOffset=0,this._progressDimensions=null,this._events=[{element:window,name:"resize",callback:function(){return o._handleResize()},dispose:null}],this._mouseEvents=[{element:document.body,name:"mousemove",callback:function(t){return o._handlePointerMove(t)},dispose:null},{element:document.body,name:"mouseup",callback:function(t){return o._handlePointerUp(t)},dispose:null}],this._touchEvents=[{element:document.body,name:"touchmove",callback:function(t){return o._handlePointerMove(t)},dispose:null},{element:document.body,name:"touchend",callback:function(t){return o._handlePointerUp(t)},dispose:null},{element:document.body,name:"touchcancel",callback:function(t){return o._handlePointerUp(t)},dispose:null}],this.containerTransform=Rj,this.overlayTransform=Lj,this.overlayWidth="0px",this.trimTime=0}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){var e=this._value;this._value=this.trimEnd?_R(t,-this.trimLimit,0):_R(t,0,this.trimLimit),this._value!==e&&(this.trimTime=this.trimEnd?this.video.duration+this.video.duration*this._value:this.video.duration*this._value,this.trimChange.emit(this.trimTime),this._updateStyles())},enumerable:!0,configurable:!0}),t.prototype.onMouseEnter=function(){this._updateProgressDimensions()},t.prototype.ngOnInit=function(){var t=this;this._evt.addEvents(this._renderer,this._events),this._subscription.add(hE(this._upgradeHelper.onHasDefaultVariant(),this._upgradeHelper.onIsPaid()).subscribe((function(e){var n=Object(i.__read)(e,2);t._isNonVariantFreePlan=n[0]&&!n[1]})))},t.prototype.ngOnDestroy=function(){this._evt.removeEvents(this._events),this._subscription.unsubscribe()},t.prototype._updateProgressDimensions=function(){var t=this.progressEl?this.progressEl.element.nativeElement.getBoundingClientRect():null;this._progressDimensions={width:t.width-24,edge:this.trimEnd?t.right-12:t.left+12},this.overlayWidth=this._progressDimensions.width+"px"},t.prototype.reset=function(){this.value=0},t.prototype._handleResize=function(){0!==this.value&&(this._updateProgressDimensions(),this._updateStyles(),this._cdRef.detectChanges())},t.prototype.handlePointerDown=function(t){if(!this._isDragging&&!this.disabled){this.onMouseEnter(),this._isDragging=!0;var e=Fj(t),n=t.target.getBoundingClientRect();this._dragOffset=this.trimEnd?n.left-e:n.right-e,this.progressEl.sliderProgressBar._isSliding=!0,this.startTrim.emit(),this._evt.addEvents(this._renderer,jj(t)?this._touchEvents:this._mouseEvents)}},t.prototype._handlePointerMove=function(t){this._isDragging&&(t.preventDefault(),this._updateValueFromPosition(Fj(t)))},t.prototype._handlePointerUp=function(t){this._isDragging&&(t.preventDefault(),this._isDragging=!1,this.progressEl.sliderProgressBar._isSliding=!1,this._evt.removeEvents(jj(t)?this._touchEvents:this._mouseEvents),this._updateValueFromPosition(Fj(t)),this.stopTrim.emit())},t.prototype._updateValueFromPosition=function(t){if(this._progressDimensions){var e=(t+this._dragOffset-this._progressDimensions.edge)/this._progressDimensions.width;this.value=e;var n=this.trimEnd?100+100*e:100*e;this.progressEl.sliderProgressBar.value=n,this.progressEl.seekVideo(n)}},t.prototype._updateStyles=function(){0===this.value?(this.containerTransform=Rj,this.overlayTransform=Lj):(this.containerTransform="translateX("+(this.value*this._progressDimensions.width+(this.trimEnd?-12:12))+"px)",this.overlayTransform="scaleX("+this.value+")")},t.prototype.getTooltip=function(){return this._fileDbClient.isSyncEnabled()?this._isNonVariantFreePlan?"Switch to the new lite plan to trim for free!":void 0:"Autosave to Google Drive must be enabled"},t.ɵfac=function(e){return new(e||t)(mc(Ig),mc(Ds),mc(ju),mc(Oj),mc(LE))},t.ɵcmp=ge({type:t,selectors:[["cf2-trim-control"]],hostBindings:function(t,e,n){1&t&&zc("mouseenter",(function(t){return e.onMouseEnter()}))},inputs:{video:"video",progressEl:"progressEl",trimEnd:"trimEnd",trimLimit:"trimLimit",isTrimMode:"isTrimMode",disabled:"disabled"},outputs:{startTrim:"startTrim",stopTrim:"stopTrim",trimChange:"trimChange"},decls:5,vars:8,consts:[["matTooltipShowDelay","300",1,"control-container",3,"matTooltipDisabled","matTooltip"],[1,"control-overlay"],[3,"mousedown","touchstart"],["class","trim-time",4,"ngIf"],[1,"trim-time"]],template:function(t,e){1&t&&(Dc(0,"div",0),Rc(1,"div",1),Dc(2,"mat-icon",2),zc("mousedown",(function(t){return e.handlePointerDown(t)}))("touchstart",(function(t){return e.handlePointerDown(t)})),iu(3,"content_cut"),Nc(),hc(4,Nj,3,3,"p",3),Nc()),2&t&&(yc("transform",e.containerTransform),bc("inverted",e.trimEnd)("disabled",e.disabled),eu("matTooltipDisabled",!e.disabled)("matTooltip",e.getTooltip()),la(1),yc("transform",e.overlayTransform)("width",e.overlayWidth),la(3),eu("ngIf",e.isTrimMode))},directives:[p$,ak,Xy],pipes:[ij],styles:["[_nghost-%COMP%]{position:relative;width:24px;height:36px}.control-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:10}.control-container[_ngcontent-%COMP%]   .control-overlay[_ngcontent-%COMP%]{position:absolute;right:0;width:0;height:100%;background:rgba(188,188,188,.6);transform-origin:right}.control-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer;display:block;position:absolute;top:6px;height:36px}.control-container[_ngcontent-%COMP%]   .trim-time[_ngcontent-%COMP%]{position:absolute;top:-2.4rem;right:0;margin:0;font-size:1.5rem;color:#fff}.control-container.inverted[_ngcontent-%COMP%]   .control-overlay[_ngcontent-%COMP%]{right:23px}.control-container.inverted[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transform:scaleX(-1)}.control-container.inverted[_ngcontent-%COMP%]   .trim-time[_ngcontent-%COMP%]{right:unset;left:0}.control-container.disabled[_ngcontent-%COMP%]{cursor:default}.control-container.disabled[_ngcontent-%COMP%]   .control-overlay[_ngcontent-%COMP%]{background:rgba(255,255,255,.2)}.control-container.disabled[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{opacity:.2}"]}),t}(),Vj=["role","slider",1,"mat-slider"],Hj=0,Uj=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i,o)||this;return a.mode="determinate",a.trimStartPercent=0,a.trimEndPercent=0,a._sliderValue=0,a.currentTime=0,a.isTrimMode=!1,a._bufferValue=0,a.color="primary",a.sliderprogressbarId="cf2-slider-progress-bar-"+Hj++,a.tabIndex=parseInt(o,10)||0,a}return Object(i.__extends)(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return null===this._sliderValue&&(this.value=0),this._sliderValue},set:function(t){this._sliderValue=_R(t,this.trimStartPercent,this.trimEndPercent),this._setCustomStyles()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferValue",{get:function(){return this._bufferValue},set:function(t){this._bufferValue=_R(t||0)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this._setCustomStyles()},e.prototype._setCustomStyles=function(){this.thumbContainerTransform="translateX("+(this.value-100)+"%)",this.sliderTrackBackgroundTransform="scale3d("+(1-this.value/100)+", 1, 1)",this.sliderTrackFillTransform="scale3d("+this.value/100+", 1, 1)"},e.ɵfac=function(t){return new(t||e)(mc(Du),mc(Ix),mc(Ds),mc(Dx,8),gc("tabindex"))},e.ɵcmp=ge({type:e,selectors:[["cf2-slider-progress-bar"]],hostBindings:function(t,e,n){1&t&&(tc(15),zc("focus",(function(t){return e._onFocus()}))("blur",(function(t){return e._onBlur()}))("click",(function(t){return e._onClick?e._onClick(t):null}))("mousedown",(function(t){return e._onMousedown?e._onMousedown(t):null}))("keydown",(function(t){return e._onKeydown(t)}))("keyup",(function(t){return e._onKeyup()}))("mouseenter",(function(t){return e._onMouseenter()}))("slide",(function(t){return e._onSlide(t)}))("slideend",(function(t){return e._onSlideEnd()}))("slidestart",(function(t){return e._onSlideStart(t)})),Lc(Vj)),2&t&&(uu("tabIndex",e.tabIndex),dc("aria-disabled",e.disabled)("aria-valuemax",e.max)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-orientation",e.vertical?"vertical":"horizontal"),bc("mat-slider-disabled",e.disabled)("mat-slider-has-ticks",e.tickInterval)("mat-slider-horizontal",!e.vertical)("mat-slider-axis-inverted",e._invertAxis)("mat-slider-sliding",e._isSliding)("mat-slider-thumb-label-showing",e.thumbLabel)("mat-slider-vertical",e.vertical)("mat-slider-min-value",e._isMinValue)("mat-slider-hide-last-tick",e.disabled||e._isMinValue&&e._thumbGap&&e._invertAxis))},inputs:{mode:"mode",trimStartPercent:"trimStartPercent",trimEndPercent:"trimEndPercent",value:"value",currentTime:"currentTime",isTrimMode:"isTrimMode",bufferValue:"bufferValue"},features:[Iu([OO]),fu],decls:11,vars:7,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background"],[1,"mat-slider-track-fill"],[1,"mat-slider-thumb-container"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"slider-thumb-time-label"]],template:function(t,e){1&t&&(Dc(0,"div",0,1),Dc(2,"div",2),Rc(3,"div",3),Rc(4,"div",4),Nc(),Dc(5,"div",5),Rc(6,"div",6),Rc(7,"div",7),Dc(8,"p",8),iu(9),Tl(10,"duration"),Nc(),Nc(),Nc()),2&t&&(la(3),yc("transform",e.sliderTrackBackgroundTransform),la(1),yc("transform",e.sliderTrackFillTransform),la(1),yc("transform",e.thumbContainerTransform),la(3),bc("hidden",e.isTrimMode||!e._isSliding),la(1),au(" ",Pl(10,5,e.currentTime)," "))},pipes:[ij],styles:[".mat-slider-thumb-container[_ngcontent-%COMP%]{transition:transform 260ms cubic-bezier(.1,.25,.9,.85)}.slider-thumb-time-label[_ngcontent-%COMP%]{position:absolute;bottom:18px;right:0;margin:0;font-size:1.5rem;color:#fff;visibility:visible;opacity:1;transform:translateX(50%)}.slider-thumb-time-label.hidden[_ngcontent-%COMP%]{visibility:hidden;opacity:0;transition:visibility 0s .8s,opacity .6s .2s linear}"],changeDetection:0}),e}(MO),qj=["sliderProgressBar"],zj=function(){function t(t,e,n,r){this._cdRef=t,this._renderer=e,this._evtService=n,this.element=r,this.curTimePercent=0,this.bufTimePercent=0,this.video=null,this.color="primary",this._trimStart=0,this._trimStartPercent=0,this._trimEnd=0,this._trimEndPercent=0,this.isTrimMode=!1,this.currentTime=0,this.currentTimeChanged=new Ol,this.bufferedTime=0,this.bufferedTimeChanged=new Ol}return Object.defineProperty(t.prototype,"trimStart",{get:function(){return this._trimStart},set:function(t){this._trimStart=t,this._trimStartPercent=this._timeToPercent(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trimEnd",{get:function(){return this._trimEnd},set:function(t){this._trimEnd=t,this._trimEndPercent=this._timeToPercent(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trimStartPercent",{get:function(){return this._trimStartPercent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trimEndPercent",{get:function(){return this._trimEndPercent},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var t=this;this.events=[{element:this.video,name:"seeking",callback:function(e){return t.updateCurrentTime(t.video.currentTime)},dispose:null},{element:this.video,name:"canplaythrough",callback:function(e){return t.updateBufferedTime()},dispose:null},{element:this.video,name:"timeupdate",callback:function(e){return t.updateCurrentTime(t.video.currentTime)},dispose:null},{element:this.video,name:"progress",callback:function(e){return t.updateBufferedTime()},dispose:null}],this._evtService.addEvents(this._renderer,this.events)},t.prototype.ngOnDestroy=function(){this._evtService.removeEvents(this.events)},t.prototype._timeToPercent=function(t){return t/this.video.duration*100},t.prototype.seekVideo=function(t){var e=_R(this.video.duration*(t/100),this.trimStart,this.trimEnd);this.video.currentTime=e},t.prototype.updateCurrentTime=function(t){this.currentTime=_R(t,this.trimStart,this.trimEnd),this.curTimePercent=this.updateTime(this.currentTimeChanged,this.currentTime),this._cdRef.detectChanges()},t.prototype.updateBufferedTime=function(){if(this.video.buffered.length>0)for(var t=0,e=0;e<this.video.buffered.length;e++){var n=this.video.currentTime,r=this.video.buffered.start(e),i=this.video.buffered.end(e);r<=n&&i>n&&i-r>t&&(t=i)}},t.prototype.updateTime=function(t,e){return t.emit(e),e/this.video.duration*100},t.ɵfac=function(e){return new(e||t)(mc(Ds),mc(ju),mc(Oj),mc(Du))},t.ɵcmp=ge({type:t,selectors:[["cf2-seek-progress-control"]],viewQuery:function(t,e){var n;1&t&&ql(qj,!0),2&t&&Hl(n=Ql())&&(e.sliderProgressBar=n.first)},inputs:{video:"video",trimStart:"trimStart",trimEnd:"trimEnd",isTrimMode:"isTrimMode",currentTime:"currentTime",bufferedTime:"bufferedTime"},outputs:{currentTimeChanged:"currentTimeChanged",bufferedTimeChanged:"bufferedTimeChanged"},decls:2,vars:6,consts:[["mode","determinate","step","0.01",1,"cf-slider",3,"value","currentTime","bufferValue","trimStartPercent","trimEndPercent","isTrimMode","input"],["sliderProgressBar",""]],template:function(t,e){1&t&&(Dc(0,"cf2-slider-progress-bar",0,1),zc("input",(function(t){return e.seekVideo(t.value)})),Nc()),2&t&&eu("value",e.curTimePercent)("currentTime",e.currentTime)("bufferValue",e.bufTimePercent)("trimStartPercent",e.trimStartPercent)("trimEndPercent",e.trimEndPercent)("isTrimMode",e.isTrimMode)},directives:[Uj],styles:[""]}),t}(),Wj=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵcmp=ge({type:t,selectors:[["cf2-time-control"]],inputs:{video:"video"},decls:5,vars:6,consts:[[1,"time-display"]],template:function(t,e){1&t&&(Dc(0,"div",0),Dc(1,"p"),iu(2),Tl(3,"duration"),Tl(4,"duration"),Nc(),Nc()),2&t&&(la(2),su("",Pl(3,2,null==e.video?null:e.video.currentTime)," / ",Pl(4,4,null==e.video?null:e.video.duration),""))},pipes:[ij],styles:[".time-display[_ngcontent-%COMP%]{margin-left:26px}.time-display[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"]}),t}();function Gj(t){var e=document.querySelector("body"),n=document.querySelectorAll("mat-sidenav.mat-drawer-end")[0],r=document.querySelectorAll("cf2-slider-progress-bar.mat-slider")[0];return t.target===e||t.target===n||t.target===r}function Kj(t,e){1&t&&(Dc(0,"mat-icon"),iu(1,"play_circle_filled"),Nc())}function Qj(t,e){1&t&&(Dc(0,"mat-icon"),iu(1,"pause_circle_filled"),Nc())}var Yj=function(){function t(t,e){this.renderer=t,this.evt=e,this.play=!1,this.autoplay=!1,this.playChanged=new Ol,this.keyboard=!0}return t.prototype.ngAfterViewInit=function(){var t=this;this.events=[{element:this.video,name:"play",callback:function(e){return t.setVideoPlayback(!0)},dispose:null},{element:this.video,name:"pause",callback:function(e){return t.setVideoPlayback(!1)},dispose:null},{element:this.video,name:"durationchange",callback:function(e){return t.setVideoPlayback(!1)},dispose:null},{element:this.video,name:"ended",callback:function(e){return t.setVideoPlayback(!1)},dispose:null},{element:this.video,name:"click",callback:function(e){return t.toggleVideoPlayback()},dispose:null}],this.autoplay&&(this.video.readyState>3?this.setVideoPlayback(!0):this.evt.addDisposableEvent(this.renderer,{element:this.video,name:"canplaythrough",callback:function(e){return t.setVideoPlayback(!0)},dispose:null})),this.evt.addEvents(this.renderer,this.events)},t.prototype.ngOnDestroy=function(){this.evt.removeEvents(this.events)},t.prototype.setVideoPlayback=function(t){this.play!==t&&this.toggleVideoPlayback()},t.prototype.toggleVideoPlayback=function(){this.play=!this.play,this.updateVideoPlayback()},t.prototype.updateVideoPlayback=function(){this.play?this.video.play():this.video.pause(),this.playChanged.emit(this.play)},t.prototype.onPlayKey=function(t){this.keyboard&&Gj(t)&&(this.toggleVideoPlayback(),t.preventDefault())},t.ɵfac=function(e){return new(e||t)(mc(ju),mc(Oj))},t.ɵcmp=ge({type:t,selectors:[["cf2-play-button"]],hostBindings:function(t,e,n){1&t&&zc("keyup.space",(function(t){return e.onPlayKey(t)}),!1,gr)},inputs:{video:"video",play:"play",autoplay:"autoplay",keyboard:"keyboard"},outputs:{playChanged:"playChanged"},decls:3,vars:2,consts:[["mat-icon-button","",3,"click"],[4,"ngIf"]],template:function(t,e){1&t&&(Dc(0,"button",0),zc("click",(function(t){return e.toggleVideoPlayback()})),hc(1,Kj,2,0,"mat-icon",1),hc(2,Qj,2,0,"mat-icon",1),Nc()),2&t&&(la(1),eu("ngIf",!e.play),la(1),eu("ngIf",e.play))},directives:[kk,Xy,ak],styles:[".mat-icon[_ngcontent-%COMP%]{width:38px;height:28px;font-size:36px}"]}),t}();function Xj(t,e){1&t&&(Dc(0,"mat-icon"),iu(1,"volume_off"),Nc())}function Zj(t,e){1&t&&(Dc(0,"mat-icon"),iu(1,"volume_mute"),Nc())}function Jj(t,e){1&t&&(Dc(0,"mat-icon"),iu(1,"volume_down"),Nc())}function tF(t,e){1&t&&(Dc(0,"mat-icon"),iu(1,"volume_up"),Nc())}var eF=function(){function t(){this.video=null,this.volume=1,this.volumeChanged=new Ol,this._muted=!1,this.mutedChanged=new Ol,this.keyboard=!0}return Object.defineProperty(t.prototype,"muted",{get:function(){return this._muted},set:function(t){this._muted=t},enumerable:!0,configurable:!0}),t.prototype.setVolume=function(t){this.volume=t,this.video.volume=this.volume,this.volumeChanged.emit(this.volume),this.volume>0&&this.setMuted(!1)},t.prototype.setMuted=function(t){this.muted!==t&&this.toggleMuted()},t.prototype.toggleMuted=function(){this.muted=!this.muted,this.mutedChanged.emit(this.muted)},t.prototype.onMuteKey=function(t){this.keyboard&&Gj(t)&&(this.toggleMuted(),t.preventDefault())},t.ɵfac=function(e){return new(e||t)},t.ɵcmp=ge({type:t,selectors:[["cf2-volume-control"]],hostBindings:function(t,e,n){1&t&&zc("keyup.m",(function(t){return e.onMuteKey(t)}),!1,gr)},inputs:{video:"video",volume:"volume",muted:"muted",keyboard:"keyboard"},outputs:{volumeChanged:"volumeChanged",mutedChanged:"mutedChanged"},decls:7,vars:4,consts:[[1,"volume-control"],["color","primary","min","0","max","1","step","0.01","value","1",1,"cf-slider","small-slider",3,"input"],["mat-icon-button","",3,"click"],[4,"ngIf"]],template:function(t,e){1&t&&(Dc(0,"div",0),Dc(1,"mat-slider",1),zc("input",(function(t){return e.setVolume(t.value)})),Nc(),Dc(2,"button",2),zc("click",(function(t){return e.toggleMuted()})),hc(3,Xj,2,0,"mat-icon",3),hc(4,Zj,2,0,"mat-icon",3),hc(5,Jj,2,0,"mat-icon",3),hc(6,tF,2,0,"mat-icon",3),Nc(),Nc()),2&t&&(la(3),eu("ngIf",e.muted||0===e.volume),la(1),eu("ngIf",!e.muted&&e.volume>0&&e.volume<.25),la(1),eu("ngIf",!e.muted&&e.volume>=.25&&e.volume<.5),la(1),eu("ngIf",!e.muted&&e.volume>=.5))},directives:[MO,kk,Xy,ak],styles:[".volume-control[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:center}.volume-control[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:28px;height:28px;font-size:28px}.volume-control[_ngcontent-%COMP%]   .cf-slider[_ngcontent-%COMP%]{visibility:hidden;opacity:0;width:0;min-width:0;transition:visibility 0s .2s,opacity .2s linear,width .2s linear}.volume-control[_ngcontent-%COMP%]:hover   .cf-slider[_ngcontent-%COMP%]{visibility:visible;opacity:1;width:120px;min-width:120px;transition:opacity .2s linear,width .2s linear,min-width .2s linear}"]}),t}();function nF(t,e){1&t&&(Dc(0,"mat-icon"),iu(1,"fullscreen"),Nc())}function rF(t,e){1&t&&(Dc(0,"mat-icon"),iu(1,"fullscreen_exit"),Nc())}var iF=function(){function t(t){this.fscreen=t,this.canFullscreen=!1,this.fullscreen=!1,this.fullscreenChanged=new Ol,this.keyboard=!0}return t.prototype.ngOnInit=function(){var t=this;this.fscreen.isEnabled()&&(this.canFullscreen=!0),this.fscreen.onChange((function(e){return t.fscreen.isFullscreen()?t.onChangesFullscreen(!0):t.onChangesFullscreen(!1)}))},t.prototype.setFullscreen=function(t){this.canFullscreen&&this.fullscreen!==t&&this.toggleFullscreen()},t.prototype.toggleFullscreen=function(){this.fullscreen=!this.fullscreen,this.updateFullscreen()},t.prototype.updateFullscreen=function(){this.fullscreen?this.fscreen.request(this.player):this.fscreen.exit(),this.fullscreenChanged.emit(this.fullscreen)},t.prototype.onChangesFullscreen=function(t){this.fullscreen=t,this.fullscreenChanged.emit(this.fullscreen)},t.prototype.onFullscreenKey=function(t){this.keyboard&&Gj(t)&&(this.toggleFullscreen(),t.preventDefault())},t.ɵfac=function(e){return new(e||t)(mc($j))},t.ɵcmp=ge({type:t,selectors:[["cf2-fullscreen-button"]],hostBindings:function(t,e,n){1&t&&zc("keyup.f",(function(t){return e.onFullscreenKey(t)}),!1,gr)},inputs:{player:"player",fullscreen:"fullscreen",keyboard:"keyboard"},outputs:{fullscreenChanged:"fullscreenChanged"},decls:3,vars:3,consts:[["mat-icon-button","",3,"disabled","click"],[4,"ngIf"]],template:function(t,e){1&t&&(Dc(0,"button",0),zc("click",(function(t){return e.toggleFullscreen()})),hc(1,nF,2,0,"mat-icon",1),hc(2,rF,2,0,"mat-icon",1),Nc()),2&t&&(eu("disabled",!e.canFullscreen),la(1),eu("ngIf",!e.fullscreen),la(1),eu("ngIf",e.fullscreen))},directives:[kk,Xy,ak],styles:[".mat-icon[_ngcontent-%COMP%]{width:38px;height:28px;font-size:38px}"]}),t}(),oF=function(){function t(){this.video=null,this.mutedChanged=new Ol}return t.prototype.onUnmuteClick=function(){this.mutedChanged.emit(!1),this.video.paused&&this.video.play()},t.ɵfac=function(e){return new(e||t)},t.ɵcmp=ge({type:t,selectors:[["cf2-unmute-button"]],inputs:{video:"video"},outputs:{mutedChanged:"mutedChanged"},decls:5,vars:0,consts:[[1,"unmute-overlay",3,"click"],["mat-raised-button","",1,"unmute-button"]],template:function(t,e){1&t&&(Dc(0,"div",0),zc("click",(function(t){return e.onUnmuteClick()})),Dc(1,"button",1),Dc(2,"mat-icon"),iu(3,"volume_off"),Nc(),iu(4," Click to unmute "),Nc(),Nc())},directives:[kk,ak],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.mat-button[_ngcontent-%COMP%], .mat-raised-button[_ngcontent-%COMP%]{font-weight:400;text-align:left}.mat-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .mat-raised-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:-7px;margin-right:10px}.unmute-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:106px;right:0;z-index:1;padding:14px 0 0 14px}.unmute-overlay[_ngcontent-%COMP%]   .unmute-button[_ngcontent-%COMP%]{background-color:#4f4f4f;padding:5px 16px;color:#fff;font-weight:700;box-shadow:0 0 8px 3px rgba(0,0,0,.4)}.unmute-overlay[_ngcontent-%COMP%]   .unmute-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#ff8282}']}),t}(),aF=["player"],sF=["video"],cF=["progressControl"],uF=["trimStartControl"],lF=["trimEndControl"];function dF(t,e){if(1&t){var n=Hc();Dc(0,"div",20),Dc(1,"cf2-volume-control",21),zc("mutedChanged",(function(t){return vn(n),Yc(2).onMutedChanged(t)})),Nc(),Dc(2,"cf2-fullscreen-button",22),zc("fullscreenChanged",(function(t){return vn(n),Yc(2).isFullscreen=t})),Nc(),Nc()}if(2&t){var r=Yc(2),i=pc(3),o=pc(1);la(1),eu("muted",r.muted)("video",i)("keyboard",r.keyboard),la(1),eu("player",o)("keyboard",r.keyboard)}}function fF(t,e){if(1&t){var n=Hc();Dc(0,"div",23),Dc(1,"button",24),zc("click",(function(t){return vn(n),Yc(2).handleTrimCancel()})),iu(2," Cancel "),Nc(),Dc(3,"div",25),Dc(4,"button",26),zc("click",(function(t){return vn(n),Yc(2).handleTrimSave()})),iu(5," Save trim "),Nc(),Nc(),Nc()}if(2&t){var r=Yc(2);la(3),eu("matTooltipDisabled",r.canSaveTrim())("matTooltip",r.getTrimDisabledTooltip()),la(1),eu("disabled",!r.canSaveTrim())}}function hF(t,e){if(1&t){var n=Hc();Dc(0,"div",7),Dc(1,"div",8),Dc(2,"cf2-trim-control",9,10),zc("startTrim",(function(t){return vn(n),Yc().handleStartTrim()}))("stopTrim",(function(t){return vn(n),Yc().handleStopTrimStart()}))("trimChange",(function(t){return vn(n),Yc().handleTrimStartChange(t)})),Nc(),Rc(4,"cf2-seek-progress-control",11,12),Dc(6,"cf2-trim-control",13,14),zc("startTrim",(function(t){return vn(n),Yc().handleStartTrim()}))("stopTrim",(function(t){return vn(n),Yc().handleStopTrimEnd()}))("trimChange",(function(t){return vn(n),Yc().handleTrimEndChange(t)})),Nc(),Nc(),Dc(8,"div",15),Rc(9,"cf2-time-control",16),Dc(10,"cf2-play-button",17),zc("playChanged",(function(t){return vn(n),Yc().handlePlayChanged(t)})),Nc(),hc(11,dF,3,5,"div",18),hc(12,fF,6,3,"div",19),Nc(),Nc()}if(2&t){var r=pc(5),i=Yc(),o=pc(3);bc("visible",i.overlayActive)("hidden",!i.overlayActive),la(2),eu("video",o)("progressEl",r)("disabled",i.trimDisabled)("trimLimit",i.trimStartLimit)("isTrimMode",i.isTrimMode),la(2),eu("video",o)("trimStart",i.trimStart)("trimEnd",i.trimEnd)("isTrimMode",i.isTrimMode),la(2),eu("video",o)("progressEl",r)("disabled",i.trimDisabled)("trimEnd",!0)("trimLimit",i.trimEndLimit)("isTrimMode",i.isTrimMode),la(3),eu("video",o),la(1),eu("autoplay",i.autoplay)("video",o)("keyboard",i.keyboard),la(1),eu("ngIf",!i.isTrimMode),la(1),eu("ngIf",i.isTrimMode)}}function pF(t,e){if(1&t){var n=Hc();Dc(0,"cf2-unmute-button",27),zc("mutedChanged",(function(t){return vn(n),Yc().onMutedChanged(t)})),Nc()}2&t&&(Yc(),eu("video",pc(3)))}var mF=function(){function t(t,e,n,r,i,o){this._analytics=t,this._appOptions=e,this.renderer=n,this.evt=r,this._fscreen=i,this._dialog=o,this.src=null,this.autoplay=!1,this.preload=!0,this.fps=29.97,this.spinner="spin",this.poster=null,this.keyboard=!0,this.muted=!1,this.videoLoaded=new Ol,this.timeChange=new Ol,this.trimMode=new Ol,this.trim=new Ol,this._overlay=null,this.trimDisabled=!1,this.isUploading=!1,this._playing=!1,this.isFullscreen=!1,this.hasAudioTrack=!1,this.isVideoLoaded=!1,this.overlayActive=!1,this.unmuteButtonClicked=!1,this._isTrimMode=!1,this.trimStart=0,this.trimStartLimit=1,this.trimEnd=0,this.trimEndLimit=1,this._isMouseMoving=!1,this._isMouseMovingTimeout=2e3,this._log=Hg.Log.create("VideoPlayerComponent")}return Object.defineProperty(t.prototype,"overlay",{get:function(){return this._overlay},set:function(t){this._overlay=t,this._setOverlay()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"time",{get:function(){return this.getVideoTag().currentTime},set:function(t){var e=this,n=this.getVideoTag();n&&(t||0===t)&&(t>this.trimEnd&&(t=this.trimEnd),t<this.trimStart-1e-5&&(t=this.trimStart),t!==n.currentTime&&(n.currentTime=t),this.lastTime!==n.currentTime&&(window.setTimeout((function(){return e.timeChange.emit(n.currentTime)}),0),this.lastTime=n.currentTime))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},set:function(t){this._playing=t,this._setOverlay()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTrimMode",{get:function(){return this._isTrimMode},set:function(t){this._isTrimMode!==t&&(this.trimMode.emit(t),this._isTrimMode=t,this._setOverlay())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMouseMoving",{get:function(){return this._isMouseMoving},set:function(t){this._isMouseMoving=t,this._setOverlay()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.autoplay&&(this.muted=!0,this.video.nativeElement.muted=!0)},t.prototype.ngAfterViewInit=function(){var t=this;this.events=[{element:this.video.nativeElement,name:"loadstart",callback:function(e){return t.isVideoLoaded=!1},dispose:null},{element:this.video.nativeElement,name:"loadedmetadata",callback:function(){return t._handleVideoLoad()},dispose:null},{element:this.video.nativeElement,name:"error",callback:function(e){return t._log.error("Unhandled Video Error",e)},dispose:null},{element:this.video.nativeElement,name:"contextmenu",callback:function(t){return t.preventDefault()},dispose:null},{element:this.video.nativeElement,name:"timeupdate",callback:function(e){return t.evTimeUpdate(e)},dispose:null},{element:this.player.nativeElement,name:"mousemove",callback:function(){return t._handleMouseMove()},dispose:null}],this.video.nativeElement.onloadeddata=function(){return t._checkAudioTrack()},this.evt.addEvents(this.renderer,this.events)},t.prototype._checkAudioTrack=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return t=this.video.nativeElement,e=this,[4,mv(300).pipe(qg((function(){return t.webkitDecodedFrameCount>0})),j((function(){return t.webkitAudioDecodedByteCount>0})),cv()).toPromise()];case 1:return e.hasAudioTrack=n.sent(),[2]}}))}))},t.prototype.onMutedChanged=function(t){this.unmuteButtonClicked=!0,this.muted=t,this.video.nativeElement.muted=t},t.prototype.handleStartTrim=function(){this.playing&&this.getVideoTag().pause(),this.isTrimMode||(this.isTrimMode=!0,this._analytics.trackEvent("trim","enter trim mode"))},t.prototype.handleTrimStartChange=function(t){this.trimStart=t},t.prototype.handleTrimEndChange=function(t){this.trimEnd=t},t.prototype.handleStopTrimStart=function(){this.trimEndLimit=1-this.trimStart/this.getVideoTag().duration,this.time=this.trimStart,this.getVideoTag().play()},t.prototype.handleStopTrimEnd=function(){this.trimStartLimit=this.trimEnd/this.getVideoTag().duration,this.time=this.trimEnd-1.5,this.getVideoTag().play()},t.prototype.handleTrimCancel=function(){this.isTrimMode=!1,this.trimEndControl.reset(),this.trimStartControl.reset(),this.trimStartLimit=1,this.trimEndLimit=1,this._analytics.trackEvent("trim","cancel trim"),this.time=0,this.getVideoTag().play()},t.prototype.canSaveTrim=function(){return!this.isUploading&&Math.abs(this.trimStart-this.trimEnd)>.01},t.prototype.getTrimDisabledTooltip=function(){return this.isUploading?"Available when Google Drive upload completes":"Trim scissors may not be touching"},t.prototype.handleTrimSave=function(){var t=this;this.playing&&this.getVideoTag().pause(),this.isFullscreen&&this._fscreen.exit(),this._appOptions.values.hasSilencedTrimConfirm?this.saveTrim():this._dialog.open(Aj,{disableClose:!0,width:"440px"}).afterClosed().subscribe((function(e){e.silence&&(t._appOptions.values.hasSilencedTrimConfirm=!0,t._appOptions.save()),e.confirm&&t.saveTrim()}))},t.prototype.saveTrim=function(){this._log.d("starting Trim",this.trimStart,this.trimEnd),this.isTrimMode=!1,this.trim.emit({trimStart:this.trimStart,trimEnd:this.trimEnd}),this._analytics.trackEvent("trim","save trim")},t.prototype.handlePlayChanged=function(t){this.playing=t,t&&this.time+1e-5>=this.trimEnd&&(this.time=this.trimStart)},t.prototype.ngOnDestroy=function(){this.video.nativeElement.onloadeddata=null,this.evt.removeEvents(this.events),this.isTrimMode&&(this.isTrimMode=!1)},t.prototype.load=function(){this.video&&this.video.nativeElement&&this.video.nativeElement.load()},t.prototype.getVideoTag=function(){return this.video&&this.video.nativeElement?this.video.nativeElement:null},t.prototype._handleVideoLoad=function(){this.videoWidth=this.video.nativeElement.videoWidth,this.videoHeight=this.video.nativeElement.videoHeight,this.isVideoLoaded=!0,this.trimStart=0,this.trimEnd=this.video.nativeElement.duration,this.time=0,this.videoLoaded.emit()},t.prototype._handleMouseMove=function(){var t=this;this.isMouseMoving||(this.isMouseMoving=!0),clearTimeout(this._isMouseMovingTimer),this._isMouseMovingTimer=window.setTimeout((function(){t.isMouseMoving=!1}),this._isMouseMovingTimeout)},t.prototype.evTimeUpdate=function(t){var e=this.getVideoTag();e.currentTime>this.trimEnd&&e.pause(),this.time=e.currentTime},t.prototype._setOverlay=function(){this.overlayActive=null===this.overlay?!this.playing||this.isMouseMoving||this.isTrimMode:this.overlay},t.ɵfac=function(e){return new(e||t)(mc(wg),mc(xg),mc(ju),mc(Oj),mc($j),mc(pP))},t.ɵcmp=ge({type:t,selectors:[["cf2-video-player"]],viewQuery:function(t,e){var n;1&t&&(Ul(aF,!0),Ul(sF,!0),ql(cF,!0),ql(uF,!0),ql(lF,!0)),2&t&&(Hl(n=Ql())&&(e.player=n.first),Hl(n=Ql())&&(e.video=n.first),Hl(n=Ql())&&(e.progressControl=n.first),Hl(n=Ql())&&(e.trimStartControl=n.first),Hl(n=Ql())&&(e.trimEndControl=n.first))},inputs:{src:"src",autoplay:"autoplay",preload:"preload",fps:"fps",spinner:"spinner",poster:"poster",keyboard:"keyboard",muted:"muted",overlay:"overlay",time:"time",trimDisabled:"trimDisabled",isUploading:"isUploading"},outputs:{videoLoaded:"videoLoaded",timeChange:"timeChange",trimMode:"trimMode",trim:"trim"},decls:8,vars:9,consts:[[1,"videoplayer"],["player",""],[1,"video",3,"preload"],["video",""],["class","controls",3,"visible","hidden",4,"ngIf"],[3,"video","mutedChanged",4,"ngIf"],[3,"spinner","video"],[1,"controls"],[1,"progress"],[3,"video","progressEl","disabled","trimLimit","isTrimMode","startTrim","stopTrim","trimChange"],["trimStartControl",""],[1,"seek-progress-control",3,"video","trimStart","trimEnd","isTrimMode"],["progressControl",""],[3,"video","progressEl","disabled","trimEnd","trimLimit","isTrimMode","startTrim","stopTrim","trimChange"],["trimEndControl",""],[1,"menu"],[1,"time-display",3,"video"],[1,"play-button",3,"autoplay","video","keyboard","playChanged"],["class","sub-menu video-controls",4,"ngIf"],["class","sub-menu",4,"ngIf"],[1,"sub-menu","video-controls"],[3,"muted","video","keyboard","mutedChanged"],[1,"fullscreen-button",3,"player","keyboard","fullscreenChanged"],[1,"sub-menu"],["mat-button","",3,"click"],["matTooltipShowDelay","300",3,"matTooltipDisabled","matTooltip"],["mat-flat-button","","color","accent",1,"save-trim-button",3,"disabled","click"],[3,"video","mutedChanged"]],template:function(t,e){if(1&t&&(Dc(0,"div",0,1),Dc(2,"video",2,3),iu(4," This browser does not support HTML5 video. "),Nc(),hc(5,hF,13,23,"div",4),hc(6,pF,1,1,"cf2-unmute-button",5),Rc(7,"cf2-video-spinner",6),Nc()),2&t){var n=pc(3);bc("show-mouse",e.overlayActive)("hide-mouse",!e.overlayActive),la(2),eu("preload",e.preload?"auto":"metadata"),dc("src",e.src?e.src:null,po)("poster",e.poster?e.poster:null,po),la(3),eu("ngIf",e.isVideoLoaded),la(1),eu("ngIf",e.isVideoLoaded&&e.autoplay&&e.hasAudioTrack&&!e.unmuteButtonClicked),la(1),eu("spinner",e.spinner)("video",n)}},directives:[Xy,Dj,Bj,zj,Wj,Yj,eF,iF,kk,p$,oF],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}.videoplayer[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.video[_ngcontent-%COMP%]{display:block;width:100%;height:100%;z-index:0}.controls[_ngcontent-%COMP%]{color:#fff;position:absolute;left:0;bottom:0;width:100%;padding:0 16px;z-index:1;background:rgba(79,79,79,.86);font:700 1.5rem/2.5rem Helvetica,sans-serif;letter-spacing:0}.controls[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr auto;align-items:center;height:36px;margin-top:24px}.controls[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .seek-progress-control[_ngcontent-%COMP%]{padding:0 4px}.controls[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto 1fr;align-items:center;height:48px;margin-top:10px}.controls[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{order:2}.controls[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]{order:1}.controls[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .sub-menu[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;justify-items:end;order:3}.controls[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .sub-menu.video-controls[_ngcontent-%COMP%]{margin-right:26px}.controls[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .sub-menu[_ngcontent-%COMP%]   .save-trim-button[disabled][_ngcontent-%COMP%]{background-color:#a4a4a4;opacity:.5}@media screen and (min-width:530px){.controls[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{grid-template-columns:1fr auto 1fr}.controls[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{order:1}.controls[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]{order:2;justify-self:center}}.visible[_ngcontent-%COMP%]{visibility:visible;opacity:1;transition:opacity .5s linear}.hidden[_ngcontent-%COMP%]{visibility:hidden;opacity:0;transition:visibility 0s .5s,opacity .5s linear}.show-mouse[_ngcontent-%COMP%]{cursor:default}.hide-mouse[_ngcontent-%COMP%]{cursor:none}']}),t}(),gF=["videoPlayer"],vF=["announcementBar"];function yF(t,e){if(1&t){var n=Hc();Dc(0,"cf2-details-drawer-button",9),zc("toggleDetailsDrawer",(function(t){return vn(n),Yc(2).toggleDetailsDrawer()})),Nc()}if(2&t){var r=Yc(2);eu("inside",!0)("openedDetailsDrawer",r.openedDetailsDrawer)}}function bF(t,e){if(1&t){var n=Hc();Dc(0,"cf2-details-drawer-button",10),zc("toggleDetailsDrawer",(function(t){return vn(n),Yc(2).toggleDetailsDrawer()})),Nc()}2&t&&eu("openedDetailsDrawer",Yc(2).openedDetailsDrawer)}function _F(t,e){}function wF(t,e){1&t&&hc(0,_F,0,0,"ng-template",11),2&t&&(Yc(2),eu("ngTemplateOutlet",pc(5)))}function SF(t,e){1&t&&Rc(0,"cf2-exports-drawer")}function EF(t,e){}function xF(t,e){1&t&&hc(0,EF,0,0,"ng-template",11),2&t&&(Yc(2),eu("ngTemplateOutlet",pc(5)))}function CF(t,e){if(1&t){var n=Hc();Fc(0),Dc(1,"mat-drawer-container"),Dc(2,"mat-drawer",4),zc("openedChange",(function(t){return vn(n),Yc().openedDetailsDrawer=t})),hc(3,yF,1,2,"cf2-details-drawer-button",5),Rc(4,"cf2-details-drawer",6),Nc(),Dc(5,"mat-drawer-content"),Rc(6,"cf2-plan-change-announcement-bar",null,7),Rc(8,"cf2-topnav"),hc(9,bF,1,1,"cf2-details-drawer-button",8),hc(10,wF,1,1,void 0,0),Nc(),Nc(),hc(11,SF,1,0,"cf2-exports-drawer",0),hc(12,xF,1,1,void 0,0),Bc()}if(2&t){var r=Yc();la(2),eu("mode",r.isSmallScreen?"over":"side")("opened",r.openedDetailsDrawer),la(1),eu("ngIf",r.isSmallScreen),la(1),eu("file",r.file)("expandDownloadPanel",r.expandDownloadPanel),la(5),eu("ngIf",r.isSmallScreen),la(1),eu("ngIf",r.isSmallScreen),la(1),eu("ngIf",!r.trimMode),la(1),eu("ngIf",!r.isSmallScreen)}}function kF(t,e){1&t&&iu(0),2&t&&su("",e.currentStepNumber," of ",e.totalSteps,"\n")}function TF(t,e){if(1&t){var n=Hc();Dc(0,"div",12),Dc(1,"div",13),Dc(2,"cf2-video-player",14,15),zc("trimMode",(function(t){return vn(n),Yc().handleTrimMode(t)}))("trim",(function(t){return vn(n),Yc().handleTrim(t)})),Nc(),Nc(),Nc()}if(2&t){var r=Yc();bc("active-backdrop",r.trimMode)("inset-overlay",r.isSmallScreen)("bar-active",r.announcementBar&&r.announcementBar.isActive),la(2),eu("src",r.videoUrl)("autoplay",r.autoplay)("overlay",r.overlay)("trimDisabled",!r.fileDbClient.isSyncEnabled()||r.isNonVariantFreePlan)("isUploading",r.isUploading)}}var PF=[{step:{title:"Trim your video ✂️",content:"Cut any unnecessary footage at the start and end of your video\n          to keep your audience's attention!",selector:".controls",orientation:RN.Top},analyticsMsg:"trim dismiss"},{step:{title:"Title your video ✏️",content:"Click your video's title to give it a new name. This helps you stay\n          organized and lets your viewers know what your video is about.",selector:".video-title",orientation:RN.Bottom},analyticsMsg:"title dismiss"},{step:{title:"Copy the Google Drive link 🔗",content:"Click the \"Copy shareable link\" button and then paste it wherever you'd like.\n          We'll automatically handle the sharing settings so anyone can view your video.",selector:".product-tour-drive",orientation:RN.Left},analyticsMsg:"copy link dismiss"},{step:{title:"Share your video 💌",content:"Quickly get your video in front of the right audience with these additional\n          sharing options.",selector:".product-tour-share",orientation:RN.Left},analyticsMsg:"share dismiss"},{step:{title:"Download or export your video 📥",content:"If you need your recording in a different format, this is the place to go.",selector:".product-tour-download",orientation:RN.Top},analyticsMsg:"download dismiss"},{step:{title:"Make movie magic in the Editor ✨",content:"Turn your screencasts into polished videos by cropping, adding text,\n        and merging clips in our super simple editor.",selector:"#openEditorButton",orientation:RN.Bottom},analyticsMsg:"editor dismiss"}],IF={panelClass:["cf2-success-snackbar"],duration:4e3,verticalPosition:"bottom"},AF=function(){function t(t,e,n,r,i,o,a,s,c,l,d,f,h,p,m,g){var v=this;this._analytics=t,this.appOptions=e,this.fileDbClient=n,this._$stateParams=r,this._$state=i,this._$location=o,this.upgradeHelper=a,this._breakpointObserver=s,this._domSanitizer=c,this._snackbar=l,this._errorSnackbar=d,this._guidedTourService=f,this._dialog=h,this._uploader=p,this._trim=m,this._inAppTab=g,this._guidedTourConfig={tourId:"video-details-page-tour",preventBackdropFromAdvancing:!0,skipCallback:function(t){v._googleTrack(PF[t].analyticsMsg),v.overlay=null},completeCallback:function(){return v._finishTour()},steps:PF.map((function(t){return t.step}))},this._log=Hg.Log.create("VideoDetails"),this._subscription=new u,this._isTourStarted=!1,this.openedDetailsDrawer=!1,this.expandDownloadPanel=!1,this.autoplay=!1,this.overlay=null,this.trimMode=!1,this.progressPosition=LN.TopOfTourBlock}return t.prototype.ngOnInit=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,this._checkIfFileExists()];case 1:return t.sent(),[4,this.appOptions.loadedPromise];case 2:return t.sent(),this.autoplay=this.appOptions.values.autoPlay&&this.appOptions.values.hasVisitedNewVDP,this._launchProductTour(),this._addSubscriptions(),[2]}}))}))},t.prototype.ngOnDestroy=function(){this._subscription.unsubscribe(),this._dialog.closeAll()},t.prototype._addSubscriptions=function(){this._addBreakPointSub(),this._addLimitBannerSub(),this._addFileSubs(),this._addTrimSub()},t.prototype._addBreakPointSub=function(){var t=this;this._subscription.add(this._breakpointObserver.observe("(max-width: 959px)").subscribe((function(e){return t._handleBreakpointChange(e.matches)})))},t.prototype._addFileSubs=function(){var t=this,e=this.fileDbClient.onFileDescriptor(this._$stateParams.id).pipe(qg((function(t){return!!t})));this._subscription.add(e.subscribe((function(e){return t.file=e}))),this._subscription.add(this._getIsUploadingSub(e)),this._subscription.add(this._getVideoUrlSub(e))},t.prototype._getIsUploadingSub=function(t){var e=this;return t.pipe(qg((function(t){return e.fileDbClient.isSyncEnabled()&&t&&!t.isSynced})),yv((function(t){return e._uploader.onIsQueuedOrActive(t.id,"drive")}))).subscribe((function(t){return e.isUploading=t}))},t.prototype._getVideoUrlSub=function(t){var e=this;return t.pipe(cv()).subscribe((function(t){return e._setUrlFromFile(t)}))},t.prototype._addTrimSub=function(){var t=this;this._subscription.add(this._trim.onIsProcessing(this._$stateParams.id).subscribe((function(e){e&&t._openTrimProgressDialog()})))},t.prototype._openTrimProgressDialog=function(){var t=this;this._trimProgressDialog||(this._trimProgressDialog=this._dialog.open(JN,{disableClose:!0,data:{fileId:this._$stateParams.id},width:"450px"}),this._trimProgressDialog.afterClosed().subscribe((function(e){return t._handleTrimResult(e)})))},t.prototype._handleTrimResult=function(t){var e=this;this._trimProgressDialog=null,t?(this._setUrlFromFile(this.file),this._videoPlayer.videoLoaded.pipe(cv()).subscribe((function(){return e._snackbar.open("Success! Your video has been trimmed.",null,IF)}))):this._videoPlayer.isTrimMode=!0},t.prototype._addLimitBannerSub=function(){var t=this;this._subscription.add(hE(this.upgradeHelper.onHasDefaultVariant(),this.upgradeHelper.onIsPaid()).subscribe((function(e){var n=Object(i.__read)(e,2);t.isNonVariantFreePlan=n[0]&&!n[1]})))},t.prototype._handleBreakpointChange=function(t){var e=void 0!==t?t:this._breakpointObserver.isMatched("(max-width: 959px)");this.isSmallScreen=!this._isTourStarted&&e,this.openedDetailsDrawer=!!this._isTourStarted||!e},t.prototype.toggleDetailsDrawer=function(){this.openedDetailsDrawer=!this.openedDetailsDrawer},t.prototype.handleTrimMode=function(t){this.trimMode=t},t.prototype.handleTrim=function(t){this._trim.startTrimTask({fileId:this.file.id,trimStart:t.trimStart,trimEnd:t.trimEnd})},t.prototype._checkIfFileExists=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.fileDbClient.onFileDescriptor(this._$stateParams.id).pipe(cv()).toPromise()];case 1:if(!e.sent())throw new Error("video not found");return[3,3];case 2:return t=e.sent(),this._errorSnackbar.open({message:"Oops! We couldn't find the video you were looking for. Please try again.",logger:this._log,errorMsg:t}),this._$state.go("files"),[3,3];case 3:return[2]}}))}))},t.prototype._setUrlFromFile=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.getUrl()];case 1:return e=n.sent(),this.videoUrl=this._domSanitizer.bypassSecurityTrustUrl(e),[2]}}))}))},t.prototype._launchProductTour=function(){var t=this;this.appOptions.values.hasVisitedNewVDP?this._timeLimitReached():(this.appOptions.values.hasVisitedNewVDP=!0,this.appOptions.save(),this.overlay=!0,this.expandDownloadPanel=!0,this._isTourStarted=!0,this._handleBreakpointChange(),this._dialog.open(VN,{disableClose:!0,maxWidth:"415px"}).afterClosed().subscribe((function(e){e?(t._googleTrack("show me around"),t._guidedTourService.startTour(t._guidedTourConfig)):(t._googleTrack("skip tour"),t._isTourStarted=!1,t._handleBreakpointChange())})))},t.prototype._finishTour=function(){this._googleTrack("done"),this._isTourStarted=!1,this._handleBreakpointChange(),this.overlay=null,this._dialog.open(qN,{disableClose:!0,maxWidth:"400px"})},t.prototype._timeLimitReached=function(){var t=this;this._$location.url().includes("autostopped")&&this._dialog.open(HN,{disableClose:!0,maxWidth:"420px"}).afterClosed().subscribe((function(e){e&&t._openExternal("https://www.screencastify.com/buy?utm_source=app&utm_medium=vdp_limit_hit_dialogue")}))},t.prototype._googleTrack=function(t){this._analytics.trackEvent("tour",t,"click")},t.prototype._openExternal=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._inAppTab.create(t)];case 1:return e.sent(),[2]}}))}))},t.ɵfac=function(e){return new(e||t)(mc(wg),mc(xg),mc(Ig),mc(Fg),mc(Lg),mc(Bg),mc(LE),mc(RT),mc(zb),mc(ZT),mc(eR),mc(jN),mc(pP),mc(nR),mc(YN),mc(UN))},t.ɵcmp=ge({type:t,selectors:[["cf2-video-details"]],viewQuery:function(t,e){var n;1&t&&(ql(gF,!0),ql(vF,!0)),2&t&&(Hl(n=Ql())&&(e._videoPlayer=n.first),Hl(n=Ql())&&(e.announcementBar=n.first))},decls:6,vars:3,consts:[[4,"ngIf"],["tourStepWidth","400","skipText","Dismiss",1,"details-page-tour",3,"progressIndicatorLocation","progressIndicator"],["tourProgress",""],["videoPlayerOverlayRef",""],["position","end",3,"mode","opened","openedChange"],[3,"inside","openedDetailsDrawer","toggleDetailsDrawer",4,"ngIf"],[3,"file","expandDownloadPanel"],["announcementBar",""],[3,"openedDetailsDrawer","toggleDetailsDrawer",4,"ngIf"],[3,"inside","openedDetailsDrawer","toggleDetailsDrawer"],[3,"openedDetailsDrawer","toggleDetailsDrawer"],[3,"ngTemplateOutlet"],[1,"video-player-overlay"],[1,"video-player-wrapper"],[1,"video-player",3,"src","autoplay","overlay","trimDisabled","isUploading","trimMode","trim"],["videoPlayer",""]],template:function(t,e){if(1&t&&(hc(0,CF,13,9,"ng-container",0),Rc(1,"ngx-guided-tour",1),hc(2,kF,1,2,"ng-template",null,2,Jl),hc(4,TF,4,8,"ng-template",null,3,Jl)),2&t){var n=pc(3);eu("ngIf",e.file),la(1),eu("progressIndicatorLocation",e.progressPosition)("progressIndicator",n)}},directives:[Xy,FN,rA,nA,LL,eA,tj,pj,vj,ab,Ij,mF],styles:["[_nghost-%COMP%]{position:relative;overflow:hidden;height:100%}.preview[_ngcontent-%COMP%]{width:100%;height:100%}.mat-drawer[_ngcontent-%COMP%]{overflow-y:unset;width:320px}.mat-drawer-container[_ngcontent-%COMP%]{height:100%}.mat-drawer-content[_ngcontent-%COMP%]{overflow-y:hidden;background:rgba(0,0,0,.4);display:grid;grid-template-rows:auto auto minmax(0,1fr)}.video-player-overlay[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;padding:64px 320px 0 0;pointer-events:none;z-index:10}.video-player-overlay.inset-overlay[_ngcontent-%COMP%]{padding-right:0}.video-player-overlay.bar-active[_ngcontent-%COMP%]{padding-top:99px}.video-player-overlay.active-backdrop[_ngcontent-%COMP%]{pointer-events:auto}.video-player-overlay.active-backdrop[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]::after{opacity:1}.video-player-overlay[_ngcontent-%COMP%]   .video-player-wrapper[_ngcontent-%COMP%]{display:grid;align-content:center;grid-template-rows:minmax(0,auto);width:100%;height:100%;pointer-events:auto}.video-player-overlay[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]{position:relative}.video-player-overlay[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]::after{display:block;position:absolute;width:100%;height:100%;top:0;content:'';pointer-events:none;box-shadow:0 0 0 10000px rgba(0,0,0,.72),0 2px 12px rgba(0,0,0,.85),8px 0 36px 12px rgba(0,0,0,.68),0 0 72px 12px rgba(0,0,0,.4);opacity:0;transition:opacity .3s linear}"]}),t}(),OF=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[vb,CO,PM]]}),t}(),$F=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[vb,dE,PM,IM]]}),t}(),MF=function(){function t(t,e,n){this.templateRef=t,this.viewContainer=e,this._userAccount=n,this.cf2RequiresRole=null,this._subscription=new u,this._hasView=!1}return t.prototype.ngOnInit=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(i.__generator)(this,(function(e){return this._subscription.add(this._userAccount.onAccount().subscribe((function(e){return t._checkRole(e)}))),[2]}))}))},t.prototype._checkRole=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(n){return e=null,t.user&&t.user.survey&&(e=t.user.survey.user_type),e===this.cf2RequiresRole?this._createView():this._clearView(),[2]}))}))},t.prototype._createView=function(){this._hasView||(this.viewContainer.createEmbeddedView(this.templateRef),this._hasView=!0)},t.prototype._clearView=function(){this._hasView&&(this.viewContainer.clear(),this._hasView=!1)},t.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},t.ɵfac=function(e){return new(e||t)(mc(il),mc(al),mc(NE))},t.ɵdir=Se({type:t,selectors:[["","cf2RequiresRole",""]],inputs:{cf2RequiresRole:"cf2RequiresRole"}}),t}(),DF=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[vb,wP,Pk]]}),t}(),NF=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[vb]]}),t}(),RF=["sidenav"];function LF(t,e){1&t&&Rc(0,"cf2-sidenav-trigger",11)}function jF(t,e){if(1&t&&(Dc(0,"span"),iu(1),Nc()),2&t){var n=Yc();la(1),au(" ",n.account.user.email," ")}}function FF(t,e){1&t&&(Dc(0,"span"),iu(1," Not signed in"),Nc())}function BF(t,e){if(1&t){var n=Hc();Dc(0,"button",8),zc("click",(function(t){return vn(n),Yc().userAccount.signIn()})),Dc(1,"mat-icon",9),iu(2,"account_circle"),Nc(),iu(3," Sign In "),Nc()}}function VF(t,e){if(1&t){var n=Hc();Dc(0,"button",8),zc("click",(function(t){return vn(n),Yc().openExternal("https://www.screencastify.com/user")})),Dc(1,"mat-icon",9),iu(2,"star"),Nc(),iu(3," My Subscription "),Nc()}}function HF(t,e){if(1&t){var n=Hc();Dc(0,"button",8),zc("click",(function(t){return vn(n),Yc().upgrade()})),Rc(1,"mat-icon",12),iu(2," Go Unlimited! "),Nc()}}function UF(t,e){if(1&t){var n=Hc();Dc(0,"button",8),zc("click",(function(t){return vn(n),Yc().openExternal("https://www.screencastify.com/education/resources")})),Dc(1,"mat-icon",9),iu(2,"school"),Nc(),iu(3," Classroom Resources "),Nc()}}function qF(t,e){if(1&t){var n=Hc();Dc(0,"button",8),zc("click",(function(t){return vn(n),Yc().userAccount.signIn(!0)})),Dc(1,"mat-icon",9),iu(2,"swap_horiz"),Nc(),iu(3," Switch Account "),Nc()}}function zF(t,e){if(1&t){var n=Hc();Dc(0,"button",8),zc("click",(function(t){return vn(n),Yc().signOut()})),Rc(1,"mat-icon",13),iu(2," Sign Out "),Nc()}}var WF=function(t){return{"popup-mode":t}},GF=["*"],KF=function(){function t(t,e,n,r,i,o,a){this._analytics=t,this._$state=e,this._$stateParams=n,this._sidenavService=r,this._inAppTab=i,this._upgradeHelper=o,this.userAccount=a,this.popupMode=!1,this._subscription=new u}return t.prototype.ngOnInit=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(i.__generator)(this,(function(e){return this._sidenavService.setSidenav(this._sidenav),this._subscription.add(this.userAccount.onAccount().subscribe((function(e){t._setAccount(e)}))),[2]}))}))},t.prototype._setAccount=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return t.user&&(this.account=t,this.isPaid=t.license.isPaid),[2]}))}))},t.prototype.open=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return this.popupMode?[4,this._inAppTab.create("#"+t)]:[3,2];case 1:return e.sent(),window.close(),[3,3];case 2:this._$state.go(t),this._sidenav.close(),this._$stateParams.id&&this._analytics.trackEvent("video_details","left nav -> My Recordings","click"),e.label=3;case 3:return[2]}}))}))},t.prototype.openExternal=function(t){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._inAppTab.create(t)];case 1:return e.sent(),this.popupMode||this._sidenav.close(),[2]}}))}))},t.prototype.upgrade=function(){this._upgradeHelper.openBuy("Menu"),this.popupMode||this._sidenav.close()},t.prototype.signOut=function(){this.userAccount.signOut(),this.account=null,this.popupMode&&window.close()},t.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},t.ɵfac=function(e){return new(e||t)(mc(wg),mc(Lg),mc(Fg),mc(sj),mc(UN),mc(LE),mc(NE))},t.ɵcmp=ge({type:t,selectors:[["cf2-sidenav"]],viewQuery:function(t,e){var n;1&t&&Ul(RF,!0),2&t&&Hl(n=Ql())&&(e._sidenav=n.first)},inputs:{popupMode:"popupMode"},ngContentSelectors:GF,decls:34,vars:13,consts:[[3,"ngClass"],["mode","over"],["sidenav",""],["color","primary"],["popupMode","true",4,"ngIf"],[1,"user-email"],[4,"ngIf"],["mat-list-item","",3,"click",4,"ngIf"],["mat-list-item","",3,"click"],["matListIcon",""],["mat-list-item","",3,"click",4,"cf2RequiresRole"],["popupMode","true"],["svgIcon","rocket",1,"rocket"],["svgIcon","logout_variant",1,"logoutVariant"]],template:function(t,e){1&t&&(Zc(),Dc(0,"mat-sidenav-container",0),Dc(1,"mat-sidenav",1,2),Dc(3,"div"),Dc(4,"mat-toolbar",3),hc(5,LF,1,0,"cf2-sidenav-trigger",4),Dc(6,"div",5),hc(7,jF,2,1,"span",6),hc(8,FF,2,0,"span",6),Nc(),Nc(),Dc(9,"mat-list"),hc(10,BF,4,0,"button",7),Dc(11,"button",8),zc("click",(function(t){return e.open("files")})),Dc(12,"mat-icon",9),iu(13,"video_library"),Nc(),iu(14," My Recordings "),Nc(),hc(15,VF,4,0,"button",7),hc(16,HF,3,0,"button",7),Dc(17,"button",8),zc("click",(function(t){return e.open("options")})),Dc(18,"mat-icon",9),iu(19,"settings"),Nc(),iu(20," Options "),Nc(),Dc(21,"button",8),zc("click",(function(t){return e.openExternal("https://edit.screencastify.com/")})),Dc(22,"mat-icon",9),iu(23,"movie_filter"),Nc(),iu(24," Editor "),Nc(),hc(25,UF,4,0,"button",10),Dc(26,"button",8),zc("click",(function(t){return e.open("support")})),Dc(27,"mat-icon",9),iu(28,"help"),Nc(),iu(29," Help "),Nc(),hc(30,qF,4,0,"button",7),hc(31,zF,3,0,"button",7),Nc(),Nc(),Nc(),Dc(32,"mat-sidenav-content"),tu(33),Nc(),Nc()),2&t&&(eu("ngClass",Cl(11,WF,e.popupMode))("@.disabled",e.popupMode),la(5),eu("ngIf",e.popupMode),la(2),eu("ngIf",e.account&&e.account.user),la(1),eu("ngIf",!e.account||!e.account.user),la(2),eu("ngIf",!e.account||!e.account.user),la(5),eu("ngIf",e.account&&e.account.user&&e.isPaid),la(1),eu("ngIf",e.account&&e.account.user&&!e.isPaid),la(9),eu("cf2RequiresRole","educator"),la(5),eu("ngIf",e.account&&e.account.user),la(1),eu("ngIf",e.account&&e.account.user))},directives:[aA,Nv,oA,o$,Xy,KO,XO,ak,YO,MF,iA,cj],styles:['@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:200;src:local("Source Sans Pro ExtraLight"),local("SourceSansPro-ExtraLight"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLight.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:200;src:local("Source Sans Pro ExtraLight Italic"),local("SourceSansPro-ExtraLightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-ExtraLightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:300;src:local("Source Sans Pro Light"),local("SourceSansPro-Light"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Light.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:300;src:local("Source Sans Pro Light Italic"),local("SourceSansPro-LightItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-LightItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:400;src:local("Source Sans Pro Regular"),local("SourceSansPro-Regular"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Regular.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:400;src:local("Source Sans Pro Italic"),local("SourceSansPro-Italic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Italic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:500;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:500;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:600;src:local("Source Sans Pro SemiBold"),local("SourceSansPro-SemiBold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:600;src:local("Source Sans Pro SemiBold Italic"),local("SourceSansPro-SemiBoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-SemiBoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:700;src:local("Source Sans Pro Bold"),local("SourceSansPro-Bold"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Bold.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:700;src:local("Source Sans Pro Bold Italic"),local("SourceSansPro-BoldItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BoldItalic.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:normal;font-weight:900;src:local("Source Sans Pro Black"),local("SourceSansPro-Black"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-Black.woff2) format("woff2")}@font-face{font-family:\'Source Sans Pro\';font-style:italic;font-weight:900;src:local("Source Sans Pro #000 Italic"),local("SourceSansPro-BlackItalic"),url(/components/castifyExt/fonts/source-sans-pro/SourceSansPro-BlackItalic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:300;src:local("Helvetica Light"),local("helvetica-light"),url(/components/castifyExt/fonts/helvetica/helvetica-light.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:400;src:local("Helvetica Regular"),local("helvetica-regular"),url(/components/castifyExt/fonts/helvetica/helvetica-regular.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:italic;font-weight:300;src:local("Helvetica Light Italic"),local("helvetica-light-italic"),url(/components/castifyExt/fonts/helvetica/helvetica-light-italic.woff2) format("woff2")}@font-face{font-family:Helvetica;font-style:normal;font-weight:700;src:local("Helvetica Bold"),local("helvetica-bold"),url(/components/castifyExt/fonts/helvetica/helvetica-bold.woff2) format("woff2")}[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .mat-sidenav-container[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .mat-sidenav-container[_ngcontent-%COMP%]   .mat-sidenav[_ngcontent-%COMP%]{width:320px}[_nghost-%COMP%]   .mat-sidenav-content[_ngcontent-%COMP%]{overflow-y:hidden;background:rgba(0,0,0,.4)}[_nghost-%COMP%]   .user-email[_ngcontent-%COMP%]{color:#fff;font-size:2rem;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{background-color:transparent;border:0;height:56px;font-size:2rem}[_nghost-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}[_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:21px}[_nghost-%COMP%]   .mat-icon.rocket[_ngcontent-%COMP%]{width:36px;height:36px;margin-right:16.5px;padding:3px}[_nghost-%COMP%]   .mat-icon.logoutVariant[_ngcontent-%COMP%]{width:32px;height:32px;padding:6px}[_nghost-%COMP%]   .mat-sidenav-container.popup-mode[_ngcontent-%COMP%]   .mat-sidenav[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .mat-sidenav-container.popup-mode[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{padding-left:3px;height:50px}[_nghost-%COMP%]   .mat-sidenav-container.popup-mode[_ngcontent-%COMP%]   .mat-sidenav-content[_ngcontent-%COMP%]{background:#fff}[_nghost-%COMP%]   .mat-sidenav-container.popup-mode[_ngcontent-%COMP%]   .user-email[_ngcontent-%COMP%]{font-size:1.6rem}[_nghost-%COMP%]   .mat-sidenav-container.popup-mode[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{height:50px;font-size:1.6rem}']}),t}(),QF=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[vb,DF,PM]]}),t}(),YF=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[vb,PM]]}),t}(),XF=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[vb,YF,PM,OF,DF,NF,QF]]}),t}(),ZF=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},providers:[$j,Oj],imports:[[vb,PM,NF,CO]]}),t}(),JF=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[vb,PM]]}),t}(),tB=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},imports:[[vb,wP]]}),t}(),eB=function(){function t(){}return t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)},providers:[jN],imports:[[vb,dE,$F,OF,PM,UC,XF,ZF,CO,AM,DF,IM,BN,tB,JF,QF]]}),t}(),nB=function(){function t(t){this.upgrade=t}return t.prototype.ngDoBootstrap=function(){this.upgrade.bootstrap(document.documentElement,["castifyExt.App"],{strictDi:!1})},t.ɵmod=_e({type:t}),t.ɵinj=pt({factory:function(e){return new(e||t)(Jt(I_))},imports:[[lE,Qb,I_,dE,AM,UM,cN,uN,lN,eB,$F,tR,tB,JF,QF]]}),t}();qd.module("cf2.app",[]).factory("cf2ConnectedAppsService",C_(gL)).factory("cf2UploaderService",C_(nR)).factory("cf2InAppTabService",C_(UN)).factory("cf2DownloadHelperService",C_(dL)).factory("cf2EditJobSchedulerClientService",C_(KN)).directive("cf2VideoDetails",E_({component:AF})).directive("cf2LimitBanner",E_({component:wk})).directive("cf2ExportsDrawer",E_({component:Ij})).directive("cf2PlanChangeAnnouncementBar",E_({component:tj})).directive("cf2OptInDialog",E_({component:ZL})).directive("cf2Sidenav",E_({component:KF})).directive("cf2SidenavTrigger",E_({component:cj})),navigator.serviceWorker.register("/drive-service-worker.js",{scope:"/ng/app"}).then((function(t){return t.update()})),gg(),mg.production&&function(){if(ji)throw new Error("Cannot enable prod mode after platform setup.");Li=!1}(),Gb().bootstrapModule(nB).catch((function(t){return console.error(t)}))},zgdO:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("Iwrg"),i=Object(r.f)(),o="Sentry Logger ",a=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(r.c)((function(){i.console.log(o+"[Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(r.c)((function(){i.console.warn(o+"[Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(r.c)((function(){i.console.error(o+"[Error]: "+t.join(" "))}))},t}();i.__SENTRY__=i.__SENTRY__||{};var s=i.__SENTRY__.logger||(i.__SENTRY__.logger=new a)},zhNR:function(t,e,n){n("h4Px"),t.exports="ngAnimate"},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zobr:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("1hPV");e.every=function(t,e){return function(n){return n.lift(new o(t,e,n))}};var o=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg,this.source))},t}(),a=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(i.Subscriber)},zsIS:function(t,e,n){n("3tCo"),n("9SiK"),n("uuIn"),t.exports=n("Q/JU").f("iterator")}},[[0,0]]]);