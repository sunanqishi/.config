!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=17)}({0:function(e,t){function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}angular.module("castifyExt.deployConfig",[]).provider("deployConfig",(function(){let e=n({analyticsId:"UA-23874345-14",apiUrl:"https://api.screencastify.com/api",clientId:"242262968495-o42n5tqeo08dsa75p3j4dk1k61t05ln3.apps.googleusercontent.com",youtubeClientId:"242262968495-o42n5tqeo08dsa75p3j4dk1k61t05ln3.apps.googleusercontent.com",scopes:chrome.runtime.getManifest().oauth2.scopes,redirectUri:"https://www.screencastify.com/oauth2postback",editorOpenUri:"https://edit.screencastify.com/open/drive",welcomePageUri:"https://www.screencastify.com/welcome",notificationUri:"https://us-central1-castify-notifications-prod.cloudfunctions.net/api/userNotification/",exportServiceURL:"https://ingress.screencastify.com/api/exportService2",editServiceURL:"https://ingress.screencastify.com/api/editService",youtubeUpload2URL:"https://ingress.screencastify.com/api/youtubeUploadService/upload",env:"prod"},{enableInlinePopupSupport:!1});return n({},e,{$get:function(){return e}})}))},1:function(e,t){angular.module("w69b.promiseTool",[]).factory("promiseTool",["$q","$timeout",function(e,t){var r={wrapChromeError:function(t,r){return function(){var n=Array.prototype.slice.call(arguments,0),o=e.defer();return n.push((function(e){chrome.runtime.lastError?o.reject(chrome.runtime.lastError):o.resolve(e)})),t.apply(r,n),o.promise}},wrapCallbacks:function(t,r){return function(){var n=Array.prototype.slice.call(arguments,0),o=e.defer();return n.push(o.resolve.bind(o)),n.push(o.reject.bind(o)),t.apply(r,n),o.promise}},serializer:function(){var t=null,r=function(r){var n=e.defer();return(t||e.when()).then((function(){(r.call()||e.when()).then(e=>n.resolve(e),e=>n.reject(e))})),(t=n.promise.catch(()=>null)).then((function(){t=null})),n.promise};return r.wrap=function(e){return function(){return r(e.bind(this,...arguments))}},r},withTimeout:function(r,n,o){o||(o=angular.noop);var i=e.defer(),c=t((function(){var e=o();angular.isDefined(e)?i.resolve(e):i.reject("timeout"),i=null}),n);function u(){t.cancel(c),c=null}return r().then((function(){u(),i&&i.resolve.apply(i,arguments)}),(function(){u(),i&&i.reject.apply(i,arguments)})),i.promise}};return r}])},17:function(e,t,r){"use strict";r.r(t);r(0),r(1),r(3),r(2);angular.module("castifyExt.MicApp",["castifyExt.mic.ui","ngMaterial"]),angular.module("castifyExt.mic.ui",["w69b.webrtc"]).controller("MicStreamCtrl",["$scope","webrtc","$window","$log",function(e,t,r,n){function o(){t.hasCamera().then((function(o){t.getUserMedia({audio:!0,video:o}).then((function(t){e.state="success";var n=!!t.getVideoTracks().length;t.getTracks().forEach((function(e){e.stop()})),r.clGotStream&&(r.clGotStream(),r.close()),!n&&o&&(e.state="error")}),(function(t){n.info(t),e.state="error"}))}))}e.state="init",e.record=o,o()}])},2:function(e,t){angular.module("w69b.spawn",[]).factory("spawn",["$q",function(e){function t(t,r){var n=r?Promise.reject.bind(Promise):e.reject.bind(e),o=r?Promise.resolve.bind(Promise):e.when.bind(e);function i(e,t){var r;try{r=e(t)}catch(e){return n(e)}return r.done?o(r.value):o(r.value).then(u,a)}var c=t(),u=i.bind(null,c.next.bind(c)),a=i.bind(null,c.throw.bind(c));return u()}return t.wrap=function(e){return function(){var r=arguments;return t(e.bind(this,...r))}},t}])},3:function(e,t){angular.module("w69b.webrtc",["w69b.promiseTool","w69b.spawn"]).factory("webrtc",["promiseTool","$window","$q","spawn","$log",function(e,t,r,n,o){var i={},c=t.navigator;function u(e){return e.some((function(e){return!!e.label}))}return i.getUserMedia=e.wrapCallbacks(c.getUserMedia||c.webkitGetUserMedia||c.mozGetUserMedia||c.msGetUserMedia,c),c.mediaDevices&&c.mediaDevices.enumerateDevices?i.getSources=function(){return r.when(c.mediaDevices.enumerateDevices()).then((function(e){return e.filter((function(e){return e.kind.endsWith("input")})).map((function(e){var t={id:e.deviceId,label:e.label};return t.kind=e.kind.substring(0,e.kind.length-5),t}))})).catch(e=>(o.info("enumarateDevices() failed, treating it as no devices present",e),[]))}:i.getSources=e.wrapCallbacks(MediaStreamTrack.getSources,MediaStreamTrack),i.getSourcesByKind=function(e){return i.getSources().then((function(t){return t.filter((function(t){return t.kind===e}))}))},i.getVideoSources=function(){return i.getSourcesByKind("video")},i.getAudioSources=function(){return i.getSourcesByKind("audio")},i.hasCamera=function(){return i.getVideoSources().then((function(e){return e.length>0}))},i.hasMicrophone=function(){return i.getAudioSources().then((function(e){return e.length>0}))},i.hasVideoAccess=function(){return i.getVideoSources().then(u)},i.hasAudioAccess=function(){return i.getAudioSources().then(u)},i.getCameraAndMicPermission=n.wrap((function*(){let e=yield i.hasCamera(),t=!1,r=!1;try{let n=yield i.getUserMedia({audio:!0,video:e});r=!!n.getVideoTracks().length,t=!!n.getAudioTracks().length,n.getTracks().forEach((function(e){e.stop()}))}catch(e){}return{video:r,audio:t}})),i}])}});