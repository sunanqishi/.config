!function(e){function t(t){for(var r,o,s=t[0],l=t[1],i=t[2],u=0,d=[];u<s.length;u++)o=s[u],n[o]&&d.push(n[o][0]),n[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(c&&c(t);d.length;)d.shift()();return _.push.apply(_,i||[]),a()}function a(){for(var e,t=0;t<_.length;t++){for(var a=_[t],r=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(r=!1)}r&&(_.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={1:0},_=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var c=l;_.push([373,0]),a()}({10:function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return E})),a.d(t,"r",(function(){return h})),a.d(t,"l",(function(){return C})),a.d(t,"j",(function(){return b})),a.d(t,"u",(function(){return P})),a.d(t,"f",(function(){return M})),a.d(t,"i",(function(){return I})),a.d(t,"h",(function(){return U})),a.d(t,"a",(function(){return L})),a.d(t,"p",(function(){return A})),a.d(t,"n",(function(){return R})),a.d(t,"m",(function(){return B})),a.d(t,"e",(function(){return W})),a.d(t,"z",(function(){return k})),a.d(t,"t",(function(){return K})),a.d(t,"g",(function(){return j})),a.d(t,"k",(function(){return oe})),a.d(t,"x",(function(){return se})),a.d(t,"y",(function(){return le})),a.d(t,"v",(function(){return ce})),a.d(t,"q",(function(){return ue})),a.d(t,"w",(function(){return de})),a.d(t,"s",(function(){return Ee})),a.d(t,"o",(function(){return ie})),a.d(t,"d",(function(){return pe}));a(53);var r,n=a(24),_=a.n(n),o=a(22),s=a.n(o),l=a(13);(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var i,c,u="https://www.awesomescreenshot.com",d="http://awe.diigo.cn/api/v1",E="https://www.awesomescreenshot.com/api/v1",m="https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",p="https://content.dropboxapi.com/2/files/upload",f="https://upload.box.com/api/2.0/files/content",D=s.a.create({baseURL:E});function h(e){var t=new URLSearchParams;return t.append("mail",e.email),t.append("password",e.password),s()({method:"post",url:u+"/user/loginCommit?from=chrome_extension",data:t})}function P(e,t,a,r,n){var _=new URLSearchParams;return _.append("name",e),_.append("image",t),_.append("bgColor",r),_.append("project_id",a),s()({method:"post",url:u+"/extensionUpload",data:_,onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);n(t)}})}function O(e,t){var a=new URLSearchParams;return a.append("image",e),a.append("img_id",t),s()({method:"POST",url:u+"/annotationUpload",data:a})}function M(e){var t=new URLSearchParams;return t.append("name",e),s()({method:"post",url:u+"/createProject?from=chrome_extension",data:t})}function b(){return s()({method:"get",dataType:"json",url:u+"/getProjectListFromExtension"})}function g(){return Object(l.k)(u,"screenshot_personal_fullname")}function v(){return Object(l.k)(u,"screenshot_personal_type")}function C(){return Object(l.k)(u,["screenshot_personal_fullname","screenshot_personal_type","screenshot_personal_mail","screenshot_peronal_premium_level"]).then((function(e){if(e.length){var t={};return e.forEach((function(e){t[e.name]=e})),{username:decodeURI(t.screenshot_personal_fullname.value),type:t.screenshot_personal_type.value,mail:t.screenshot_personal_mail.value,premiumLevel:t.screenshot_personal_premium_level?t.screenshot_personal_premium_level.value:""}}return null}))}function T(){return D({method:"GET",url:"/loginfortest",params:{uid:924920}})}function y(){var e=new URLSearchParams;return e.append("mail","luo.kobe@gmail.com"),e.append("password","111111"),s()({method:"POST",url:"user/loginCommit",data:e})}function I(e){return D({method:"GET",url:"/account/auth",params:{service:e,from:"extension"}})}function U(e){return D({method:"GET",url:"/account/load/resource",params:e})}function L(e,t,a,r,n,_){return D({method:"POST",url:"/destination/add",data:{accountID:e,resourceID:a,privacy:n,resourceName:r,resourceType:t,info:_}})}function A(e){return D({method:"POST",url:"/account/share_screenshot",data:e})}function w(e){return D({method:"POST",url:"/account/save_screenshot",data:e})}function R(){return D({method:"GET",url:"/destination/load"})}function B(){return D({method:"GET",url:"/account/load"})}function W(e){return D({method:"POST",url:"/destination/image/create",data:e})}function k(e,t){var a=new FormData;for(var r in e)a.append(r,e[r]);return s()({method:"POST",crossdomain:!0,url:"https://awesomescreenshot.s3.amazonaws.com/",data:a,onUploadProgress:function(e){var a=Math.round(100*e.loaded/e.total);t(a)}})}function K(e){return D({method:"GET",url:"/destination/image/upload_done",params:{key:e}})}function S(e){return new Promise((function(e,t){setTimeout((function(){e("http://localhost:8080/images/screenshot.jpg")}),2e3)}))}function j(){return D({method:"GET",url:"/user/info"})}function N(e,t,a){return D({method:"POST",url:"/premium/stripe/create_plan",data:{PlanName:e,stripeToken:t.id,stripeEmail:t.email,PPCancelSuccess:a}})}function H(){return D({method:"GET",url:"/account/load"})}function G(e){return D({method:"POST",url:"/account/delete",data:{accountID:e}})}function z(){return D({method:"GET",url:"/destination/load"})}function q(e){return D({method:"POST",url:"/destination/delete",data:{destinationID:e}})}function F(e,t){return D({method:"POST",url:"/destination/change_privacy",data:{destinationID:e,privacy:t}})}function x(){return D({method:"GET",url:"/team/member/load"})}function J(e,t){return D({method:"POST",url:"/team/member/remove",data:{UID:e,teamID:t}})}function Y(e,t){return D({method:"GET",url:"/team/info",params:{teamID:e,code:t}})}function V(e,t){return D({method:"POST",url:"/team/member/apply",data:{teamID:e,code:t}})}function $(e){return D({method:"POST",url:"/team/member/invite_by_email",data:{emails:e}})}function Q(){return D({method:"GET",url:"/premium/plans"})}function Z(e,t){return D({method:"GET",url:"/destination/image/list",params:{DestID:e,Limit:20,Offset:20*((t=t||1)-1)}})}function X(){return s()({method:"GET",url:d+"/premium/stripe/fake_renew"})}function ee(e){var t=new URLSearchParams;for(var a in e)t.append(a,e[a]);return s()({method:"POST",url:u+"/user/updateProfile",data:t})}function te(e){return D({method:"POST",url:"/user/change_password",data:e})}function ae(e){return D({method:"GET",url:"Stripe"===e?"/premium/stripe/cancel_plan":"/premium/paypal/cancel_plan"})}function re(){return D({method:"GET",url:"/premium/coupon"})}function ne(e){return D({method:"POST",url:"/premium/stripe/change_plan",data:{PlanName:e}})}function _e(e){return D({method:"GET",url:"/premium/stripe/preview_upgrade_cost",params:{NewPlanName:e}})}function oe(e){return D({method:"GET",url:"/account/token",params:{accountID:e}})}function se(e,t,a,r){return s()({url:p,method:"POST",headers:{Authorization:"Bearer "+e,"Dropbox-API-Arg":Object(l.m)({path:t,mode:"add",autorename:!0,mute:!1,strict_conflict:!1}),"Content-Type":"application/octet-stream"},data:a,onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);r(t)}})}function le(e,t,a,r){var n=new FormData;return n.append("metadata",new Blob([JSON.stringify(a)],{type:"application/json"})),n.append("file",t),s()({url:m,method:"POST",headers:{Authorization:"Bearer "+e},data:n,onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);r(t)}})}function ie(e,t){return s()({url:"https://www.googleapis.com/drive/v3/files/"+t+"/permissions",method:"POST",headers:{Authorization:"Bearer "+e},data:{role:"reader",type:"anyone"}})}function ce(e,t,a,r,n){var _=new FormData,o={name:a};return o.parent="-1"!==r?{id:r}:{id:"0"},_.append("attributes",JSON.stringify(o)),_.append("file",t),s()({method:"POST",url:f,headers:{Authorization:"Bearer "+e,"Access-Control-Expose-Headers":"WWW-Authenticate"},data:_,onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);n(t)}})}function ue(e){return s()({method:"GET",url:"https://tinyurl.com/api-create.php?url="+e})}function de(e){return D({method:"GET",url:"/destination/image/upload_to_cloud_done",params:{Service:e}})}function Ee(e,t){return D({method:"POST",url:"/account/jira_basic_token",data:{accountID:e,token:t}})}function me(e){return D({method:"GET",url:"/premium/pricing_opened",params:{from:e}})}function pe(e){return D({method:"POST",url:"/common/contact_us",data:e})}function fe(e){return D({method:"POST",url:"/premium/paypal/create_plan",data:{PlanName:e}})}D.interceptors.request.use((function(e){return e}),(function(e){return _.a.error("Network error, Request timeout!"),Promise.reject()})),D.interceptors.response.use((function(e){return e&&e.data&&1===e.data.code?Promise.resolve(e.data.data):(e.data.code,e.data.msg&&"/pricing"!==window.location.pathname?Promise.reject(e.data.msg):void 0)}),(function(e){var t=e.response.status;return _.a.error("Network error! Error Code "+t),Promise.reject(e)})),(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(i.register(u,"baseUrl","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(d,"baseUrl2","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register("http://www.aws.cn/api/v1","baseUrl4","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(E,"baseUrl3","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register("http://test.awesomescreenshot.com:9900/api/v1","baseUrl5","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register("https://preview.awesomescreenshot.com/api/v1","baseUrl6","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(m,"googleDriveUploadURL","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(p,"dropboxUploadURL","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(f,"boxUploadURL","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(D,"instance","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(h,"signIn","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(P,"uploadImage","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(O,"uploadImageWeb","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(M,"createProject","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(b,"getProjects","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(g,"getUsernameFromCookie","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(v,"getUserTypeFromCookie","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(C,"getUserFromCookie","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(T,"_login","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(y,"_doLogin","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(I,"getAuthUrl","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(U,"getAccountResource","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(L,"addDestination","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(A,"share","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(w,"save","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(R,"loadDestination","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(B,"loadAccounts","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(W,"createImage","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(k,"uploadToS3","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(K,"uploadDone","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(S,"getImageUrlById","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(j,"doLoadUserInfo","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(N,"createStripePlan","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(H,"doConnectedAccounts","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(G,"doDeleteConnectedAccount","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(z,"doLoadDestinations","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(q,"doDeleteDestination","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(F,"doDestinationChangePrivacy","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(x,"doTeamMemberLoad","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(J,"doTeamMemberRemove","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(Y,"doTeamInfoLoad","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(V,"doTeamJoin","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register($,"doTeamMemberInviteByEmail","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(Q,"doLoadPlans","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(Z,"doDestinationLoadScreenshots","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(X,"_fake_renew","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(ee,"updateProfile","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(te,"changePassword","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(ae,"cancelPlan","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(re,"getCoupon","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(ne,"changePlan","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(_e,"getUpgradePreviewCost","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(oe,"getToken","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(se,"uploadToDropbox","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(le,"uploadToGoogleDrive","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(ie,"setGoogleDriveFileSharable","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(ce,"uploadToBox","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(ue,"shortUrl","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(de,"uploadToCloudStatistics","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(Ee,"submitJiraApiToken","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(me,"openPricingPage","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(pe,"contactUs","/Users/luo/Documents/codes/awesome-screenshot/src/api.js"),i.register(fe,"createPaypalPlan","/Users/luo/Documents/codes/awesome-screenshot/src/api.js")),(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&c(e)}).call(this,a(17)(e))},13:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return c})),a.d(t,"k",(function(){return u})),a.d(t,"p",(function(){return d})),a.d(t,"j",(function(){return E})),a.d(t,"g",(function(){return m})),a.d(t,"n",(function(){return p})),a.d(t,"h",(function(){return f})),a.d(t,"i",(function(){return D})),a.d(t,"b",(function(){return h})),a.d(t,"m",(function(){return O})),a.d(t,"f",(function(){return M})),a.d(t,"r",(function(){return b})),a.d(t,"d",(function(){return v})),a.d(t,"e",(function(){return C})),a.d(t,"q",(function(){return y})),a.d(t,"c",(function(){return I})),a.d(t,"o",(function(){return U})),a.d(t,"l",(function(){return L}));var r,n,_,o=a(2),s=a.n(o),l=a(79),i=a.n(l);function c(e,t,a){function r(e){return e.charCodeAt(0)}t=t||"",a=a||1024;for(var n=atob(e),_=[],o=0;o<n.length;o+=a){var s=n.slice(o,o+a),l=Array.prototype.map.call(s,r),i=new Uint8Array(l);_.push(i)}return new Blob(_,{type:t})}function u(e,t){return new Promise((function(a,r){chrome.cookies.getAll({url:e},(function(e){if("string"==typeof t){var r=e.filter((function(e){return e.name===t}));a(r)}else if(Array.isArray(t)){var n=e.filter((function(e){return-1!==t.indexOf(e.name)}));a(n)}}))}))}function d(e){window.open(e)}function E(e){if(!e)return"";var t="";for(var a in e)t+="**"+a+"**: "+e[a]+" \n";return t}function m(e){if(!e)return"";var t="";return t+="Captured in "+e.Browser+", "+e["Viewport Size"]+" viewport, "+e["Pixel Ratio"]+" pixel ratio, "+e["Zoom Level"]+" zoom, "+e.OS}function p(e){return"[object Array]"===Object.prototype.toString.call(e)}function f(e){if(!e)return"";var t="<table>";for(var a in e)t+="<tr><td><strong>"+a+"</strong></td><td>"+e[a]+"</td></tr>";return t+="</table> \n"}function D(e,t){var a={version:1,type:"doc",content:[]};for(var r in e&&e.length&&a.content.push({type:"paragraph",content:[{type:"text",text:e}]}),a.content.push({type:"rule"}),t){var n={type:"paragraph",content:[{type:"text",text:r+":",marks:[{type:"strong"}]},{type:"text",text:" "+t[r]}]};a.content.push(n)}return a}function h(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function P(e){var t=s()(1e3*e);return s.a.monthsShort(t.month())+". "+t.day()+", "+t.year()}function O(e){return JSON.stringify(e).replace(/[\u007f-\uffff]/g,(function(e){return"\\u"+("000"+e.charCodeAt(0).toString(16)).slice(-4)}))}function M(e){var t=document.createElement("textarea");t.value=e,t.style.position="absolute",t.style.top="-999999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}function b(e,t,a){var r=[],n=document.createElement("img");n.onload=function(){for(var e=this.height,_=this.width,o=Math.ceil(e/t),s=e%t,l=0;l<o;l++){var i,c,u=document.createElement("canvas"),d=u.getContext("2d");u.width=_,i=c=u.height=l!==o-1?t:s,d.drawImage(n,0,t*l,_,i,0,0,_,c),r.push(u.toDataURL())}a(r)},n.src=e}function g(e){function t(e){return new Promise((function(t,a){var r=new Image;r.onload=function(){t({ele:r,height:r.height,width:r.width})},r.onerror=r.onabort=function(){a(e)},r.src=e}))}for(var a=[],r=0;r<e.length;r++)a.push(t(e[r]));return Promise.all(a)}function v(e){return new Promise((function(t,a){var r=null;g(e).then((function(a){a.forEach((function(a,n){var _=a.width,o=a.height;r?r.addPage([Math.ceil(_),Math.ceil(o)],_>o?"l":"p"):r=new i.a({orientation:_>o?"l":"p",unit:"pt",format:[Math.ceil(_),Math.ceil(o)],compress:!0});var s=document.createElement("canvas"),l=s.getContext("2d");s.width=_,s.height=o,l.drawImage(a.ele,0,0,_,o,0,0,_,o);var c=s.toDataURL("image/jpeg",1);r.addImage(c,"JPEG",0,0,Math.ceil(_),Math.ceil(o),"","FAST"),n===e.length-1&&t(r.output("bloburl"))}))}))}))}function C(e,t){return new Promise((function(t,a){g(e).then((function(e){var a=new i.a({orientation:e[0].width>e[0].height?"l":"p",unit:"pt",format:[Math.ceil(e[0].width),Math.ceil(14400)],compress:!0}),r=14400;e.forEach((function(e,t){for(var n=e.width,_=0,o=e.height;_<e.height;)if(r>0){var s=Math.min(o,r),l=document.createElement("canvas"),i=l.getContext("2d");l.width=n,l.height=s,i.drawImage(e.ele,0,_,n,s,0,0,n,s);var c=l.toDataURL("image/jpeg",1);a.addImage(c,"JPEG",0,14400-r,Math.ceil(n),Math.ceil(s),"","FAST"),_+=s,o-=r,r-=s}else a.addPage({format:[n,14400]}),r=14400})),t(a.output("bloburl"))}))}))}function T(e,t,a){g(e).then((function(e){for(var r=document.createElement("canvas"),n=r.getContext("2d"),_=[],o=0;o<e.length;o++){var s=e[o];r.height=s.height*t,r.width=s.width*t,n.drawImage(s,0,0,s.width,s.height,0,0,s.width*t,s.height*t),_.push(r.toDataURL())}a(_)}))}function y(e){return new Promise((function(e,t){chrome.permissions.request({permissions:["downloads"]},(function(t){t&&e()}))}))}function I(e){var t=e.filename;"true"===localStorage["save-as"]&&localStorage.download_directory&&(e.filename=localStorage.download_directory+"/"+e.filename),chrome.downloads.download(e,(function(a){(void 0===a||chrome.runtime.lastError)&&U(e.url,t)}))}function U(e,t){var a=document.createElement("a"),r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),a.setAttribute("href",e),a.setAttribute("download",t),a.dispatchEvent(r)}function L(e){if(!e)return"local-image-"+s()().format("YYYY-MM-DD_h_mm");var t=new URL(e),a=t.pathname?t.pathname.split("/").splice(1).join("-")+"-":"";return"AwesomeScreenshot-"+t.hostname.replace(/^https?:\/\/(www\.)?/,"").replace(/^([^\/]+)\.com/,"$1").replace(/[^A-Za-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^[_\-]+/,"").replace(/[_\-]+$/,"")+"-"+a+s()().format("YYYY-MM-DD_h_mm")}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e),(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(n.register(c,"b64toBlob","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js"),n.register(u,"getCookie","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js"),n.register(d,"openTab","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js"),n.register(E,"generateTrelloExtraInfoStr","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js"),n.register(m,"generateAsanaExtraInfoStr","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js"),n.register(p,"isArray","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js"),n.register(f,"generateGithubExtraInfoStr","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js"),n.register(D,"generateJiraDescription","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js"),n.register(h,"capitalizeFirstLetter","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js"),n.register(P,"formatDate","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js"),n.register(O,"http_header_safe_json","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js"),n.register(M,"copyText","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js"),n.register(b,"splitImage","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js"),n.register(g,"preloadImages","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js"),n.register(v,"convertToPDF","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js"),n.register(C,"convertToPDFMultiple","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js"),n.register(T,"resizeImages","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js"),n.register(y,"requestDownloadPermission","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js"),n.register(I,"chromeDownload","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js"),n.register(U,"normalDownload","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js"),n.register(L,"getDownloadFileName","/Users/luo/Documents/codes/awesome-screenshot/src/util/utils.js")),(_=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&_(e)}).call(this,a(17)(e))},15:function(e,t,a){"use strict";(function(e){var r;a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return c})),(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var n,_,o={slack:{displayName:"Slack",targetName:"Channel",placeHolder:"Choose a channel or user",panelTitle:"Send message",actionTypeStr:"Sending message",successMsg:"Slack message sent!",panelSubTitle:"Send screenshots to Slack",featureLists:["Send screenshots to Slack Channel","Send screenshots to Slack direct messages","Attach URL of the screenshot automatically"]},trello:{displayName:"Trello",targetName:"Board",placeHolder:"Choose a board",panelTitle:"Create card",actionTypeStr:"Creating card",successMsg:"Trello card created!",panelSubTitle:"Send screenshots as Trello cards",featureLists:["Create a trello card and attach the screenshot directly","Assign the card to members","Set due date and time","Include browser & OS info to help identify the issue"]},asana:{displayName:"Asana",targetName1:"Workspace",targetName2:"Project",placeHolder1:"Choose a workspace",placeHolder2:"Choose a project",panelTitle:"Create task",actionTypeStr:"Creating task",successMsg:"Asana task created!",panelSubTitle:"Send screenshots as Asana task",featureLists:["Send screenshots to Asana task","Create an Asana task and attach the screenshot directly","Assign the card to members","Choose Sections","Set due date and time","Include browser & OS info to help identify the issue"]},jira:{displayName:"Jira",targetName1:"Site",targetName2:"Project",placeHolder1:"Choose a site",placeHolder2:"Choose a project",panelTitle:"Create issue",actionTypeStr:"Creating issue",successMsg:"Jira issue created!",panelSubTitle:"Send screenshots as Jira issue",featureLists:["Create a Jira issue and attach the screenshot directly","Assign the card to members","Include browser & OS info to help identify the issue"]},googleDrive:{displayName:"Google Drive",targetName:"Folder",placeHolder:"Choose a folder",panelTitle:"Upload image",actionTypeStr:"Uploading image",successMsg:"Google Drive image uploaded!",panelSubTitle:"Save screenshots to Google Drive",featureLists:["Save screenshots to Google Drive folders directly"]},dropbox:{displayName:"Dropbox",targetName:"Folder",placeHolder:"Choose a folder",panelTitle:"Upload image",actionTypeStr:"Uploading image",successMsg:"Dropbox image uploaded!",panelSubTitle:"Save screenshots to Dropbox",featureLists:["Save screenshots to Dropbox folders directly"]},box:{displayName:"Box",targetName:"Folder",placeHolder:"Choose a folder",panelTitle:"Upload image",actionTypeStr:"Uploading image",successMsg:"Box image uploaded!",panelSubTitle:"Save screenshots to Box",featureLists:["Save screenshots to Box folders directly"]},github:{displayName:"Github",targetName:"Repository",placeHolder:"Choose a repository",panelTitle:"Create issue",actionTypeStr:"Creating issue",successMsg:"Github issue created!",panelSubTitle:"Send screenshots as Github issue",featureLists:["Send screenshots to Slack Channel","Send screenshots to Slack direct messages","Attach URL of the screenshot automatically"]}},s={channel:"#",repo:"",user:"@",board:"",project:"",folder:""},l=[{name:"slack",displayName:"Slack"},{name:"asana",displayName:"Asana"},{name:"trello",displayName:"Trello"},{name:"github",displayName:"Github"},{name:"jira",displayName:"Jira"}],i=[{name:"googleDrive",displayName:"Google Drive"},{name:"dropbox",displayName:"Dropbox"},{name:"box",displayName:"Box"}],c=["callout","list"],u=[{type:"free",displayName:"Free",features:{integrations_cs:["googleDrive"],integrations_cp:[],others:["Capture visible/full page screenshot","Basic annotation tools","1 Project to host, manage and share screenshots","30 images per project","30 seconds video recording per video"]}},{type:"basic",displayName:"Basic",features:{integrations_cs:["googleDrive","dropbox","box"],integrations_cp:[],others:["All Capture features","All advanced annotation tools","Unlimited screenshot storage","Unlimited projects to host, manage and share screenshots","Unlimited video recording for Tabs and Desktop"]}},{type:"professional",displayName:"Professional",features:{integrations_cs:["googleDrive","dropbox","box"],integrations_cp:["slack","trello","asana","github","jira"],others:["All Capture features","All advanced annotation tools","Unlimited screenshot storage","Unlimited projects to host, manage and share screenshots","Unlimited video recording for Tabs and Desktop"]}},{type:"team",displayName:"Team",features:{integrations_cs:["googleDrive","dropbox","box"],integrations_cp:["slack","trello","asana","github","jira"],others:["All Capture features","All advanced annotation tools","Unlimited screenshot storage","Unlimited projects to host, manage and share screenshots","Unlimited video recording for Tabs and Desktop"]}}];(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(n.register(o,"desInfo","/Users/luo/Documents/codes/awesome-screenshot/src/consts.js"),n.register(s,"prefixInfo","/Users/luo/Documents/codes/awesome-screenshot/src/consts.js"),n.register(l,"supportServices","/Users/luo/Documents/codes/awesome-screenshot/src/consts.js"),n.register(i,"saveElsewhereServices","/Users/luo/Documents/codes/awesome-screenshot/src/consts.js"),n.register(c,"premiumAnnotateShape","/Users/luo/Documents/codes/awesome-screenshot/src/consts.js"),n.register(u,"defaultPlans","/Users/luo/Documents/codes/awesome-screenshot/src/consts.js")),(_=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&_(e)}).call(this,a(17)(e))},27:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return ActionBtn})),__webpack_require__.d(__webpack_exports__,"b",(function(){return ShapeBtn})),__webpack_require__.d(__webpack_exports__,"c",(function(){return ShapeGroupBtn})),__webpack_require__.d(__webpack_exports__,"d",(function(){return ToolSelect}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).enterModule,enterModule&&enterModule(module);var ActionBtn=function(_React$Component){function ActionBtn(e){return _classCallCheck(this,ActionBtn),_possibleConstructorReturn(this,_getPrototypeOf(ActionBtn).call(this,e))}return _inherits(ActionBtn,_React$Component),_createClass(ActionBtn,[{key:"shouldComponentUpdate",value:function(e){return e.disabled!==this.props.disabled}},{key:"render",value:function(){var e=this.props,t=e.disabled,a=e.action,r=e.title,n=e.handleClick,_=classnames__WEBPACK_IMPORTED_MODULE_1___default()("tool-btn single-btn",{disabled:t});return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_,"data-action":a,onClick:n.bind(this,"action",{actionType:a}),title:r},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ActionBtn}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component),ShapeBtn=function(_React$Component2){function ShapeBtn(e){return _classCallCheck(this,ShapeBtn),_possibleConstructorReturn(this,_getPrototypeOf(ShapeBtn).call(this,e))}return _inherits(ShapeBtn,_React$Component2),_createClass(ShapeBtn,[{key:"shouldComponentUpdate",value:function(e){return e.current!==this.props.current}},{key:"render",value:function(){var e=this.props,t=e.current,a=e.shape,r=e.title,n=e.handleClick,_=classnames__WEBPACK_IMPORTED_MODULE_1___default()("tool-btn single-btn",{active:t===a});return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:_,"data-shape":a,onClick:n.bind(this,"shape",a),title:r},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ShapeBtn}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component),ShapeGroupBtn=function(_React$Component3){function ShapeGroupBtn(e){var t;return _classCallCheck(this,ShapeGroupBtn),(t=_possibleConstructorReturn(this,_getPrototypeOf(ShapeGroupBtn).call(this,e))).state={currentBtn:t.props.btns[0]},t.handleDropDownBtnClick=t.handleDropDownBtnClick.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(ShapeGroupBtn,_React$Component3),_createClass(ShapeGroupBtn,[{key:"shouldComponentUpdate",value:function(e,t){return t.currentBtn!==this.state.currentBtn||e.current!==this.props.current}},{key:"handleDropDownBtnClick",value:function(e){this.setState({currentBtn:e}),this.props.handleClick("shape",e.shape)}},{key:"render",value:function(){var e=this,t=this.state.currentBtn,a=this.props.btns;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"tool-btn multi-btn"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ShapeBtn,{title:t.title,shape:t.shape,current:this.props.current,handleClick:this.props.handleClick}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ToolSelect,null,(function(t,r){var n=classnames__WEBPACK_IMPORTED_MODULE_1___default()("multi-btn-dropdown",{active:t.isExpand}),_=function(t){r(),e.handleDropDownBtnClick(t)};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"multi-btn-arrow"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:n},a.map((function(e){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"tool-btn sub-single-btn","data-shape":e.shape,key:e.shape,onClick:_.bind(null,e)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null))}))))})))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ShapeGroupBtn}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component),ToolSelect=function(_React$Component4){function ToolSelect(e){var t;return _classCallCheck(this,ToolSelect),(t=_possibleConstructorReturn(this,_getPrototypeOf(ToolSelect).call(this,e))).state={isExpand:!1},t.toggle=t.toggle.bind(_assertThisInitialized(_assertThisInitialized(t))),t.el=react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef(),t}return _inherits(ToolSelect,_React$Component4),_createClass(ToolSelect,[{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"toggle",value:function(){this.state.isExpand&&this.el.current.blur(),this.setState({isExpand:!this.state.isExpand})}},{key:"render",value:function(){var e=classnames__WEBPACK_IMPORTED_MODULE_1___default()("tool-select",this.props.className);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:e,tabIndex:"0",onFocus:this.toggle,onBlur:this.toggle,ref:this.el},this.props.children(this.state,this.toggle))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ToolSelect}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component),reactHotLoader,leaveModule;reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).default,reactHotLoader&&(reactHotLoader.register(ActionBtn,"ActionBtn","/Users/luo/Documents/codes/awesome-screenshot/src/components/EditorTools.js"),reactHotLoader.register(ShapeBtn,"ShapeBtn","/Users/luo/Documents/codes/awesome-screenshot/src/components/EditorTools.js"),reactHotLoader.register(ShapeGroupBtn,"ShapeGroupBtn","/Users/luo/Documents/codes/awesome-screenshot/src/components/EditorTools.js"),reactHotLoader.register(ToolSelect,"ToolSelect","/Users/luo/Documents/codes/awesome-screenshot/src/components/EditorTools.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(17)(module))},273:function(e,t,a){"use strict";(function(e){var r;a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s})),(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var n,_,o=3e4;function s(e,t,a,r){var n=r||o,_=e[0].width,s=e[0].height,l=Math.ceil(s*t);if(l)var i=(e.length-1)*s+l;else i=e.length*s;for(var c=Math.ceil(i/n),u=i%n,d=0,E=0,m=[],p=0,f=0;f<c;f++){var D=document.createElement("canvas"),h=D.getContext("2d");D.id="c_"+f,D.width=_,D.height=f===c-1?u:n;for(var P=d;P<e.length;P++){var O=0,M=_,b=s,g=_,v=s;if(P===e.length-1&&f===c-1?O=p?s-Math.min(p,l):s-l:(p&&(O=s-p,b=v=p),P===e.length-1&&f!==c-1&&(O=s-l)),h.drawImage(e[P],0,O,M,b,0,E,g,v),E+v>n){d=P,p=P===e.length-1&&f+1===c-1?E+l-n:E+s-n,E=0;break}E=p?E+p:E+v,p=0}!function(e){D.toBlob((function(t){if(m.push({blob:t,index:e}),m.length===c){m.sort((function(e,t){return e.index-t.index}));a(m.map((function(e){return e.blob})))}}))}(f)}}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(n.register(o,"maxCanvasHeight","/Users/luo/Documents/codes/awesome-screenshot/src/util/multipleImageGenerator.js"),n.register(s,"multipleImageGenerator","/Users/luo/Documents/codes/awesome-screenshot/src/util/multipleImageGenerator.js")),(_=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&_(e)}).call(this,a(17)(e))},274:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return m}));a(31);var r,n=a(11),_=a.n(n),o=a(0),s=a.n(o),l=a(10),i=a(78);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,_=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,_=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw _}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var u,d,E=_.a.Option;function m(e){var t=c(Object(o.useState)([]),2),a=t[0],r=t[1],n=e.field,u=e.currentDes;Object(o.useEffect)((function(){}),[]);var d=function(e){var t;Object(l.h)({accountID:u.accountID,what:(t=n.key,"customfield_10014"===t?"epic":"customfield_10021"==t?"sprint":void 0),cloudName:u.info.cloudName,query:e,cloudID:u.info.cloudID,projectID:u.info.projectID}).then((function(e){r(e.items?e.items:[])}))},m=-1!==n.operations.indexOf("add")?"multiple":void 0;return s.a.createElement(_.a,{showSearch:!0,mode:m,filterOption:!1,onChange:function(t){e.handleChange(n.key,t)},onSearch:Object(i.debounce)(d,800),onDropdownVisibleChange:function(e){e&&d("")}},a.map((function(e){return function(e){return"customfield_10021"===n.key?s.a.createElement(E,{key:e.id,value:e.id},e.name,"(",e.info.data.stateKey,")"):"customfield_10014"===n.key?s.a.createElement(E,{key:e.id,value:e.id},e.name,"-(",e.id,")"):s.a.createElement(E,null)}(e)})))}(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(u.register(E,"Option","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/JiraField/JiraFieldRemoteSelectWithSearch.js"),u.register(m,"JiraFieldRemoteSelect","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/JiraField/JiraFieldRemoteSelectWithSearch.js")),(d=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&d(e)}).call(this,a(17)(e))},275:function(e,t,a){var r={"./af":89,"./af.js":89,"./ar":90,"./ar-dz":91,"./ar-dz.js":91,"./ar-kw":92,"./ar-kw.js":92,"./ar-ly":93,"./ar-ly.js":93,"./ar-ma":94,"./ar-ma.js":94,"./ar-sa":95,"./ar-sa.js":95,"./ar-tn":96,"./ar-tn.js":96,"./ar.js":90,"./az":97,"./az.js":97,"./be":98,"./be.js":98,"./bg":99,"./bg.js":99,"./bm":100,"./bm.js":100,"./bn":101,"./bn.js":101,"./bo":102,"./bo.js":102,"./br":103,"./br.js":103,"./bs":104,"./bs.js":104,"./ca":105,"./ca.js":105,"./cs":106,"./cs.js":106,"./cv":107,"./cv.js":107,"./cy":108,"./cy.js":108,"./da":109,"./da.js":109,"./de":110,"./de-at":111,"./de-at.js":111,"./de-ch":112,"./de-ch.js":112,"./de.js":110,"./dv":113,"./dv.js":113,"./el":114,"./el.js":114,"./en-SG":115,"./en-SG.js":115,"./en-au":116,"./en-au.js":116,"./en-ca":117,"./en-ca.js":117,"./en-gb":118,"./en-gb.js":118,"./en-ie":119,"./en-ie.js":119,"./en-il":120,"./en-il.js":120,"./en-nz":121,"./en-nz.js":121,"./eo":122,"./eo.js":122,"./es":123,"./es-do":124,"./es-do.js":124,"./es-us":125,"./es-us.js":125,"./es.js":123,"./et":126,"./et.js":126,"./eu":127,"./eu.js":127,"./fa":128,"./fa.js":128,"./fi":129,"./fi.js":129,"./fo":130,"./fo.js":130,"./fr":131,"./fr-ca":132,"./fr-ca.js":132,"./fr-ch":133,"./fr-ch.js":133,"./fr.js":131,"./fy":134,"./fy.js":134,"./ga":135,"./ga.js":135,"./gd":136,"./gd.js":136,"./gl":137,"./gl.js":137,"./gom-latn":138,"./gom-latn.js":138,"./gu":139,"./gu.js":139,"./he":140,"./he.js":140,"./hi":141,"./hi.js":141,"./hr":142,"./hr.js":142,"./hu":143,"./hu.js":143,"./hy-am":144,"./hy-am.js":144,"./id":145,"./id.js":145,"./is":146,"./is.js":146,"./it":147,"./it-ch":148,"./it-ch.js":148,"./it.js":147,"./ja":149,"./ja.js":149,"./jv":150,"./jv.js":150,"./ka":151,"./ka.js":151,"./kk":152,"./kk.js":152,"./km":153,"./km.js":153,"./kn":154,"./kn.js":154,"./ko":155,"./ko.js":155,"./ku":156,"./ku.js":156,"./ky":157,"./ky.js":157,"./lb":158,"./lb.js":158,"./lo":159,"./lo.js":159,"./lt":160,"./lt.js":160,"./lv":161,"./lv.js":161,"./me":162,"./me.js":162,"./mi":163,"./mi.js":163,"./mk":164,"./mk.js":164,"./ml":165,"./ml.js":165,"./mn":166,"./mn.js":166,"./mr":167,"./mr.js":167,"./ms":168,"./ms-my":169,"./ms-my.js":169,"./ms.js":168,"./mt":170,"./mt.js":170,"./my":171,"./my.js":171,"./nb":172,"./nb.js":172,"./ne":173,"./ne.js":173,"./nl":174,"./nl-be":175,"./nl-be.js":175,"./nl.js":174,"./nn":176,"./nn.js":176,"./pa-in":177,"./pa-in.js":177,"./pl":178,"./pl.js":178,"./pt":179,"./pt-br":180,"./pt-br.js":180,"./pt.js":179,"./ro":181,"./ro.js":181,"./ru":182,"./ru.js":182,"./sd":183,"./sd.js":183,"./se":184,"./se.js":184,"./si":185,"./si.js":185,"./sk":186,"./sk.js":186,"./sl":187,"./sl.js":187,"./sq":188,"./sq.js":188,"./sr":189,"./sr-cyrl":190,"./sr-cyrl.js":190,"./sr.js":189,"./ss":191,"./ss.js":191,"./sv":192,"./sv.js":192,"./sw":193,"./sw.js":193,"./ta":194,"./ta.js":194,"./te":195,"./te.js":195,"./tet":196,"./tet.js":196,"./tg":197,"./tg.js":197,"./th":198,"./th.js":198,"./tl-ph":199,"./tl-ph.js":199,"./tlh":200,"./tlh.js":200,"./tr":201,"./tr.js":201,"./tzl":202,"./tzl.js":202,"./tzm":203,"./tzm-latn":204,"./tzm-latn.js":204,"./tzm.js":203,"./ug-cn":205,"./ug-cn.js":205,"./uk":206,"./uk.js":206,"./ur":207,"./ur.js":207,"./uz":208,"./uz-latn":209,"./uz-latn.js":209,"./uz.js":208,"./vi":210,"./vi.js":210,"./x-pseudo":211,"./x-pseudo.js":211,"./yo":212,"./yo.js":212,"./zh-cn":213,"./zh-cn.js":213,"./zh-hk":214,"./zh-hk.js":214,"./zh-tw":215,"./zh-tw.js":215};function n(e){var t=_(e);return a(t)}function _(e){var t=r[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}n.keys=function(){return Object.keys(r)},n.resolve=_,e.exports=n,n.id=275},329:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return s}));var r,n,_,o=a(273);function s(e,t,a,r,n,_,s,i,c,u,d,E){var m,p,f,D,h,P,O,M,b=document.createElement("canvas"),g=b.getContext("2d"),v=l(),C=0,T=0;function y(){b.width=f,b.height=D}switch(m=u[0].width,p=u[0].height,t){case"visible":"selected"===e?(f=n,D=_,B=a,K=r):"desktop"===e||"upload"===e?(f=m,D=p,B=0,K=0):(f=m-v,D=p,B=0,K=0),y(),g.drawImage(u[0],B,K,f,D,0,0,f,D),"jpg"===d?b.toBlob((function(e){E(e)}),"image/jpeg",1):b.toBlob((function(e){E(e)}));break;case"entire":var I=T=C=0,U=u.length,L=s,A=Math.round(U/L),w=function e(t,a,r,n,_,o,s,l,i){t?(s=I*p,I==A-1&&(r=p-h,_=i=h),g.drawImage(t,a,r,n,_,o,s,l,i),++I>A-1&&R(),e(u[++C],a,r,n,_,o,s,l,i)):"jpg"===d?b.toBlob((function(e){E(e)}),"image/jpeg",1):b.toBlob((function(e){E(e)}))},R=function(){++T>L-1||(T==L-1?(B=m-P,W=O=f-T*m,k=T*m):(B=0,W=O=m,k=T*m),K=0,S=M=p,j=0,w(u[C=(I=0)+T*A],B,K,W,S,k,j,O,M))};if(!c.x&&c.y){if(A=U,h=p*i.y,f="selected"==e?n:m,(D=h?p*(A-1)+h:p*A)>o.a)return void Object(o.b)(u,i.y,E);y();var B=0,W=O=m,k=0,K=0,S=M=p,j=0;w(u[C],B,K,W,S,k,j,O,M)}if(c.x&&!c.y){L=U,P=m*i.x,D="selected"==e?request.centerH:p,f=P?m*(L-1)+P:m*L,y();B=0,W=O=m,k=0,K=0,S=M=p,j=0;!function e(t,a,r,n,_,o,s,l,i,c){o=T*m,T==L-1&&(a=m-P,n=l=P),g.drawImage(t,a,r,n,_,o,s,l,i),T<L-1&&e(u[++T],a,r,n,_,o,s,l,i)}(u[C],B,K,W,S,k,j,O,M)}if(c.x&&c.y){P=m*i.x,h=p*i.y,"selected"==e?(f=request.centerW,D=request.centerH):(f=P?m*(L-1)+P:m*L,D=h?p*(A-1)+h:p*A),y();B=0,W=O=m,k=0,K=0,S=M=p,j=0;w(u[C],B,K,W,S,k,j,O,M)}}}function l(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var a=e.offsetWidth;t.style.overflow="scroll";var r=e.offsetWidth;return a==r&&(r=t.clientWidth),document.body.removeChild(t),a-r}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e),(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(n.register(s,"dataURLGenerator","/Users/luo/Documents/codes/awesome-screenshot/src/util/dataURLGenerator2.js"),n.register(l,"getScrollbarWidth","/Users/luo/Documents/codes/awesome-screenshot/src/util/dataURLGenerator2.js")),(_=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&_(e)}).call(this,a(17)(e))},330:function(e,t,a){"use strict";(function(e){var r;(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e),window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem;var n=null;function _(e){var t="";switch(e.code){case FileError.QUOTA_EXCEEDED_ERR:t="QUOTA_EXCEEDED_ERR";break;case FileError.NOT_FOUND_ERR:t="NOT_FOUND_ERR";break;case FileError.SECURITY_ERR:t="SECURITY_ERR";break;case FileError.INVALID_MODIFICATION_ERR:t="INVALID_MODIFICATION_ERR";break;case FileError.INVALID_STATE_ERR:t="INVALID_STATE_ERR";break;default:t="Unknown Error"}return t}var o,s,l={fs:null,getFs:function(){return new Promise((function(e,t){window.requestFileSystem(window.PERSISTENT,52428800,(function(t){e(t)}),(function(e){t(e)}))}))},save:function(e,t){var a=this;return this.getFs().then((function(r){return a.do_save(r,e,t)}),_)},append:function(e,t){n?n.write(e):this.getFs().then((function(a){a.root.getFile(t,{create:!1},(function(t){t.createWriter((function(t){t.onwriteend=function(e){},t.onerror=function(e){},t.write(e),n=t}),(function(e){}))}),(function(e){}))}))},do_save:function(e,t,a){return new Promise((function(r,_){e.root.getFile(a,{create:!0},(function(e){e.createWriter((function(a){a.onwriteend=function(t){r(e.toURL())},a.onerror=function(e){_(e.toString())},a.write(t),n=a}),(function(e){_(e)}))}),(function(e){_(e)}))}))}},i=l;t.a=i,(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(o.register(n,"currentFileWriter","/Users/luo/Documents/codes/awesome-screenshot/src/util/fileSaver.js"),o.register(_,"errorHandler","/Users/luo/Documents/codes/awesome-screenshot/src/util/fileSaver.js"),o.register(l,"fileSaver","/Users/luo/Documents/codes/awesome-screenshot/src/util/fileSaver.js"),o.register(i,"default","/Users/luo/Documents/codes/awesome-screenshot/src/util/fileSaver.js")),(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&s(e)}).call(this,a(17)(e))},332:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_Editor_less__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(445),_Editor_less__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_Editor_less__WEBPACK_IMPORTED_MODULE_1__),_EditorToolBar__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(333),classnames__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4),classnames__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__),_consts__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(15),_components_Modal_UpgradeModal__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(50),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).enterModule,enterModule&&enterModule(module);var Editor=function(_React$PureComponent){function Editor(e){var t;return _classCallCheck(this,Editor),(t=_possibleConstructorReturn(this,_getPrototypeOf(Editor).call(this,e))).outerContainer=react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef(),t.container=react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef(),t.doodleCanvas=react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef(),t.layerCanvas=react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef(),t.textareaOut=react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef(),t.textarea=react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef(),t.listDialog=react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef(),t.fileInput=react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef(),t.state={isInCropMode:!1,currentTool:"curve",currentColor:localStorage["pen-color"]||"rgb(255, 0, 0)",currentPenWidth:localStorage["pen-width"]?parseInt(localStorage["pen-width"]):window.devicePixelRatio>1?8:4,currentFontSize:localStorage["font-size"]?parseInt(localStorage["font-size"]):window.devicePixelRatio>1?36:24,currentFontFamily:localStorage["font-family"]||"Times New Rome",cropWidth:0,cropHeight:0,resizeWidth:0,resizeHeight:0,resizeProportional:!0,currentScale:1,canUndo:!1,canRedo:!1,canClear:!1,canDeleteSelected:!1,isShownUpgrade:!1,isReady:!1,upgradeType:"",isTextBackground:!1},t.handleToolBarBtnClick=t.handleToolBarBtnClick.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleFileInputChange=t.handleFileInputChange.bind(_assertThisInitialized(_assertThisInitialized(t))),t.editor_style_callback=t.editor_style_callback.bind(_assertThisInitialized(_assertThisInitialized(t))),t.initEditor=t.initEditor.bind(_assertThisInitialized(_assertThisInitialized(t))),t.insertImage=t.insertImage.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleResizeInputChange=t.handleResizeInputChange.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleResizeProportionChange=t.handleResizeProportionChange.bind(_assertThisInitialized(_assertThisInitialized(t))),t.getResizeInfo=t.getResizeInfo.bind(_assertThisInitialized(_assertThisInitialized(t))),t.finishEdit=t.finishEdit.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleKeyDown=t.handleKeyDown.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleCloseUpgrade=t.handleCloseUpgrade.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleTextBgChange=t.handleTextBgChange.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleResetList=t.handleResetList.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(Editor,_React$PureComponent),_createClass(Editor,[{key:"componentDidMount",value:function(){this.initEditor(this.props.imageUrl),document.querySelector("#canvas2")&&document.querySelector("#canvas2").addEventListener("click",(function(){document.querySelectorAll(".tool-select").forEach((function(e){e.blur()}))}),!1),document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(e){e.imageUrl!==this.props.imageUrl&&""===e.imageUrl&&this.initEditor(this.props.imageUrl)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown),this.editor=null}},{key:"handleKeyDown",value:function(e){var t=e.keyCode;if(-1!==this.props.className.indexOf("active"))if(90===t&&(e.ctrlKey||e.metaKey))e.shiftKey?this.editor.redo():this.editor.undo();else if((46===t||8===t)&&this.state.canDeleteSelected){if(e.target.classList.contains("editor-textarea"))return;this.editor.deleteSelected()}}},{key:"finishEdit",value:function(e,t){var a=this;this.editor.getImageDataBlob(this.props.contentType,(function(e){var r=window.URL.createObjectURL(e);if(t)a.props.handleFinishEditAndShare(r,e);else{var n=a.editor.bg_info;a.props.handleFinishEdit(r,e,{width:n.width,height:n.height})}}))}},{key:"handleResetList",value:function(){this.editor.resetList()}},{key:"handleTextBgChange",value:function(){this.editor.setTextBackground(!this.state.isTextBackground),this.setState({isTextBackground:!this.state.isTextBackground})}},{key:"handleResizeProportionChange",value:function(e){this.setState({resizeProportional:e.target.checked})}},{key:"handleResizeInputChange",value:function(e,t){var a=this.editor.bg_info.width/this.editor.bg_info.height;"width"===e?!0===this.state.resizeProportional?this.setState({resizeWidth:parseInt(t.target.value),resizeHeight:parseInt(t.target.value)/a}):this.setState({resizeWidth:parseInt(t.target.value)}):!0===this.state.resizeProportional?this.setState({resizeWidth:parseInt(t.target.value)*a,resizeHeight:parseInt(t.target.value)}):this.setState({resizeHeight:parseInt(t.target.value)})}},{key:"getResizeInfo",value:function(){var e=this.editor.bg_info;this.setState({resizeHeight:parseInt(e.height),resizeWidth:parseInt(e.width)})}},{key:"handleFileInputChange",value:function(e){var t=e.target.files[0],a=URL.createObjectURL(t);this.insertImage(a)}},{key:"editor_style_callback",value:function(e,t){switch(e){case"crop":"done"!==t&&this.setState({cropWidth:t.width,cropHeight:t.height});break;case"undo":this.setState({canUndo:t});break;case"redo":this.setState({canRedo:t});break;case"del":this.setState({canDeleteSelected:t});break;case"clear":this.setState({canClear:!t})}}},{key:"initEditor",value:function(e){if(e){var t=this,a=new Image;this.editor=new Diigo.Doodle._Drawer({out_container:this.outerContainer.current,container:this.container.current,doodle_canvas:this.doodleCanvas.current,layer_canvas:this.layerCanvas.current,textarea:this.textarea.current,textarea_out:this.textareaOut.current,$list_dialog:$(this.listDialog.current),image:a},(function(e,a){t.editor_style_callback(e,a)})),a.src=e,a.onload=function(){t.editor.setBgImage(a,!1),t.editor.setPenColor(t.state.currentColor),t.editor.setPenType("curve"),t.editor.setFontSize(t.state.currentFontSize),t.editor.setPenWidth(t.state.currentPenWidth),t.editor.setFontName(t.state.currentFontFamily),t.editor.setBlurRadius(30),t.setState({isReady:!0}),this.width>window.screen.availWidth&&("true"===localStorage["resize-for-retina"]?t.editor.setImageSize(t.editor.bg_info.width/2,t.editor.bg_info.height/2):(t.editor.setScale(.5),t.setState({currentScale:.5})))}}}},{key:"insertImage",value:function(e){var t=this,a=new Image;a.src=e;var r={image:a,width:0,height:0,choose_type:"full"};a.img_info=r,a.onload=function(){r.width=this.naturalWidth,r.height=this.naturalHeight,t.editor.insertSvgImage(r)}}},{key:"handleCloseUpgrade",value:function(){this.setState({isShownUpgrade:!1})}},{key:"handleToolBarBtnClick",value:function(e,t){var a=this.editor;if("shape"===e){if(-1!==_consts__WEBPACK_IMPORTED_MODULE_4__.c.indexOf(t)&&!this.props.permissions.allowAdvancedToolForImageEditor)return void this.setState({upgradeType:t,isShownUpgrade:!0});"highlight"==t?(a.unSelectAll(),a.setPenOpacity(.3),a.setPenWidth(16),a.setPenType("highlight")):(a.setPenOpacity(1),a.setPenWidth(this.state.currentPenWidth),a.setPenType(t)),this.setState({currentTool:t})}else if("action"===e)switch(t.actionType){case"crop":this.setState({isInCropMode:!0}),a.cutImage();break;case"changeColor":this.setState({currentColor:t.value}),a.setPenColor(t.value),localStorage["pen-color"]=t.value;break;case"changePenWidth":this.setState({currentPenWidth:t.value}),a.setPenWidth(parseInt(t.value)),localStorage["pen-width"]=t.value;break;case"changeFontSize":this.setState({currentFontSize:t.value}),a.setFontSize(parseInt(t.value)),localStorage["font-size"]=t.value;break;case"changeFontFamily":this.setState({currentFontFamily:t.value}),a.setFontName(t.value),localStorage["font-family"]=t.value;break;case"zoom-in":if(2!==this.state.currentScale){var r=this.state.currentScale+.25;a.setScale(r),this.setState({currentScale:r,isShowScaleTip:!0})}break;case"zoom-out":if(.25!==this.state.currentScale){r=this.state.currentScale-.25;a.setScale(r),this.setState({currentScale:r,isShowScaleTip:!0})}break;case"resetScale":a.setScale(1),this.setState({currentScale:1,isShowScaleTip:!1});break;case"crop-demension-width":this.setState({cropWidth:parseInt(t.value)},(function(){a.setCropSize(this.state.cropWidth,this.state.cropHeight)}));break;case"crop-demension-height":this.setState({cropHeight:parseInt(t.value)},(function(){a.setCropSize(this.state.cropWidth,this.state.cropHeight)}));break;case"leaveCrop":this.setState({isInCropMode:!1,cropWidth:0,cropHeight:0}),a.finishCutImage(!1);break;case"doCrop":a.finishCutImage(!0),this.setState({isInCropMode:!1,cropWidth:0,cropHeight:0});break;case"insert-image":if(!this.props.permissions.allowAdvancedToolForImageEditor)return void this.setState({upgradeType:"insertImage",isShownUpgrade:!0});this.fileInput.current.click();break;case"doInsertImage":if(!this.props.permissions.allowAdvancedToolForImageEditor)return void this.setState({upgradeType:"image",isShownUpgrade:!0});var n="./images/svg/"+t.value+".svg";this.insertImage(n);break;case"doResize":a.setImageSize(this.state.resizeWidth,this.state.resizeHeight);break;default:a[t.actionType]()}}},{key:"render",value:function(){var e=this.state,t=e.isShownUpgrade,a=e.isReady,r=classnames__WEBPACK_IMPORTED_MODULE_3___default()("editor",this.props.className),n=classnames__WEBPACK_IMPORTED_MODULE_3___default()("loading-page",{active:!a});return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:r,tabIndex:"0"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:n},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"center"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"loading-spinner"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"spinner"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"rect1"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"rect2"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"rect3"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"rect4"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"rect5"}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"brand"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"logo"}),"AWESOME SCREENSHOT"))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"file",className:"file-input",ref:this.fileInput,accept:".jpg,.jpeg,.png",onChange:this.handleFileInputChange}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_EditorToolBar__WEBPACK_IMPORTED_MODULE_2__.a,_extends({},this.state,{handleToolBarBtnClick:this.handleToolBarBtnClick,handleResizeInputChange:this.handleResizeInputChange,handleResizeProportionChange:this.handleResizeProportionChange,handleResetList:this.handleResetList,getResizeInfo:this.getResizeInfo,finishEdit:this.finishEdit,handleTextBgChange:this.handleTextBgChange,handleBack:this.props.handleBack,type:this.props.type})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"editor-outer-container",tabIndex:"0",id:"editor-outer-container",ref:this.outerContainer},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"editor-container",ref:this.container},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("canvas",{className:"doodle-canvas",id:"canvas",ref:this.doodleCanvas}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("canvas",{className:"layer-canvas",id:"canvas2",ref:this.layerCanvas}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"editor-outer-textarea",ref:this.textareaOut},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("textarea",{className:"editor-textarea",ref:this.textarea})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"editor-list-dialog",ref:this.listDialog},"Number:",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input",{type:"number"})))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Modal_UpgradeModal__WEBPACK_IMPORTED_MODULE_5__.a,{visible:t,onCancel:this.handleCloseUpgrade,type:this.state.upgradeType}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Editor}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent),_default=Editor,reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).default,reactHotLoader&&(reactHotLoader.register(Editor,"Editor","/Users/luo/Documents/codes/awesome-screenshot/src/components/Editor.js"),reactHotLoader.register(_default,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Editor.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(17)(module))},333:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var antd_lib_icon_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(36),antd_lib_icon_style__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(antd_lib_icon_style__WEBPACK_IMPORTED_MODULE_0__),antd_lib_icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),antd_lib_icon__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(antd_lib_icon__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_EditorToolBar_less__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(447),_EditorToolBar_less__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_EditorToolBar_less__WEBPACK_IMPORTED_MODULE_3__),_EditorTools__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(27),classnames__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),classnames__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).enterModule,enterModule&&enterModule(module);var colors=["rgb(255, 0, 0)","rgb(152, 0, 0)","rgb(255, 153, 0)","rgb(255, 255, 0)","rgb(0, 255, 0)","rgb(0, 0, 0)","rgb(67, 67, 67)","rgb(102, 102, 102)","rgb(153, 153, 153)","rgb(183, 183, 183)","rgb(204, 204, 204)","rgb(217, 217, 217)","rgb(239, 239, 239)","rgb(243, 243, 243)","rgb(255, 255, 255)","rgb(0, 255, 255)","rgb(74, 134, 232)","rgb(0, 0, 255)","rgb(153, 0, 255)","rgb(255, 0, 255)","rgb(230, 184, 175)","rgb(244, 204, 204)","rgb(252, 229, 205)","rgb(255, 242, 204)","rgb(217, 234, 211)","rgb(208, 224, 227)","rgb(201, 218, 248)","rgb(207, 226, 243)","rgb(217, 210, 233)","rgb(234, 209, 220)","rgb(221, 126, 107)","rgb(234, 153, 153)","rgb(249, 203, 156)","rgb(255, 229, 153)","rgb(182, 215, 168)","rgb(162, 196, 201)","rgb(164, 194, 244)","rgb(159, 197, 232)","rgb(180, 167, 214)","rgb(213, 166, 189)","rgb(204, 65, 37)","rgb(224, 102, 102)","rgb(246, 178, 107)","rgb(255, 217, 102)","rgb(147, 196, 125)","rgb(118, 165, 175)","rgb(109, 158, 235)","rgb(111, 168, 220)","rgb(142, 124, 195)","rgb(194, 123, 160)","rgb(166, 28, 0)","rgb(204, 0, 0)","rgb(230, 145, 56)","rgb(241, 194, 50)","rgb(106, 168, 79)","rgb(69, 129, 142)","rgb(60, 120, 216)","rgb(61, 133, 198)","rgb(103, 78, 167)","rgb(166, 77, 121)","rgb(133, 32, 12)","rgb(153, 0, 0)","rgb(180, 95, 6)","rgb(191, 144, 0)","rgb(56, 118, 29)","rgb(19, 79, 92)","rgb(17, 85, 204)","rgb(11, 83, 148)","rgb(53, 28, 117)","rgb(116, 27, 71)","rgb(91, 15, 0)","rgb(102, 0, 0)","rgb(120, 63, 4)","rgb(127, 96, 0)","rgb(39, 78, 19)","rgb(12, 52, 61)","rgb(28, 69, 135)","rgb(7, 55, 99)","rgb(32, 18, 77)","rgb(76, 17, 48)"],getBorderColor=function(e){return"rgb(239, 239, 239)"===e||"rgb(243, 243, 243)"===e||"rgb(255, 255, 255)"===e||"rgb(252, 229, 205)"===e||"rgb(255, 242, 204)"===e?"#bdc1c6":"transparent"},penWidth=[2,4,6,8,16],fontSizes=[14,18,24,36,48],scales=[.25,.5,.75,1,1.5,2],rectBtnGroup=[{title:"Rectangle",shape:"rect"},{title:"Ellipse",shape:"ellipse"}],arrowBtnGroup=[{title:"Line Arrow",shape:"line_arrow"},{title:"Bezier Arrow",shape:"bezier_arrow"},{title:"Line",shape:"line"},{title:"Big Head Arrow",shape:"big_head_arrow"}],fontFamilies=["Times New Rome","Arial","Craft Girls","Limelight","Lobster","Anton","Chewy","Frijole","Spirax","Dancing Script","Changa One","Griffy"],imageArr=["windows-cursor","cursor","cursor-hand","cursor-hand-black","cursor-click","smile","cry","tick-off","cross","forbidden","warning","q-mark","like","heart","star","chicken","dog","rain","sun","cloud","thunder","fish","fish2","tree1","tree2","building1","building2","package","tent","umbrella","car","basketball","beer"],TYPE=["part","part","part","full","full","full","full","part","part","part","part","part","part","part","part","part","part","part","part","part","part","part","part","part","part","part","part","part"],EditorToolBar=function(_React$PureComponent){function EditorToolBar(e){var t;return _classCallCheck(this,EditorToolBar),(t=_possibleConstructorReturn(this,_getPrototypeOf(EditorToolBar).call(this,e))).handleCropDemensionChange=t.handleCropDemensionChange.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(EditorToolBar,_React$PureComponent),_createClass(EditorToolBar,[{key:"handleCropDemensionChange",value:function(e,t){this.props.handleToolBarBtnClick("action",{actionType:"crop-demension-"+e,value:t.target.value})}},{key:"render",value:function(){var e=this,t=this.props,a=t.handleToolBarBtnClick,r=t.handleResizeInputChange,n=t.handleResizeProportionChange,_=t.getResizeInfo,o=t.currentTool,s=t.currentScale,l=t.isShowScaleTip,i=t.cropWidth,c=t.cropHeight,u=t.resizeWidth,d=t.resizeHeight,E=t.resizeProportional,m=t.canUndo,p=t.canRedo,f=t.canClear,D=t.canDeleteSelected,h=t.finishEdit,P=t.isTextBackground,O=t.handleTextBgChange,M=t.handleResetList,b=100*s+"%";classnames__WEBPACK_IMPORTED_MODULE_5___default()("zoom-tip",{active:l});return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"toolbar active inner-container"},this.props.isInCropMode?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"crop-area"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"tool-action-btn primary-btn",id:"crop-btn",onClick:a.bind(e,"action",{actionType:"doCrop"})},"Crop"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"tool-action-btn",id:"crop-cancel-btn",onClick:a.bind(e,"action",{actionType:"leaveCrop"})},"Cancel"),(0!==i||0!==c)&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{id:"crop-dimension"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,"Width:",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{type:"text",id:"cd-width",className:"cd-input",onChange:e.handleCropDemensionChange.bind(null,"width"),value:i})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,"Height:",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{id:"cd-height",type:"text",className:"cd-input",onChange:e.handleCropDemensionChange.bind(null,"height"),value:c})))):react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"tools"},"ext"!==e.props.type&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"back-btn",onClick:e.props.handleBack},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(antd_lib_icon__WEBPACK_IMPORTED_MODULE_1___default.a,{type:"arrow-left"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.d,{className:"resize"},(function(e,t){var o=classnames__WEBPACK_IMPORTED_MODULE_5___default()("panel",{active:e.isExpand});return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"tool-btn resize-btn",id:"resize-btn",onClick:_},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("b",null)),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:o},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",null,"Width:"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{type:"number",id:"resize-width",min:"1",max:"5000",value:u,onChange:r.bind(null,"width")}),"px"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",null,"Height:"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{type:"number",id:"resize-height",min:"1",max:"5000",value:d,onChange:r.bind(null,"height")}),"px"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label",{htmlFor:"resize-proportional"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{type:"checkbox",checked:E,id:"resize-proportional",onChange:n}),"Proportional")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"do-resize-btn",id:"do-resize-btn",onClick:function(e){t(),a("action",{actionType:"doResize"})}},"Resize"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"resize-cancel",id:"resize-cancel",onClick:t},"Cancel"))))})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Crop",action:"crop",handleClick:a}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"tool-sep"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.b,{title:"Pen",shape:"curve",current:o,handleClick:a}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.c,{btns:rectBtnGroup,current:o,handleClick:a}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.c,{btns:arrowBtnGroup,current:o,handleClick:a}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.b,{title:"Text",shape:"Text",current:o,handleClick:a}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.b,{title:"Blur",shape:"rect_blur",current:o,handleClick:a}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.b,{title:"Highlight",shape:"highlight",current:o,handleClick:a}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"advanced-tool"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.b,{title:"Callout",shape:"callout",current:o,handleClick:a}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.b,{title:"Step",shape:"list",current:o,handleClick:a}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.d,{className:"tool-image-picker"},(function(e,t){var r=classnames__WEBPACK_IMPORTED_MODULE_5___default()("panel",{active:e.isExpand}),n=function(e){t(),a("action",{actionType:"doInsertImage",value:e})};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"image-btn",id:"image-btn"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("b",null),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"image-btn-arrow"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:r},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"panel-container"},imageArr.map((function(e,t){var a="./images/svg/"+e+".svg";return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"image-item",key:e,onClick:n.bind(null,e)},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img",{src:a,alt:""}))})))))})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Image",action:"insert-image",handleClick:a})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"tool-sep"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.d,{className:"tool-color-picker"},(function(t,r){var n=classnames__WEBPACK_IMPORTED_MODULE_5___default()("panel",{active:t.isExpand}),_=function(e){r(),a("action",{actionType:"changeColor",value:e})};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"tool-current-color current",id:"tool-current-color",style:{backgroundColor:e.props.currentColor},"data-color":e.props.currentColor}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:n},colors.map((function(t){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"color-item","data-color":t,key:t,style:{backgroundColor:t,borderColor:getBorderColor(t)},onClick:_.bind(e,t)})}))))})),function(){if("Text"===o){var t=P?"bg":"";return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.d,{className:"tool-font-family"},(function(t,a){var r=classnames__WEBPACK_IMPORTED_MODULE_5___default()("panel",{active:t.isExpand}),n=function(t){a(),e.props.handleToolBarBtnClick("action",{actionType:"changeFontFamily",value:t})};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"tool-current-font-family current",id:"tool-current-font-family","data-ff":e.props.currentFontFamily},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",null,e.props.currentFontFamily)),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:r},fontFamilies.map((function(t){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"font-f-item","data-ff":t,key:t,onClick:n.bind(e,t)},t)}))))})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.d,{className:"tool-font-size"},(function(t,a){var r=classnames__WEBPACK_IMPORTED_MODULE_5___default()("panel",{active:t.isExpand}),n=function(t){a(),e.props.handleToolBarBtnClick("action",{actionType:"changeFontSize",value:t})};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"tool-current-font-size current","data-fs":e.props.currentFontSize,id:"tool-current-font-size"},e.props.currentFontSize,"px"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:r},fontSizes.map((function(t){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"font-s-item",key:t,"data-fs":t,onClick:n.bind(e,t)},t,"px")}))))})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"single-btn text-bg-option-btn ".concat(t),onClick:O},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",null,"A")))}return"list"===o?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"tool-select tool-restart-sequence"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{onClick:M},"Restart Sequence")):react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.d,{className:"tool-pen-width"},(function(t,a){var r=classnames__WEBPACK_IMPORTED_MODULE_5___default()("panel",{active:t.isExpand}),n=function(t){a(),e.props.handleToolBarBtnClick("action",{actionType:"changePenWidth",value:t})};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"tool-current-width current",id:"tool-current-width","data-width":e.props.currentPenWidth},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("b",null),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",null,e.props.currentPenWidth,"px")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:r},penWidth.map((function(t){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"pen-width-item",key:t,"data-width":t,onClick:n.bind(e,t)},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("b",null),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",null,t,"px"))}))))}))}(),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"tool-sep"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Undo",action:"undo",disabled:!m,handleClick:a}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Redo",action:"redo",disabled:!p,handleClick:a}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Clear",action:"clear",disabled:!f,handleClick:a}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Delete Selected",action:"deleteSelected",disabled:!D,handleClick:a}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"tool-sep"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"zoom-area"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.d,null,(function(t,r){var n=classnames__WEBPACK_IMPORTED_MODULE_5___default()("zoom-tip",{active:t.isExpand});return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Zoom in",action:"zoom-in",handleClick:a}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_EditorTools__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Zoom out",action:"zoom-out",handleClick:a}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:n},"Zoom: ",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{className:"zoom-level"},b),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"restore-zoom",id:"restore-zoom",onClick:a.bind(e,"action",{actionType:"resetScale"})},"Reset to default")))}))),"web"===e.props.type&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"tool-action-btn primary-btn",id:"save-btn",onClick:h.bind(null,!0)},"FeedBack"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"or"},"or")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"tool-action-btn primary-btn",id:"save-btn",onClick:h},"web"===e.props.type?"Save":"Done")))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),EditorToolBar}(react__WEBPACK_IMPORTED_MODULE_2___default.a.PureComponent),_default=EditorToolBar,reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).default,reactHotLoader&&(reactHotLoader.register(colors,"colors","/Users/luo/Documents/codes/awesome-screenshot/src/components/EditorToolBar.js"),reactHotLoader.register(getBorderColor,"getBorderColor","/Users/luo/Documents/codes/awesome-screenshot/src/components/EditorToolBar.js"),reactHotLoader.register(penWidth,"penWidth","/Users/luo/Documents/codes/awesome-screenshot/src/components/EditorToolBar.js"),reactHotLoader.register(fontSizes,"fontSizes","/Users/luo/Documents/codes/awesome-screenshot/src/components/EditorToolBar.js"),reactHotLoader.register(scales,"scales","/Users/luo/Documents/codes/awesome-screenshot/src/components/EditorToolBar.js"),reactHotLoader.register(rectBtnGroup,"rectBtnGroup","/Users/luo/Documents/codes/awesome-screenshot/src/components/EditorToolBar.js"),reactHotLoader.register(arrowBtnGroup,"arrowBtnGroup","/Users/luo/Documents/codes/awesome-screenshot/src/components/EditorToolBar.js"),reactHotLoader.register(fontFamilies,"fontFamilies","/Users/luo/Documents/codes/awesome-screenshot/src/components/EditorToolBar.js"),reactHotLoader.register(imageArr,"imageArr","/Users/luo/Documents/codes/awesome-screenshot/src/components/EditorToolBar.js"),reactHotLoader.register(TYPE,"TYPE","/Users/luo/Documents/codes/awesome-screenshot/src/components/EditorToolBar.js"),reactHotLoader.register(EditorToolBar,"EditorToolBar","/Users/luo/Documents/codes/awesome-screenshot/src/components/EditorToolBar.js"),reactHotLoader.register(_default,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/EditorToolBar.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(17)(module))},334:function(e,t,a){e.exports=a.p+"images/callout_premium.png"},335:function(e,t,a){e.exports=a.p+"images/step_premium.png"},336:function(e,t,a){e.exports=a.p+"images/image_premium.png"},337:function(e,t,a){e.exports=a.p+"images/local-image_premium.png"},338:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var antd_lib_tooltip_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(63),antd_lib_tooltip_style__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(antd_lib_tooltip_style__WEBPACK_IMPORTED_MODULE_0__),antd_lib_tooltip__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(32),antd_lib_tooltip__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(antd_lib_tooltip__WEBPACK_IMPORTED_MODULE_1__),antd_lib_dropdown_style__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(465),antd_lib_dropdown_style__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(antd_lib_dropdown_style__WEBPACK_IMPORTED_MODULE_2__),antd_lib_dropdown__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(339),antd_lib_dropdown__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(antd_lib_dropdown__WEBPACK_IMPORTED_MODULE_3__),antd_lib_menu_style__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(467),antd_lib_menu_style__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(antd_lib_menu_style__WEBPACK_IMPORTED_MODULE_4__),antd_lib_menu__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(231),antd_lib_menu__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(antd_lib_menu__WEBPACK_IMPORTED_MODULE_5__),antd_lib_icon_style__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(36),antd_lib_icon_style__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(antd_lib_icon_style__WEBPACK_IMPORTED_MODULE_6__),antd_lib_icon__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(14),antd_lib_icon__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(antd_lib_icon__WEBPACK_IMPORTED_MODULE_7__),antd_lib_message_style__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(53),antd_lib_message_style__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(antd_lib_message_style__WEBPACK_IMPORTED_MODULE_8__),antd_lib_message__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(24),antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(antd_lib_message__WEBPACK_IMPORTED_MODULE_9__),antd_lib_button_style__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(25),antd_lib_button_style__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(antd_lib_button_style__WEBPACK_IMPORTED_MODULE_10__),antd_lib_button__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(16),antd_lib_button__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(antd_lib_button__WEBPACK_IMPORTED_MODULE_11__),antd_lib_notification_style__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(251),antd_lib_notification_style__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(antd_lib_notification_style__WEBPACK_IMPORTED_MODULE_12__),antd_lib_notification__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(45),antd_lib_notification__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(antd_lib_notification__WEBPACK_IMPORTED_MODULE_13__),react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__),classnames__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(4),classnames__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_15__),_SavePanel_less__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(470),_SavePanel_less__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_SavePanel_less__WEBPACK_IMPORTED_MODULE_16__),_api__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(10),_components_Modal_SignInModal__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(342),_components_Modal_SaveToAwsModal__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(345),_util_utils__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(13),_components_Modal_DesModal__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(348),_components_Modal_WhatDesModal__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(372),_components_RenderDestinations__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(340),_components_Modal_DriveModal__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(370),_components_Modal_UpgradeModal__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(50),_components_RenderDriveAccounts__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(341),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),r.forEach((function(t){_defineProperty(e,t,a[t])}))}return e}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).enterModule,enterModule&&enterModule(module);var localSaveItems=[{name:"save",displayName:"Download as image"},{name:"pdf",displayName:"Download as PDF"},{name:"print",displayName:"Print"},{name:"copy",displayName:"Copy"}],socalMedias=[{name:"facebook",url:"https://www.facebook.com/awesomescreen/"},{name:"twitter",url:"https://twitter.com/awe_screenshot"}],accountHash={},projectsHash={},notificationKey="questionnaire",clickNo=function(){chrome.storage.sync.get(["clickNo"],(function(e){e.clickNo?chrome.storage.sync.set({neverShow:!0}):chrome.storage.sync.set({clickNo:!0})})),antd_lib_notification__WEBPACK_IMPORTED_MODULE_13___default.a.destroy()},openNotification=function(e,t){antd_lib_notification__WEBPACK_IMPORTED_MODULE_13___default.a.open({key:notificationKey,className:"questionnaire",placement:"bottomRight",duration:0,style:{width:435,marginLeft:-80},message:e,description:t,onClose:clickNo})},goToWebStore=function(){Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.p)("https://chrome.google.com/webstore/detail/awesome-screenshot-screen/nlipoenfbbikpbjkfpfillcgkoblgpmj/reviews"),chrome.storage.sync.set({neverShow:!0}),antd_lib_notification__WEBPACK_IMPORTED_MODULE_13___default.a.destroy()},goToFeedback=function(){Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.p)("/feedback.html"),chrome.storage.sync.set({captureCount:0,clickNo:!0}),antd_lib_notification__WEBPACK_IMPORTED_MODULE_13___default.a.destroy()},openLikeNotification=function(){openNotification(react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_14___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("p",null,"Your review means a lot to us. Would you mind taking a moment to rate the extension in the Web Store?")),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_14___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_11___default.a,{style:{width:"236px",marginRight:"20px"},type:"primary",onClick:goToWebStore},"Sure, take me to the Web Store."),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_11___default.a,{style:{width:"100px"},onClick:clickNo},"No, thanks.")))},openUnlikeNotification=function(){openNotification(react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_14___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("p",null,"Would you like to report any issues you're experiencing or give us some suggestions so that we can make the extension better for you?")),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_14___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_11___default.a,{style:{width:"256px",marginRight:"20px"},type:"primary",onClick:goToFeedback},"Yes, take me to the feedback form."),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_11___default.a,{style:{width:"100px"},onClick:clickNo},"No, thanks.")))},openQuestion=function(){openNotification("Are you enjoying Awesome Screenshot?",react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_14___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_11___default.a,{style:{width:"100px",marginRight:"20px"},onClick:openLikeNotification},"Yes!"),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_11___default.a,{style:{width:"100px"},onClick:openUnlikeNotification},"Not really.")))},SavePanel=function(_React$Component){function SavePanel(e){var t;return _classCallCheck(this,SavePanel),(t=_possibleConstructorReturn(this,_getPrototypeOf(SavePanel).call(this,e))).printIframe=react__WEBPACK_IMPORTED_MODULE_14___default.a.createRef(),t.copyDiv=react__WEBPACK_IMPORTED_MODULE_14___default.a.createRef(),t.img=react__WEBPACK_IMPORTED_MODULE_14___default.a.createRef(),t.state={isShownSignin:!1,isShownSaveToAws:!1,isShownWhatDes:!1,isShownDrive:!1,isShownUpgrade:!1,signInLoading:!1,uploadImagePercentage:0,awsShareUrls:[],projects:[],destinations:[],accounts:[],isShownDes:!1,desCurrentPanel:"add",currentDes:null,driveService:"",currentDriveAccount:null,upgradeType:"",zoomImageIndex:""},t.handleLocalSave=t.handleLocalSave.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleSaveToAws=t.handleSaveToAws.bind(_assertThisInitialized(_assertThisInitialized(t))),t.showModal=t.showModal.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleModalCancel=t.handleModalCancel.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleSignInFinish=t.handleSignInFinish.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleUploadFinish=t.handleUploadFinish.bind(_assertThisInitialized(_assertThisInitialized(t))),t.refreshUserData=t.refreshUserData.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleProjectCreated=t.handleProjectCreated.bind(_assertThisInitialized(_assertThisInitialized(t))),t.openDesModal=t.openDesModal.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleDesClick=t.handleDesClick.bind(_assertThisInitialized(_assertThisInitialized(t))),t.goToAddDes=t.goToAddDes.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleDesCreated=t.handleDesCreated.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleAccountConnected=t.handleAccountConnected.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleAddDriveClick=t.handleAddDriveClick.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleAddDesClick=t.handleAddDesClick.bind(_assertThisInitialized(_assertThisInitialized(t))),t.openDriveModal=t.openDriveModal.bind(_assertThisInitialized(_assertThisInitialized(t))),t.openSetting=t.openSetting.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleDriveAccountConnected=t.handleDriveAccountConnected.bind(_assertThisInitialized(_assertThisInitialized(t))),t.showUpgradeModal=t.showUpgradeModal.bind(_assertThisInitialized(_assertThisInitialized(t))),t.getPermissionByName=t.getPermissionByName.bind(_assertThisInitialized(_assertThisInitialized(t))),t.copyUrl=t.copyUrl.bind(_assertThisInitialized(_assertThisInitialized(t))),t.openFeedback=t.openFeedback.bind(_assertThisInitialized(_assertThisInitialized(t))),t.openOptionPage=t.openOptionPage.bind(_assertThisInitialized(_assertThisInitialized(t))),t.downloadMultiple=t.downloadMultiple.bind(_assertThisInitialized(_assertThisInitialized(t))),t.downloadMultiplePDF=t.downloadMultiplePDF.bind(_assertThisInitialized(_assertThisInitialized(t))),t.zoomImage=t.zoomImage.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(SavePanel,_React$Component),_createClass(SavePanel,[{key:"componentDidMount",value:function(){var e=this;this.props.user.username&&0===this.state.projects.length&&this.refreshUserData(),chrome.runtime.onMessage.addListener((function(t,a,r){var n=t.name;"awsLoginByGoogle"===n?(e.props.refreshUser(),e.setState({isShownSignin:!1})):"stop"===n&&r()}))}},{key:"componentDidUpdate",value:function(e,t){e.user.username!==this.props.user.username&&(this.props.user.username?this.refreshUserData():this.setState({awsShareUrls:[],projects:[],destinations:[],accounts:[]})),"save"===this.props.step&&chrome.storage.sync.get(["captureCount","clickNo","neverShow"],(function(e){if(!e.neverShow){if(e.clickNo)var t=100;else t=50;e.captureCount&&e.captureCount>t&&openQuestion()}}))}},{key:"copyUrl",value:function(e){Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.f)(e)}},{key:"downloadMultiple",value:function(){var e=this.props,t=e.imageUrl,a=(e.tabTitle,e.tabUrl),r=this.props.contentType.split("/")[1];"jpeg"===r&&(r="jpg");var n=Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.l)(a);"true"===localStorage["save-as"]?Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.q)().then((function(){t.forEach((function(e,t){var a={url:e,filename:n+"_part"+(t+1)+"."+r};Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.c)(a)}))})):t.forEach((function(e,t){Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.o)(e,n+"_part"+(t+1)+"."+r)}))}},{key:"downloadMultiplePDF",value:function(){var e=this.props.imageUrl,t=Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.l)(this.props.tabUrl);"true"===localStorage["save-as"]?Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.q)().then((function(){Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.e)(e).then((function(e){var a={url:e,filename:t+".pdf"};Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.c)(a)}))})):Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.e)(e).then((function(e){Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.o)(e,t+".pdf")}))}},{key:"handleLocalSave",value:function(e){var t=this,a=this.props,r=a.imageUrl,n=a.tabTitle;a.tabUrl;if("save"===e){var _=t.props.contentType.split("/")[1];"jpeg"==_&&(_="jpg");var o=n.replace(/(\.|\:)/g," ").replace(/[#$~!@%^&*();'"?><\[\]{}\|,:\/=+]/g," ")+"."+_;if("true"===localStorage["save-as"]){var s={url:window.URL.createObjectURL(t.props.imageBlob),filename:o,saveAs:!0};Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.q)().then((function(){Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.c)(s)}))}else Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.o)(window.URL.createObjectURL(t.props.imageBlob),o)}else if("print"===e){var l=this.printIframe.current,i='<div style="margin:0 auto;text-align:center"><img style="width:100%;" src="'.concat(r,'"></div>'),c=l.contentWindow.document;c.write(i);var u=l.contentWindow;u.close(),u.focus(),u.print(),c.body.innerHTML=""}else if("copy"===e)try{var d=this.copyDiv.current,E=document.createElement("img");E.src=r,E.onload=function(){d.innerHTML="",d.appendChild(E);var e=document.createRange();e.selectNode(E);var t=window.getSelection();t.removeAllRanges(),t.addRange(e),document.execCommand("Copy",!1,null),antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.success("Copy success!",1)}}catch(e){antd_lib_message__WEBPACK_IMPORTED_MODULE_9___default.a.error("Sorry,your system doesn't support this function. Please right click on this image to save.")}else if("pdf"===e){this.props.info.width;var m=this.props.info.height,p=this.props.imageUrl,f=(this.props.tabTitle,this.props.tabUrl,n.replace(/(\.|\:)/g," ").replace(/[#$~!@%^&*();'"?><\[\]{}\|,:\/=+-]/g," ")+".pdf");"true"===localStorage["save-as"]?Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.q)().then((function(){m>14400?Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.r)(p,14400,(function(e){Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.d)(e).then((function(e){var t={url:e,filename:f,saveAs:!0};Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.c)(t)}))})):Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.d)([p]).then((function(e){var t={url:e,filename:f,saveAs:!0};Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.c)(t)}))})):m>14400?Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.r)(p,14400,(function(e){Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.d)(e).then((function(e){Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.o)(e,f)}))})):Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.d)([p]).then((function(e){Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.o)(e,f)}))}}},{key:"handleSaveToAws",value:function(){this.props.user.username?this.showModal("SaveToAws"):this.setState({signInType:"aws",isShownSignin:!0})}},{key:"openFeedback",value:function(){var e=_objectSpread({},this.props.imageInfo);localStorage.last_info=JSON.stringify(e),chrome.tabs.create({url:"/feedback.html"})}},{key:"openOptionPage",value:function(){chrome.tabs.create({url:"/option-react.html"})}},{key:"handleSignInFinish",value:function(){this.handleModalCancel("Signin"),this.props.refreshUser()}},{key:"handleUploadFinish",value:function(e){this.setState({isShownSaveToAws:!1,awsShareUrls:_toConsumableArray(this.state.awsShareUrls).concat([e])})}},{key:"showModal",value:function(e){var t="isShown".concat(e);this.setState(_defineProperty({},t,!0))}},{key:"openSetting",value:function(e){chrome.tabs.create({url:"https://www.awesomescreenshot.com/account/"+e})}},{key:"handleModalCancel",value:function(e){var t,a="isShown".concat(e);this.setState((_defineProperty(t={},a,!1),_defineProperty(t,"signInType",""),t))}},{key:"goToAddDes",value:function(){this.setState({desCurrentPanel:"add"})}},{key:"handleDesCreated",value:function(e){this.setState({destinations:_toConsumableArray(this.state.destinations).concat([e]),desCurrentPanel:"des",currentDes:e})}},{key:"openDesModal",value:function(e){var t=this;this.setState({desCurrentPanel:e},(function(){t.showModal("Des")}))}},{key:"getPermissionByName",value:function(e){return this.props.permissions["allow".concat(Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.b)(e))]}},{key:"goToRate",value:function(){Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.p)("https://chrome.google.com/webstore/detail/awesome-screenshot-screen/nlipoenfbbikpbjkfpfillcgkoblgpmj/reviews")}},{key:"handleDesClick",value:function(e){var t=this;"add"===e?this.openDesModal("add"):this.getPermissionByName(e.service)?this.setState({currentDes:e},(function(){t.openDesModal("des")})):this.setState({upgradeType:"des",isShownUpgrade:!0})}},{key:"handleSignOut",value:function(){Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.p)("https://www.awesomescreenshot.com/user/loginOut")}},{key:"handleProjectCreated",value:function(e){this.setState({projects:[e].concat(_toConsumableArray(this.state.projects))})}},{key:"openDriveModal",value:function(e){var t=this;this.props.user.username?this.props.permissions["allow".concat(Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.b)(e.service))]?this.setState({currentDriveAccount:e},(function(){t.showModal("Drive")})):this.setState({upgradeType:e.service},(function(){t.showModal("Upgrade")})):this.setState({signInType:"drive",isShownSignin:!0})}},{key:"refreshUserData",value:function(){var e=this;this.setState({projects:[],destinations:[],isShownSignin:!1}),Object(_api__WEBPACK_IMPORTED_MODULE_17__.j)().then((function(t){t.data.ErrorCode||(e.setState({projects:t.data.ProjectInfo}),t.data.ProjectInfo&&t.data.ProjectInfo.forEach((function(e){projectsHash[e.ProjectId]=e})))})),Promise.all([Object(_api__WEBPACK_IMPORTED_MODULE_17__.m)(),Object(_api__WEBPACK_IMPORTED_MODULE_17__.n)()]).then((function(t){e.setState({accounts:t[0].accounts?t[0].accounts:[],destinations:t[1].destinations?t[1].destinations:[]}),t[0].accounts&&(accountHash={},t[0].accounts.forEach((function(e){accountHash[e.id]=e})))})).catch((function(e){}))}},{key:"handleAccountConnected",value:function(e){this.setState({accounts:_toConsumableArray(this.state.accounts).concat([e]),currentAccount:e},(function(){accountHash[e.id]=e}))}},{key:"handleDriveAccountConnected",value:function(e){this.setState({accounts:[e].concat(_toConsumableArray(this.state.accounts)),currentDriveAccount:e})}},{key:"handleAddDesClick",value:function(){this.props.user.username?this.showModal("Des"):this.setState({signInType:"des",isShownSignin:!0})}},{key:"handleAddDriveClick",value:function(){var e=this;this.props.user.username?this.setState({currentDriveAccount:null},(function(){e.showModal("Drive")})):this.setState({signInType:"drive",isShownSignin:!0})}},{key:"showUpgradeModal",value:function(e){this.setState({isShownUpgrade:!0,driveService:e})}},{key:"zoomImage",value:function(e){this.setState({zoomImageIndex:e})}},{key:"render",value:function(){var e=this,t=Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.n)(this.props.imageUrl),a=this.state,r=a.awsShareUrls,n=a.destinations,_=this.props.user,o=this.state.accounts.filter((function(e){return"googleDrive"===e.service||"dropbox"===e.service||"box"===e.service})),s=this.state.accounts.filter((function(e){return"googleDrive"!==e.service&&"dropbox"!==e.service&&"box"!==e.service})),l=classnames__WEBPACK_IMPORTED_MODULE_15___default()("save-panel",this.props.className),i=react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_menu__WEBPACK_IMPORTED_MODULE_5___default.a,null,"free"===this.props.currentPlan.PlanName&&react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_menu__WEBPACK_IMPORTED_MODULE_5___default.a.Item,null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("a",{href:"https://www.awesomescreenshot.com/pricing",target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_icon__WEBPACK_IMPORTED_MODULE_7___default.a,{type:"crown",style:{marginRight:"5px"},title:"Premium user"}),"Upgrade")),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_menu__WEBPACK_IMPORTED_MODULE_5___default.a.Item,{onClick:this.handleSignOut},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("a",null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_icon__WEBPACK_IMPORTED_MODULE_7___default.a,{type:"logout",style:{marginRight:"5px"}}),"Sign out"))),c=function(e,t,a){return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"section"},e&&react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"section-title"},t&&react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"icon "+t}),e),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"section-content"},a))};return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:l},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("iframe",{className:"print-iframe",ref:this.printIframe,frameBorder:"0"}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"copy-div",contentEditable:"true",ref:this.copyDiv}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"top-bar"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"inner-container"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"logo-area"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"logo"}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("a",_defineProperty({target:"_blank",href:"https://www.awesomescreenshot.com"},"target","_blank"))),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"user-area"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("a",{className:"user-link email-us",target:"_blank",onClick:this.openOptionPage},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_icon__WEBPACK_IMPORTED_MODULE_7___default.a,{type:"setting"}),"Options"),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("a",{className:"user-link email-us",target:"_blank",onClick:this.openFeedback},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_icon__WEBPACK_IMPORTED_MODULE_7___default.a,{type:"mail"}),"Send Feedback"),_.username?react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_dropdown__WEBPACK_IMPORTED_MODULE_3___default.a,{overlay:i,trigger:["click"],placement:"bottomRight"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"user-link"},"free"!==this.props.currentPlan.PlanName&&this.props.currentPlan.PlanName?react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_icon__WEBPACK_IMPORTED_MODULE_7___default.a,{type:"crown",theme:"filled",style:{color:"#faad14"}}):react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_icon__WEBPACK_IMPORTED_MODULE_7___default.a,{type:"user"}),_.username,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_icon__WEBPACK_IMPORTED_MODULE_7___default.a,{type:"down"}))):react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"user-link",onClick:this.showModal.bind(null,"Signin")},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_icon__WEBPACK_IMPORTED_MODULE_7___default.a,{type:"user"}),"Sign in")))),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"panel"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"inner-container"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"left"},!t&&react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_tooltip__WEBPACK_IMPORTED_MODULE_1___default.a,{mouseEnterDelay:.3,title:"Back and Re-edit this screenshot"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"back-btn",onClick:this.props.backToEdit},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("b",null))),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"image-container"},Object(_util_utils__WEBPACK_IMPORTED_MODULE_20__.n)(e.props.imageUrl)?e.props.imageUrl.map((function(t,a){var r=e.state.zoomImageIndex===a,n=r?"zoom-in":"";return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("img",{className:"multiple ".concat(n),src:t,key:a,ref:e.img,alt:"",onClick:function(){e.zoomImage(r?"":a)}})})):react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_14___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("span",{className:"helper"}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("img",{src:e.props.imageUrl,ref:e.img,alt:""})))),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"right"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"panel-logo-area"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"logo"}),"AwesomeScreenshot"),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"right-container"},t?react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"multiple-image-panel sub-panel"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"section"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"tip"},"Note: there's no way for Chrome to capture this web page as a single image because it is too large, and editing toolbar is not available in this situation. The screenshot was automatically split into"," ",this.props.imageUrl.length," images. You can download all images or save images as a single PDF with one click."),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"btn-area"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_11___default.a,{block:!0,className:"multiple-download-btn",onClick:this.downloadMultiple},"Download all ".concat(this.props.imageUrl.length," images")),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_11___default.a,{block:!0,className:"multiple-download-btn",onClick:this.downloadMultiplePDF},"Download as PDF")))):react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_14___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"local-panel"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"local-save-container"},localSaveItems.map((function(t){var a=classnames__WEBPACK_IMPORTED_MODULE_15___default()("local-save-item",t.name);return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_tooltip__WEBPACK_IMPORTED_MODULE_1___default.a,{mouseEnterDelay:.3,title:t.displayName,key:t.name},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:a,onClick:e.handleLocalSave.bind(null,t.name)},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("b",null)))})))),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"sub-panel"},c("Save to Awesome Screenshot","",react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_14___default.a.Fragment,null,r.length?react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"aws-share-area"},r.map((function(t){return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{key:t.projectId,className:"aws-share-item"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"title"},"Saved in ",react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("span",null,t.projectName)),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"input-area"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("input",{type:"text",value:t.url,readOnly:!0}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_tooltip__WEBPACK_IMPORTED_MODULE_1___default.a,{title:"copied!",trigger:"click"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"aws-share-action-btn",onClick:e.copyUrl.bind(null,t.url)},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_icon__WEBPACK_IMPORTED_MODULE_7___default.a,{type:"copy"})))))})),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"save-another",onClick:this.handleSaveToAws},"Save to another project")):react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_11___default.a,{className:"save-aws-btn",onClick:this.handleSaveToAws,block:!0},"Upload to get shareable link")))),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"sub-panel"},c(react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_14___default.a.Fragment,null,"Collaborate with Teammates",0!==n.length&&react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"actions"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_tooltip__WEBPACK_IMPORTED_MODULE_1___default.a,{title:"Manage destinations"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"action-btn option",onClick:this.openSetting.bind(null,"destinations")})))),"",react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_RenderDestinations__WEBPACK_IMPORTED_MODULE_23__.a,{destinations:n,handleDesClick:this.handleDesClick,handleAddDesClick:this.handleAddDesClick,small:!0}))),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"sub-panel"},c(react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_14___default.a.Fragment,null,"Save to Cloud",0!==o.length&&react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"actions"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_tooltip__WEBPACK_IMPORTED_MODULE_1___default.a,{title:"Connect a new account"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"action-btn add",onClick:this.handleAddDriveClick})),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_tooltip__WEBPACK_IMPORTED_MODULE_1___default.a,{title:"Manage accounts"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"action-btn option",onClick:this.openSetting.bind(null,"connectedAccounts")})))),"",react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_14___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"save-to-drive"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_RenderDriveAccounts__WEBPACK_IMPORTED_MODULE_26__.a,{accounts:o,handleAddDriveClick:this.handleAddDriveClick,handleDriveItemClick:this.openDriveModal})))))))))),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"footer"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"inner-container"},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("div",{className:"social-media"},socalMedias.map((function(e){return react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement("a",{target:"_blank",key:e.name,href:e.url,className:classnames__WEBPACK_IMPORTED_MODULE_15___default()("social-media-item",e.name)},react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(antd_lib_icon__WEBPACK_IMPORTED_MODULE_7___default.a,{type:e.name}))}))))),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_Modal_SignInModal__WEBPACK_IMPORTED_MODULE_18__.a,{visible:this.state.isShownSignin,onCancel:this.handleModalCancel.bind(null,"Signin"),type:this.state.signInType,onSignInFinish:this.handleSignInFinish}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_Modal_SaveToAwsModal__WEBPACK_IMPORTED_MODULE_19__.a,{visible:this.state.isShownSaveToAws,onCancel:this.handleModalCancel.bind(null,"SaveToAws"),tabTitle:this.props.tabTitle,imageUrl:this.props.imageUrl,imageBlob:this.props.imageBlob,img:this.img.current,projects:this.state.projects||[],projectsHash:projectsHash,onUploadFinish:this.handleUploadFinish,onRefreshProjects:this.refreshUserData,onProjectCreated:this.handleProjectCreated,currentPlan:this.props.currentPlan}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_Modal_DesModal__WEBPACK_IMPORTED_MODULE_21__.a,{visible:this.state.isShownDes,onCancel:this.handleModalCancel.bind(null,"Des"),currentPanel:this.state.desCurrentPanel,currentDes:this.state.currentDes,accountHash:accountHash,destinations:this.state.destinations,accounts:s,tabTitle:this.props.tabTitle,tabUrl:this.props.tabUrl,imageUrl:this.props.imageUrl,imageBlob:this.props.imageBlob,goToAddDes:this.goToAddDes,handleDesCreated:this.handleDesCreated,handleAccountConnected:this.handleAccountConnected,imageInfo:this.props.imageInfo,permissions:this.props.permissions,currentPlan:this.props.currentPlan,contentType:this.props.contentType}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_Modal_DriveModal__WEBPACK_IMPORTED_MODULE_24__.a,{visible:this.state.isShownDrive,onCancel:this.handleModalCancel.bind(null,"Drive"),tabTitle:this.props.tabTitle,imageUrl:this.props.imageUrl,imageBlob:this.props.imageBlob,service:this.state.driveService,permissions:this.props.permissions,currentPlan:this.props.currentPlan,accounts:o,currentDriveAccount:this.state.currentDriveAccount,handleDriveAccountConnected:this.handleDriveAccountConnected,contentType:this.props.contentType,showUpgradeModal:this.showUpgradeModal}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_Modal_UpgradeModal__WEBPACK_IMPORTED_MODULE_25__.a,{visible:this.state.isShownUpgrade,onCancel:this.handleModalCancel.bind(null,"Upgrade"),type:this.state.upgradeType}),react__WEBPACK_IMPORTED_MODULE_14___default.a.createElement(_components_Modal_WhatDesModal__WEBPACK_IMPORTED_MODULE_22__.a,{visible:this.state.isShownWhatDes,onCancel:this.handleModalCancel.bind(null,"WhatDes")}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),SavePanel}(react__WEBPACK_IMPORTED_MODULE_14___default.a.Component),_default=SavePanel,reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).default,reactHotLoader&&(reactHotLoader.register(localSaveItems,"localSaveItems","/Users/luo/Documents/codes/awesome-screenshot/src/container/SavePanel.js"),reactHotLoader.register(socalMedias,"socalMedias","/Users/luo/Documents/codes/awesome-screenshot/src/container/SavePanel.js"),reactHotLoader.register(accountHash,"accountHash","/Users/luo/Documents/codes/awesome-screenshot/src/container/SavePanel.js"),reactHotLoader.register(projectsHash,"projectsHash","/Users/luo/Documents/codes/awesome-screenshot/src/container/SavePanel.js"),reactHotLoader.register(notificationKey,"notificationKey","/Users/luo/Documents/codes/awesome-screenshot/src/container/SavePanel.js"),reactHotLoader.register(clickNo,"clickNo","/Users/luo/Documents/codes/awesome-screenshot/src/container/SavePanel.js"),reactHotLoader.register(openNotification,"openNotification","/Users/luo/Documents/codes/awesome-screenshot/src/container/SavePanel.js"),reactHotLoader.register(goToWebStore,"goToWebStore","/Users/luo/Documents/codes/awesome-screenshot/src/container/SavePanel.js"),reactHotLoader.register(goToFeedback,"goToFeedback","/Users/luo/Documents/codes/awesome-screenshot/src/container/SavePanel.js"),reactHotLoader.register(openLikeNotification,"openLikeNotification","/Users/luo/Documents/codes/awesome-screenshot/src/container/SavePanel.js"),reactHotLoader.register(openUnlikeNotification,"openUnlikeNotification","/Users/luo/Documents/codes/awesome-screenshot/src/container/SavePanel.js"),reactHotLoader.register(openQuestion,"openQuestion","/Users/luo/Documents/codes/awesome-screenshot/src/container/SavePanel.js"),reactHotLoader.register(SavePanel,"SavePanel","/Users/luo/Documents/codes/awesome-screenshot/src/container/SavePanel.js"),reactHotLoader.register(_default,"default","/Users/luo/Documents/codes/awesome-screenshot/src/container/SavePanel.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(17)(module))},340:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return p}));a(63);var r,n,_,o=a(32),s=a.n(o),l=(a(25),a(16)),i=a.n(l),c=a(0),u=a.n(c),d=a(15),E=a(4),m=a.n(E);a(487);function p(e){var t=e.destinations,a=m()("des-container",{small:e.small});return u.a.createElement("div",{className:"render-des"},t&&t.length?u.a.createElement("div",{className:a},t.map((function(t,a){var r=m()("des-item",t.service);return u.a.createElement("div",{className:r,key:a,onClick:e.handleDesClick.bind(null,t),title:d.a[t.service].displayName+" ("+d.b[t.resourceType]+t.resourceName+")"},u.a.createElement("div",{className:"icon"}),u.a.createElement("div",{className:"name"},d.b[t.resourceType]+t.resourceName))})),u.a.createElement("div",{className:"des-item add",onClick:e.handleDesClick.bind(null,"add")},u.a.createElement("div",{className:"icon"},"+"))):u.a.createElement(u.a.Fragment,null,u.a.createElement(i.a,{type:"primary",className:"feedback-btn",block:!0,onClick:e.handleAddDesClick},"Connect with other services"),u.a.createElement("div",{className:"support-s"},u.a.createElement("div",null,"Support:"),u.a.createElement("div",{className:"s-container"},d.e.map((function(e){return u.a.createElement(s.a,{key:e.name,title:e.displayName},u.a.createElement("div",{className:"s-item ".concat(e.name)}))}))))))}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e),(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&n.register(p,"RenderDestinations","/Users/luo/Documents/codes/awesome-screenshot/src/components/RenderDestinations.js"),(_=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&_(e)}).call(this,a(17)(e))},341:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return E}));a(63);var r,n,_,o=a(32),s=a.n(o),l=(a(25),a(16)),i=a.n(l),c=a(0),u=a.n(c),d=a(15);a(488);function E(e){var t=e.accounts;return u.a.createElement("div",{className:"render-drive-accounts"},t&&t.length?u.a.createElement("div",{className:"save-to-drive"},t.map((function(t){return u.a.createElement("div",{key:t.id,className:"save-item ".concat(t.service),onClick:e.handleDriveItemClick.bind(null,t)},u.a.createElement("div",{className:"icon"}),d.a[t.service].displayName," ",u.a.createElement("span",null,"(",u.a.createElement("span",{className:"user-email",title:t.userInfo.email},t.userInfo.email),")"))}))):u.a.createElement(u.a.Fragment,null,u.a.createElement(i.a,{type:"primary",className:"connect-btn",block:!0,onClick:e.handleAddDriveClick},"Connect with cloud storage"),u.a.createElement("div",{className:"support-s"},u.a.createElement("div",null,"Support:"),u.a.createElement("div",{className:"s-container"},d.d.map((function(e){return u.a.createElement(s.a,{key:e.name,title:e.displayName},u.a.createElement("div",{className:"s-item ".concat(e.name)}))}))))))}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e),(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&n.register(E,"RenderDriveAccounts","/Users/luo/Documents/codes/awesome-screenshot/src/components/RenderDriveAccounts.js"),(_=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&_(e)}).call(this,a(17)(e))},342:function(e,t,a){"use strict";(function(e){a(62);var r,n=a(38),_=a.n(n),o=a(0),s=a.n(o),l=(a(489),a(343));function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var c,u,d=function(e){return s.a.createElement(_.a,i({},e,{footer:null,maskClosable:!1,wrapClassName:"sign-in",destroyOnClose:!0,centered:!0}),s.a.createElement(l.a,e))},E=d;t.a=E,(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(c.register(d,"SignInModal","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/SignInModal.js"),c.register(E,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/SignInModal.js")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&u(e)}).call(this,a(17)(e))},343:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var antd_lib_message_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(53),antd_lib_message_style__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(antd_lib_message_style__WEBPACK_IMPORTED_MODULE_0__),antd_lib_message__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24),antd_lib_message__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(antd_lib_message__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_api__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10),_util_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_SignInPanel_less__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(490),_SignInPanel_less__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_SignInPanel_less__WEBPACK_IMPORTED_MODULE_5__),_SignInForm__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(344),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).enterModule,enterModule&&enterModule(module);var SignInPanel=function(_React$Component){function SignInPanel(e){var t;return _classCallCheck(this,SignInPanel),(t=_possibleConstructorReturn(this,_getPrototypeOf(SignInPanel).call(this,e))).state={isShowSignIn:!1,signInLoading:!1},t.enterSignIn=t.enterSignIn.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleSignInSubmit=t.handleSignInSubmit.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleConnectGoogle=t.handleConnectGoogle.bind(_assertThisInitialized(_assertThisInitialized(t))),t.goToSignUp=t.goToSignUp.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(SignInPanel,_React$Component),_createClass(SignInPanel,[{key:"enterSignIn",value:function(e){e.preventDefault(),this.setState({isShowSignIn:!0})}},{key:"goToSignUp",value:function(){Object(_util_utils__WEBPACK_IMPORTED_MODULE_4__.p)("https://www.awesomescreenshot.com/user/login"),this.props.onCancel()}},{key:"handleSignInSubmit",value:function(e){var t=this;this.setState({signInLoading:!0}),Object(_api__WEBPACK_IMPORTED_MODULE_3__.r)(e).then((function(e){var a=e.data;0==a.ErrorCode?(a.S,t.setState({signInLoading:!1}),t.props.onSignInFinish()):(antd_lib_message__WEBPACK_IMPORTED_MODULE_1___default.a.error(a.ErrorMsg),t.setState({signInLoading:!1}))})).catch((function(e){t.setState({signInLoading:!1}),antd_lib_message__WEBPACK_IMPORTED_MODULE_1___default.a.error("Network error! Please try later!")}))}},{key:"handleConnectGoogle",value:function(){Object(_util_utils__WEBPACK_IMPORTED_MODULE_4__.p)(_api__WEBPACK_IMPORTED_MODULE_3__.b+"/openid/auth2?redirect_url="+encodeURIComponent(chrome.runtime.getURL("aws")))}},{key:"render",value:function(){var e=this.props.type,t=this.state.isShowSignIn;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"sign-in-panel"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"title"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"logo"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("b",null)),"Awesome Screenshot"),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p",{className:"tip"},function(e){return"aws"===e?"":"drive"===e?"You need to sign in to an Awesome Screenshot account in order to connect with cloud services.":"des"===e?"You need to sign in to an Awesome Screenshot account in order to connect with other services.":""}(e)),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"box"},t?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"signInForm"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_SignInForm__WEBPACK_IMPORTED_MODULE_6__.a,_extends({},this.state,{onSignInSubmit:this.handleSignInSubmit}))):react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"google-signin-btn",onClick:this.handleConnectGoogle},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"icon"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"18px",height:"18px",viewBox:"0 0 48 48",className:"abcRioButtonSvg"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("g",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{fill:"none",d:"M0 0h48v48H0z"})))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",null,"Sign in with Google")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"sign-in-tip"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a",{onClick:this.enterSignIn},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("b",null,"Sign in")," with email and password")),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"sign-up-tip"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a",{onClick:this.goToSignUp},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("b",null,"Create account")," with other email")))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),SignInPanel}(react__WEBPACK_IMPORTED_MODULE_2___default.a.Component),_default=SignInPanel,reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).default,reactHotLoader&&(reactHotLoader.register(SignInPanel,"SignInPanel","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/SignInPanel.js"),reactHotLoader.register(_default,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/SignInPanel.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(17)(module))},344:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var antd_lib_button_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25),antd_lib_button_style__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(antd_lib_button_style__WEBPACK_IMPORTED_MODULE_0__),antd_lib_button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(16),antd_lib_button__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(antd_lib_button__WEBPACK_IMPORTED_MODULE_1__),antd_lib_form_style__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(34),antd_lib_form_style__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(antd_lib_form_style__WEBPACK_IMPORTED_MODULE_2__),antd_lib_form__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),antd_lib_form__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(antd_lib_form__WEBPACK_IMPORTED_MODULE_3__),antd_lib_input_style__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(41),antd_lib_input_style__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(antd_lib_input_style__WEBPACK_IMPORTED_MODULE_4__),antd_lib_input__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(21),antd_lib_input__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(antd_lib_input__WEBPACK_IMPORTED_MODULE_5__),antd_lib_icon_style__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(36),antd_lib_icon_style__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(antd_lib_icon_style__WEBPACK_IMPORTED_MODULE_6__),antd_lib_icon__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(14),antd_lib_icon__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(antd_lib_icon__WEBPACK_IMPORTED_MODULE_7__),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),_util_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(13),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).enterModule,enterModule&&enterModule(module);var SignInForm=function(_React$Component){function SignInForm(e){var t;return _classCallCheck(this,SignInForm),(t=_possibleConstructorReturn(this,_getPrototypeOf(SignInForm).call(this,e))).handleSubmit=t.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(t))),t.fp=t.fp.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(SignInForm,_React$Component),_createClass(SignInForm,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields((function(e,a){e||t.props.onSignInSubmit(a)}))}},{key:"fp",value:function(){Object(_util_utils__WEBPACK_IMPORTED_MODULE_9__.p)("https://www.awesomescreenshot.com/user/forgetPassword")}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_lib_form__WEBPACK_IMPORTED_MODULE_3___default.a,{onSubmit:this.handleSubmit},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_lib_form__WEBPACK_IMPORTED_MODULE_3___default.a.Item,null,e("email",{rules:[{required:!0,message:"Please input your email!"}]})(react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_lib_input__WEBPACK_IMPORTED_MODULE_5___default.a,{size:"large",prefix:react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_lib_icon__WEBPACK_IMPORTED_MODULE_7___default.a,{type:"user"}),type:"email",placeholder:"Email"}))),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_lib_form__WEBPACK_IMPORTED_MODULE_3___default.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your password!"}]})(react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_lib_input__WEBPACK_IMPORTED_MODULE_5___default.a,{size:"large",prefix:react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_lib_icon__WEBPACK_IMPORTED_MODULE_7___default.a,{type:"lock"}),type:"password",placeholder:"Password"}))),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"fp-box"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("a",{className:"fp",onClick:this.fp},"Forget Password")),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_lib_form__WEBPACK_IMPORTED_MODULE_3___default.a.Item,null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_1___default.a,{size:"large",type:"primary",loading:this.props.signInLoading,block:!0,htmlType:"submit"},"Sign In")))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),SignInForm}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component),_default=antd_lib_form__WEBPACK_IMPORTED_MODULE_3___default.a.create()(SignInForm),reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).default,reactHotLoader&&(reactHotLoader.register(SignInForm,"SignInForm","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/SignInForm.js"),reactHotLoader.register(_default,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/SignInForm.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(17)(module))},345:function(e,t,a){"use strict";(function(e){a(62);var r,n=a(38),_=a.n(n),o=a(0),s=a.n(o),l=(a(600),a(346));function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var c,u,d=function(e){return s.a.createElement(_.a,i({},e,{footer:null,maskClosable:!1,wrapClassName:"save-to-aws",destroyOnClose:!0,centered:!0}),s.a.createElement(l.a,e))},E=d;t.a=E,(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(c.register(d,"SaveToAwsModal","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/SaveToAwsModal.js"),c.register(E,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/SaveToAwsModal.js")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&u(e)}).call(this,a(17)(e))},346:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var antd_lib_icon_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(36),antd_lib_icon_style__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(antd_lib_icon_style__WEBPACK_IMPORTED_MODULE_0__),antd_lib_icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),antd_lib_icon__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(antd_lib_icon__WEBPACK_IMPORTED_MODULE_1__),antd_lib_divider_style__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(601),antd_lib_divider_style__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(antd_lib_divider_style__WEBPACK_IMPORTED_MODULE_2__),antd_lib_divider__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(347),antd_lib_divider__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(antd_lib_divider__WEBPACK_IMPORTED_MODULE_3__),antd_lib_button_style__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(25),antd_lib_button_style__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(antd_lib_button_style__WEBPACK_IMPORTED_MODULE_4__),antd_lib_button__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(16),antd_lib_button__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(antd_lib_button__WEBPACK_IMPORTED_MODULE_5__),antd_lib_form_style__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(34),antd_lib_form_style__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(antd_lib_form_style__WEBPACK_IMPORTED_MODULE_6__),antd_lib_form__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5),antd_lib_form__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(antd_lib_form__WEBPACK_IMPORTED_MODULE_7__),antd_lib_input_style__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(41),antd_lib_input_style__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(antd_lib_input_style__WEBPACK_IMPORTED_MODULE_8__),antd_lib_input__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(21),antd_lib_input__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(antd_lib_input__WEBPACK_IMPORTED_MODULE_9__),antd_lib_progress_style__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(265),antd_lib_progress_style__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(antd_lib_progress_style__WEBPACK_IMPORTED_MODULE_10__),antd_lib_progress__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(76),antd_lib_progress__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(antd_lib_progress__WEBPACK_IMPORTED_MODULE_11__),antd_lib_message_style__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(53),antd_lib_message_style__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(antd_lib_message_style__WEBPACK_IMPORTED_MODULE_12__),antd_lib_message__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(24),antd_lib_message__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(antd_lib_message__WEBPACK_IMPORTED_MODULE_13__),antd_lib_select_style__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(31),antd_lib_select_style__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(antd_lib_select_style__WEBPACK_IMPORTED_MODULE_14__),antd_lib_select__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(11),antd_lib_select__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(antd_lib_select__WEBPACK_IMPORTED_MODULE_15__),react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_16__),_api__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(10),_SaveToAwsPanel_less__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(607),_SaveToAwsPanel_less__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(_SaveToAwsPanel_less__WEBPACK_IMPORTED_MODULE_18__),_UpgradeModal__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(50),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).enterModule,enterModule&&enterModule(module);var Option=antd_lib_select__WEBPACK_IMPORTED_MODULE_15___default.a.Option,SaveToAwsPanel=function(_React$Component){function SaveToAwsPanel(e){var t;return _classCallCheck(this,SaveToAwsPanel),(t=_possibleConstructorReturn(this,_getPrototypeOf(SaveToAwsPanel).call(this,e))).state={isUploading:!1,isShownUpgrade:!1,percentage:0,isInCreate:!1,isCreateLoading:!1,premiumAlertType:""},t.handleUpload=t.handleUpload.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleCreateProject=t.handleCreateProject.bind(_assertThisInitialized(_assertThisInitialized(t))),t.enterCreate=t.enterCreate.bind(_assertThisInitialized(_assertThisInitialized(t))),t.leaveCreate=t.leaveCreate.bind(_assertThisInitialized(_assertThisInitialized(t))),t.onUploadProgress=t.onUploadProgress.bind(_assertThisInitialized(_assertThisInitialized(t))),t.getCando=t.getCando.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleCancelUpgrade=t.handleCancelUpgrade.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(SaveToAwsPanel,_React$Component),_createClass(SaveToAwsPanel,[{key:"componentDidMount",value:function(){}},{key:"handleUpload",value:function(e){var t=this,a=this;e.preventDefault(),this.props.form.validateFields((function(e,r){var n="rgb(255,255,255)";try{var _=(new ColorThief).getColor(a.props.img);n="rgb("+_.join(",")+")"}catch(e){}var o=r.project,s=t.props.projectsHash[o].Name;if(t.getCando("image",o)){t.setState({isUploading:!0});var l=new FileReader;l.readAsDataURL(t.props.imageBlob),l.onloadend=function(){var e=l.result;Object(_api__WEBPACK_IMPORTED_MODULE_17__.u)(r.name,e,o,n,t.onUploadProgress).then((function(e){var a=e.data;0===a.ErrorCode&&a.ImgId&&a.Token?Object(_api__WEBPACK_IMPORTED_MODULE_17__.q)(_api__WEBPACK_IMPORTED_MODULE_17__.b+"/image/"+a.ImgId+"/"+a.Token).then((function(e){t.props.onUploadFinish({projectName:s,projectId:o,url:e.data})})).catch((function(){t.props.onUploadFinish({projectName:s,projectId:o,url:_api__WEBPACK_IMPORTED_MODULE_17__.b+"/image/"+a.ImgId+"/"+a.Token})})):(antd_lib_message__WEBPACK_IMPORTED_MODULE_13___default.a.error(a.ErrorMsg),t.setState({isUploading:!1}))}))}}else t.setState({isShownUpgrade:!0,premiumAlertType:"uploadImage"})}))}},{key:"handleCreateProject",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields((function(e,a){t.setState({isCreateLoading:!0});var r=a.pName;Object(_api__WEBPACK_IMPORTED_MODULE_17__.f)(r).then((function(e){0===e.data.ErrorCode?(t.props.projectsHash[e.data.ProjectDetail.ProjectId]=e.data.ProjectDetail,t.props.onProjectCreated(e.data.ProjectDetail)):antd_lib_message__WEBPACK_IMPORTED_MODULE_13___default.a.error(e.data.ErrorMsg),t.setState({isCreateLoading:!1,isInCreate:!1})}))}))}},{key:"getCando",value:function(e,t){return"project"===e?"free"!==this.props.currentPlan.PlanName||this.props.projects.length<1:"image"===e?"free"!==this.props.currentPlan.PlanName||this.props.projectsHash[t].ImgCount<30:void 0}},{key:"handleCancelUpgrade",value:function(){this.setState({isShownUpgrade:!1})}},{key:"enterCreate",value:function(){this.getCando("project")?this.setState({isInCreate:!0}):this.setState({premiumAlertType:"project",isShownUpgrade:!0})}},{key:"leaveCreate",value:function(){this.setState({isInCreate:!1})}},{key:"onUploadProgress",value:function(e){this.setState({percentage:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.isUploading,r=t.percentage,n=t.isInCreate,_=t.isCreateLoading,o=t.premiumAlertType,s=t.isShownUpgrade,l=this.props,i=l.projects,c=l.tabTitle,u=this.props.form.getFieldDecorator;return react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_16___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement("div",{className:"save-to-aws-panel"},react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement("div",{className:"title"},react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement("div",{className:"logo"},react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement("b",null)),n?"Create a New Project":"Awesome Screenshot"),react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement("div",{className:"box"},a?react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement("div",{className:"upload-progress"},react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(antd_lib_progress__WEBPACK_IMPORTED_MODULE_11___default.a,{type:"circle",percent:r}),react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement("div",{className:"upload-tip"},r<100?"Uploading...":"Creating shareable link...")):n?react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(antd_lib_form__WEBPACK_IMPORTED_MODULE_7___default.a,{onSubmit:e.handleCreateProject},react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement("div",{className:"label"},"Project name"),react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(antd_lib_form__WEBPACK_IMPORTED_MODULE_7___default.a.Item,null,u("pName",{rules:[{required:!0,message:"Please input a project name!"}]})(react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(antd_lib_input__WEBPACK_IMPORTED_MODULE_9___default.a,{size:"large"}))),react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(antd_lib_form__WEBPACK_IMPORTED_MODULE_7___default.a.Item,{style:{textAlign:"right"}},react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_5___default.a,{size:"large",onClick:e.leaveCreate,style:{marginRight:8}},"Cancel"),react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_5___default.a,{size:"large",type:"primary",htmlType:"submit",loading:_},"Create"))):react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(antd_lib_form__WEBPACK_IMPORTED_MODULE_7___default.a,{onSubmit:e.handleUpload},react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement("div",{className:"label"},"Name"),react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(antd_lib_form__WEBPACK_IMPORTED_MODULE_7___default.a.Item,null,u("name",{rules:[{required:!0,message:"Please input a name!"}],initialValue:c})(react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(antd_lib_input__WEBPACK_IMPORTED_MODULE_9___default.a,{size:"large"}))),react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement("div",{className:"label"},"Project"),react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(antd_lib_form__WEBPACK_IMPORTED_MODULE_7___default.a.Item,null,u("project",{rules:[{required:!0,message:"Please select a project"}],initialValue:i.length?i[0].ProjectId:null})(react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(antd_lib_select__WEBPACK_IMPORTED_MODULE_15___default.a,{size:"large",loading:0===i.length,dropdownRender:function(t){return react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement("div",null,t,react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(antd_lib_divider__WEBPACK_IMPORTED_MODULE_3___default.a,null),react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement("div",{className:"select-action-btn",onMouseDown:e.enterCreate},react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(antd_lib_icon__WEBPACK_IMPORTED_MODULE_1___default.a,{type:"plus"}),"Create a New Project"),react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement("div",{className:"select-action-btn",onMouseDown:e.props.onRefreshProjects},react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(antd_lib_icon__WEBPACK_IMPORTED_MODULE_1___default.a,{type:"reload"}),"Refresh Projects"))}},i.map((function(e){return react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(Option,{key:e.ProjectId,value:e.ProjectId},e.Name)}))))),react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(antd_lib_form__WEBPACK_IMPORTED_MODULE_7___default.a.Item,null,react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_5___default.a,{size:"large",type:"primary",className:"save-btn",block:!0,htmlType:"submit"},"Upload"))))),react__WEBPACK_IMPORTED_MODULE_16___default.a.createElement(_UpgradeModal__WEBPACK_IMPORTED_MODULE_19__.a,{visible:s,onCancel:this.handleCancelUpgrade,type:o}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),SaveToAwsPanel}(react__WEBPACK_IMPORTED_MODULE_16___default.a.Component),_default=antd_lib_form__WEBPACK_IMPORTED_MODULE_7___default.a.create()(SaveToAwsPanel),reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).default,reactHotLoader&&(reactHotLoader.register(Option,"Option","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/SaveToAwsPanel.js"),reactHotLoader.register(SaveToAwsPanel,"SaveToAwsPanel","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/SaveToAwsPanel.js"),reactHotLoader.register(_default,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/SaveToAwsPanel.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(17)(module))},348:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var antd_lib_modal_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(62),antd_lib_modal_style__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(antd_lib_modal_style__WEBPACK_IMPORTED_MODULE_0__),antd_lib_modal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(38),antd_lib_modal__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(antd_lib_modal__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_AddDesPanel__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(349),_DesPanel__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(356),_DesModal_less__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(611),_DesModal_less__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_DesModal_less__WEBPACK_IMPORTED_MODULE_5__),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).enterModule,enterModule&&enterModule(module);var DesModal=function(_React$Component){function DesModal(e){return _classCallCheck(this,DesModal),_possibleConstructorReturn(this,_getPrototypeOf(DesModal).call(this,e))}return _inherits(DesModal,_React$Component),_createClass(DesModal,[{key:"render",value:function(){var e=this,t=this.props.currentPanel;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(antd_lib_modal__WEBPACK_IMPORTED_MODULE_1___default.a,_extends({},this.props,{footer:null,maskClosable:!1,wrapClassName:"des",destroyOnClose:!0,centered:!0}),"add"===t?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_AddDesPanel__WEBPACK_IMPORTED_MODULE_3__.a,_extends({},e.props,{currentAccount:e.props.defaultCurrentAccount})):"des"===t?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_DesPanel__WEBPACK_IMPORTED_MODULE_4__.a,{currentDes:e.props.currentDes,destinations:e.props.destinations,goToAddDes:e.props.goToAddDes,tabTitle:e.props.tabTitle,tabUrl:e.props.tabUrl,imageUrl:e.props.imageUrl,imageBlob:e.props.imageBlob,imageInfo:e.props.imageInfo||null,handleSendSuccess:e.props.onCancel,contentType:e.props.contentType}):void 0)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),DesModal}(react__WEBPACK_IMPORTED_MODULE_2___default.a.Component),_default=DesModal,reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).default,reactHotLoader&&(reactHotLoader.register(DesModal,"DesModal","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/DesModal.js"),reactHotLoader.register(_default,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/DesModal.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(17)(module))},349:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var antd_lib_button_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25),antd_lib_button_style__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(antd_lib_button_style__WEBPACK_IMPORTED_MODULE_0__),antd_lib_button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(16),antd_lib_button__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(antd_lib_button__WEBPACK_IMPORTED_MODULE_1__),antd_lib_icon_style__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(36),antd_lib_icon_style__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(antd_lib_icon_style__WEBPACK_IMPORTED_MODULE_2__),antd_lib_icon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(14),antd_lib_icon__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(antd_lib_icon__WEBPACK_IMPORTED_MODULE_3__),antd_lib_select_style__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(31),antd_lib_select_style__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(antd_lib_select_style__WEBPACK_IMPORTED_MODULE_4__),antd_lib_select__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(11),antd_lib_select__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(antd_lib_select__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),classnames__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4),classnames__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_7__),_util_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(13),_api__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(10),_AddDesPanel_less__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(612),_AddDesPanel_less__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_AddDesPanel_less__WEBPACK_IMPORTED_MODULE_10__),_consts__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(15),_AddSlackDesForm__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(350),_AddTrelloDesForm__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(351),_AddAsanaDesForm__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(352),_AddGdriveDesForm__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(353),_AddGithubDesForm__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(354),_AddJiraDesForm__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(355),_UpgradeModal__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(50),moment__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(2),moment__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_19__),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).enterModule,enterModule&&enterModule(module);var resourcesHash={},Option=antd_lib_select__WEBPACK_IMPORTED_MODULE_5___default.a.Option,OptGroup=antd_lib_select__WEBPACK_IMPORTED_MODULE_5___default.a.OptGroup,AddDesPanel=function(_React$Component){function AddDesPanel(e){var t;return _classCallCheck(this,AddDesPanel),(t=_possibleConstructorReturn(this,_getPrototypeOf(AddDesPanel).call(this,e))).state={isInAuthMode:!1,isLoadList:!1,currentResources:[],createAccount:"",createPrivacy:"private",createResource:null,isCreating:!1,currentAccount:e.currentAccount||(e.accounts?e.accounts[0]:null)||null,isShownUpgrade:!1},t.chooseDes=t.chooseDes.bind(_assertThisInitialized(_assertThisInitialized(t))),t.back=t.back.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleAccountChange=t.handleAccountChange.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleConnect=t.handleConnect.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handlePrivacyChange=t.handlePrivacyChange.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleResourceChange=t.handleResourceChange.bind(_assertThisInitialized(_assertThisInitialized(t))),t.updateCurrentResources=t.updateCurrentResources.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleMessage=t.handleMessage.bind(_assertThisInitialized(_assertThisInitialized(t))),t.onAccountConnected=t.onAccountConnected.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleUpgradeCancel=t.handleUpgradeCancel.bind(_assertThisInitialized(_assertThisInitialized(t))),t.getPermissionByName=t.getPermissionByName.bind(_assertThisInitialized(_assertThisInitialized(t))),t.getFreeTrialTip=t.getFreeTrialTip.bind(_assertThisInitialized(_assertThisInitialized(t))),t.getIsShowPro=t.getIsShowPro.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(AddDesPanel,_React$Component),_createClass(AddDesPanel,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleMessage)}},{key:"handleMessage",value:function(e){if("accountConnected"===e.data.name){var t=JSON.parse(e.data.data);this.setState({isInAuthMode:!1}),this.onAccountConnected(t)}}},{key:"handleUpgradeCancel",value:function(){this.setState({isShownUpgrade:!1})}},{key:"onAccountConnected",value:function(e){this.props.handleAccountConnected(e),this.setState({currentAccount:e})}},{key:"chooseDes",value:function(e){this.getPermissionByName(e)?this.setState({isInAuthMode:!0,createAccount:e}):this.setState({isShownUpgrade:!0})}},{key:"getPermissionByName",value:function(e){return"googleDrive"===e?this.props.permissions["allow".concat(Object(_util_utils__WEBPACK_IMPORTED_MODULE_8__.b)(e))]:this.props.permissions["allow".concat(Object(_util_utils__WEBPACK_IMPORTED_MODULE_8__.b)(e))]||"free"!==this.props.currentPlan.PlanName}},{key:"getFreeTrialTip",value:function(){var e=this.props.permissions;if(e.trailConnectedAccountExpireTimeSecond>0){if(e.trailConnectedAccountExpireTimeSecond>Date.now()/1e3){var t=1e3*e.trailConnectedAccountExpireTimeSecond-Date.now(),a=moment__WEBPACK_IMPORTED_MODULE_19___default.a.duration(t,"milliseconds").asDays();if(a<1)var r="less than a day";else r=Math.ceil(a)+" days";return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null,"Free trial for pro services ends in ",r,".",react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("a",{target:"_blank",href:"https://www.awesomescreenshot.com/pricing"}," ","Upgrade now"))}return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null,"The 7-days free trial was expired.",react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("a",{target:"_blank",href:"https://www.awesomescreenshot.com/pricing"}," ","Upgrade now"))}return-1===e.trailConnectedAccountExpireTimeSecond?"":0===e.trailConnectedAccountExpireTimeSecond?"7-days free trial for pro services":void 0}},{key:"handleConnect",value:function(){Object(_api__WEBPACK_IMPORTED_MODULE_9__.i)(this.state.createAccount).then((function(e){var t="width=800,height=700,top="+(window.screen.availHeight-30-700)/2+",left="+(window.screen.availWidth-10-800)/2;window.open(e.URI,"",t)}))}},{key:"handlePrivacyChange",value:function(e){this.setState({createPrivacy:e.target.value})}},{key:"handleResourceChange",value:function(e){this.setState({createResource:e})}},{key:"updateCurrentResources",value:function(e){resourcesHash={},e.forEach((function(e){resourcesHash[e.id]=e})),this.setState({currentResources:e,isLoadList:!1})}},{key:"handleAccountChange",value:function(e){this.setState({currentAccount:"add"===e?null:this.props.accountHash[e]})}},{key:"getIsShowPro",value:function(){return"free"===this.props.currentPlan.PlanName||"basic"===this.props.currentPlan.PlanName}},{key:"back",value:function(){this.setState({isInAuthMode:!1})}},{key:"render",value:function(){var e=this,t=this.props.accounts,a=this.state,r=a.currentResources,n=(a.isLoadList,a.createResource,a.createPrivacy,a.createAccount),_=(a.isCreating,a.currentAccount),o=a.isShownUpgrade;r.filter((function(e){return e.added})),r.filter((function(e){return!e.added}));return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"add-des-panel"},this.state.isInAuthMode?react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"top"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"back-btn",onClick:this.back},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(antd_lib_icon__WEBPACK_IMPORTED_MODULE_3___default.a,{type:"arrow-left"}),"Choose another integration")),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"connect-panel"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"box"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"main-box"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"pic"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"logo ".concat(n)})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"content"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"logo ".concat(n)}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"title"},"Integrate ",_consts__WEBPACK_IMPORTED_MODULE_11__.a[n].displayName),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"sub-title"},_consts__WEBPACK_IMPORTED_MODULE_11__.a[n].panelSubTitle),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("ul",null,_consts__WEBPACK_IMPORTED_MODULE_11__.a[n].featureLists.map((function(e,t){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("li",{key:t},e)}))))),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_1___default.a,{type:"primary",size:"large",onClick:this.handleConnect},"Connect with",_consts__WEBPACK_IMPORTED_MODULE_11__.a[n].displayName)))):react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"title"},_?"Create a new destination":"Connect a new account"),(t&&t.length)>0&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"account-select"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"label"},"Connected account"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(antd_lib_select__WEBPACK_IMPORTED_MODULE_5___default.a,{value:_?_.id:"add",onChange:this.handleAccountChange},t.map((function(e){var t=classnames__WEBPACK_IMPORTED_MODULE_7___default()("account-logo",e.service);return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(Option,{value:e.id,key:e.id},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:t}),_consts__WEBPACK_IMPORTED_MODULE_11__.a[e.service].displayName,"(",e.userInfo.name,")")})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(Option,{value:"add"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"account-logo add"}),"Connect to a new account"))),function(){if(_)return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"des-select"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"account-des-select"},"slack"===_.service?react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_AddSlackDesForm__WEBPACK_IMPORTED_MODULE_12__.a,{currentAccount:_,handleDesCreated:e.props.handleDesCreated}):"trello"===_.service?react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_AddTrelloDesForm__WEBPACK_IMPORTED_MODULE_13__.a,{currentAccount:_,handleDesCreated:e.props.handleDesCreated}):"asana"===_.service?react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_AddAsanaDesForm__WEBPACK_IMPORTED_MODULE_14__.a,{currentAccount:_,handleDesCreated:e.props.handleDesCreated}):"googleDrive"===_.service?react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_AddGdriveDesForm__WEBPACK_IMPORTED_MODULE_15__.a,{currentAccount:_,handleDesCreated:e.props.handleDesCreated}):"github"===_.service?react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_AddGithubDesForm__WEBPACK_IMPORTED_MODULE_16__.a,{currentAccount:_,handleDesCreated:e.props.handleDesCreated}):"jira"===_.service?react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_AddJiraDesForm__WEBPACK_IMPORTED_MODULE_17__.a,{currentAccount:_,handleDesCreated:e.props.handleDesCreated}):void 0));var t="saveElsewhere"===e.props.servicesType?_consts__WEBPACK_IMPORTED_MODULE_11__.d:_consts__WEBPACK_IMPORTED_MODULE_11__.e;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"service-container"},"saveElsewhere"!==e.props.servicesType&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"trial-tip"},e.getFreeTrialTip()),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"label"},"Services"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"account-container"},t.map((function(t){var a=classnames__WEBPACK_IMPORTED_MODULE_7___default()("account-item",t.name,{pro:e.getIsShowPro()});return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:a,key:t.name,"data-des":t.name,onClick:e.chooseDes.bind(null,t.name)},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("b",null))}))))}())),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_UpgradeModal__WEBPACK_IMPORTED_MODULE_18__.a,{visible:o,onCancel:this.handleUpgradeCancel,type:"destination"}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),AddDesPanel}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component),_default=AddDesPanel,reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).default,reactHotLoader&&(reactHotLoader.register(resourcesHash,"resourcesHash","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddDesPanel.js"),reactHotLoader.register(Option,"Option","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddDesPanel.js"),reactHotLoader.register(OptGroup,"OptGroup","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddDesPanel.js"),reactHotLoader.register(AddDesPanel,"AddDesPanel","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddDesPanel.js"),reactHotLoader.register(_default,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddDesPanel.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(17)(module))},350:function(e,t,a){"use strict";(function(e){a(25);var r,n=a(16),_=a.n(n),o=(a(34),a(5)),s=a.n(o),l=(a(64),a(23)),i=a.n(l),c=(a(31),a(11)),u=a.n(c),d=a(0),E=a.n(d),m=a(15),p=a(10);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,_=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,_=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw _}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var D=u.a.Option,h=u.a.OptGroup,P=i.a.Group,O={};function M(e){var t=e.currentAccount,a=f(Object(d.useState)([]),2),r=a[0],n=a[1],o=f(Object(d.useState)([]),2),l=o[0],c=o[1];Object(d.useEffect)((function(){Promise.all([Object(p.h)({accountID:t.id,what:"channel"}),Object(p.h)({accountID:t.id,what:"member"})]).then((function(e){var t=e[0].items.concat(e[1].items);n(t.filter((function(e){return e.added}))),c(t.filter((function(e){return!e.added}))),O={},t.forEach((function(e){O[e.id]=e}))}))}),[]);var M=m.a.slack,b=e.form.getFieldDecorator;return E.a.createElement(s.a,{onSubmit:function(a){a.preventDefault(),e.form.validateFields((function(a,r){a||Object(p.a)(t.id,O[r.channel].type,r.channel,O[r.channel].name,r.privacy,O[r.channel].info).then((function(t){e.handleDesCreated(t.destination)}))}))}},E.a.createElement("div",{className:"label"},M.targetName),E.a.createElement(s.a.Item,null,b("channel",{rules:[{required:!0,message:"Please choose a channel or member"}]})(E.a.createElement(u.a,{placeholder:M.placeHolder,loading:r.length+l.length===0},r.length&&E.a.createElement(h,{label:"Already Added"},r.map((function(e){return E.a.createElement(D,{key:e.id,value:e.id,disabled:!0},m.b[e.type]+e.name)}))),E.a.createElement(h,{label:"Available"},l.map((function(e){return E.a.createElement(D,{key:e.id,value:e.id},m.b[e.type]+e.name)})))))),E.a.createElement(s.a.Item,{className:"des-share-option"},b("privacy",{initialValue:"private"})(E.a.createElement(P,null,E.a.createElement(i.a,{value:"private"},"Private"),E.a.createElement(i.a,{value:"shared"},"Shared")))),E.a.createElement(_.a,{type:"primary",className:"add-des-btn",size:"large",block:!0,htmlType:"submit"},"Create Destination"))}var b,g,v=s.a.create({name:"addSlackDes"})(M);t.a=v,(b=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(b.register(D,"Option","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddSlackDesForm.js"),b.register(h,"OptGroup","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddSlackDesForm.js"),b.register(P,"RadioGroup","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddSlackDesForm.js"),b.register(O,"resourcesHash","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddSlackDesForm.js"),b.register(M,"AddSlackDesForm","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddSlackDesForm.js"),b.register(v,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddSlackDesForm.js")),(g=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&g(e)}).call(this,a(17)(e))},351:function(e,t,a){"use strict";(function(e){a(25);var r,n=a(16),_=a.n(n),o=(a(34),a(5)),s=a.n(o),l=(a(64),a(23)),i=a.n(l),c=(a(31),a(11)),u=a.n(c),d=a(0),E=a.n(d),m=a(15),p=a(10);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,_=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,_=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw _}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var D=u.a.Option,h=u.a.OptGroup,P=i.a.Group,O={};function M(e){var t=e.currentAccount,a=f(Object(d.useState)([]),2),r=a[0],n=a[1],o=f(Object(d.useState)([]),2),l=o[0],c=o[1];Object(d.useEffect)((function(){Object(p.h)({accountID:t.id,what:"board"}).then((function(e){var t=e.items;n(t.filter((function(e){return e.added}))),c(t.filter((function(e){return!e.added}))),O={},t.forEach((function(e){O[e.id]=e}))}))}),[]);var M=m.a.trello,b=e.form.getFieldDecorator;return E.a.createElement(s.a,{onSubmit:function(a){a.preventDefault(),e.form.validateFields((function(a,r){a||Object(p.a)(t.id,O[r.channel].type,r.channel,O[r.channel].name,r.privacy,O[r.channel].info).then((function(t){e.handleDesCreated(t.destination)}))}))}},E.a.createElement("div",{className:"label"},M.targetName),E.a.createElement(s.a.Item,null,b("channel",{rules:[{required:!0,message:"Please choose a board"}]})(E.a.createElement(u.a,{placeholder:M.placeHolder,loading:r.length+l.length===0},r.length&&E.a.createElement(h,{label:"Already Added"},r.map((function(e){return E.a.createElement(D,{key:e.id,value:e.id,disabled:!0},m.b[e.type]+e.name)}))),E.a.createElement(h,{label:"Available"},l.map((function(e){return E.a.createElement(D,{key:e.id,value:e.id},m.b[e.type]+e.name)})))))),E.a.createElement(s.a.Item,{className:"des-share-option"},b("privacy",{initialValue:"private"})(E.a.createElement(P,null,E.a.createElement(i.a,{value:"private"},"Private"),E.a.createElement(i.a,{value:"shared"},"Shared")))),E.a.createElement(_.a,{type:"primary",className:"add-des-btn",size:"large",block:!0,htmlType:"submit"},"Create Destination"))}var b,g,v=s.a.create({name:"addTrelloDes"})(M);t.a=v,(b=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(b.register(D,"Option","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddTrelloDesForm.js"),b.register(h,"OptGroup","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddTrelloDesForm.js"),b.register(P,"RadioGroup","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddTrelloDesForm.js"),b.register(O,"resourcesHash","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddTrelloDesForm.js"),b.register(M,"AddTrelloDesForm","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddTrelloDesForm.js"),b.register(v,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddTrelloDesForm.js")),(g=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&g(e)}).call(this,a(17)(e))},352:function(e,t,a){"use strict";(function(e){a(25);var r,n=a(16),_=a.n(n),o=(a(34),a(5)),s=a.n(o),l=(a(64),a(23)),i=a.n(l),c=(a(31),a(11)),u=a.n(c),d=a(0),E=a.n(d),m=a(15),p=a(10);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,_=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,_=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw _}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var D=u.a.Option,h=u.a.OptGroup,P=i.a.Group,O={},M={};function b(e){var t=e.currentAccount,a=f(Object(d.useState)([]),2),r=a[0],n=a[1],o=f(Object(d.useState)([]),2),l=o[0],c=o[1],b=f(Object(d.useState)([]),2),g=b[0],v=b[1];Object(d.useEffect)((function(){Object(p.h)({accountID:t.id,what:"workspace"}).then((function(e){var t=e.items;n(t),y(t[0].id),M={},t.forEach((function(e){M[e.id]=e}))}))}),[]);var C=m.a.asana,T=e.form.getFieldDecorator;function y(e){c([]),v([]),Object(p.h)({accountID:t.id,what:"project",workspaceID:e}).then((function(e){var t=e.items;c(t.filter((function(e){return e.added}))),v(t.filter((function(e){return!e.added}))),O={},t.forEach((function(e){O[e.id]=e}))}))}return E.a.createElement(s.a,{onSubmit:function(a){a.preventDefault(),e.form.validateFields((function(a,r){a||Object(p.a)(t.id,"project",r.project,O[r.project].name,r.privacy,O[r.project].info).then((function(t){e.handleDesCreated(t.destination)}))}))}},E.a.createElement("div",{className:"label"},C.targetName1),E.a.createElement(s.a.Item,null,T("workspace",{rules:[{required:!0,message:"Please choose a workspace"}]})(E.a.createElement(u.a,{placeholder:C.placeHolder1,loading:0===r.length,onChange:function(e){y(e)}},r.map((function(e){return E.a.createElement(D,{key:e.id,value:e.id},e.name)}))))),E.a.createElement("div",{className:"label"},C.targetName2),E.a.createElement(s.a.Item,null,T("project",{rules:[{required:!0,message:"Please choose a project"}]})(E.a.createElement(u.a,{placeholder:C.placeHolder2,loading:l.length+g.length===0},l.length&&E.a.createElement(h,{label:"Already Added"},l.map((function(e){return E.a.createElement(D,{key:e.id,value:e.id,disabled:!0},m.b[e.type]+e.name)}))),E.a.createElement(h,{label:"Available"},g.map((function(e){return E.a.createElement(D,{key:e.id,value:e.id},m.b[e.type]+e.name)})))))),E.a.createElement(s.a.Item,{className:"des-share-option"},T("privacy",{initialValue:"private"})(E.a.createElement(P,null,E.a.createElement(i.a,{value:"private"},"Private"),E.a.createElement(i.a,{value:"shared"},"Shared")))),E.a.createElement(_.a,{type:"primary",className:"add-des-btn",size:"large",block:!0,htmlType:"submit"},"Create Destination"))}var g,v,C=s.a.create({name:"addAsanaDes"})(b);t.a=C,(g=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(g.register(D,"Option","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddAsanaDesForm.js"),g.register(h,"OptGroup","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddAsanaDesForm.js"),g.register(P,"RadioGroup","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddAsanaDesForm.js"),g.register(O,"resourcesHash","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddAsanaDesForm.js"),g.register(M,"workspaceHash","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddAsanaDesForm.js"),g.register(b,"AddAsanaDesForm","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddAsanaDesForm.js"),g.register(C,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddAsanaDesForm.js")),(v=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&v(e)}).call(this,a(17)(e))},353:function(e,t,a){"use strict";(function(e){a(25);var r,n=a(16),_=a.n(n),o=(a(34),a(5)),s=a.n(o),l=(a(64),a(23)),i=a.n(l),c=(a(31),a(11)),u=a.n(c),d=a(0),E=a.n(d),m=a(15),p=a(10);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,_=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,_=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw _}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var D=u.a.Option,h=u.a.OptGroup,P=i.a.Group,O={};function M(e){var t=e.currentAccount,a=f(Object(d.useState)([]),2),r=a[0],n=a[1],o=f(Object(d.useState)([]),2),l=o[0],c=o[1],M=function(e){Object(p.h)({accountID:t.id,what:"folder",query:e}).then((function(e){var t=e.items;n(t.filter((function(e){return e.added}))),c(t.filter((function(e){return!e.added}))),O={},t.forEach((function(e){O[e.id]=e}))}))};Object(d.useEffect)((function(){M()}),[]);var b=m.a.googleDrive,g=e.form.getFieldDecorator;return E.a.createElement(s.a,{onSubmit:function(a){a.preventDefault(),e.form.validateFields((function(a,r){a||Object(p.a)(t.id,O[r.folder].type,r.folder,O[r.folder].name,r.privacy,O[r.folder].info).then((function(t){e.handleDesCreated(t.destination)}))}))}},E.a.createElement("div",{className:"label"},b.targetName),E.a.createElement(s.a.Item,null,g("folder",{rules:[{required:!0,message:"choose a folder"}]})(E.a.createElement(u.a,{showSearch:!0,placeholder:b.placeHolder,loading:r.length+l.length===0,onSearch:function(e){M(e)},filterOption:!1},r.length&&E.a.createElement(h,{label:"Already Added"},r.map((function(e){return E.a.createElement(D,{key:e.id,value:e.id,disabled:!0},m.b[e.type]+e.name)}))),E.a.createElement(h,{label:"Available"},l.map((function(e){return E.a.createElement(D,{key:e.id,value:e.id},m.b[e.type]+e.name)}))))),E.a.createElement("div",{className:"tip"},"Only 10 recent folders are listed. Type and search for other folders.")),E.a.createElement(s.a.Item,{className:"des-share-option"},g("privacy",{initialValue:"private"})(E.a.createElement(P,null,E.a.createElement(i.a,{value:"private"},"Private"),E.a.createElement(i.a,{value:"shared"},"Shared")))),E.a.createElement(_.a,{type:"primary",className:"add-des-btn",size:"large",block:!0,htmlType:"submit"},"Create Destination"))}var b,g,v=s.a.create({name:"addGdriveDes"})(M);t.a=v,(b=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(b.register(D,"Option","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddGdriveDesForm.js"),b.register(h,"OptGroup","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddGdriveDesForm.js"),b.register(P,"RadioGroup","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddGdriveDesForm.js"),b.register(O,"resourcesHash","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddGdriveDesForm.js"),b.register(M,"AddGdriveDesForm","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddGdriveDesForm.js"),b.register(v,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddGdriveDesForm.js")),(g=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&g(e)}).call(this,a(17)(e))},354:function(e,t,a){"use strict";(function(e){a(25);var r,n=a(16),_=a.n(n),o=(a(34),a(5)),s=a.n(o),l=(a(64),a(23)),i=a.n(l),c=(a(31),a(11)),u=a.n(c),d=a(0),E=a.n(d),m=a(15),p=a(10);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,_=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,_=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw _}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var D=u.a.Option,h=u.a.OptGroup,P=i.a.Group,O={};function M(e){var t=e.currentAccount,a=f(Object(d.useState)([]),2),r=a[0],n=a[1],o=f(Object(d.useState)([]),2),l=o[0],c=o[1];Object(d.useEffect)((function(){Object(p.h)({accountID:t.id,what:"repo"}).then((function(e){var t=e.items;n(t.filter((function(e){return e.added}))),c(t.filter((function(e){return!e.added}))),O={},t.forEach((function(e){O[e.id]=e}))}))}),[]);var M=m.a.github,b=e.form.getFieldDecorator;return E.a.createElement(s.a,{onSubmit:function(a){a.preventDefault(),e.form.validateFields((function(a,r){a||Object(p.a)(t.id,O[r.repo].type,r.repo,O[r.repo].name,r.privacy,O[r.repo].info).then((function(t){e.handleDesCreated(t.destination)}))}))}},E.a.createElement("div",{className:"label"},M.targetName),E.a.createElement(s.a.Item,null,b("repo",{rules:[{required:!0,message:"Please choose a channel or member"}]})(E.a.createElement(u.a,{placeholder:M.placeHolder,loading:r.length+l.length===0},r.length&&E.a.createElement(h,{label:"Already Added"},r.map((function(e){return E.a.createElement(D,{key:e.id,value:e.id,disabled:!0},m.b[e.type]+e.info.owner+"/"+e.name)}))),E.a.createElement(h,{label:"Available"},l.map((function(e){return E.a.createElement(D,{key:e.id,value:e.id},m.b[e.type]+e.info.owner+"/"+e.name)})))))),E.a.createElement(s.a.Item,{className:"des-share-option"},b("privacy",{initialValue:"private"})(E.a.createElement(P,null,E.a.createElement(i.a,{value:"private"},"Private"),E.a.createElement(i.a,{value:"shared"},"Shared")))),E.a.createElement(_.a,{type:"primary",className:"add-des-btn",size:"large",block:!0,htmlType:"submit"},"Create Destination"))}var b,g,v=s.a.create({name:"addGithubDes"})(M);t.a=v,(b=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(b.register(D,"Option","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddGithubDesForm.js"),b.register(h,"OptGroup","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddGithubDesForm.js"),b.register(P,"RadioGroup","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddGithubDesForm.js"),b.register(O,"resourcesHash","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddGithubDesForm.js"),b.register(M,"AddGithubDesForm","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddGithubDesForm.js"),b.register(v,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddGithubDesForm.js")),(g=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&g(e)}).call(this,a(17)(e))},355:function(e,t,a){"use strict";(function(e){a(25);var r,n=a(16),_=a.n(n),o=(a(34),a(5)),s=a.n(o),l=(a(64),a(23)),i=a.n(l),c=(a(31),a(11)),u=a.n(c),d=a(0),E=a.n(d),m=a(15),p=a(10);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,_=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,_=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw _}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var D=u.a.Option,h=u.a.OptGroup,P=i.a.Group,O={},M={};function b(e){var t=e.currentAccount,a=f(Object(d.useState)([]),2),r=a[0],n=a[1],o=f(Object(d.useState)([]),2),l=o[0],c=o[1],b=f(Object(d.useState)([]),2),g=b[0],v=b[1];Object(d.useEffect)((function(){Object(p.h)({accountID:t.id,what:"cloud"}).then((function(e){var t=e.items;n(t),y(t[0].id,t[0].name),M={},t.forEach((function(e){M[e.id]=e}))}))}),[]);var C=m.a.jira,T=e.form.getFieldDecorator;function y(e,a){c([]),v([]),Object(p.h)({accountID:t.id,what:"project",cloudID:e,cloudName:a}).then((function(e){var t=e.items;c(t.filter((function(e){return e.added}))),v(t.filter((function(e){return!e.added}))),O={},t.forEach((function(e){O[e.id]=e}))}))}return E.a.createElement(s.a,{onSubmit:function(a){a.preventDefault(),e.form.validateFields((function(a,r){a||Object(p.a)(t.id,"project",r.project,O[r.project].name,r.privacy,O[r.project].info).then((function(t){e.handleDesCreated(t.destination)}))}))}},E.a.createElement("div",{className:"label"},C.targetName1),E.a.createElement(s.a.Item,null,T("site",{rules:[{required:!0,message:"Please choose a site"}]})(E.a.createElement(u.a,{placeholder:C.placeHolder1,loading:0===r.length,onChange:function(e){y(e,M[e].name)}},r.map((function(e){return E.a.createElement(D,{key:e.id,value:e.id},e.name)}))))),E.a.createElement("div",{className:"label"},C.targetName2),E.a.createElement(s.a.Item,null,T("project",{rules:[{required:!0,message:"Please choose a project"}]})(E.a.createElement(u.a,{placeholder:C.placeHolder2,loading:l.length+g.length===0},l.length&&E.a.createElement(h,{label:"Already Added"},l.map((function(e){return E.a.createElement(D,{key:e.id,value:e.id,disabled:!0},m.b[e.type]+e.name)}))),E.a.createElement(h,{label:"Available"},g.map((function(e){return E.a.createElement(D,{key:e.id,value:e.id},m.b[e.type]+e.name)})))))),E.a.createElement(s.a.Item,{className:"des-share-option"},T("privacy",{initialValue:"private"})(E.a.createElement(P,null,E.a.createElement(i.a,{value:"private"},"Private"),E.a.createElement(i.a,{value:"shared"},"Shared")))),E.a.createElement(_.a,{type:"primary",className:"add-des-btn",size:"large",block:!0,htmlType:"submit"},"Create Destination"))}var g,v,C=s.a.create({name:"addJiraDes"})(b);t.a=C,(g=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(g.register(D,"Option","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddJiraDesForm.js"),g.register(h,"OptGroup","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddJiraDesForm.js"),g.register(P,"RadioGroup","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddJiraDesForm.js"),g.register(O,"resourcesHash","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddJiraDesForm.js"),g.register(M,"sitesHash","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddJiraDesForm.js"),g.register(b,"AddJiraDesForm","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddJiraDesForm.js"),g.register(C,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AddJiraDesForm.js")),(v=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&v(e)}).call(this,a(17)(e))},356:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var antd_lib_progress_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(265),antd_lib_progress_style__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(antd_lib_progress_style__WEBPACK_IMPORTED_MODULE_0__),antd_lib_progress__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(76),antd_lib_progress__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(antd_lib_progress__WEBPACK_IMPORTED_MODULE_1__),antd_lib_message_style__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(53),antd_lib_message_style__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(antd_lib_message_style__WEBPACK_IMPORTED_MODULE_2__),antd_lib_message__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(24),antd_lib_message__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(antd_lib_message__WEBPACK_IMPORTED_MODULE_3__),antd_lib_notification_style__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(251),antd_lib_notification_style__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(antd_lib_notification_style__WEBPACK_IMPORTED_MODULE_4__),antd_lib_notification__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(45),antd_lib_notification__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(antd_lib_notification__WEBPACK_IMPORTED_MODULE_5__),antd_lib_select_style__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(31),antd_lib_select_style__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(antd_lib_select_style__WEBPACK_IMPORTED_MODULE_6__),antd_lib_select__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(11),antd_lib_select__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(antd_lib_select__WEBPACK_IMPORTED_MODULE_7__),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),_SlackForm__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(357),classnames__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(4),classnames__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_10__),_consts__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(15),_api__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(10),_util_utils__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(13),_DesPanel_less__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(616),_DesPanel_less__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_DesPanel_less__WEBPACK_IMPORTED_MODULE_14__),_TrelloForm__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(358),_AsanaForm__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(359),_GdriveForm__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(360),_GithubForm__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(361),_JiraForm__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(362),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).enterModule,enterModule&&enterModule(module);var Option=antd_lib_select__WEBPACK_IMPORTED_MODULE_7___default.a.Option,DesPanel=function(_React$Component){function DesPanel(e){var t;return _classCallCheck(this,DesPanel),(t=_possibleConstructorReturn(this,_getPrototypeOf(DesPanel).call(this,e))).state={currentDesId:t.props.currentDes.id,slackMsg:"",isUploading:!1,percentage:0},t.handleDesChange=t.handleDesChange.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleSend=t.handleSend.bind(_assertThisInitialized(_assertThisInitialized(t))),t.handleSlackMsgChange=t.handleSlackMsgChange.bind(_assertThisInitialized(_assertThisInitialized(t))),t.onUploadProgress=t.onUploadProgress.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(DesPanel,_React$Component),_createClass(DesPanel,[{key:"handleDesChange",value:function(e){"add"!==e?this.setState({currentDesId:e}):this.props.goToAddDes()}},{key:"onUploadProgress",value:function(e){this.setState({percentage:e})}},{key:"handleSend",value:function(e){var t=this,a=this.props.destinations,r=this.state.currentDesId,n={};a.forEach((function(e){n[e.id]=e}));var _=n[r];e.service=_.service,e.destinationID=r+"";var o=e.description;if(this.props.tabUrl&&(e.sourceLink=this.props.tabUrl),"trello"===e.service?e.extraString=Object(_util_utils__WEBPACK_IMPORTED_MODULE_13__.j)(this.props.imageInfo):"asana"===e.service?e.extraString=Object(_util_utils__WEBPACK_IMPORTED_MODULE_13__.g)(this.props.imageInfo):"github"===e.service?e.extraString=Object(_util_utils__WEBPACK_IMPORTED_MODULE_13__.h)(this.props.imageInfo):"jira"===e.service&&(void 0!==e.fields.environment?(e.fields.environment=Object(_util_utils__WEBPACK_IMPORTED_MODULE_13__.i)(e.fields.environment,this.props.imageInfo),void 0!==e.fields.description&&(e.fields.description={version:1,type:"doc",content:[{type:"paragraph",content:[{type:"text",text:e.fields.description}]}]})):void 0!==e.fields.description&&(e.fields.description=Object(_util_utils__WEBPACK_IMPORTED_MODULE_13__.i)(e.fields.description,this.props.imageInfo))),this.props.imageBlob)var s=this.props.contentType;else{var l=this.props.imageUrl.split(",")[1];s=this.props.imageUrl.split(",")[0].split(":")[1].split(";")[0]}this.setState({isUploading:!0}),Object(_api__WEBPACK_IMPORTED_MODULE_12__.e)({Title:e.title||"",Description:o,DestID:this.state.currentDesId+"",ContentType:s}).then((function(a){var r=t.props.imageBlob?t.props.imageBlob:Object(_util_utils__WEBPACK_IMPORTED_MODULE_13__.a)(l,s),n=new File([r],"test.png"),o=a.Image.S3Key;return e.destinationImageID=a.Image.ImageID+"",e.imageURL=_api__WEBPACK_IMPORTED_MODULE_12__.c+"/destination/image/show?ImageKey="+o,e.imageName=t.props.tabTitle+"."+s.replace("image/",""),Object(_api__WEBPACK_IMPORTED_MODULE_12__.z)({AWSAccessKeyId:"AKIAJSCJQ2NM3XLFPVKA",acl:"private",key:a.Image.S3Key,"Content-Type":s,policy:a.Policy,signature:a.Signature,file:n},t.onUploadProgress).then((function(a){return Object(_api__WEBPACK_IMPORTED_MODULE_12__.t)(o).then((function(a){return Object(_api__WEBPACK_IMPORTED_MODULE_12__.p)(e).then((function(a){antd_lib_notification__WEBPACK_IMPORTED_MODULE_5___default.a.success({message:_consts__WEBPACK_IMPORTED_MODULE_11__.a[e.service].successMsg,description:react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("a",{href:a.itemUrl,target:"_blank"},"Click to see it in your"," ",_consts__WEBPACK_IMPORTED_MODULE_11__.a[e.service].displayName)}),t.props.handleSendSuccess()}),(function(e){throw new Error(_consts__WEBPACK_IMPORTED_MODULE_11__.a[_.service].actionTypeStr+" failed! ("+e+")")}))}))}),(function(e){throw new Error("Upload image failed!")}))}),(function(e){throw new Error("Create image error!("+e+")")})).catch((function(e){e&&antd_lib_message__WEBPACK_IMPORTED_MODULE_3___default.a.error(e.toString()+" Please try again!"),t.setState({isUploading:!1,percentage:0})}))}},{key:"handleSlackMsgChange",value:function(e){this.setState({slackMsg:e.currentTarget.value})}},{key:"render",value:function(){var e=this,t=this.props.destinations,a=this.state,r=a.currentDesId,n=a.isUploading,_=a.percentage,o={};t.forEach((function(e){o[e.id]=e}));var s=o[r],l=classnames__WEBPACK_IMPORTED_MODULE_10___default()("upload-progress",{active:n}),i=classnames__WEBPACK_IMPORTED_MODULE_10___default()("destination-area",{active:!n});return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"des-panel"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"title"},_consts__WEBPACK_IMPORTED_MODULE_11__.a[s.service].panelTitle),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:l},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_lib_progress__WEBPACK_IMPORTED_MODULE_1___default.a,{type:"circle",status:"active",percent:_}),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"upload-tip"},_<100?"Uploading image...":_consts__WEBPACK_IMPORTED_MODULE_11__.a[s.service].actionTypeStr+"...")),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:i},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"destination-select"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"label"},"Destination"),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_lib_select__WEBPACK_IMPORTED_MODULE_7___default.a,{value:r,onChange:this.handleDesChange},t.map((function(e){var t=classnames__WEBPACK_IMPORTED_MODULE_10___default()("des-logo",e.service);return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(Option,{key:e.id,value:e.id},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:t}),_consts__WEBPACK_IMPORTED_MODULE_11__.b[e.resourceType]+e.resourceName)})),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(Option,{key:"add",value:"add"},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"des-logo add"}),"Create a new destination"))),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{className:"des-form"},"slack"===s.service?react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_SlackForm__WEBPACK_IMPORTED_MODULE_9__.a,{currentDes:s,tabTitle:e.props.tabTitle,handleSend:e.handleSend,handleSlackMsgChange:e.handleSlackMsgChange}):"trello"===s.service?react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_TrelloForm__WEBPACK_IMPORTED_MODULE_15__.a,{currentDes:s,tabTitle:e.props.tabTitle,resourceID:s.resourceID,handleSend:e.handleSend}):"asana"===s.service?react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_AsanaForm__WEBPACK_IMPORTED_MODULE_16__.a,{tabTitle:e.props.tabTitle,currentDes:s,handleSend:e.handleSend}):"googleDrive"===s.service?react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_GdriveForm__WEBPACK_IMPORTED_MODULE_17__.a,{tabTitle:e.props.tabTitle,currentDes:s,handleSend:e.handleSend}):"github"===s.service?react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_GithubForm__WEBPACK_IMPORTED_MODULE_18__.a,{tabTitle:e.props.tabTitle,currentDes:s,handleSend:e.handleSend}):"jira"===s.service?react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_JiraForm__WEBPACK_IMPORTED_MODULE_19__.a,{tabTitle:e.props.tabTitle,currentDes:s,handleSend:e.handleSend}):void 0)))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),DesPanel}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component),_default=DesPanel,reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).default,reactHotLoader&&(reactHotLoader.register(Option,"Option","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/DesPanel.js"),reactHotLoader.register(DesPanel,"DesPanel","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/DesPanel.js"),reactHotLoader.register(_default,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/DesPanel.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(17)(module))},357:function(e,t,a){"use strict";(function(e){a(25);var r,n=a(16),_=a.n(n),o=(a(34),a(5)),s=a.n(o),l=(a(41),a(21)),i=a.n(l),c=a(0),u=a.n(c);a(617);function d(e){var t=e.form.getFieldDecorator;return u.a.createElement("div",{className:"slack-form"},u.a.createElement(s.a,{onSubmit:function(t){t.preventDefault(),e.form.validateFields((function(t,a){t||e.handleSend(a)}))}},u.a.createElement("div",{className:"label"},"Message"),u.a.createElement(s.a.Item,null,t("description",{})(u.a.createElement(i.a.TextArea,{autosize:{minRows:3},onChange:e.handleSlackMsgChange}))),u.a.createElement(s.a.Item,null,u.a.createElement(_.a,{className:"send-btn",size:"large",type:"primary",block:!0,htmlType:"submit"},"Send message"))))}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var E,m,p=s.a.create({name:"slackForm"})(d);t.a=p,(E=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(E.register(d,"SlackForm","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/SlackForm.js"),E.register(p,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/SlackForm.js")),(m=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&m(e)}).call(this,a(17)(e))},358:function(e,t,a){"use strict";(function(e){a(25);var r,n=a(16),_=a.n(n),o=(a(36),a(14)),s=a.n(o),l=(a(268),a(86)),i=a.n(l),c=(a(269),a(77)),u=a.n(c),d=(a(41),a(21)),E=a.n(d),m=(a(34),a(5)),p=a.n(m),f=(a(31),a(11)),D=a.n(f),h=a(0),P=a.n(h),O=a(2),M=a.n(O),b=a(10);a(622);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,_=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,_=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw _}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var v=D.a.Option;function C(e){var t=g(Object(h.useState)(!1),2),a=t[0],r=t[1],n=g(Object(h.useState)([]),2),o=n[0],l=n[1],c=g(Object(h.useState)([]),2),d=c[0],m=c[1],f=g(Object(h.useState)([]),2),O=f[0],C=f[1],T=e.resourceID,y=e.currentDes;Object(h.useEffect)((function(){Object(b.h)({accountID:y.accountID,what:"list",boardID:T}).then((function(e){l(e.items)})),Object(b.h)({accountID:y.accountID,what:"member",boardID:T}).then((function(e){m(e.items)})),Object(b.h)({accountID:y.accountID,what:"label",boardID:T}).then((function(e){C(e.items)}))}),[T]);var I=e.form.getFieldDecorator;return P.a.createElement("div",{className:"trello-form"},P.a.createElement(p.a,{onSubmit:function(t){t.preventDefault(),e.form.validateFields((function(t,a){if(!t){var r={};a.description&&(r.description=void 0===a.description?"":a.description),r.listID=a.list,a.title&&(r.title=a.title),a.members&&(r.membersID=a.members.join(",")),a.labels&&(r.labelsID=a.labels.join(",")),a.dueDate&&!a.dueTime?r.date=a.dueDate.format("YYYY-MM-DD"):a.dueDate&&a.dueTime&&(r.datetime=M.a.utc(a.dueDate.format("YYYY-MM-DD")+"T"+a.dueTime.format().replace(/(.*)T/,""))),e.handleSend(r)}}))}},P.a.createElement("div",{className:"label"},"List"),P.a.createElement(p.a.Item,null,I("list",{rules:[{required:!0,message:"Please choose a list"}],initialValue:o.length?o[0].id:void 0})(P.a.createElement(D.a,{placeholder:"Please choose a list"},o.map((function(e){return P.a.createElement(v,{key:e.id,value:e.id},e.name)}))))),P.a.createElement("div",{className:"label"},"Card title"),P.a.createElement(p.a.Item,null,I("title",{initialValue:e.tabTitle})(P.a.createElement(E.a,null))),a&&P.a.createElement("div",{className:"ad-fields"},P.a.createElement("div",{className:"label"},"Description"),P.a.createElement(p.a.Item,null,I("description",{})(P.a.createElement(E.a.TextArea,{autosize:{minRows:3}}))),P.a.createElement("div",{className:"label"},"Members"),P.a.createElement(p.a.Item,null,I("members",{})(P.a.createElement(D.a,{mode:"multiple",style:{width:"100%"},placeholder:"Select members"},d.map((function(e){return P.a.createElement(v,{key:e.id,value:e.id},e.name)}))))),P.a.createElement("div",{className:"label"},"Labels"),P.a.createElement(p.a.Item,null,I("labels",{})(P.a.createElement(D.a,{mode:"multiple",style:{width:"100%"},placeholder:"Select a label",className:"label-select"},O.map((function(e){return P.a.createElement(v,{key:e.id,value:e.id},P.a.createElement("div",{className:"trello-label-item "+e.info.color},e.name))}))))),P.a.createElement("div",{className:"half-form"},P.a.createElement("div",{className:"half"},P.a.createElement("div",{className:"label"},"Due Date"),P.a.createElement(p.a.Item,null,I("dueDate",{})(P.a.createElement(u.a,null)))),P.a.createElement("div",{className:"half"},P.a.createElement("div",{className:"label"},"Due Time"),P.a.createElement(p.a.Item,null,I("dueTime",{})(P.a.createElement(i.a,{use12Hours:!0,format:"h:mm A",className:"due-time-picker"})))))),P.a.createElement("div",{className:"toggle-field"},P.a.createElement("a",{className:"toggle-fields-btn",onClick:function(){r(!a)}},a?"Collapse all fields":"Show all fields",P.a.createElement(s.a,{type:a?"up":"down"}))),P.a.createElement("div",null,P.a.createElement(_.a,{className:"send-btn",size:"large",type:"primary",block:!0,htmlType:"submit"},"Create card"))))}var T,y,I=p.a.create({name:"trello-form"})(C);t.a=I,(T=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(T.register(v,"Option","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/TrelloForm.js"),T.register(C,"TrelloForm","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/TrelloForm.js"),T.register(I,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/TrelloForm.js")),(y=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&y(e)}).call(this,a(17)(e))},359:function(e,t,a){"use strict";(function(e){a(25);var r,n=a(16),_=a.n(n),o=(a(36),a(14)),s=a.n(o),l=(a(268),a(86)),i=a.n(l),c=(a(269),a(77)),u=a.n(c),d=(a(41),a(21)),E=a.n(d),m=(a(34),a(5)),p=a.n(m),f=(a(31),a(11)),D=a.n(f),h=a(0),P=a.n(h),O=a(2),M=a.n(O),b=a(10);a(651);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,_=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,_=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw _}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var v=D.a.Option;function C(e){var t=g(Object(h.useState)(!1),2),a=t[0],r=t[1],n=g(Object(h.useState)([]),2),o=n[0],l=n[1],c=g(Object(h.useState)([]),2),d=c[0],m=c[1],f=g(Object(h.useState)([]),2),O=f[0],C=f[1],T=e.currentDes,y=T.info.workspaceID,I=T.resourceID;Object(h.useEffect)((function(){Object(b.h)({accountID:T.accountID,what:"section",projectID:I}).then((function(e){l(e.items)})),Object(b.h)({accountID:T.accountID,what:"member",projectID:I}).then((function(e){m(e.items)})),Object(b.h)({accountID:T.accountID,what:"tag",workspaceID:y}).then((function(e){C(e.items)}))}),[I]);var U=e.form.getFieldDecorator;return P.a.createElement("div",{className:"trello-form"},P.a.createElement(p.a,{onSubmit:function(t){t.preventDefault(),e.form.validateFields((function(t,a){if(!t){var r={};a.description&&(r.description=a.description),a.section&&"-1"!==a.section&&(r.sectionID=a.section),a.title&&(r.title=a.title),a.tags&&(r.tagsID=a.tags.join(",")),a.assignee&&(r.assigneeID=a.assignee),a.dueDate&&!a.dueTime?r.date=a.dueDate.format("YYYY-MM-DD"):a.dueDate&&a.dueTime&&(r.datetime=M.a.utc(a.dueDate.format("YYYY-MM-DD")+"T"+a.dueTime.format().replace(/(.*)T/,""))),e.handleSend(r)}}))}},P.a.createElement("div",{className:"label"},"list"===T.info.layout?"Section":"Column"),P.a.createElement(p.a.Item,null,U("section",{initialValue:"list"!==T.info.layout?o.length?o[0].id:null:"-1"})(P.a.createElement(D.a,null,"list"===T.info.layout&&P.a.createElement(v,{value:"-1"},"No section"),o.map((function(e){return P.a.createElement(v,{key:e.id,value:e.id},e.name)}))))),P.a.createElement("div",{className:"label"},"Task name"),P.a.createElement(p.a.Item,null,U("title",{initialValue:e.tabTitle})(P.a.createElement(E.a,null))),a&&P.a.createElement("div",{className:"ad-fields"},P.a.createElement("div",{className:"label"},"Description"),P.a.createElement(p.a.Item,null,U("description",{})(P.a.createElement(E.a.TextArea,{autosize:{minRows:3}}))),P.a.createElement("div",{className:"label"},"Assignee"),P.a.createElement(p.a.Item,null,U("assignee",{})(P.a.createElement(D.a,{style:{width:"100%"},placeholder:"Please select assignee"},d.map((function(e){return P.a.createElement(v,{key:e.id,value:e.id},e.name)}))))),P.a.createElement("div",{className:"label"},"Tags"),P.a.createElement(p.a.Item,null,U("tags",{})(P.a.createElement(D.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select"},O.map((function(e){return P.a.createElement(v,{key:e.id,value:e.id},e.name)}))))),P.a.createElement("div",{className:"half-form"},P.a.createElement("div",{className:"half"},P.a.createElement("div",{className:"label"},"Due Date"),P.a.createElement(p.a.Item,null,U("dueDate",{})(P.a.createElement(u.a,null)))),P.a.createElement("div",{className:"half"},P.a.createElement("div",{className:"label"},"Due Time"),P.a.createElement(p.a.Item,null,U("dueTime",{})(P.a.createElement(i.a,{use12Hours:!0,format:"h:mm A",className:"due-time-picker"})))))),P.a.createElement("div",{className:"toggle-field"},P.a.createElement("a",{className:"toggle-fields-btn",onClick:function(){r(!a)}},a?"Collapse all fields":"Show all fields",P.a.createElement(s.a,{type:a?"up":"down"}))),P.a.createElement("div",null,P.a.createElement(_.a,{className:"send-btn",size:"large",type:"primary",block:!0,htmlType:"submit"},"Create task"))))}var T,y,I=p.a.create({name:"asanaForm"})(C);t.a=I,(T=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(T.register(v,"Option","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AsanaForm.js"),T.register(C,"AsanaForm","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AsanaForm.js"),T.register(I,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/AsanaForm.js")),(y=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&y(e)}).call(this,a(17)(e))},360:function(e,t,a){"use strict";(function(e){a(25);var r,n=a(16),_=a.n(n),o=(a(34),a(5)),s=a.n(o),l=(a(41),a(21)),i=a.n(l),c=a(0),u=a.n(c);function d(e){var t=e.tabTitle,a=e.form.getFieldDecorator;return u.a.createElement("div",{className:"slack-form"},u.a.createElement(s.a,{onSubmit:function(t){t.preventDefault(),e.form.validateFields((function(t,a){t||e.handleSend(a)}))}},u.a.createElement("div",{className:"label"},"Name"),u.a.createElement(s.a.Item,null,a("title",{initialValue:t})(u.a.createElement(i.a,{onChange:e.handleSlackMsgChange}))),u.a.createElement("div",null,u.a.createElement(_.a,{className:"send-btn",size:"large",type:"primary",block:!0,htmlType:"submit"},"Upload image"))))}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var E,m,p=s.a.create({name:"gdriveForm"})(d);t.a=p,(E=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(E.register(d,"GdriveForm","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/GdriveForm.js"),E.register(p,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/GdriveForm.js")),(m=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&m(e)}).call(this,a(17)(e))},361:function(e,t,a){"use strict";(function(e){a(25);var r,n=a(16),_=a.n(n),o=(a(36),a(14)),s=a.n(o),l=(a(34),a(5)),i=a.n(l),c=(a(41),a(21)),u=a.n(c),d=(a(31),a(11)),E=a.n(d),m=a(0),p=a.n(m),f=a(10);a(652);function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,_=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,_=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw _}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var h=E.a.Option;function P(e){var t=D(Object(m.useState)(!1),2),a=t[0],r=t[1],n=D(Object(m.useState)([]),2),o=n[0],l=n[1],c=D(Object(m.useState)([]),2),d=c[0],P=c[1],O=e.resourceID,M=e.currentDes;Object(m.useEffect)((function(){Object(f.h)({accountID:M.accountID,what:"assignee",repo:M.resourceName,owner:M.info.owner}).then((function(e){l(e.items)})),Object(f.h)({accountID:M.accountID,what:"label",repo:M.resourceName,owner:M.info.owner}).then((function(e){P(e.items)}))}),[O]);var b=e.form.getFieldDecorator;return p.a.createElement("div",{className:"github-form"},p.a.createElement(i.a,{onSubmit:function(t){t.preventDefault(),e.form.validateFields((function(t,a){if(!t){var r={};a.description&&(r.description=void 0===a.description?"":a.description),r.listID=a.list,a.title&&(r.title=a.title),a.assignees&&(r.assignees=a.assignees.join(",")),a.labels&&(r.labels=a.labels.join(",")),e.handleSend(r)}}))}},p.a.createElement("div",{className:"label"},"Issue title"),p.a.createElement(i.a.Item,null,b("title",{initialValue:e.tabTitle})(p.a.createElement(u.a,null))),a&&p.a.createElement("div",{className:"ad-fields"},p.a.createElement("div",{className:"label"},"Description"),p.a.createElement(i.a.Item,null,b("description",{})(p.a.createElement(u.a.TextArea,{autosize:{minRows:3}}))),p.a.createElement("div",{className:"label"},"Assignee"),p.a.createElement(i.a.Item,null,b("assignees",{})(p.a.createElement(E.a,{mode:"multiple",style:{width:"100%"},placeholder:"Assign a member"},o.map((function(e){return p.a.createElement(h,{key:e.id,value:e.name},e.name)}))))),p.a.createElement("div",{className:"label"},"Labels"),p.a.createElement(i.a.Item,null,b("labels",{})(p.a.createElement(E.a,{mode:"multiple",style:{width:"100%"},placeholder:"Select a label",className:"label-select"},d.map((function(e){var t={backgroundColor:"#"+e.info.color};return"ffffff"===e.info.color&&(t.color="black",t.border="1px solid #eee"),p.a.createElement(h,{key:e.id,value:e.name},p.a.createElement("div",{style:t,className:"trello-label-item"},e.name))})))))),p.a.createElement("div",{className:"toggle-field"},p.a.createElement("a",{className:"toggle-fields-btn",onClick:function(){r(!a)}},a?"Collapse all fields":"Show all fields",p.a.createElement(s.a,{type:a?"up":"down"}))),p.a.createElement("div",null,p.a.createElement(_.a,{className:"send-btn",size:"large",type:"primary",block:!0,htmlType:"submit"},"Create issue"))))}var O,M,b=i.a.create({name:"github-form"})(P);t.a=b,(O=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(O.register(h,"Option","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/GithubForm.js"),O.register(P,"GithubForm","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/GithubForm.js"),O.register(b,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/GithubForm.js")),(M=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&M(e)}).call(this,a(17)(e))},362:function(e,t,a){"use strict";(function(e){a(25);var r,n=a(16),_=a.n(n),o=(a(653),a(367)),s=a.n(o),l=(a(36),a(14)),i=a.n(l),c=(a(226),a(56)),u=a.n(c),d=(a(656),a(364)),E=a.n(d),m=(a(269),a(77)),p=a.n(m),f=(a(34),a(5)),D=a.n(f),h=(a(41),a(21)),P=a.n(h),O=(a(31),a(11)),M=a.n(O),b=a(0),g=a.n(b),v=a(10),C=(a(658),a(365)),T=a(366),y=a(363),I=a(274),U=a(368);function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),r.forEach((function(t){A(e,t,a[t])}))}return e}function A(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,_=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,_=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw _}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var R=M.a.Option,B={};function W(e){var t=w(Object(b.useState)(!1),2),a=t[0],r=t[1],n=w(Object(b.useState)({}),2),o=n[0],l=n[1],c=w(Object(b.useState)([]),2),d=c[0],m=c[1],f=w(Object(b.useState)(null),2),h=f[0],O=f[1],W=w(Object(b.useState)(!1),2),k=W[0],K=W[1],S=e.currentDes;Object(b.useEffect)((function(){d.length&&m([]),Object(v.h)({accountID:S.accountID,what:"createMeta",cloudID:S.info.cloudID,projectID:S.info.projectID}).then((function(e){O(e.items[0]),m(e.items),e.items.forEach((function(e){B[e.id]=e}))}))}),[e.currentDes]),Object(b.useEffect)((function(){}));var j,N=function(e,t){l(L({},o,A({},e,t)))},H=function(e){var t={fields:{}},a={};for(var r in a.project={id:S.info.projectID},e)"issuetype"===r||"priority"===r||"assignee"===r?a[r]={id:e[r]}:"summary"===r||"description"===r||"environment"===r||"customfield_10014"===r||"customfield_10016"===r||"labels"===r||"customfield_10037"===r||"customfield_10038"===r||"customfield_10039"===r||"customfield_10029"===r||"customfield_10034"===r||"customfield_10035"===r||"customfield_10036"===r||"customfield_10031"===r||"customfield_10032"===r||"customfield_10033"===r?e[r]&&(a[r]=e[r]):"components"===r?a[r]=e[r].map((function(e){return{id:e}})):"customfield_10021"===r?e[r]&&(a[r]=parseInt(e[r])):"customfield_10026"===r?e[r]&&(a[r]=[{id:h.info.fields.customfield_10026.allowedValues[0].id}]):"fixVersions"===r?a[r]=e[r].map((function(e){return{id:e}})):"reporter"===r?e[r]&&(a[r]={name:e[r]}):"duedate"!==r&&"customfield_10015"!==r&&"customfield_10030"!==r||e[r]&&(a[r]=e[r].format());return(e["timetracking-o"]||e["timetracking-r"])&&(a.timetracking={}),e["timetracking-o"]&&(a.timetracking.originalEstimate=e["timetracking-o"]),e["timetracking-r"]&&(a.timetracking.remainingEstimate=e["timetracking-r"]),t.fields=a,e.issuelinks&&e.issuelinks.length&&(t.issueLinks=[],e.issuelinks.forEach((function(e){if(e.linkType&&e.issues.length){var a=e.linkType.split("+"),r=a[0],n=a[1];e.issues.forEach((function(e){var a=A({type:r},"".concat(n,"wardIssue"),e);t.issueLinks.push(a)}))}}))),t},G=e.form.getFieldDecorator,z=function(e){return"timetracking"===e.key?"(eg. 3w 4d 12h)":""},q=function(){K(!0)},F=function(e){return void 0!==e.allowedValues?g.a.createElement(C.a,{handleChange:N,field:e}):void 0!==e.autoCompleteUrl?g.a.createElement(T.a,{handleChange:N,currentDes:S,field:e}):"description"===e.key||"environment"===e.key?g.a.createElement(D.a.Item,null,G(e.key,{})(g.a.createElement(P.a.TextArea,{autosize:{minRows:3}}))):"customfield_10014"===e.key?g.a.createElement(I.a,{handleChange:N,currentDes:S,field:e}):"customfield_10021"===e.key?h.info.apiToken?g.a.createElement(I.a,{handleChange:N,currentDes:S,field:e}):g.a.createElement(g.a.Fragment,null,g.a.createElement("i",{className:"jira-sprint-tip"},"To use Sprint, you need to provide an API token."," ",g.a.createElement("a",{onClick:q},"Submit API token"))):g.a.createElement(D.a.Item,null,G(e.key,{})(g.a.createElement(P.a,{placeholder:z(e)})))};return g.a.createElement("div",{className:"jira-form"},0===d.length?g.a.createElement("div",{className:"loading"},g.a.createElement(s.a,{indicator:g.a.createElement(i.a,{type:"loading",spin:!0})})):g.a.createElement(D.a,{onSubmit:function(t){t.preventDefault(),e.form.validateFields((function(t,a){if(!t){var r=L({},a,o),n=H(r),_=h.info.fields;_.environment&&!n.fields.environment&&(n.fields.environment=""),_.description&&!n.fields.description&&(n.fields.description=""),e.handleSend(n)}}))}},g.a.createElement("div",{className:"label"},"Issue Type"),g.a.createElement(D.a.Item,null,G("issuetype",{initialValue:d[0].id})(g.a.createElement(M.a,{onChange:function(e,t){O(B[e])}},d.map((function(e){if("Sub-task"!==e.name)return g.a.createElement(R,{key:e.id,value:e.id},e.name)}))))),g.a.createElement("div",{className:"label"},"Summary"),g.a.createElement(D.a.Item,null,G("summary",{rules:[{required:!0,message:"You must specify a summary of the issue."}]})(g.a.createElement(P.a,null))),a&&(j=h.info.fields,g.a.createElement(g.a.Fragment,null,Object.keys(j).map((function(e){return"issuetype"===e||"project"===e||"summary"===e||"attachment"===e?void 0:"timetracking"===e?g.a.createElement("div",{key:j[e].key},g.a.createElement("div",{key:"oe"},g.a.createElement("div",{className:"label"},"Original Estimate"),g.a.createElement(D.a.Item,null,G("timetracking-o",{})(g.a.createElement(P.a,{placeholder:"(eg. 3w 4d 12h)"})))),g.a.createElement("div",{key:"re"},g.a.createElement("div",{className:"label"},"Remaining Estimate"),g.a.createElement(D.a.Item,null,G("timetracking-r",{})(g.a.createElement(P.a,{placeholder:"(eg. 3w 4d 12h)"}))))):"issuelinks"===e?g.a.createElement("div",{key:j[e].key},g.a.createElement(y.a,{handleChange:N,currentDes:S,field:j})):"duedate"===e||"customfield_10030"===e||"customfield_10015"===e?g.a.createElement("div",{key:j[e].key},g.a.createElement("div",{className:"label"},j[e].name),g.a.createElement(D.a.Item,null,G(e,{})(g.a.createElement(p.a,{style:{width:"100%"}})))):"customfield_10022"===e||"customfield_10017"===e?"":"customfield_10016"===e?g.a.createElement("div",{key:j[e].key},g.a.createElement("div",{className:"label"},j[e].name),g.a.createElement(D.a.Item,null,G(e,{})(g.a.createElement(E.a,{style:{width:"100%"}})))):"customfield_10026"===e?g.a.createElement("div",{key:j[e].key},g.a.createElement("div",{className:"label"},j[e].name),g.a.createElement(D.a.Item,null,G(e,{})(g.a.createElement(u.a,null,j[e].allowedValues[0].value)))):g.a.createElement("div",{key:j[e].key},g.a.createElement("div",{className:"label"},j[e].name),F(j[e]))})))),g.a.createElement("div",{className:"toggle-field"},g.a.createElement("a",{className:"toggle-fields-btn",onClick:function(){r(!a)}},a?"Collapse all fields":"Show all fields",g.a.createElement(i.a,{type:a?"up":"down"}))),g.a.createElement("div",null,g.a.createElement(_.a,{className:"send-btn",size:"large",type:"primary",block:!0,htmlType:"submit"},"Create issue"))),g.a.createElement(U.a,{visible:k,onCancel:function(){K(!1)},currentDes:S,handleApiTokenSubmitted:function(){K(!1),d.length&&m([]),Object(v.h)({accountID:S.accountID,what:"createMeta",cloudID:S.info.cloudID,projectID:S.info.projectID}).then((function(e){O(e.items[0]),m(e.items),e.items.forEach((function(e){B[e.id]=e}))}))}}))}var k,K,S=D.a.create({name:"Jiraform"})(W);t.a=S,(k=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(k.register(R,"Option","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/JiraForm.js"),k.register(B,"issueTypesHash","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/JiraForm.js"),k.register(W,"JiraForm","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/JiraForm.js"),k.register(S,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/JiraForm.js")),(K=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&K(e)}).call(this,a(17)(e))},363:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return P}));a(63);var r,n=a(32),_=a.n(n),o=(a(36),a(14)),s=a.n(o),l=(a(31),a(11)),i=a.n(l),c=a(0),u=a.n(c),d=a(10),E=a(78);a(659);function m(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,_=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,_=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw _}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var f,D,h=i.a.Option;function P(e){var t=p(Object(c.useState)([{id:Date.now(),linkType:"",issues:[]}]),2),a=t[0],r=t[1],n=p(Object(c.useState)([]),2),o=n[0],l=n[1],f=p(Object(c.useState)([]),2),D=f[0],P=f[1],O=(e.field,e.currentDes);Object(c.useEffect)((function(){Object(d.h)({accountID:O.accountID,what:"issueLinkType",cloudID:O.info.cloudID,projectID:O.info.projectID}).then((function(e){var t=[];e.items.forEach((function(e){"Relates"===e.name?t.push({value:e.name+"+in",displayName:e.info.inward}):(t.push({value:e.name+"+in",displayName:e.info.inward}),t.push({value:e.name+"+out",displayName:e.info.outward}))})),l(t)}))}),[]),Object(c.useEffect)((function(){e.handleChange("issuelinks",a)}),[a]);var M=function(e,t){Object(d.h)({accountID:O.accountID,what:"issue",cloudID:O.info.cloudID,query:t}).then((function(e){e.items[0].info.issues.length>0&&P(e.items[0].info.issues)}))};return u.a.createElement("div",{className:"issue-link"},u.a.createElement("div",{className:"label"},"Linked issues",u.a.createElement("div",{className:"add-btn",onClick:function(){r(m(a).concat([{id:Date.now(),linkType:"",issues:[]}]))}},u.a.createElement(_.a,{title:"Add"},u.a.createElement(s.a,{type:"plus"})))),u.a.createElement("div",{className:"issue-link-container"},a.map((function(e,t){return u.a.createElement("div",{key:e.id,className:"issue-link-item"},u.a.createElement(i.a,{className:"issue-link-type-select",placeholder:"Link type",onChange:function(t){!function(e,t){var n=a.filter((function(t){return t.id===e}));n[0].linkType=t;var _=a.map((function(t){return t.id===e?n[0]:t}));r(_)}(e.id,t)}},o.map((function(e){return u.a.createElement(h,{key:e.value,value:e.value},e.displayName)}))),u.a.createElement(i.a,{className:"issue-link-select",placeholder:"Select issues",mode:"multiple",onSearch:Object(E.debounce)((function(t){return M(e.id,t)}),800),onDropdownVisibleChange:function(t){t&&M(e.id,"")},onChange:function(t){return function(e,t){var n=a.filter((function(t){return t.id===e}));n[0].issues=t;var _=a.map((function(t){return t.id===e?n[0]:t}));r(_)}(e.id,t)}},D.map((function(e){return u.a.createElement(h,{key:e.key,value:e.key},e.key)}))),u.a.createElement("div",{className:"issue-link-remove",onClick:function(){var t;t=e.id,r(a.filter((function(e){return e.id!==t})))}},u.a.createElement(_.a,{title:"Remove"},u.a.createElement(s.a,{theme:"filled",type:"delete"}))))}))))}(f=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(f.register(h,"Option","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/JiraField/JiraFieldIssueLink.js"),f.register(P,"JiraFieldIssueLink","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/JiraField/JiraFieldIssueLink.js")),(D=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&D(e)}).call(this,a(17)(e))},365:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return u}));a(31);var r,n=a(11),_=a.n(n),o=a(0),s=a.n(o);(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var l,i,c=_.a.Option;function u(e){var t=e.field,a=t.allowedValues,r=t.defaultValue,n=-1!==t.operations.indexOf("add")?"multiple":void 0;return s.a.createElement(_.a,{defaultValue:r?r.id:void 0,mode:n,onChange:function(a){e.handleChange(t.key,a)}},a.map((function(e){return s.a.createElement(c,{key:e.id},e.name)})))}(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(l.register(c,"Option","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/JiraField/JiraFieldSelect.js"),l.register(u,"JiraFieldSelect","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/JiraField/JiraFieldSelect.js")),(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&i(e)}).call(this,a(17)(e))},366:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return E}));a(31);var r,n=a(11),_=a.n(n),o=a(0),s=a.n(o),l=a(10);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,_=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,_=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw _}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var c,u,d=_.a.Option;function E(e){var t=i(Object(o.useState)([]),2),a=t[0],r=t[1],n=e.field,c=e.currentDes;Object(o.useEffect)((function(){Object(l.h)({accountID:c.accountID,what:"autoComplete",fieldName:n.key,cloudID:c.info.cloudID,projectID:c.info.projectID}).then((function(e){r(e.items?e.items:[])}))}),[]);var u=-1!==n.operations.indexOf("add")?"multiple":void 0;return s.a.createElement(_.a,{mode:u,onChange:function(t){e.handleChange(n.key,t)}},a.map((function(e){return function(e){return"assignee"===n.key?s.a.createElement(d,{key:e.info.user.accountId,value:e.info.user.accountId},e.info.user.displayName):"reporter"===n.key?s.a.createElement(d,{key:e.id,value:e.id},e.info.field.displayName):"labels"===n.key?s.a.createElement(d,{key:e.info.field.value,value:e.info.field.value},e.info.field.displayName):s.a.createElement(d,null)}(e)})))}(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(c.register(d,"Option","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/JiraField/JiraFieldRemoteSelect.js"),c.register(E,"JiraFieldRemoteSelect","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/JiraField/JiraFieldRemoteSelect.js")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&u(e)}).call(this,a(17)(e))},368:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return d}));a(62);var r,n,_,o=a(38),s=a.n(o),l=a(0),i=a.n(l),c=a(369);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function d(e){return i.a.createElement(s.a,u({},e,{footer:null,maskClosable:!1,wrapClassName:"jira-api-token",destroyOnClose:!0,centered:!0,title:"Submit Jira API token"}),i.a.createElement(c.a,e))}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e),(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&n.register(d,"JiraApiTokenModal","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/JiraApiTokenModal.js"),(_=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&_(e)}).call(this,a(17)(e))},369:function(e,t,a){"use strict";(function(e){a(25);var r,n=a(16),_=a.n(n),o=(a(34),a(5)),s=a.n(o),l=(a(41),a(21)),i=a.n(l),c=a(0),u=a.n(c),d=a(10);a(670);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,_=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,_=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw _}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e){var t=E(Object(c.useState)(!1),2),a=t[0],r=t[1],n=e.currentDes,o=e.form.getFieldDecorator;return u.a.createElement("div",{className:"jira-api-token-panel"},u.a.createElement("div",{className:"info"},"Go to your Atlassian"," ",u.a.createElement("a",{href:"https://id.atlassian.com/manage/api-tokens",target:"_blank"},"API tokens page")," ","and create a new API token. Copy the token and paste it into the box below."),u.a.createElement(s.a,{onSubmit:function(t){t.preventDefault(),e.form.validateFields((function(t,a){t||(r(!0),Object(d.s)(n.account.id,a.token).then((function(){r(!1),e.handleApiTokenSubmitted()})).catch((function(){r(!1)})))}))}},u.a.createElement("div",{className:"label"},"API TOKEN"),u.a.createElement(s.a.Item,null,o("token",{rules:[{required:!0}]})(u.a.createElement(i.a,null))),u.a.createElement(s.a.Item,null,u.a.createElement(_.a,{type:"primary",block:!0,loading:a,htmlType:"submit"},"Submit"))))}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var p,f,D=s.a.create({name:"jira-api-token"})(m);t.a=D,(p=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(p.register(m,"JiraApiTokenPanel","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/JiraApiTokenPanel.js"),p.register(D,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/JiraApiTokenPanel.js")),(f=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&f(e)}).call(this,a(17)(e))},370:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return d}));a(62);var r,n,_,o=a(38),s=a.n(o),l=a(0),i=a.n(l),c=a(371);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function d(e){return i.a.createElement(s.a,u({},e,{footer:null,maskClosable:!1,wrapClassName:"des",destroyOnClose:!0,centered:!0}),i.a.createElement(c.a,e))}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e),(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&n.register(d,"DriveModal","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/DriveModal.js"),(_=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&_(e)}).call(this,a(17)(e))},371:function(e,t,a){"use strict";(function(e){a(226);var r,n=a(56),_=a.n(n),o=(a(36),a(14)),s=a.n(o),l=(a(34),a(5)),i=a.n(l),c=(a(265),a(76)),u=a.n(c),d=(a(25),a(16)),E=a.n(d),m=(a(41),a(21)),p=a.n(m),f=(a(251),a(45)),D=a.n(f),h=(a(53),a(24)),P=a.n(h),O=(a(31),a(11)),M=a.n(O),b=a(0),g=a.n(b),v=a(4),C=a.n(v),T=a(78),y=(a(671),a(15)),I=a(10),U=a(13),L=a(50);a(672);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],r=!0,n=!1,_=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,_=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw _}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var w=M.a.Option;function R(e){var t=e.form.getFieldDecorator,a=e.accounts,r=e.currentDriveAccount,n=r?r.service:"googleDrive",o=y.a[n],l=A(Object(b.useState)((function(){return a?a[0]:null})),2),c=(l[0],l[1]),d=A(Object(b.useState)(""),2),m=d[0],f=d[1],h=A(Object(b.useState)(!0),2),O=h[0],v=h[1],R=A(Object(b.useState)([]),2),B=R[0],W=R[1],k=A(Object(b.useState)(!1),2),K=k[0],S=k[1],j=A(Object(b.useState)((function(){return null===e.currentDriveAccount})),2),N=(j[0],j[1],A(Object(b.useState)(!1),2)),H=N[0],G=N[1],z=A(Object(b.useState)(0),2),q=z[0],F=z[1],x=A(Object(b.useState)(!1),2),J=x[0],Y=x[1],V=A(Object(b.useState)(""),2),$=V[0],Q=V[1],Z=A(Object(b.useState)(""),2),X=Z[0],ee=Z[1],te=A(Object(b.useState)(!1),2),ae=te[0],re=te[1],ne=A(Object(b.useState)(!1),2),_e=ne[0],oe=ne[1];Object(b.useEffect)((function(){c(a[0])}),[a.length]),Object(b.useEffect)((function(){return e.currentDriveAccount&&le(),window.addEventListener("message",se),function(){window.removeEventListener("message",se)}}),[e.currentDriveAccount]);var se=function(t){if("accountConnected"===t.data.name){var a=JSON.parse(t.data.data);e.handleDriveAccountConnected(a)}},le=function(t){W([]),S(!0),Object(I.h)({accountID:e.currentDriveAccount.id,what:"folder",query:t}).then((function(e){var t=e.items?e.items:[];W(t),S(!1)}))},ie=function(t,a,r,_){Object(I.y)(t,a,r,F).then((function(a){if(_){var r=a.data.id;oe(!0),Object(I.o)(t,r).then((function(e){ee("https://drive.google.com/file/d/".concat(r,"/view?usp=sharing")),re(!0),oe(!1)})).catch((function(){ee("https://drive.google.com/file/d/".concat(r,"/view?usp=sharing")),re(!0),oe(!1)}))}else D.a.success({message:y.a[n].successMsg,description:g.a.createElement("a",{target:"_blank",href:"https://drive.google.com/file/d/".concat(a.data.id,"/view")},"Click to see it in your ",y.a[n].displayName)}),e.onCancel();Object(I.w)("googleDrive")})).catch((function(e){P.a.error(e.response.data.msg),G(!1),F(0)}))},ce=function(t,a,r){Object(I.x)(t,a,r,F).then((function(t){D.a.success({message:y.a[n].successMsg,description:g.a.createElement("a",{target:"_blank",href:"https://www.dropbox.com/home".concat(t.data.path_display)},"Click to see it in your ",y.a[n].displayName)}),e.onCancel(),Object(I.w)("dropbox")})).catch((function(e){e.response&&"insufficient_space"===e.response.data.error.reason[".tag"]?P.a.error("Your dropbox account is full. The screenshot cant be sent to it"):P.a.error(e.response.data.error_summary),G(!1),F(0)}))},ue=function(t,a,r,_){Object(I.v)(t,a,r,_,F).then((function(t){D.a.success({message:y.a[n].successMsg,description:g.a.createElement("a",{target:"_blank",href:"https://app.box.com/file/".concat(t.data.entries[0].id)},"Click to see it in your ",y.a[n].displayName)}),e.onCancel(),Object(I.w)("box")})).catch((function(e){if(e.response.data&&e.response.data.message)var t=e.response.data.message;else t=e.response.statusText;P.a.error(t),G(!1),F(0)}))},de=function(t){return e.permissions["allow".concat(Object(U.b)(t))]},Ee=C()("upload-progress",{active:H}),me=C()("drive-wrapper",{active:!H});return g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"drive-panel"},g.a.createElement("div",{className:"title"},null===r?O?"Choose your cloud storage":"":g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"icon ".concat(r.service)}),"Save to ",o.displayName)),g.a.createElement("div",{className:Ee},ae?g.a.createElement("div",{className:"sharable-link-area"},g.a.createElement("div",{className:"label"},"Shareable Link"),g.a.createElement(p.a,{value:X,style:{width:"320px"},size:"large"}),g.a.createElement(E.a,{type:"primary",size:"large",onClick:function(){Object(U.f)(X),P.a.success("Copied!")}},"Copy")):g.a.createElement(g.a.Fragment,null,g.a.createElement(u.a,{type:"circle",status:"active",percent:q}),g.a.createElement("div",{className:"upload-tip"},q<100?"Uploading image...":_e?"Creating shareable link...":y.a[n].actionTypeStr+"..."))),a.length&&r?g.a.createElement("div",{className:me},g.a.createElement("div",{className:"container"},g.a.createElement(i.a,{onSubmit:function(t){t.preventDefault(),e.form.validateFields((function(t,a){t||(G(!0),Object(I.k)(r.id).then((function(t){var n=t.token;if(e.imageBlob)var _=e.contentType,o=e.imageBlob;else{var s=e.imageUrl.split(",")[1];o=Object(U.a)(s),_=e.imageUrl.split(",")[0].split(":")[1].split(";")[0]}if("googleDrive"===r.service){var l=new File([o],a.name,{type:_}),i=_.split("/")[1];"jpeg"==i&&(i="jpg");var c={name:a.name+"."+i};"-1"!==a.folder&&(c.parents=[a.folder]),ie(n,l,c,a.googleDriveSharable)}else if("dropbox"===r.service){var u=("-1"!==a.folder?B.filter((function(e){return e.id===a.folder}))[0].info.path||B.filter((function(e){return e.id===a.folder}))[0].info.path_lower:"")+"/"+a.name+"."+_.split("/")[1];ce(n,u,o)}else if("box"===r.service){var d=a.name+"."+_.split("/")[1],E=a.folder;l=new File([o],a.name,{type:_});ue(n,l,d,E)}})).catch((function(e){P.a.error("Something went wrong!"),G(!1)})))}))}},g.a.createElement("div",{className:"account-select"}),g.a.createElement("div",{className:"label"},"Name"),g.a.createElement(i.a.Item,null,t("name",{rules:[{required:!0,message:"Please input a name"}],initialValue:e.tabTitle})(g.a.createElement(p.a,null))),g.a.createElement("div",{className:"label"},o.targetName),g.a.createElement(i.a.Item,null,t("folder",{rules:[{required:!0,message:"choose a folder"}],initialValue:"-1"})(g.a.createElement(M.a,{showSearch:!0,placeholder:o.placeHolder,loading:K,onSearch:Object(T.debounce)((function(e){le(e)}),800),filterOption:!1},g.a.createElement(w,{value:"-1"},g.a.createElement(s.a,{className:"folder-option ".concat(r.service),type:"folder",theme:"filled"}),"/"),B.map((function(e){return g.a.createElement(w,{key:e.id,value:e.id},g.a.createElement(s.a,{className:"folder-option ".concat(r.service),type:"folder",theme:"filled"}),"dropbox"===r.service?e.info.path||e.info.path_lower:e.name)})))),g.a.createElement("div",{className:"tip"},"googleDrive"===r.service?"Only root folder and Awesome Screenshot folder are available for the moment.":"Only 10 recent folders are listed. Type and search for other folders.")),"googleDrive"===r.service&&g.a.createElement(i.a.Item,null,t("googleDriveSharable",{valuePropName:"checked",initialValue:"true"===localStorage["is-google-drive-share"]})(g.a.createElement(_.a,null,"Get shareable link (Anyone with the link can view)"))),g.a.createElement(i.a.Item,null,g.a.createElement(E.a,{type:"primary",className:"upload-btn",size:"large",block:!0,htmlType:"submit"},"Upload"))))):g.a.createElement(g.a.Fragment,null,O?g.a.createElement("div",{className:"service-container"},g.a.createElement("div",{className:"account-container"},y.d.map((function(e){var t=C()("account-item",e.name,{pro:!de(e.name)});return g.a.createElement("div",{className:t,key:e.name,"data-des":e.name,onClick:function(){return function(e){de(e)?(f(e),v(!1)):(Q(e),Y(!0))}(e.name)}},g.a.createElement("b",null))})))):g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"top"},g.a.createElement("div",{className:"back-btn",onClick:function(){v(!0)}},g.a.createElement(s.a,{type:"arrow-left"}),"Choose another cloud storage")),g.a.createElement("div",{className:"connect-panel"},g.a.createElement("div",{className:"box"},g.a.createElement("div",{className:"main-box"},g.a.createElement("div",{className:"pic"},g.a.createElement("div",{className:"logo ".concat(m)})),g.a.createElement("div",{className:"content"},g.a.createElement("div",{className:"logo ".concat(m)}),g.a.createElement("div",{className:"title"},"Integrate ",y.a[m].displayName),g.a.createElement("div",{className:"sub-title"},y.a[m].panelSubTitle),g.a.createElement("ul",null,y.a[m].featureLists.map((function(e,t){return g.a.createElement("li",{key:t},e)}))))),g.a.createElement(E.a,{type:"primary",size:"large",onClick:function(){Object(I.i)(m).then((function(e){var t="width=800,height=700,top="+(window.screen.availHeight-30-700)/2+",left="+(window.screen.availWidth-10-800)/2;window.open(e.URI,"",t)}))}},"Connect with",y.a[m].displayName)))))),g.a.createElement(L.a,{visible:J,onCancel:function(){return Y(!1)},type:$}))}var B,W,k=i.a.create({name:"Drive"})(R);t.a=k,(B=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(B.register(w,"Option","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/DrivePanel.js"),B.register(R,"DrivePanel","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/DrivePanel.js"),B.register(k,"default","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/DrivePanel.js")),(W=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&W(e)}).call(this,a(17)(e))},372:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return u}));a(62);var r,n,_,o=a(38),s=a.n(o),l=a(0),i=a.n(l);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function u(e){return i.a.createElement(s.a,c({},e,{footer:null,maskClosable:!1,wrapClassName:"what-des",destroyOnClose:!0}),"what is a destination?")}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e),(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&n.register(u,"WhatDesModal","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/WhatDesModal.js"),(_=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&_(e)}).call(this,a(17)(e))},373:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),react_dom__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__),_components_Editor__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(332),classnames__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4),classnames__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__),_SavePanel__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(338),_util_dataURLGenerator2__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(329),_util_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(13),_util_fileSaver__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(330),platform__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(57),platform__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(platform__WEBPACK_IMPORTED_MODULE_8__),_api__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(10),_EditPage_less__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(379),_EditPage_less__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_EditPage_less__WEBPACK_IMPORTED_MODULE_10__),prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).enterModule,enterModule&&enterModule(module);var Bg=chrome.extension.getBackgroundPage(),imageInfo={Browser:platform__WEBPACK_IMPORTED_MODULE_8___default.a.name+" "+platform__WEBPACK_IMPORTED_MODULE_8___default.a.version,OS:platform__WEBPACK_IMPORTED_MODULE_8___default.a.os.toString(),"Screen Size":window.screen.width+"x"+window.screen.height,"Viewport Size":window.innerWidth+"x"+window.innerHeight,"Pixel Ratio":"@"+window.devicePixelRatio+"x","Zoom Level":100*Bg.zoomLevel+"%"},getContentType=function(e){return"jpg"===e?"image/jpeg":"image/png"},EditPage=function(_React$Component){function EditPage(e){var t;return _classCallCheck(this,EditPage),(t=_possibleConstructorReturn(this,_getPrototypeOf(EditPage).call(this,e))).state={tabTitle:Bg.tabtitle,tabUrl:Bg.taburl,annotateImageUrl:"",saveImageUrl:"",imageBlob:null,info:{},contentType:getContentType(localStorage.format),user:{username:"",userType:0,userEmail:"",premiumLevel:""},permissions:{},currentPlan:{},step:"edit"},t.enterSave=t.enterSave.bind(_assertThisInitialized(_assertThisInitialized(t))),t.backToEdit=t.backToEdit.bind(_assertThisInitialized(_assertThisInitialized(t))),t.refreshUser=t.refreshUser.bind(_assertThisInitialized(_assertThisInitialized(t))),t}return _inherits(EditPage,_React$Component),_createClass(EditPage,[{key:"componentDidMount",value:function(){var e=this,t=this.Bg=chrome.extension.getBackgroundPage(),a=localStorage.fileUrls?JSON.parse(localStorage.fileUrls):null,r=t.menuType,n=t.type,_=t.dataURL;if(_.length)Object(_util_dataURLGenerator2__WEBPACK_IMPORTED_MODULE_5__.a)(r,n,t.centerOffX,t.centerOffY,t.centerW,t.centerH,t.counter,t.ratio,t.scrollBar,_,localStorage.format,(function(t){if(Object(_util_utils__WEBPACK_IMPORTED_MODULE_6__.n)(t))var a=t.map((function(e){return URL.createObjectURL(e)}));else a=URL.createObjectURL(t);var r="true"===localStorage["skip-annotate"]&&"entire"===n||Object(_util_utils__WEBPACK_IMPORTED_MODULE_6__.n)(t);if(r){var _={saveImageUrl:a,imageBlob:t,step:r?"save":"edit"};Object(_util_utils__WEBPACK_IMPORTED_MODULE_6__.n)(t)||setTimeout((function(){var a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var t=a.result;e.setState({saveImageUrl:t},(function(){a=null}))}}),1200)}else _={annotateImageUrl:a};e.setState(_),setTimeout((function(){var e=Object(_util_utils__WEBPACK_IMPORTED_MODULE_6__.n)(t)?t:[t],a=[];e.forEach((function(t,r){_util_fileSaver__WEBPACK_IMPORTED_MODULE_7__.a.save(t,"currentScreenshot"+r+".png").then((function(t){a.push({url:t,index:r}),a.length===e.length&&(a.sort((function(e,t){return e.index-t.index})),localStorage.fileUrls=JSON.stringify(a.map((function(e){return e.url}))),chrome.runtime.sendMessage({action:"clearDataURL"}))}))}))}),1e3)}));else if(a&&!_.length){if("true"===localStorage["skip-annotate"]&&"entire"===n||a.length>1)var o={saveImageUrl:a.length>1?a:a[0],step:"save"};else o={annotateImageUrl:a[0]};this.setState(o)}e.refreshUser(),document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&e.refreshUser()})),chrome.storage.sync.get(["captureCount"],(function(e){e.captureCount?chrome.storage.sync.set({captureCount:e.captureCount+1}):chrome.storage.sync.set({captureCount:1})}))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&z.refreshUser()}))}},{key:"refreshUser",value:function(){var e=this;Object(_api__WEBPACK_IMPORTED_MODULE_9__.l)().then((function(t){t?t.username===e.state.user.username&&t.type===e.state.user.userType&&t.mail===e.state.user.userEmail&&t.premiumLevel===e.state.user.premiumLevel||(e.setState({user:{username:t.username,userType:t.type,userEmail:t.mail,premiumLevel:t.premiumLevel}}),Object(_api__WEBPACK_IMPORTED_MODULE_9__.g)().then((function(t){e.setState({permissions:t.permissions,currentPlan:t.premium.currentPlan})}))):e.setState({user:{username:"",userType:0,userEmail:""},permissions:{}})}))}},{key:"enterSave",value:function(e,t,a){var r=this;if(window.location.href.match(/gmail=(.*)/)){var n=parseInt(window.location.href.match(/gmail=(.*)/)[1]),_=new FileReader;return _.readAsDataURL(t),void(_.onloadend=function(){var e=_.result;chrome.tabs.sendMessage(n,{action:"insertImage",dataURL:e}),setTimeout((function(){window.close()}),0)})}this.setState({imageBlob:t,saveImageUrl:e,info:a,step:"save"}),setTimeout((function(){var e=new FileReader;e.readAsDataURL(t),e.onloadend=function(){var t=e.result;r.setState({saveImageUrl:t},(function(){e=null}))}}),1200)}},{key:"backToEdit",value:function(){var e={step:"edit"};this.state.annotateImageUrl||(e.annotateImageUrl=this.state.saveImageUrl),this.setState(e)}},{key:"render",value:function(){var e=classnames__WEBPACK_IMPORTED_MODULE_3___default()("sub-page",{active:"edit"===this.state.step}),t=classnames__WEBPACK_IMPORTED_MODULE_3___default()("sub-page",{active:"save"===this.state.step});chrome.extension.getBackgroundPage();return this.state.saveImageUrl||this.state.annotateImageUrl?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Editor__WEBPACK_IMPORTED_MODULE_2__.a,{imageUrl:this.state.annotateImageUrl,handleFinishEdit:this.enterSave,permissions:this.state.permissions,className:e,type:"ext",contentType:this.state.contentType}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SavePanel__WEBPACK_IMPORTED_MODULE_4__.a,{user:this.state.user,backToEdit:this.backToEdit,imageUrl:this.state.saveImageUrl,imageBlob:this.state.imageBlob,tabTitle:this.state.tabTitle,tabUrl:this.state.tabUrl,info:this.state.info,imageInfo:imageInfo,refreshUser:this.refreshUser,step:this.state.step,className:t,permissions:this.state.permissions,currentPlan:this.state.currentPlan,contentType:this.state.contentType})):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"loading-page"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"center"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"loading-spinner"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"spinner"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"rect1"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"rect2"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"rect3"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"rect4"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"rect5"}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"brand"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"logo"}),"AWESOME SCREENSHOT")))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),EditPage}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component),reactHotLoader,leaveModule;react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(EditPage,null),document.getElementById("edit-page")),reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).default,reactHotLoader&&(reactHotLoader.register(Bg,"Bg","/Users/luo/Documents/codes/awesome-screenshot/src/container/EditPage.js"),reactHotLoader.register(imageInfo,"imageInfo","/Users/luo/Documents/codes/awesome-screenshot/src/container/EditPage.js"),reactHotLoader.register(getContentType,"getContentType","/Users/luo/Documents/codes/awesome-screenshot/src/container/EditPage.js"),reactHotLoader.register(EditPage,"EditPage","/Users/luo/Documents/codes/awesome-screenshot/src/container/EditPage.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(3)).leaveModule,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(17)(module))},379:function(e,t,a){},445:function(e,t,a){},447:function(e,t,a){},450:function(e,t,a){},470:function(e,t,a){},487:function(e,t,a){},488:function(e,t,a){},489:function(e,t,a){},490:function(e,t,a){},50:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return g}));a(62);var r,n=a(38),_=a.n(n),o=(a(25),a(16)),s=a.n(o),l=(a(36),a(14)),i=a.n(l),c=a(0),u=a.n(c),d=(a(450),a(336)),E=a.n(d),m=a(334),p=a.n(m),f=a(335),D=a.n(f),h=a(337),P=a.n(h);(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).enterModule)&&r(e);var O,M,b=["callout","list","image","insertImage"];function g(e){return u.a.createElement(_.a,{visible:e.visible,onCancel:e.onCancel,footer:null,width:548,maskClosable:!1,wrapClassName:"upgrade-modal",destroyOnClose:!0,centered:!0},u.a.createElement("div",{className:"upgrade-panel"},u.a.createElement("div",{className:"crown"},u.a.createElement(i.a,{type:"crown"})),u.a.createElement("div",{className:"title"},"Upgrade your plan"),function(){switch(e.type){case"callout":return u.a.createElement("img",{src:p.a,alt:""});case"list":return u.a.createElement("img",{src:D.a,alt:""});case"image":return u.a.createElement("img",{src:E.a,alt:""});case"insertImage":return u.a.createElement("img",{src:P.a,alt:""});default:return""}}(),u.a.createElement("p",null,-1!==b.indexOf(e.type)?"This is a basic plan feature. Please upgrade to unlock it.":"dropbox"===e.type?"Upgrade to premium plans to save to Dropbox.":"box"===e.type?"Upgrade to premium plans to save to Box.":"team"===e.type?"Upgrade to team plan to unlock the feature.":"project"===e.type?"Upgrade to premium plans to get unlimited projects.":"uploadImage"===e.type?"Upgrade to premium plans to host unlimited screenshots.":"Upgrade to Professional or Team plan to unlock the feature.","Your support is very important to the continuous improvement of Awesome Screenshot."),u.a.createElement(s.a,{className:"up-btn",size:"large",type:"primary",onClick:function(){window.open("https://www.awesomescreenshot.com/pricing?from="+e.type)}},"Go to Upgrade")))}(O=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).default)&&(O.register(b,"standardTypes","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/UpgradeModal.js"),O.register(g,"UpgradeModal","/Users/luo/Documents/codes/awesome-screenshot/src/components/Modal/UpgradeModal.js")),(M=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:a(3)).leaveModule)&&M(e)}).call(this,a(17)(e))},600:function(e,t,a){},607:function(e,t,a){},611:function(e,t,a){},612:function(e,t,a){},616:function(e,t,a){},617:function(e,t,a){},622:function(e,t,a){},651:function(e,t,a){},652:function(e,t,a){},658:function(e,t,a){},659:function(e,t,a){},670:function(e,t,a){},671:function(e,t,a){}});